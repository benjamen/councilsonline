import{a as m,o as d,b as e,t as f,R as g,a2 as p,u as b,F as B,W as Z,e as C,c as H,n as h,aj as J,a5 as le,B as y,ac as re,_ as oe,a6 as U,a7 as j,O as q,P as V}from"./vue-vendor-B0shnPjy.js";import{I as $,h as D}from"./frappe-ui-DjR51muK.js";import{c as ne,_ as ie,b as de,v as ue,a as me,d as pe}from"./validation-C80dm2Yt.js";import"./ui-components-BkacYXVN.js";const ve={class:"space-y-6"},fe={class:"text-xl font-semibold text-gray-900 mb-4"},ge={key:0,class:"space-y-4"},ye={class:"grid md:grid-cols-2 gap-4"},be={key:0,class:"mt-1 text-xs text-red-600"},ce={key:1,class:"mt-1 text-xs text-gray-500"},xe={key:1},we={class:"space-y-4 mt-6"},he={class:"flex items-center justify-between"},ke={key:0,class:"space-y-2"},$e={class:"flex items-start justify-between"},Se={class:"flex-1"},Pe={class:"flex items-center gap-2"},Ce={class:"text-sm font-semibold text-gray-900"},Ne={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"},Ve={class:"text-sm text-gray-600 mt-1"},Be={class:"text-xs text-gray-500"},ze={class:"flex items-center gap-2 ml-4"},Ae=["onClick"],Me=["onClick"],Te={key:1,class:"text-center py-6 border-2 border-dashed border-gray-300 rounded-lg"},Ee={__name:"AgentBusinessDetailsStep",props:{agentType:{type:String,required:!0},companyName:{type:String,default:""},companyNumber:{type:String,default:""},nzbn:{type:String,default:""},tradingName:{type:String,default:""},selectedBusinessAddress:{type:Object,default:null},properties:{type:Array,default:()=>[]},nzbnError:{type:String,default:""}},emits:["update:companyName","update:companyNumber","update:nzbn","update:tradingName","validate-nzbn","business-address-selected","open-add-property","remove-property","set-default-property"],setup(n){return(v,r)=>(d(),m("div",ve,[e("h2",fe,f(n.agentType==="Company"?"Company Details":"Business Details"),1),n.agentType==="Company"?(d(),m("div",ge,[e("div",ye,[e("div",null,[r[7]||(r[7]=e("label",{for:"company_name",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Company Name "),e("span",{class:"text-red-500"},"*")],-1)),g(b($),{id:"company_name",modelValue:n.companyName,"onUpdate:modelValue":r[0]||(r[0]=a=>v.$emit("update:companyName",a)),type:"text",required:n.agentType==="Company",placeholder:"ABC Planning Consultants Ltd",class:"w-full"},null,8,["modelValue","required"])]),e("div",null,[r[8]||(r[8]=e("label",{for:"company_number",class:"block text-sm font-medium text-gray-700 mb-2"}," Company Number (Optional) ",-1)),g(b($),{id:"company_number",modelValue:n.companyNumber,"onUpdate:modelValue":r[1]||(r[1]=a=>v.$emit("update:companyNumber",a)),type:"text",placeholder:"1234567",class:"w-full"},null,8,["modelValue"])])]),e("div",null,[r[9]||(r[9]=e("label",{for:"nzbn",class:"block text-sm font-medium text-gray-700 mb-2"}," NZBN (Optional) ",-1)),g(b($),{id:"nzbn",modelValue:n.nzbn,"onUpdate:modelValue":r[2]||(r[2]=a=>v.$emit("update:nzbn",a)),type:"text",maxlength:"13",placeholder:"1234567890123",class:"w-full",onBlur:r[3]||(r[3]=a=>v.$emit("validate-nzbn"))},null,8,["modelValue"]),n.nzbnError?(d(),m("p",be,f(n.nzbnError),1)):(d(),m("p",ce,"New Zealand Business Number (13 digits)"))])])):(d(),m("div",xe,[e("div",null,[r[10]||(r[10]=e("label",{for:"trading_name",class:"block text-sm font-medium text-gray-700 mb-2"}," Trading Name (Optional) ",-1)),g(b($),{id:"trading_name",modelValue:n.tradingName,"onUpdate:modelValue":r[4]||(r[4]=a=>v.$emit("update:tradingName",a)),type:"text",placeholder:"e.g., Smith Planning Services",class:"w-full"},null,8,["modelValue"]),r[11]||(r[11]=e("p",{class:"mt-1 text-xs text-gray-500"},"If you trade under a business name",-1))])])),e("div",null,[g(ne,{modelValue:n.selectedBusinessAddress,id:"business_address",label:"Business Address",placeholder:"Start typing your business address...",description:"Your business/office address",required:!1,onAddressSelected:r[5]||(r[5]=a=>v.$emit("business-address-selected",a))},null,8,["modelValue"])]),e("div",we,[e("div",he,[r[13]||(r[13]=e("div",null,[e("h3",{class:"text-sm font-medium text-gray-900"},"Properties"),e("p",{class:"text-xs text-gray-500 mt-1"},"Add properties you own or manage (optional)")],-1)),e("button",{type:"button",onClick:r[6]||(r[6]=a=>v.$emit("open-add-property")),class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...r[12]||(r[12]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),p(" Add Property ",-1)])])]),n.properties.length>0?(d(),m("div",ke,[(d(!0),m(B,null,Z(n.properties,(a,s)=>(d(),m("div",{key:s,class:"border border-gray-200 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition"},[e("div",$e,[e("div",Se,[e("div",Pe,[e("h4",Ce,f(a.property_name),1),a.is_default?(d(),m("span",Ne," Default ")):C("",!0)]),e("p",Ve,f(a.street),1),e("p",Be,f(a.suburb)+f(a.suburb&&a.city?", ":"")+f(a.city)+" "+f(a.postcode),1)]),e("div",ze,[!a.is_default&&n.properties.length>1?(d(),m("button",{key:0,type:"button",onClick:u=>v.$emit("set-default-property",s),class:"text-xs text-blue-600 hover:text-blue-800"}," Set as Default ",8,Ae)):C("",!0),e("button",{type:"button",onClick:u=>v.$emit("remove-property",s),class:"text-red-600 hover:text-red-800"},[...r[14]||(r[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Me)])])]))),128))])):(d(),m("div",Te,[...r[15]||(r[15]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"},"No properties added yet",-1)])]))])]))}},_e={class:"space-y-6"},Ue={class:"grid grid-cols-2 gap-4"},je={class:"grid md:grid-cols-2 gap-4"},qe={class:"grid md:grid-cols-2 gap-4"},De={key:0,class:"mt-1 text-xs text-red-600"},Re=["value"],Le={key:0,class:"mt-1 text-xs text-red-600"},Oe={key:1,class:"mt-1 text-xs text-gray-500"},Fe={class:"grid md:grid-cols-2 gap-4"},Ie={key:0,class:"mt-1 text-xs text-red-600"},Ye={key:0,class:"mt-1 text-xs text-red-600"},Ze={__name:"AgentPersonalDetailsStep",props:{agentType:{type:String,default:"Sole Trader"},firstName:{type:String,default:""},lastName:{type:String,default:""},email:{type:String,default:""},phone:{type:String,default:""},password:{type:String,default:""},confirmPassword:{type:String,default:""},emailError:{type:String,default:""},phoneError:{type:String,default:""},passwordError:{type:String,default:""},confirmPasswordError:{type:String,default:""},passwordStrength:{type:String,default:""}},emits:["update:agentType","update:firstName","update:lastName","update:email","update:phone","update:password","update:confirmPassword","validate-email","validate-phone","validate-password","validate-password-match"],setup(n){const v=n,r=H(()=>v.passwordStrength==="strong"?"text-green-600":v.passwordStrength==="medium"?"text-yellow-600":"text-red-600");return(a,s)=>(d(),m("div",_e,[s[23]||(s[23]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Agent Type & Your Details",-1)),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},[p(" Agent Type "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ue,[e("button",{type:"button",onClick:s[0]||(s[0]=u=>a.$emit("update:agentType","Sole Trader")),class:h(["p-4 border-2 rounded-lg text-center transition",n.agentType==="Sole Trader"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"])},[(d(),m("svg",{class:h(["w-8 h-8 mx-auto mb-2",n.agentType==="Sole Trader"?"text-blue-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...s[12]||(s[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])],2)),e("div",{class:h(["text-sm font-medium",n.agentType==="Sole Trader"?"text-blue-900":"text-gray-700"])}," Sole Trader ",2),s[13]||(s[13]=e("div",{class:"text-xs text-gray-500 mt-1"},"Individual consultant",-1))],2),e("button",{type:"button",onClick:s[1]||(s[1]=u=>a.$emit("update:agentType","Company")),class:h(["p-4 border-2 rounded-lg text-center transition",n.agentType==="Company"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"])},[(d(),m("svg",{class:h(["w-8 h-8 mx-auto mb-2",n.agentType==="Company"?"text-blue-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...s[14]||(s[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},null,-1)])],2)),e("div",{class:h(["text-sm font-medium",n.agentType==="Company"?"text-blue-900":"text-gray-700"])}," Company ",2),s[15]||(s[15]=e("div",{class:"text-xs text-gray-500 mt-1"},"Consulting firm",-1))],2)])]),e("div",je,[e("div",null,[s[17]||(s[17]=e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" First Name "),e("span",{class:"text-red-500"},"*")],-1)),g(b($),{id:"first_name",modelValue:n.firstName,"onUpdate:modelValue":s[2]||(s[2]=u=>a.$emit("update:firstName",u)),type:"text",required:"",placeholder:"John",class:"w-full"},null,8,["modelValue"])]),e("div",null,[s[18]||(s[18]=e("label",{for:"last_name",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Last Name "),e("span",{class:"text-red-500"},"*")],-1)),g(b($),{id:"last_name",modelValue:n.lastName,"onUpdate:modelValue":s[3]||(s[3]=u=>a.$emit("update:lastName",u)),type:"text",required:"",placeholder:"Doe",class:"w-full"},null,8,["modelValue"])])]),e("div",qe,[e("div",null,[s[19]||(s[19]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Email Address "),e("span",{class:"text-red-500"},"*")],-1)),g(b($),{id:"email",modelValue:n.email,"onUpdate:modelValue":s[4]||(s[4]=u=>a.$emit("update:email",u)),type:"email",required:"",placeholder:"you@example.com",class:"w-full",onBlur:s[5]||(s[5]=u=>a.$emit("validate-email"))},null,8,["modelValue"]),n.emailError?(d(),m("p",De,f(n.emailError),1)):C("",!0)]),e("div",null,[s[20]||(s[20]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Phone Number "),e("span",{class:"text-red-500"},"*")],-1)),e("input",{id:"phone",value:n.phone,onInput:s[6]||(s[6]=u=>a.$emit("update:phone",u.target.value)),type:"tel",required:"",placeholder:"021 234 5678",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onBlur:s[7]||(s[7]=u=>a.$emit("validate-phone"))},null,40,Re),n.phoneError?(d(),m("p",Le,f(n.phoneError),1)):(d(),m("p",Oe,"NZ mobile (02x) or landline (03-09)"))])]),e("div",Fe,[e("div",null,[s[21]||(s[21]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Password "),e("span",{class:"text-red-500"},"*")],-1)),g(b($),{id:"password",modelValue:n.password,"onUpdate:modelValue":s[8]||(s[8]=u=>a.$emit("update:password",u)),type:"password",required:"",placeholder:"Min. 8 characters",class:"w-full",onInput:s[9]||(s[9]=u=>a.$emit("validate-password"))},null,8,["modelValue"]),n.passwordError?(d(),m("p",Ie,f(n.passwordError),1)):n.passwordStrength?(d(),m("p",{key:1,class:h(["mt-1 text-xs",r.value])}," Password strength: "+f(n.passwordStrength),3)):C("",!0)]),e("div",null,[s[22]||(s[22]=e("label",{for:"confirm_password",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Confirm Password "),e("span",{class:"text-red-500"},"*")],-1)),g(b($),{id:"confirm_password",modelValue:n.confirmPassword,"onUpdate:modelValue":s[10]||(s[10]=u=>a.$emit("update:confirmPassword",u)),type:"password",required:"",placeholder:"Repeat password",class:"w-full",onBlur:s[11]||(s[11]=u=>a.$emit("validate-password-match"))},null,8,["modelValue"]),n.confirmPasswordError?(d(),m("p",Ye,f(n.confirmPasswordError),1)):C("",!0)])])]))}},He={class:"space-y-6"},Je={class:"flex items-start"},We=["checked"],Xe={__name:"AgentSettingsStep",props:{terms:{type:Boolean,default:!1}},emits:["update:terms"],setup(n){return(v,r)=>(d(),m("div",He,[r[2]||(r[2]=J('<h2 class="text-xl font-semibold text-gray-900 mb-4">Default Settings</h2><div class="p-4 bg-blue-50 border border-blue-200 rounded-lg"><h3 class="text-sm font-medium text-blue-900 mb-2">Agent Permissions</h3><ul class="text-sm text-blue-800 space-y-1"><li class="flex items-start"><svg class="w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Create and submit applications on behalf of clients </li><li class="flex items-start"><svg class="w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Manage multiple client applications </li><li class="flex items-start"><svg class="w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Receive notifications on application progress </li><li class="flex items-start"><svg class="w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> Professional dashboard for tracking all applications </li></ul></div>',2)),e("div",Je,[e("input",{id:"terms",checked:n.terms,onChange:r[0]||(r[0]=a=>v.$emit("update:terms",a.target.checked)),type:"checkbox",required:"",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"},null,40,We),r[1]||(r[1]=e("label",{for:"terms",class:"ml-2 block text-sm text-gray-700"},[p(" I agree to the "),e("a",{href:"#",class:"text-blue-600 hover:text-blue-700 font-medium"},"Terms of Service"),p(" and "),e("a",{href:"#",class:"text-blue-600 hover:text-blue-700 font-medium"},"Privacy Policy")],-1))])]))}},Ge={class:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-4"},Ke={class:"w-full max-w-4xl"},Qe={class:"mb-8"},et={class:"flex items-center justify-between"},tt={class:"flex items-center"},st={class:"flex items-center flex-col flex-1"},at={key:0,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},lt={key:1,class:"text-sm font-semibold"},rt={class:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100"},ot={key:0,class:"mt-6 p-3 bg-red-50 border border-red-200 rounded-lg"},nt={class:"flex items-start"},it={class:"text-sm text-red-700"},dt={class:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200"},ut={key:1},mt={class:"text-center mt-6"},pt={class:"text-sm text-gray-600"},vt={class:"text-center mt-4"},ct={__name:"CompanyRegistration",setup(n){const v=le(),r=[{label:"Your Details"},{label:"Business Info"},{label:"Settings"}],a=y(0),s=y(!1),u=y(""),S=y(null),l=y({agent_type:"Sole Trader",first_name:"",last_name:"",email:"",phone:"",password:"",confirm_password:"",company_name:"",company_number:"",nzbn:"",trading_name:"",default_council:null,terms:!1}),z=y(""),A=y(""),M=y(""),T=y(""),E=y(""),N=y("");H(()=>N.value==="strong"?"text-green-600":N.value==="medium"?"text-yellow-600":"text-red-600");const c=y([]),_=y(!1),x=y(null),w=y({property_name:"",street:"",suburb:"",city:"",postcode:"",is_default:!1}),W=()=>{w.value={property_name:"",street:"",suburb:"",city:"",postcode:"",is_default:c.value.length===0},x.value=null,_.value=!0},R=()=>{_.value=!1,w.value={property_name:"",street:"",suburb:"",city:"",postcode:"",is_default:!1},x.value=null},X=()=>{if(!w.value.property_name){alert("Please enter a property name");return}if(!x.value){alert("Please select a property address");return}w.value.is_default&&c.value.forEach(o=>o.is_default=!1),c.value.push({property_name:w.value.property_name,street:x.value.street_address||x.value.full_address,suburb:x.value.suburb||"",city:x.value.city||"",postcode:x.value.postcode||"",is_default:w.value.is_default}),R()},G=o=>{if(confirm("Are you sure you want to remove this property?")){const t=c.value[o].is_default;c.value.splice(o,1),t&&c.value.length>0&&(c.value[0].is_default=!0)}},K=o=>{c.value.forEach((t,k)=>{t.is_default=k===o})},Q=o=>{x.value=o},L=()=>{const o=ue(l.value.phone);return o.isValid?(z.value="",l.value.phone=o.formatted):z.value=o.message,o.isValid},O=()=>{const o=me(l.value.email);return o.isValid?A.value="":A.value=o.message,o.isValid},F=()=>{const o=de(l.value.password);return o.isValid?(M.value="",N.value=o.strength):(M.value=o.message,N.value=""),o.isValid},I=()=>l.value.password!==l.value.confirm_password?(T.value="Passwords do not match",!1):(T.value="",!0),Y=()=>{const o=pe(l.value.nzbn);return o.isValid?E.value="":E.value=o.message,o.isValid},ee=o=>{S.value=o};function te(){if(a.value===0){const o=L(),t=O(),k=F(),i=I();if(!l.value.first_name||!l.value.last_name){u.value="Please fill in all required fields";return}if(!o||!t||!k||!i){u.value="Please correct the errors above";return}}else if(a.value===1){if(l.value.agent_type==="Company"&&!l.value.company_name){u.value="Company name is required";return}if(l.value.nzbn&&!Y())return}u.value="",a.value++}function se(){u.value="",a.value--}function ae(){if(!l.value.terms){u.value="You must agree to the Terms of Service and Privacy Policy";return}u.value="",s.value=!0;const o={email:l.value.email,first_name:l.value.first_name,last_name:l.value.last_name,phone:l.value.phone,password:l.value.password,user_role:"agent",agent_type:l.value.agent_type,properties:c.value};l.value.agent_type==="Company"?(o.company_name=l.value.company_name,o.company_number=l.value.company_number,o.nzbn=l.value.nzbn):o.trading_name=l.value.trading_name,S.value&&(o.business_address=S.value.full_address,o.business_street=S.value.street_address,o.business_suburb=S.value.suburb,o.business_city=S.value.city,o.business_postcode=S.value.postcode),l.value.default_council&&(o.council_code=l.value.default_council),fetch("/api/method/lodgeick.api.register_agent",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify(o)}).then(t=>t.json()).then(t=>{if(s.value=!1,t.message&&t.message.success)v.push({name:"Login",query:{registered:"true",type:"agent"}});else if(t.exc||t._server_messages){const k=t._server_messages?JSON.parse(t._server_messages):[],i=k.length>0?JSON.parse(k[0]).message:"Registration failed. Please try again.";u.value=i,console.error("Agent registration error:",t.exc||t._server_messages)}else u.value="Registration failed. Please try again."}).catch(t=>{s.value=!1,u.value="Network error. Please check your connection and try again.",console.error("Agent registration error:",t)})}return(o,t)=>{const k=re("router-link");return d(),m("div",Ge,[e("div",Ke,[t[21]||(t[21]=J('<div class="text-center mb-8"><div class="inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4 shadow-lg"><svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div><h1 class="text-3xl font-bold text-gray-900 mb-2">Register as Agent</h1><p class="text-gray-600">Consultants or representatives who submit requests on behalf of clients</p></div><div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8"><div class="flex items-start"><svg class="w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div class="text-sm text-blue-800"><p class="font-medium">You are registering as an Agent</p><p class="mt-1">Agents are consultants or representatives who submit requests on behalf of clients. You can be a sole trader or represent a company.</p></div></div></div>',2)),e("div",Qe,[e("div",et,[(d(),m(B,null,Z(r,(i,P)=>e("div",{key:P,class:"flex-1"},[e("div",tt,[e("div",st,[e("div",{class:h(["w-10 h-10 rounded-full flex items-center justify-center border-2 transition",a.value>P?"bg-blue-600 border-blue-600 text-white":a.value===P?"border-blue-600 bg-white text-blue-600":"border-gray-300 bg-white text-gray-400"])},[a.value>P?(d(),m("svg",at,[...t[14]||(t[14]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(d(),m("span",lt,f(P+1),1))],2),e("span",{class:h(["text-xs mt-2 font-medium text-center",a.value>=P?"text-blue-600":"text-gray-400"])},f(i.label),3)]),P<r.length-1?(d(),m("div",{key:0,class:h(["h-0.5 flex-1 -mt-8",a.value>P?"bg-blue-600":"bg-gray-300"])},null,2)):C("",!0)])])),64))])]),e("div",rt,[e("form",{onSubmit:oe(ae,["prevent"])},[U(e("div",null,[g(Ze,{"agent-type":l.value.agent_type,"onUpdate:agentType":t[0]||(t[0]=i=>l.value.agent_type=i),"first-name":l.value.first_name,"onUpdate:firstName":t[1]||(t[1]=i=>l.value.first_name=i),"last-name":l.value.last_name,"onUpdate:lastName":t[2]||(t[2]=i=>l.value.last_name=i),email:l.value.email,"onUpdate:email":t[3]||(t[3]=i=>l.value.email=i),phone:l.value.phone,"onUpdate:phone":t[4]||(t[4]=i=>l.value.phone=i),password:l.value.password,"onUpdate:password":t[5]||(t[5]=i=>l.value.password=i),"confirm-password":l.value.confirm_password,"onUpdate:confirmPassword":t[6]||(t[6]=i=>l.value.confirm_password=i),"email-error":A.value,"phone-error":z.value,"password-error":M.value,"confirm-password-error":T.value,"password-strength":N.value,onValidateEmail:O,onValidatePhone:L,onValidatePassword:F,onValidatePasswordMatch:I},null,8,["agent-type","first-name","last-name","email","phone","password","confirm-password","email-error","phone-error","password-error","confirm-password-error","password-strength"])],512),[[j,a.value===0]]),U(e("div",null,[g(Ee,{"agent-type":l.value.agent_type,"company-name":l.value.company_name,"onUpdate:companyName":t[7]||(t[7]=i=>l.value.company_name=i),"company-number":l.value.company_number,"onUpdate:companyNumber":t[8]||(t[8]=i=>l.value.company_number=i),nzbn:l.value.nzbn,"onUpdate:nzbn":t[9]||(t[9]=i=>l.value.nzbn=i),"trading-name":l.value.trading_name,"onUpdate:tradingName":t[10]||(t[10]=i=>l.value.trading_name=i),"selected-business-address":S.value,properties:c.value,"nzbn-error":E.value,onValidateNzbn:Y,onBusinessAddressSelected:ee,onOpenAddProperty:W,onRemoveProperty:G,onSetDefaultProperty:K},null,8,["agent-type","company-name","company-number","nzbn","trading-name","selected-business-address","properties","nzbn-error"])],512),[[j,a.value===1]]),g(ie,{show:_.value,"property-name":w.value.property_name,"onUpdate:propertyName":t[11]||(t[11]=i=>w.value.property_name=i),"selected-property-address":x.value,"is-default":w.value.is_default,"onUpdate:isDefault":t[12]||(t[12]=i=>w.value.is_default=i),onClose:R,onPropertyAddressSelected:Q,onAddProperty:X},null,8,["show","property-name","selected-property-address","is-default"]),U(e("div",null,[g(Xe,{terms:l.value.terms,"onUpdate:terms":t[13]||(t[13]=i=>l.value.terms=i)},null,8,["terms"])],512),[[j,a.value===2]]),u.value?(d(),m("div",ot,[e("div",nt,[t[15]||(t[15]=e("svg",{class:"w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",it,f(u.value),1)])])):C("",!0),e("div",dt,[a.value>0?(d(),q(b(D),{key:0,type:"button",onClick:se,variant:"outline",class:"px-6 py-2"},{default:V(()=>[...t[16]||(t[16]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),p(" Previous ",-1)])]),_:1})):(d(),m("div",ut)),a.value<r.length-1?(d(),q(b(D),{key:2,type:"button",onClick:te,variant:"solid",class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2"},{default:V(()=>[...t[17]||(t[17]=[p(" Next ",-1),e("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1})):(d(),q(b(D),{key:3,type:"submit",loading:s.value,variant:"solid",class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2"},{default:V(()=>[s.value?(d(),m(B,{key:1},[p(" Creating... ")],64)):(d(),m(B,{key:0},[p(" Create Agent Account ")],64))]),_:1},8,["loading"]))])],32)]),e("div",mt,[e("p",pt,[t[19]||(t[19]=p(" Want to register as a requester instead? ",-1)),g(k,{to:{name:"Register"},class:"font-medium text-blue-600 hover:text-blue-700"},{default:V(()=>[...t[18]||(t[18]=[p(" Register as requester ",-1)])]),_:1})])]),e("div",vt,[g(k,{to:"/",class:"text-sm text-gray-500 hover:text-gray-700 inline-flex items-center"},{default:V(()=>[...t[20]||(t[20]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),p(" Back to home ",-1)])]),_:1})])])])}}};export{ct as default};
//# sourceMappingURL=CompanyRegistration-Dpm2Bd7s.js.map
