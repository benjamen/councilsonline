var Qe=Object.defineProperty;var pe=Object.getOwnPropertySymbols;var Ke=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var me=(V,x,m)=>x in V?Qe(V,x,{enumerable:!0,configurable:!0,writable:!0,value:m}):V[x]=m,q=(V,x)=>{for(var m in x||(x={}))Ke.call(x,m)&&me(V,m,x[m]);if(pe)for(var m of pe(x))Ze.call(x,m)&&me(V,m,x[m]);return V};var G=(V,x,m)=>new Promise((H,E)=>{var z=_=>{try{B(m.next(_))}catch(M){E(M)}},h=_=>{try{B(m.throw(_))}catch(M){E(M)}},B=_=>_.done?H(_.value):Promise.resolve(_.value).then(z,h);B((m=m.apply(V,x)).next())});import{f as et,r as f,j,q as se,k as oe,c as a,o as r,a as t,d as p,b as N,t as u,w as y,h as g,u as k,i as R,F as A,m as C,x as X,l as n,v as S,y as d,g as P,I as tt,z as w,A as le,n as ce}from"./index-D2OihjOO.js";const st={class:"min-h-screen bg-gray-50"},ot={class:"bg-white shadow-sm border-b border-gray-200"},lt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},rt={class:"flex items-center justify-between py-4"},nt={class:"flex items-center space-x-3"},at={class:"text-sm text-gray-500"},it={class:"bg-white border-b border-gray-200"},dt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},ut={class:"flex items-center justify-between mb-2"},pt={class:"flex flex-col items-center"},mt={key:0},ct={key:1},bt={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},gt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},vt={key:0},ft={key:0,class:"text-center py-12"},yt={key:1,class:"grid md:grid-cols-2 gap-4"},xt=["onClick"],kt={class:"flex items-start justify-between"},wt={class:"flex-1"},ht={class:"text-lg font-semibold text-gray-900 mb-2"},_t=["innerHTML"],At={class:"mt-4 flex items-center space-x-4 text-xs text-gray-500"},Ct={key:0},St={key:1},Pt={key:2,class:"px-2 py-1 bg-gray-100 rounded"},Vt={key:0,class:"ml-4"},Mt={key:1},Ut={class:"space-y-6"},qt=["value"],Rt={class:"border-t border-gray-200 pt-6 mt-6"},Dt={class:"grid md:grid-cols-2 gap-4"},jt={key:0,class:"space-y-4"},Nt={class:"grid md:grid-cols-2 gap-4"},Et={key:2},Bt={class:"space-y-6"},It={class:"grid md:grid-cols-2 gap-4"},Ft={key:3},Lt={class:"space-y-6"},Tt={class:"grid md:grid-cols-3 gap-4 mb-4"},Ht={class:"grid md:grid-cols-2 gap-4"},zt={class:"space-y-2 p-3 border border-gray-300 rounded-lg"},Ot=["value","onChange","checked"],$t={class:"ml-2 text-sm text-gray-700"},Wt={class:"block text-sm font-medium text-gray-700 mb-2"},Jt={key:0,class:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-900"},Gt={key:1,class:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800"},Xt={key:0,class:"border-t border-gray-200 pt-6 mt-6"},Yt={class:"space-y-4"},Qt={class:"grid md:grid-cols-2 gap-4"},Kt={class:"flex items-start mb-2"},Zt={key:0},es={key:0},ts={key:0,class:"text-xs text-blue-600 mt-1"},ss={class:"border-t border-gray-200 pt-6 mt-6"},os={class:"mb-4"},ls={class:"grid md:grid-cols-2 gap-4"},rs={class:"mb-4"},ns={class:"grid md:grid-cols-2 gap-4"},as={class:"grid md:grid-cols-2 gap-4"},is={class:"space-y-3"},ds={class:"space-y-3"},us={class:"border-t border-gray-200 pt-6 mt-6"},ps={class:"space-y-4"},ms={class:"grid md:grid-cols-2 gap-4"},cs={class:"flex items-start mb-2"},bs={key:0},gs={class:"border border-blue-200 rounded-lg p-4 bg-blue-50"},vs={class:"space-y-2 mb-3"},fs=["id","value"],ys=["for"],xs={key:0,class:"border-t border-blue-300 pt-3 mt-3"},ks={class:"text-xs font-semibold text-blue-900 mb-2"},ws={class:"grid md:grid-cols-2 gap-3"},hs=["onUpdate:modelValue"],_s={class:"flex items-end"},As={class:"flex items-center mb-1"},Cs=["id","onUpdate:modelValue"],Ss=["for"],Ps={class:"mt-2"},Vs=["onUpdate:modelValue"],Ms={class:"border-t border-gray-200 pt-6 mt-6"},Us={class:"space-y-3"},qs={class:"flex items-start mb-2"},Rs=["id","onUpdate:modelValue"],Ds=["for"],js={key:0,class:"ml-7 mt-3 space-y-3 border-l-2 border-blue-300 pl-3"},Ns=["onUpdate:modelValue"],Es=["onUpdate:modelValue"],Bs={key:1,class:"border-t border-gray-200 pt-6 mt-6"},Is={key:0,class:"space-y-3"},Fs={class:"flex items-start justify-between mb-3"},Ls={class:"text-sm font-medium text-gray-900"},Ts=["onClick"],Hs={class:"space-y-3"},zs=["onUpdate:modelValue"],Os={class:"grid md:grid-cols-3 gap-3"},$s={class:"flex items-center"},Ws=["id","onUpdate:modelValue"],Js=["for"],Gs={class:"flex items-center"},Xs=["id","onUpdate:modelValue"],Ys=["for"],Qs={class:"flex items-center"},Ks=["id","onUpdate:modelValue"],Zs=["for"],eo={class:"flex items-center"},to=["id","onUpdate:modelValue"],so=["for"],oo=["onUpdate:modelValue"],lo=["onUpdate:modelValue"],ro={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},no={class:"border-t border-gray-200 pt-6 mt-6"},ao={class:"border-t border-gray-200 pt-4"},io={class:"space-y-4"},uo={class:"grid md:grid-cols-2 gap-4"},po={class:"border-t border-gray-200 pt-4"},mo={class:"flex items-center justify-between mb-3"},co={key:0,class:"space-y-3 mb-3"},bo={class:"flex items-start justify-between"},go={class:"flex-1"},vo={class:"flex items-center gap-2 mb-2"},fo={class:"text-sm font-semibold text-gray-900"},yo={class:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded"},xo={class:"grid md:grid-cols-2 gap-x-6 gap-y-1 text-xs text-gray-600"},ko={key:0,class:"flex items-start gap-1"},wo={key:1,class:"flex items-center gap-1"},ho=["href"],_o={key:2,class:"flex items-center gap-1"},Ao=["href"],Co={key:3,class:"flex items-start gap-1"},So={key:0,class:"mt-2 flex items-center gap-2"},Po={key:0,class:"text-xs text-gray-500"},Vo={key:1,class:"mt-2 text-xs text-gray-600 italic"},Mo={class:"flex gap-1 ml-3"},Uo=["onClick"],qo=["onClick"],Ro={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Do={class:"border-t border-gray-200 pt-4"},jo={class:"flex items-center justify-between mb-3"},No={key:0,class:"space-y-3 mb-3"},Eo={class:"flex items-start justify-between mb-2"},Bo={class:"flex items-center gap-2"},Io={class:"text-sm font-semibold text-gray-900"},Fo={class:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded font-medium"},Lo={class:"space-y-2 text-xs text-gray-600 mb-3"},To={class:"flex items-center gap-2"},Ho={class:"font-medium"},zo={key:0,class:"text-gray-400"},Oo={key:0,class:"flex items-center gap-2 text-blue-600"},$o={key:1,class:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-700"},Wo={class:"flex gap-2"},Jo=["onClick"],Go=["onClick"],Xo={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Yo={class:"border-t border-gray-200 pt-6 mt-6"},Qo={class:"space-y-4"},Ko={class:"flex items-start"},Zo={key:0,class:"ml-7 border-l-2 border-yellow-300 pl-4 bg-yellow-50 p-4 rounded-r-lg"},el={class:"border-t border-gray-200 pt-6 mt-6"},tl={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},sl={class:"flex items-start"},ol={class:"ml-3 flex-1"},ll={key:4},rl={class:"space-y-6"},nl={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition"},al={key:0,class:"space-y-2"},il={class:"font-medium text-gray-900"},dl={class:"flex items-center space-x-3"},ul={class:"text-sm font-medium text-gray-900"},pl={class:"text-xs text-gray-500"},ml=["onClick"],cl={key:5},bl={class:"space-y-6"},gl={class:"border border-gray-200 rounded-lg p-6"},vl={class:"grid md:grid-cols-2 gap-4 text-sm"},fl={class:"font-medium text-gray-900 mt-1"},yl={class:"font-medium text-gray-900 mt-1"},xl={class:"font-medium text-gray-900 mt-1"},kl={class:"font-medium text-gray-900 mt-1"},wl={class:"font-medium text-gray-900 mt-1"},hl={class:"bg-gray-50 border border-gray-200 rounded-lg p-6"},_l={class:"flex items-start"},Al={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},Cl={class:"space-y-2 text-sm"},Sl={class:"flex justify-between"},Pl={class:"font-medium text-blue-900"},Vl={class:"flex justify-between pt-2 border-t border-blue-200"},Ml={class:"text-lg font-bold text-blue-900"},Ul={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-6"},ql={class:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200"},Rl={key:1},Dl={class:"flex space-x-3"},jl={key:2,class:"text-sm text-gray-500"},Nl={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},El={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},Bl={class:"flex items-center justify-between"},Il={class:"text-lg font-semibold text-gray-900"},Fl={class:"px-6 py-4 space-y-4"},Ll={class:"border-t border-gray-200 pt-4"},Tl={class:"grid md:grid-cols-2 gap-4"},Hl={class:"border-t border-gray-200 pt-4"},zl={class:"space-y-3"},Ol={class:"border-t border-gray-200 pt-4"},$l={class:"flex items-start mb-3"},Wl={key:0,class:"ml-7 space-y-3"},Jl={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},Gl={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},Xl={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Yl={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},Ql={class:"flex items-center justify-between"},Kl={class:"text-lg font-semibold text-gray-900"},Zl={class:"px-6 py-4 space-y-4"},er={class:"border-t border-gray-200 pt-4"},tr={class:"space-y-3"},sr={class:"border-t border-gray-200 pt-4"},or={class:"space-y-3"},lr={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},rr={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},ir={__name:"NewRequest",setup(V){const x=et(),m=f(1),H=j(()=>O.value.length),E=f(!1),z=f(!1),h=f([]),B=f(null),_=f(!1),M=f(!1),Z=f(!1),be=["Land Use","Subdivision","Discharge Permit","Water Permit","Coastal Permit"],ge=l=>{const e=o.value.consent_types.findIndex(s=>s.consent_type===l);e>-1?o.value.consent_types.splice(e,1):o.value.consent_types.push({consent_type:l})},ve=l=>o.value.consent_types.some(e=>e.consent_type===l),O=j(()=>{const l=[{title:"Type",number:1},{title:"Property",number:2},{title:"Details",number:3}];return F.value&&l.push({title:"RC Details",number:4}),l.push({title:"Documents",number:l.length+1},{title:"Review",number:l.length+2}),l}),o=f({request_type:"",request_category:"",property:"",property_address:"",legal_description:"",valuation_reference:"",zone:"",brief_description:"",detailed_description:"",estimated_value:null,proposed_start_date:"",terms_accepted:!1,applicant_phone:"",applicant_type:"",consent_types:[],activity_status:"",applicant_reference_number:"",delivery_preference:"",pim_reference:"",building_height:null,building_floor_area:null,earthworks_volume:null,earthworks_vertical_alteration:null,vehicle_movements_daily:null,parking_spaces_provided:null,hours_of_operation:"",consent_term_requested:"",site_topography:"",existing_vegetation_description:"",watercourses_present:!1,watercourse_description:"",existing_infrastructure:"",contamination_status_hail:"",boundary_description:"",boundary_activity_description:"",boundary_owner_approval_obtained:!1,boundary_approval_date:"",boundary_approval_document:null,natural_hazards:[],nes_assessments:[],hail_activities:[],confidential_information_claimed:!1,confidential_information_reason:"",assessment_of_effects:"",effects_on_people:"",physical_effects:"",earthworks_effects:"",discharge_contaminants_effects:"",ecosystem_effects:"",hazard_risk_assessment:"",cultural_effects:"",planning_assessment:"",alternatives_considered:"",mitigation_proposed:"",iwi_consultation_undertaken:!1,iwi_consulted:"",cultural_impact_assessment:null,proposed_conditions:"",affected_parties:[],specialist_reports:[]}),fe=["Earthquake","Fire","Tsunami","Erosion","Volcanic and Geothermal","Flood","Sedimentation","Subsidence","Wind","Landslip","Drought"],I=f([]),Y=f({}),D=l=>(Y.value[l]||(Y.value[l]={hazard_type:l,present:!0,risk_level:"",assessment_notes:"",mitigation_required:!1}),Y.value[l]);se(I,l=>{o.value.natural_hazards=l.map(e=>D(e))},{deep:!0}),se(Y,()=>{o.value.natural_hazards=I.value.map(l=>D(l))},{deep:!0});const re=[{value:"NES for Assessing and Managing Contaminants in Soil (HAIL)",label:"NES for Assessing and Managing Contaminants in Soil (HAIL)"},{value:"NES for Air Quality",label:"NES for Air Quality"},{value:"NES for Freshwater Management",label:"NES for Freshwater Management"},{value:"NES for Plantation Forestry",label:"NES for Plantation Forestry"},{value:"NES for Electricity Transmission Activities",label:"NES for Electricity Transmission Activities"},{value:"NES for Telecommunication Facilities",label:"NES for Telecommunication Facilities"}],Q=f({}),U=l=>(Q.value[l]||(Q.value[l]={nes_type:l,applies:!1,compliance_status:"",assessment_notes:""}),Q.value[l]);se(Q,()=>{o.value.nes_assessments=re.filter(l=>U(l.value).applies).map(l=>U(l.value))},{deep:!0});const ye=j(()=>o.value.nes_assessments.some(l=>l.nes_type&&l.nes_type.includes("HAIL"))),xe=()=>{o.value.hail_activities.push({activity_description:"",currently_undertaken:!1,previously_undertaken:!1,likely_undertaken:!1,preliminary_investigation_done:!1,proposed_activity:"",notes:""})},ke=l=>{o.value.hail_activities.splice(l,1)},we=l=>{const e=l.target.files[0];e&&(o.value.boundary_approval_document=e)},he=f(JSON.parse(JSON.stringify(o.value))),_e=j(()=>{const l=q({},o.value),e=q({},he.value);delete l.terms_accepted,delete e.terms_accepted;const s=JSON.stringify(l),i=JSON.stringify(e);return s!==i}),F=j(()=>o.value.request_category==="Resource Consent"),ne=j(()=>{if(!o.value.activity_status)return null;switch(o.value.activity_status){case"Non-Complying":return"⚠️ Non-complying activities face higher scrutiny and longer processing times. Consider pre-application meeting.";case"Discretionary":return"ℹ️ Discretionary activities may require public notification depending on effects assessment.";case"Controlled":return"✓ Controlled activities must be granted consent. Council will focus on appropriate conditions.";default:return null}}),Ae=j(()=>_e.value||h.value.length>0),K=oe({url:"lodgeick.lodgeick.doctype.request_type.request_type.get_active_request_types",auto:!0,onError(l){var e;console.error("[NewRequest] Failed to load Request Types:",l),alert(`Error loading Request Types: ${((e=l.messages)==null?void 0:e[0])||l.message||"Unknown error"}. Please refresh the page or contact support.`)},onSuccess(l){console.log("[NewRequest] Loaded Request Types:",(l==null?void 0:l.length)||0,"types")}}),ae=oe({url:"frappe.client.get_list",params:{doctype:"Property",fields:["name","property_id","street_address","suburb","city"],limit_page_length:100},auto:!0}),Ce=()=>{confirm("Are you sure you want to leave? Any unsaved changes will be lost.")&&x.push({name:"Dashboard"})},Se=l=>l<m.value||l===m.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-600",Pe=l=>{console.log("[NewRequest] Selecting Request Type:",l.name,l.type_name),o.value.request_type=l.name,o.value.request_category=l.category||"",console.log("[NewRequest] Form data updated:",{request_type:o.value.request_type,request_category:o.value.request_category})},Ve=()=>{if(o.value.property){const l=ae.data.find(e=>e.name===o.value.property);l&&(o.value.property_address=`${l.street_address}, ${l.suburb}, ${l.city}`)}},ie=()=>{switch(m.value){case 1:const l=!!o.value.request_type;return console.log("[NewRequest] canProceed Step 1:",l,"request_type:",o.value.request_type),l;case 2:const e=o.value.property||o.value.property_address,s=o.value.applicant_phone&&o.value.applicant_type;return!!(e&&s);case 3:return!!o.value.brief_description&&!!o.value.detailed_description;case 4:return F.value?!!(o.value.consent_types&&o.value.consent_types.length>0&&o.value.activity_status&&o.value.assessment_of_effects&&o.value.planning_assessment):!0;case 5:return!0;default:return!0}},Me=()=>{const l=H.value,e=m.value,s=ie();console.log("[NewRequest] nextStep called",{canProceed:s,currentStep:e,totalSteps:l,steps:O.value,willProceed:s&&e<l}),s&&e<l?(m.value++,console.log("[NewRequest] Moved to step:",m.value)):console.warn("[NewRequest] Cannot proceed:",{canProceed:s,currentStep:e,totalSteps:l,reason:s?"at last step":"canProceed returned false"})},Ue=()=>{m.value>1&&m.value--},de=()=>G(this,null,function*(){E.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:o.value})})).json();if(e.message&&e.message.success)alert(`Draft saved successfully! Request ID: ${e.message.request_number}`);else throw new Error(e.message||"Failed to save draft")}catch(l){console.error("Error saving draft:",l),alert("Failed to save draft. Please try again.")}finally{E.value=!1}}),qe=()=>{B.value.click()},Re=l=>{const e=Array.from(l.target.files);h.value.push(...e)},De=l=>{h.value.splice(l,1)},je=l=>{if(l===0)return"0 Bytes";const e=1024,s=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(l)/Math.log(e));return Math.round(l/Math.pow(e,i)*100)/100+" "+s[i]},Ne=()=>{var e;const l=(e=K.data)==null?void 0:e.find(s=>s.name===o.value.request_type);return(l==null?void 0:l.type_name)||"N/A"},ue=()=>{var e;const l=(e=K.data)==null?void 0:e.find(s=>s.name===o.value.request_type);return l!=null&&l.base_fee?`$${l.base_fee}`:"TBD"},Ee=()=>G(this,null,function*(){if(!o.value.terms_accepted){alert("Please accept the terms and conditions");return}z.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:o.value})})).json();if(!e.message||!e.message.success)throw new Error("Failed to create request");const s=e.message.request_id;if(h.value.length>0)for(const Ye of h.value){const J=new FormData;J.append("file",Ye),J.append("doctype","Request"),J.append("docname",s),J.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:J})}const b=yield(yield fetch("/api/method/lodgeick.lodgeick.doctype.request.request.submit_application",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:s})})).json();if(b.message&&b.message.success)alert(`Application submitted successfully! Request Number: ${b.message.request_number}`),x.push({name:"Dashboard"});else throw new Error("Failed to submit application")}catch(l){console.error("Error submitting application:",l),alert("Failed to submit application")}finally{z.value=!1}}),Be=()=>G(this,null,function*(){if(!o.value.request_type){alert("Please complete your application details first");return}_.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:o.value})})).json();if(!e.message||!e.message.success)throw new Error("Failed to save application");const s=e.message.request_id,b=yield(yield fetch("/api/method/lodgeick.api.book_council_meeting",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:s,meeting_type:"Pre-Application Meeting"})})).json();if(b.message&&b.message.success)alert(`Pre-Application Meeting request has been submitted! A council officer will contact you within 2 business days to schedule the meeting. Task ID: ${b.message.task_id}`);else throw new Error(b.message||"Failed to book meeting")}catch(l){console.error("Error booking meeting:",l),alert("Failed to book pre-application meeting. Please try again.")}finally{_.value=!1}});f(null);const $=f(!1),L=f(null),c=f({party_name:"",relationship:"",property_address:"",email:"",phone:"",postal_address:"",approval_obtained:!1,approval_date:"",approval_document:null,comments:""}),Ie=()=>{c.value={party_name:"",relationship:"",property_address:"",email:"",phone:"",postal_address:"",approval_obtained:!1,approval_date:"",approval_document:null,comments:""},L.value=null,$.value=!0},Fe=l=>{c.value=q({},o.value.affected_parties[l]),L.value=l,$.value=!0},Le=()=>{if(!c.value.party_name||!c.value.relationship){alert("Please enter party name and relationship");return}L.value!==null?o.value.affected_parties[L.value]=q({},c.value):o.value.affected_parties.push(q({},c.value)),$.value=!1},ee=()=>{$.value=!1},Te=l=>{confirm("Remove this affected party?")&&o.value.affected_parties.splice(l,1)},He=l=>{const e=l.target.files[0];if(e){if(e.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"].includes(e.type)){alert("Only PDF, Word documents, and images (JPG, PNG) are allowed"),l.target.value="";return}c.value.approval_document=e}},W=f(!1),T=f(null),v=f({report_type:"",specialist_name:"",specialist_company:"",report_date:"",document:null,summary:""}),ze=()=>{v.value={report_type:"",specialist_name:"",specialist_company:"",report_date:"",document:null,summary:""},T.value=null,W.value=!0},Oe=l=>{v.value=q({},o.value.specialist_reports[l]),T.value=l,W.value=!0},$e=()=>{if(!v.value.report_type||!v.value.specialist_name||!v.value.report_date){alert("Please enter report type, specialist name, and report date");return}T.value!==null?o.value.specialist_reports[T.value]=q({},v.value):o.value.specialist_reports.push(q({},v.value)),W.value=!1},te=()=>{W.value=!1},We=l=>{confirm("Remove this specialist report?")&&o.value.specialist_reports.splice(l,1)},Je=l=>{const e=l.target.files[0];if(e){if(e.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type)){alert("Only PDF and Word documents are allowed"),l.target.value="";return}v.value.document=e}},Ge=oe({url:"lodgeick.api.book_council_meeting",makeParams:l=>l,onSuccess:l=>{l&&l.success?alert(`✅ Pre-Application Meeting Request Sent!

Task #${l.task_id} has been created for the planning team.

They will contact you within 2 business days to schedule.`):alert("Meeting request sent successfully! The planning team will contact you soon."),M.value=!1},onError:l=>{console.error("Error requesting meeting:",l),alert("Failed to request pre-application meeting. Please try again or contact the planning team directly."),M.value=!1}}),Xe=()=>G(this,null,function*(){if(!o.value.request_type||!o.value.property_address){alert("Please complete the Request Type and Property Details first.");return}if(confirm(`Request a pre-application meeting? A planning officer will contact you within 2 business days to schedule.

Note: You should save your application as a draft first.`))try{M.value=!0;const l=yield de();if(!l||!l.request_id){alert("Please save your draft application first."),M.value=!1;return}Ge.submit({request_id:l.request_id,meeting_type:"Pre-Application Meeting"})}catch(l){console.error("Error in meeting request:",l),alert("Failed to request pre-application meeting. Please try again."),M.value=!1}});return(l,e)=>(r(),a("div",st,[t("header",ot,[t("div",lt,[t("div",rt,[t("div",nt,[t("button",{onClick:Ce,class:"text-gray-500 hover:text-gray-700"},[...e[64]||(e[64]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),t("div",null,[e[65]||(e[65]=t("h1",{class:"text-xl font-bold text-gray-900"},"New Application",-1)),t("p",at,"Step "+u(m.value)+" of "+u(H.value),1)])]),N(k(R),{onClick:de,variant:"outline",theme:"gray",loading:E.value},{default:y(()=>[...e[66]||(e[66]=[g(" Save Draft ",-1)])]),_:1},8,["loading"])])])]),t("div",it,[t("div",dt,[t("div",ut,[(r(!0),a(A,null,C(O.value,(s,i)=>(r(),a("div",{key:i,class:X(["flex items-center",{"flex-1":i<O.value.length-1}])},[t("div",pt,[t("div",{class:X(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",Se(i+1)])},[i+1<m.value?(r(),a("span",mt,"✓")):(r(),a("span",ct,u(i+1),1))],2),t("span",{class:X(["text-xs mt-2 text-center",i+1===m.value?"text-blue-600 font-medium":"text-gray-500"])},u(s.title),3)]),i<O.value.length-1?(r(),a("div",{key:0,class:X(["flex-1 h-1 mx-4 rounded",i+1<m.value?"bg-blue-600":"bg-gray-200"])},null,2)):p("",!0)],2))),128))])])]),t("main",bt,[t("div",gt,[m.value===1?(r(),a("div",vt,[e[69]||(e[69]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Application Type",-1)),e[70]||(e[70]=t("p",{class:"text-gray-600 mb-8"},"Choose the type of consent you wish to apply for",-1)),k(K).loading?(r(),a("div",ft,[...e[67]||(e[67]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):(r(),a("div",yt,[(r(!0),a(A,null,C(k(K).data,s=>(r(),a("div",{key:s.name,onClick:i=>Pe(s),class:X(["border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md",o.value.request_type===s.name?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[t("div",kt,[t("div",wt,[t("h3",ht,u(s.type_name),1),t("p",{class:"text-sm text-gray-600",innerHTML:s.description||"No description available"},null,8,_t),t("div",At,[s.base_fee?(r(),a("span",Ct,"Fee: $"+u(s.base_fee),1)):p("",!0),s.processing_sla_days?(r(),a("span",St,u(s.processing_sla_days)+" days",1)):p("",!0),s.category?(r(),a("span",Pt,u(s.category),1)):p("",!0)])]),o.value.request_type===s.name?(r(),a("div",Vt,[...e[68]||(e[68]=[t("div",{class:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):p("",!0)])],10,xt))),128))]))])):p("",!0),m.value===2?(r(),a("div",Mt,[e[84]||(e[84]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Property Details",-1)),e[85]||(e[85]=t("p",{class:"text-gray-600 mb-8"},"Provide details about the property for this application",-1)),t("div",Ut,[t("div",null,[e[72]||(e[72]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Existing Property or Enter New ",-1)),n(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.value.property=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:Ve},[e[71]||(e[71]=t("option",{value:""},"-- Select a property or enter new --",-1)),(r(!0),a(A,null,C(k(ae).data,s=>(r(),a("option",{key:s.name,value:s.name},u(s.property_id)+" - "+u(s.street_address)+", "+u(s.suburb),9,qt))),128))],544),[[S,o.value.property]])]),t("div",Rt,[e[78]||(e[78]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Applicant Contact Information *",-1)),t("div",Dt,[t("div",null,[e[73]||(e[73]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Contact Phone *",-1)),n(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.applicant_phone=s),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[d,o.value.applicant_phone]]),e[74]||(e[74]=t("p",{class:"mt-1 text-xs text-gray-500"},"Required for application processing",-1))]),t("div",null,[e[76]||(e[76]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Applicant Type *",-1)),n(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.applicant_type=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...e[75]||(e[75]=[P('<option value="">Select applicant type</option><option value="Individual">Individual</option><option value="Company">Company</option><option value="Trust">Trust</option><option value="Partnership">Partnership</option>',5)])],512),[[S,o.value.applicant_type]]),e[77]||(e[77]=t("p",{class:"mt-1 text-xs text-gray-500"},"Type of entity making this application",-1))])])]),o.value.property?p("",!0):(r(),a("div",jt,[t("div",null,[e[79]||(e[79]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Property Address *",-1)),n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.property_address=s),type:"text",placeholder:"123 Main Street, Wellington",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.property_address]])]),t("div",Nt,[t("div",null,[e[80]||(e[80]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Legal Description",-1)),n(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.legal_description=s),type:"text",placeholder:"Lot 1 DP 12345",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.legal_description]])]),t("div",null,[e[81]||(e[81]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Valuation Reference",-1)),n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.value.valuation_reference=s),type:"text",placeholder:"1234567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.valuation_reference]])])]),t("div",null,[e[83]||(e[83]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Zone",-1)),n(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.value.zone=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...e[82]||(e[82]=[P('<option value="">Select zone</option><option value="Residential">Residential</option><option value="Commercial">Commercial</option><option value="Industrial">Industrial</option><option value="Rural">Rural</option><option value="Mixed Use">Mixed Use</option>',6)])],512),[[S,o.value.zone]])])]))])])):p("",!0),m.value===3?(r(),a("div",Et,[e[91]||(e[91]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Application Details",-1)),e[92]||(e[92]=t("p",{class:"text-gray-600 mb-8"},"Describe your proposed activity or development",-1)),t("div",Bt,[t("div",null,[e[86]||(e[86]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Brief Description *",-1)),n(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.brief_description=s),type:"text",placeholder:"e.g., Two-storey residential dwelling",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.brief_description]])]),t("div",null,[e[87]||(e[87]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Detailed Description *",-1)),n(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=s=>o.value.detailed_description=s),rows:"6",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Provide a detailed description of the proposed activity, including any relevant technical details, dimensions, materials, and timeframes..."},null,512),[[d,o.value.detailed_description]])]),t("div",It,[t("div",null,[e[89]||(e[89]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Estimated Project Value",-1)),N(k(tt),{modelValue:o.value.estimated_value,"onUpdate:modelValue":e[9]||(e[9]=s=>o.value.estimated_value=s),placeholder:"e.g., 500000",type:"number"},{prefix:y(()=>[...e[88]||(e[88]=[t("span",{class:"text-gray-500"},"$",-1)])]),_:1},8,["modelValue"])]),t("div",null,[e[90]||(e[90]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Proposed Start Date",-1)),n(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>o.value.proposed_start_date=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.proposed_start_date]])])])])])):p("",!0),F.value&&m.value===4?(r(),a("div",Ft,[e[209]||(e[209]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Resource Consent Details",-1)),e[210]||(e[210]=t("p",{class:"text-gray-600 mb-8"},"Provide Resource Management Act (RMA) specific information",-1)),t("div",Lt,[t("div",Tt,[t("div",null,[e[93]||(e[93]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Applicant Reference Number ",-1)),n(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>o.value.applicant_reference_number=s),type:"text",placeholder:"e.g., PROJ-2025-001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.applicant_reference_number]]),e[94]||(e[94]=t("p",{class:"mt-1 text-xs text-gray-500"},"Your internal project/file reference (optional)",-1))]),t("div",null,[e[95]||(e[95]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," PIM Reference ",-1)),n(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>o.value.pim_reference=s),type:"text",placeholder:"e.g., PIM-2024-12345",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.pim_reference]]),e[96]||(e[96]=t("p",{class:"mt-1 text-xs text-gray-500"},"Property Information Memorandum number (if applicable)",-1))]),t("div",null,[e[98]||(e[98]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Delivery Preference ",-1)),n(t("select",{"onUpdate:modelValue":e[13]||(e[13]=s=>o.value.delivery_preference=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...e[97]||(e[97]=[t("option",{value:""},"Select preference",-1),t("option",{value:"Email"},"Email",-1),t("option",{value:"Postal Mail"},"Postal Mail",-1),t("option",{value:"Both Email and Postal"},"Both Email and Postal",-1)])],512),[[S,o.value.delivery_preference]]),e[99]||(e[99]=t("p",{class:"mt-1 text-xs text-gray-500"},"How to receive correspondence",-1))])]),t("div",Ht,[t("div",null,[e[100]||(e[100]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Consent Type(s) * ",-1)),t("div",zt,[(r(),a(A,null,C(be,s=>t("label",{key:s,class:"flex items-center"},[t("input",{type:"checkbox",value:s,onChange:i=>ge(s),checked:ve(s),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,Ot),t("span",$t,u(s),1)])),64))]),e[101]||(e[101]=t("p",{class:"mt-1 text-xs text-gray-500"},"Select all consent types required (multiple allowed)",-1))]),t("div",null,[t("label",Wt,[e[103]||(e[103]=g(" Activity Status * ",-1)),t("button",{type:"button",onClick:e[14]||(e[14]=s=>Z.value=!Z.value),class:"ml-1 text-blue-600 hover:text-blue-800",title:"Click for help"},[...e[102]||(e[102]=[t("svg",{class:"w-4 h-4 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])]),Z.value?(r(),a("div",Jt,[...e[104]||(e[104]=[P('<p class="font-semibold mb-2">RMA Activity Status Guide:</p><ul class="space-y-1 ml-4 list-disc"><li><strong>Permitted:</strong> Allowed without consent (no application needed)</li><li><strong>Controlled:</strong> Consent must be granted; council sets conditions</li><li><strong>Restricted Discretionary:</strong> Council has limited grounds to decline</li><li><strong>Discretionary:</strong> Council has full discretion to grant or decline</li><li><strong>Non-Complying:</strong> Does not comply with plan; requires special justification</li><li><strong>Prohibited:</strong> Cannot be consented under any circumstances</li></ul><p class="mt-2 text-xs text-blue-700">Check your district plan zone rules to determine status</p>',3)])])):p("",!0),n(t("select",{"onUpdate:modelValue":e[15]||(e[15]=s=>o.value.activity_status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...e[105]||(e[105]=[P('<option value="">Select activity status</option><option value="Controlled">Controlled</option><option value="Restricted Discretionary">Restricted Discretionary</option><option value="Discretionary">Discretionary</option><option value="Non-Complying">Non-Complying</option><option value="Permitted Boundary Activity">Permitted Boundary Activity</option>',6)])],512),[[S,o.value.activity_status]]),e[106]||(e[106]=t("p",{class:"mt-1 text-xs text-gray-500"},"Activity classification under district plan",-1)),ne.value?(r(),a("div",Gt,u(ne.value),1)):p("",!0)])]),o.value.activity_status==="Permitted Boundary Activity"?(r(),a("div",Xt,[e[112]||(e[112]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Permitted Boundary Activity (RMA s87BA)",-1)),e[113]||(e[113]=t("p",{class:"text-xs text-gray-500 mb-4"},"This is a special consent type for boundary infringements under section 87BA of the Resource Management Act",-1)),t("div",Yt,[t("div",null,[e[107]||(e[107]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Boundary Description",-1)),n(t("input",{"onUpdate:modelValue":e[16]||(e[16]=s=>o.value.boundary_description=s),type:"text",placeholder:"e.g., Side boundary with 123 Main Street",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[d,o.value.boundary_description]])]),t("div",null,[e[108]||(e[108]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Description of Boundary Activity",-1)),n(t("textarea",{"onUpdate:modelValue":e[17]||(e[17]=s=>o.value.boundary_activity_description=s),rows:"3",placeholder:"Describe how the activity infringes the boundary setback requirements...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[d,o.value.boundary_activity_description]])]),t("div",Qt,[t("div",null,[t("div",Kt,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=s=>o.value.boundary_owner_approval_obtained=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,o.value.boundary_owner_approval_obtained]]),e[109]||(e[109]=t("label",{class:"ml-3 text-xs font-medium text-gray-700"}," Affected boundary owner approval obtained ",-1))])]),o.value.boundary_owner_approval_obtained?(r(),a("div",Zt,[e[110]||(e[110]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Date",-1)),n(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>o.value.boundary_approval_date=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[d,o.value.boundary_approval_date]])])):p("",!0)]),o.value.boundary_owner_approval_obtained?(r(),a("div",es,[e[111]||(e[111]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Documentation",-1)),t("input",{type:"file",onChange:we,accept:".pdf,.doc,.docx,.jpg,.png",class:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"},null,32),o.value.boundary_approval_document?(r(),a("p",ts," ✓ Document uploaded ")):p("",!0)])):p("",!0)])])):p("",!0),t("div",ss,[e[126]||(e[126]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Proposal Details",-1)),e[127]||(e[127]=t("p",{class:"text-xs text-gray-500 mb-4"},"Provide details about your proposed development (all fields optional)",-1)),t("div",os,[e[116]||(e[116]=t("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Building/Structure Dimensions",-1)),t("div",ls,[t("div",null,[e[114]||(e[114]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Building Height (metres)",-1)),n(t("input",{"onUpdate:modelValue":e[20]||(e[20]=s=>o.value.building_height=s),type:"number",placeholder:"e.g., 8.5",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.building_height]])]),t("div",null,[e[115]||(e[115]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Total Floor Area (m²)",-1)),n(t("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>o.value.building_floor_area=s),type:"number",placeholder:"e.g., 250",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.building_floor_area]])])])]),t("div",rs,[e[119]||(e[119]=t("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Earthworks",-1)),t("div",ns,[t("div",null,[e[117]||(e[117]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Earthworks Volume (m³)",-1)),n(t("input",{"onUpdate:modelValue":e[22]||(e[22]=s=>o.value.earthworks_volume=s),type:"number",placeholder:"e.g., 150",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.earthworks_volume]])]),t("div",null,[e[118]||(e[118]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Maximum Vertical Alteration (metres)",-1)),n(t("input",{"onUpdate:modelValue":e[23]||(e[23]=s=>o.value.earthworks_vertical_alteration=s),type:"number",placeholder:"e.g., 2.5",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.earthworks_vertical_alteration]])])])]),t("div",as,[t("div",null,[e[122]||(e[122]=t("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Traffic & Parking",-1)),t("div",is,[t("div",null,[e[120]||(e[120]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Additional Vehicle Movements/Day",-1)),n(t("input",{"onUpdate:modelValue":e[24]||(e[24]=s=>o.value.vehicle_movements_daily=s),type:"number",placeholder:"e.g., 20",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.vehicle_movements_daily]])]),t("div",null,[e[121]||(e[121]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Parking Spaces Provided",-1)),n(t("input",{"onUpdate:modelValue":e[25]||(e[25]=s=>o.value.parking_spaces_provided=s),type:"number",placeholder:"e.g., 4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.parking_spaces_provided]])])])]),t("div",null,[e[125]||(e[125]=t("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Operations",-1)),t("div",ds,[t("div",null,[e[123]||(e[123]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Hours of Operation",-1)),n(t("input",{"onUpdate:modelValue":e[26]||(e[26]=s=>o.value.hours_of_operation=s),type:"text",placeholder:"e.g., Mon-Fri 8am-6pm",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.hours_of_operation]])]),t("div",null,[e[124]||(e[124]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Consent Term Requested",-1)),n(t("input",{"onUpdate:modelValue":e[27]||(e[27]=s=>o.value.consent_term_requested=s),type:"text",placeholder:"e.g., 5 years, Unlimited",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.consent_term_requested]])])])])])]),t("div",us,[e[139]||(e[139]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Site & Environment",-1)),e[140]||(e[140]=t("p",{class:"text-xs text-gray-500 mb-4"},"Describe existing site conditions and environmental features (all fields optional)",-1)),t("div",ps,[t("div",null,[e[128]||(e[128]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Site Topography",-1)),n(t("textarea",{"onUpdate:modelValue":e[28]||(e[28]=s=>o.value.site_topography=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Generally flat with gentle slope to north, approximately 10m elevation..."},null,512),[[d,o.value.site_topography]])]),t("div",null,[e[129]||(e[129]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Existing Vegetation",-1)),n(t("textarea",{"onUpdate:modelValue":e[29]||(e[29]=s=>o.value.existing_vegetation_description=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe existing trees, shrubs, native vegetation, notable specimens..."},null,512),[[d,o.value.existing_vegetation_description]])]),t("div",ms,[t("div",null,[t("div",cs,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[30]||(e[30]=s=>o.value.watercourses_present=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,o.value.watercourses_present]]),e[130]||(e[130]=t("label",{class:"ml-3 text-xs font-medium text-gray-700"}," Watercourses/Wetlands Present on Site ",-1))]),o.value.watercourses_present?(r(),a("div",bs,[n(t("textarea",{"onUpdate:modelValue":e[31]||(e[31]=s=>o.value.watercourse_description=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe watercourses, streams, wetlands..."},null,512),[[d,o.value.watercourse_description]])])):p("",!0)]),t("div",null,[e[132]||(e[132]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"HAIL Contamination Status",-1)),n(t("select",{"onUpdate:modelValue":e[32]||(e[32]=s=>o.value.contamination_status_hail=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"},[...e[131]||(e[131]=[P('<option value="">Select contamination status</option><option value="Not Assessed">Not Assessed</option><option value="Not HAIL">Not HAIL (Hazardous Activities and Industries List)</option><option value="HAIL - Not Investigated">HAIL - Not Investigated</option><option value="HAIL - Investigated (Clean)">HAIL - Investigated (Clean)</option><option value="HAIL - Contaminated">HAIL - Contaminated</option>',6)])],512),[[S,o.value.contamination_status_hail]])])]),t("div",gs,[e[136]||(e[136]=t("h4",{class:"text-sm font-semibold text-blue-900 mb-3"},"Natural Hazards Assessment (RMA s104)",-1)),e[137]||(e[137]=t("p",{class:"text-xs text-blue-700 mb-3"},"Indicate which natural hazards are present on or near the site",-1)),t("div",vs,[(r(),a(A,null,C(fe,s=>t("div",{key:s,class:"flex items-center"},[n(t("input",{type:"checkbox",id:"hazard-"+s,value:s,"onUpdate:modelValue":e[33]||(e[33]=i=>I.value=i),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,fs),[[w,I.value]]),t("label",{for:"hazard-"+s,class:"ml-2 text-sm text-gray-700"},u(s),9,ys)])),64))]),I.value.length>0?(r(),a("div",xs,[(r(!0),a(A,null,C(I.value,s=>(r(),a("div",{key:s,class:"mb-4 last:mb-0"},[t("h5",ks,u(s),1),t("div",ws,[t("div",null,[e[134]||(e[134]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Risk Level",-1)),n(t("select",{"onUpdate:modelValue":i=>D(s).risk_level=i,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...e[133]||(e[133]=[P('<option value="">Select risk level</option><option value="Low">Low</option><option value="Medium">Medium</option><option value="High">High</option><option value="Extreme">Extreme</option>',5)])],8,hs),[[S,D(s).risk_level]])]),t("div",_s,[t("div",As,[n(t("input",{type:"checkbox",id:"mitigation-"+s,"onUpdate:modelValue":i=>D(s).mitigation_required=i,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Cs),[[w,D(s).mitigation_required]]),t("label",{for:"mitigation-"+s,class:"ml-2 text-xs text-gray-700"},"Mitigation Required",8,Ss)])])]),t("div",Ps,[e[135]||(e[135]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Assessment Notes",-1)),n(t("textarea",{"onUpdate:modelValue":i=>D(s).assessment_notes=i,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Describe the hazard and its potential impact..."},null,8,Vs),[[d,D(s).assessment_notes]])])]))),128))])):p("",!0)]),t("div",null,[e[138]||(e[138]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Existing Infrastructure",-1)),n(t("textarea",{"onUpdate:modelValue":e[34]||(e[34]=s=>o.value.existing_infrastructure=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Wastewater, stormwater, electricity connections..."},null,512),[[d,o.value.existing_infrastructure]])])])]),t("div",Ms,[e[144]||(e[144]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"National Environmental Standards (NES) Assessment",-1)),e[145]||(e[145]=t("p",{class:"text-xs text-gray-500 mb-4"},"Indicate which National Environmental Standards apply to this proposal",-1)),t("div",Us,[(r(),a(A,null,C(re,s=>t("div",{key:s.value,class:"border border-gray-200 rounded-lg p-3 bg-gray-50"},[t("div",qs,[n(t("input",{type:"checkbox",id:"nes-"+s.value,"onUpdate:modelValue":i=>U(s.value).applies=i,class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Rs),[[w,U(s.value).applies]]),t("label",{for:"nes-"+s.value,class:"ml-3 text-sm font-medium text-gray-900"},u(s.label),9,Ds)]),U(s.value).applies?(r(),a("div",js,[t("div",null,[e[142]||(e[142]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Compliance Status",-1)),n(t("select",{"onUpdate:modelValue":i=>U(s.value).compliance_status=i,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...e[141]||(e[141]=[t("option",{value:""},"Select compliance status",-1),t("option",{value:"Permitted Activity"},"Permitted Activity",-1),t("option",{value:"Requires Consent"},"Requires Consent",-1),t("option",{value:"Non-Complying Activity"},"Non-Complying Activity",-1)])],8,Ns),[[S,U(s.value).compliance_status]])]),t("div",null,[e[143]||(e[143]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Assessment Notes",-1)),n(t("textarea",{"onUpdate:modelValue":i=>U(s.value).assessment_notes=i,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Provide details on how the NES applies..."},null,8,Es),[[d,U(s.value).assessment_notes]])])])):p("",!0)])),64))])]),ye.value?(r(),a("div",Bs,[e[153]||(e[153]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"HAIL Activities (Hazardous Activities and Industries List)",-1)),e[154]||(e[154]=t("p",{class:"text-xs text-gray-500 mb-4"},"For sites with potential soil contamination under the NES for Assessing and Managing Contaminants in Soil",-1)),t("div",{class:"flex items-center justify-between mb-3"},[e[146]||(e[146]=t("p",{class:"text-xs text-gray-600"},"List any HAIL activities on the site (past, current, or likely)",-1)),t("button",{onClick:xe,type:"button",class:"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200"}," + Add HAIL Activity ")]),o.value.hail_activities.length>0?(r(),a("div",Is,[(r(!0),a(A,null,C(o.value.hail_activities,(s,i)=>(r(),a("div",{key:i,class:"border border-gray-300 rounded-lg p-4 bg-white"},[t("div",Fs,[t("h4",Ls,"HAIL Activity #"+u(i+1),1),t("button",{onClick:b=>ke(i),type:"button",class:"text-red-600 hover:text-red-800"},[...e[147]||(e[147]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ts)]),t("div",Hs,[t("div",null,[e[148]||(e[148]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Activity Description *",-1)),n(t("textarea",{"onUpdate:modelValue":b=>s.activity_description=b,rows:"2",required:"",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Describe the HAIL activity (e.g., Former service station, industrial site)..."},null,8,zs),[[d,s.activity_description]])]),t("div",Os,[t("div",$s,[n(t("input",{type:"checkbox",id:"hail-current-"+i,"onUpdate:modelValue":b=>s.currently_undertaken=b,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ws),[[w,s.currently_undertaken]]),t("label",{for:"hail-current-"+i,class:"ml-2 text-xs text-gray-700"},"Currently Being Undertaken",8,Js)]),t("div",Gs,[n(t("input",{type:"checkbox",id:"hail-previous-"+i,"onUpdate:modelValue":b=>s.previously_undertaken=b,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Xs),[[w,s.previously_undertaken]]),t("label",{for:"hail-previous-"+i,class:"ml-2 text-xs text-gray-700"},"Previously Undertaken",8,Ys)]),t("div",Qs,[n(t("input",{type:"checkbox",id:"hail-likely-"+i,"onUpdate:modelValue":b=>s.likely_undertaken=b,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ks),[[w,s.likely_undertaken]]),t("label",{for:"hail-likely-"+i,class:"ml-2 text-xs text-gray-700"},"Likely to Have Been Undertaken",8,Zs)])]),t("div",eo,[n(t("input",{type:"checkbox",id:"hail-investigated-"+i,"onUpdate:modelValue":b=>s.preliminary_investigation_done=b,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,to),[[w,s.preliminary_investigation_done]]),t("label",{for:"hail-investigated-"+i,class:"ml-2 text-xs text-gray-700"},"Preliminary Investigation Completed",8,so)]),t("div",null,[e[150]||(e[150]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Proposed Activity",-1)),n(t("select",{"onUpdate:modelValue":b=>s.proposed_activity=b,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm"},[...e[149]||(e[149]=[P('<option value="">Select proposed activity</option><option value="Removing or replacing fuel storage system">Removing or replacing fuel storage system</option><option value="Disturbing soil">Disturbing soil</option><option value="Sampling soil">Sampling soil</option><option value="Subdividing land">Subdividing land</option><option value="Changing use of land">Changing use of land</option>',6)])],8,oo),[[S,s.proposed_activity]])]),t("div",null,[e[151]||(e[151]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Notes",-1)),n(t("textarea",{"onUpdate:modelValue":b=>s.notes=b,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Additional notes about the HAIL activity..."},null,8,lo),[[d,s.notes]])])])]))),128))])):(r(),a("div",ro,[...e[152]||(e[152]=[t("p",{class:"text-sm text-gray-500"},"No HAIL activities added yet",-1),t("p",{class:"text-xs text-gray-400 mt-1"},'Click "Add HAIL Activity" to document contaminated land activities',-1)])]))])):p("",!0),t("div",no,[e[155]||(e[155]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Assessment of Environmental Effects (AEE) * ",-1)),n(t("textarea",{"onUpdate:modelValue":e[35]||(e[35]=s=>o.value.assessment_of_effects=s),rows:"8",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the actual and potential effects on the environment as per Schedule 4 of the RMA. Include effects on people, physical environment, ecosystems, and cultural/heritage values...",required:""},null,512),[[d,o.value.assessment_of_effects]]),e[156]||(e[156]=t("p",{class:"mt-1 text-xs text-gray-500"},"Required under Schedule 4 of the Resource Management Act",-1))]),t("div",ao,[e[164]||(e[164]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Detailed Effects Assessment (Optional)",-1)),e[165]||(e[165]=t("p",{class:"text-xs text-gray-500 mb-4"},"Break down your AEE into specific effect categories for a more comprehensive assessment",-1)),t("div",io,[t("div",null,[e[157]||(e[157]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Effects on People",-1)),n(t("textarea",{"onUpdate:modelValue":e[36]||(e[36]=s=>o.value.effects_on_people=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Privacy, sunlight access, visual amenity, noise impacts..."},null,512),[[d,o.value.effects_on_people]])]),t("div",null,[e[158]||(e[158]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Physical Effects",-1)),n(t("textarea",{"onUpdate:modelValue":e[37]||(e[37]=s=>o.value.physical_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Traffic, parking, stormwater, infrastructure impacts..."},null,512),[[d,o.value.physical_effects]])]),t("div",null,[e[159]||(e[159]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Earthworks Effects",-1)),n(t("textarea",{"onUpdate:modelValue":e[38]||(e[38]=s=>o.value.earthworks_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Soil disturbance, erosion, sediment control, slope stability, construction impacts..."},null,512),[[d,o.value.earthworks_effects]])]),t("div",null,[e[160]||(e[160]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Discharge/Contaminants Effects",-1)),n(t("textarea",{"onUpdate:modelValue":e[39]||(e[39]=s=>o.value.discharge_contaminants_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Stormwater discharge, wastewater, air quality, dust, odour, contaminant management..."},null,512),[[d,o.value.discharge_contaminants_effects]])]),t("div",null,[e[161]||(e[161]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Ecosystem Effects",-1)),n(t("textarea",{"onUpdate:modelValue":e[40]||(e[40]=s=>o.value.ecosystem_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Indigenous vegetation, habitat values, watercourses, biodiversity..."},null,512),[[d,o.value.ecosystem_effects]])]),t("div",null,[e[162]||(e[162]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Hazard Risk Assessment",-1)),n(t("textarea",{"onUpdate:modelValue":e[41]||(e[41]=s=>o.value.hazard_risk_assessment=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Flood risk, liquefaction, slope instability, coastal hazards, seismic risk..."},null,512),[[d,o.value.hazard_risk_assessment]])]),t("div",null,[e[163]||(e[163]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Cultural/Heritage Effects",-1)),n(t("textarea",{"onUpdate:modelValue":e[42]||(e[42]=s=>o.value.cultural_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Heritage values, sites of significance to Māori, archaeological sites..."},null,512),[[d,o.value.cultural_effects]])])])]),t("div",null,[e[166]||(e[166]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Planning Assessment * ",-1)),n(t("textarea",{"onUpdate:modelValue":e[43]||(e[43]=s=>o.value.planning_assessment=s),rows:"6",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Assess the proposal against relevant district plan provisions, objectives and policies. Address how the proposal aligns with planning framework...",required:""},null,512),[[d,o.value.planning_assessment]]),e[167]||(e[167]=t("p",{class:"mt-1 text-xs text-gray-500"},"Assessment against district plan objectives and policies",-1))]),t("div",uo,[t("div",null,[e[168]||(e[168]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Alternatives Considered ",-1)),n(t("textarea",{"onUpdate:modelValue":e[44]||(e[44]=s=>o.value.alternatives_considered=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"What alternative designs, locations, or methods were considered?..."},null,512),[[d,o.value.alternatives_considered]])]),t("div",null,[e[169]||(e[169]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Mitigation Measures ",-1)),n(t("textarea",{"onUpdate:modelValue":e[45]||(e[45]=s=>o.value.mitigation_proposed=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"What measures will be implemented to avoid, remedy or mitigate adverse effects?..."},null,512),[[d,o.value.mitigation_proposed]])])]),t("div",po,[t("div",mo,[e[172]||(e[172]=t("h3",{class:"text-sm font-semibold text-gray-900"},"Affected Parties",-1)),N(k(R),{onClick:Ie,variant:"outline",theme:"blue",size:"sm"},{prefix:y(()=>[...e[170]||(e[170]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:y(()=>[e[171]||(e[171]=g(" Add Party ",-1))]),_:1})]),e[181]||(e[181]=t("p",{class:"text-xs text-gray-500 mb-3"}," List any parties (neighbors, landowners, etc.) who may be adversely affected by the proposal ",-1)),o.value.affected_parties.length>0?(r(),a("div",co,[(r(!0),a(A,null,C(o.value.affected_parties,(s,i)=>(r(),a("div",{key:i,class:"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[t("div",bo,[t("div",go,[t("div",vo,[t("h4",fo,u(s.party_name),1),t("span",yo,u(s.relationship),1)]),t("div",xo,[s.property_address?(r(),a("div",ko,[e[173]||(e[173]=t("svg",{class:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),t("span",null,u(s.property_address),1)])):p("",!0),s.email?(r(),a("div",wo,[e[174]||(e[174]=t("svg",{class:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),t("a",{href:"mailto:"+s.email,class:"text-blue-600 hover:underline"},u(s.email),9,ho)])):p("",!0),s.phone?(r(),a("div",_o,[e[175]||(e[175]=t("svg",{class:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),t("a",{href:"tel:"+s.phone,class:"text-blue-600 hover:underline"},u(s.phone),9,Ao)])):p("",!0),s.postal_address?(r(),a("div",Co,[e[176]||(e[176]=t("svg",{class:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"})],-1)),t("span",null,"Postal: "+u(s.postal_address),1)])):p("",!0)]),s.approval_obtained?(r(),a("div",So,[e[177]||(e[177]=t("span",{class:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded"},[t("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),g(" Written approval obtained ")],-1)),s.approval_date?(r(),a("span",Po,u(s.approval_date),1)):p("",!0)])):p("",!0),s.comments?(r(),a("p",Vo,u(s.comments),1)):p("",!0)]),t("div",Mo,[t("button",{onClick:b=>Fe(i),class:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit party"},[...e[178]||(e[178]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Uo),t("button",{onClick:b=>Te(i),class:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove party"},[...e[179]||(e[179]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,qo)])])]))),128))])):(r(),a("div",Ro,[...e[180]||(e[180]=[t("p",{class:"text-sm text-gray-500"},"No affected parties added yet",-1)])])),e[182]||(e[182]=P('<div class="mt-4 p-3 bg-green-50 border border-green-200 rounded-lg"><div class="flex items-start gap-2"><svg class="w-5 h-5 text-green-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h4 class="text-sm font-semibold text-green-900">Treaty of Waitangi Obligations</h4><p class="text-xs text-green-700 mt-1"> To record iwi/hapū consultation, add them as affected parties above using the relationship type &quot;Iwi&quot;. Include their response in the comments field. Upload any Cultural Impact Assessment (CIA) as a specialist report. </p></div></div></div>',1))]),t("div",Do,[t("div",jo,[e[185]||(e[185]=t("h3",{class:"text-sm font-semibold text-gray-900"},"Specialist Reports",-1)),N(k(R),{onClick:ze,variant:"outline",theme:"blue",size:"sm"},{prefix:y(()=>[...e[183]||(e[183]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:y(()=>[e[184]||(e[184]=g(" Add Report ",-1))]),_:1})]),e[193]||(e[193]=t("p",{class:"text-xs text-gray-500 mb-3"}," Add any specialist technical reports (traffic, geotechnical, acoustic, ecological, etc.) ",-1)),o.value.specialist_reports.length>0?(r(),a("div",No,[(r(!0),a(A,null,C(o.value.specialist_reports,(s,i)=>(r(),a("div",{key:i,class:"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[t("div",Eo,[t("div",Bo,[e[186]||(e[186]=t("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("h4",Io,u(s.report_type),1)]),t("span",Fo,u(s.report_date),1)]),t("div",Lo,[t("div",To,[e[187]||(e[187]=t("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),t("span",Ho,u(s.specialist_name),1),s.specialist_company?(r(),a("span",zo,"• "+u(s.specialist_company),1)):p("",!0)]),s.document?(r(),a("div",Oo,[e[188]||(e[188]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),t("span",null,u(typeof s.document=="object"?s.document.name:"Document attached"),1)])):p("",!0),s.summary?(r(),a("div",$o,[e[189]||(e[189]=t("span",{class:"font-medium"},"Summary: ",-1)),g(u(s.summary),1)])):p("",!0)]),t("div",Wo,[t("button",{onClick:b=>Oe(i),class:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded transition-colors"},[...e[190]||(e[190]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),g(" Edit ",-1)])],8,Jo),t("button",{onClick:b=>We(i),class:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded transition-colors"},[...e[191]||(e[191]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),g(" Remove ",-1)])],8,Go)])]))),128))])):(r(),a("div",Xo,[...e[192]||(e[192]=[t("p",{class:"text-sm text-gray-500"},"No specialist reports added yet",-1),t("p",{class:"text-xs text-gray-400 mt-1"},"Upload report files in the Documents step",-1)])]))]),t("div",null,[e[194]||(e[194]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Proposed Conditions (Optional) ",-1)),n(t("textarea",{"onUpdate:modelValue":e[46]||(e[46]=s=>o.value.proposed_conditions=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"If you wish to propose specific conditions of consent, list them here..."},null,512),[[d,o.value.proposed_conditions]]),e[195]||(e[195]=t("p",{class:"mt-1 text-xs text-gray-500"},"The council will determine final consent conditions",-1))]),t("div",Yo,[e[200]||(e[200]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Confidential Information (RMA s42)",-1)),e[201]||(e[201]=t("p",{class:"text-xs text-gray-500 mb-4"},"Under section 42 of the RMA, you may request that certain information be kept confidential if it contains trade secrets or is commercially sensitive",-1)),t("div",Qo,[t("div",Ko,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[47]||(e[47]=s=>o.value.confidential_information_claimed=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,o.value.confidential_information_claimed]]),e[196]||(e[196]=t("label",{class:"ml-3 text-sm font-medium text-gray-700"}," This application contains confidential information that should be withheld from public notification ",-1))]),o.value.confidential_information_claimed?(r(),a("div",Zo,[e[197]||(e[197]=t("label",{class:"block text-sm font-medium text-gray-900 mb-2"}," Justification for Confidentiality * ",-1)),e[198]||(e[198]=t("p",{class:"text-xs text-gray-600 mb-3"}," Explain why this information should be withheld under s42 of the RMA. You must demonstrate that the information is a trade secret or that making it public would unreasonably prejudice your commercial position. ",-1)),n(t("textarea",{"onUpdate:modelValue":e[48]||(e[48]=s=>o.value.confidential_information_reason=s),rows:"4",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white",placeholder:"Provide detailed justification for why this information should be kept confidential. Include references to specific documents or sections that contain confidential material..."},null,512),[[d,o.value.confidential_information_reason]]),e[199]||(e[199]=t("p",{class:"mt-2 text-xs text-yellow-700"}," ⚠ Note: The consent authority will determine whether your justification meets the requirements of s42. Confidentiality is not guaranteed. ",-1))])):p("",!0)])]),t("div",el,[t("div",tl,[t("div",sl,[e[208]||(e[208]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t("div",ol,[e[204]||(e[204]=t("h3",{class:"text-sm font-semibold text-blue-900 mb-2"}," Need Help with Your Application? ",-1)),e[205]||(e[205]=t("p",{class:"text-sm text-blue-800 mb-3"},[g(" For "),t("strong",null,"discretionary"),g(" or "),t("strong",null,"non-complying"),g(" activities, we recommend booking a pre-application meeting with our planning team. This can help: ")],-1)),e[206]||(e[206]=t("ul",{class:"text-sm text-blue-800 space-y-1 ml-4 list-disc mb-4"},[t("li",null,"Clarify district plan requirements"),t("li",null,"Identify potential issues early"),t("li",null,"Understand what information you'll need"),t("li",null,"Get preliminary feedback on your proposal")],-1)),N(k(R),{onClick:Xe,variant:"solid",theme:"blue",size:"sm",loading:M.value},{prefix:y(()=>[...e[202]||(e[202]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:y(()=>[e[203]||(e[203]=g(" Request Pre-Application Meeting ",-1))]),_:1},8,["loading"]),e[207]||(e[207]=t("p",{class:"text-xs text-blue-700 mt-2"}," A planning officer will contact you within 2 business days to schedule. ",-1))])])])])])])):p("",!0),m.value===(F.value?5:4)?(r(),a("div",ll,[e[218]||(e[218]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Upload Documents",-1)),e[219]||(e[219]=t("p",{class:"text-gray-600 mb-8"},"Attach all required supporting documents",-1)),t("div",rl,[t("div",nl,[e[212]||(e[212]=t("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),e[213]||(e[213]=t("p",{class:"text-gray-600 mb-2"},"Drag and drop files here, or click to browse",-1)),e[214]||(e[214]=t("p",{class:"text-xs text-gray-500"},"PDF, DOC, DOCX, JPG, PNG (Max 10MB per file)",-1)),N(k(R),{onClick:qe,variant:"outline",theme:"blue",class:"mt-4"},{default:y(()=>[...e[211]||(e[211]=[g(" Select Files ",-1)])]),_:1}),t("input",{type:"file",ref_key:"fileInput",ref:B,multiple:"",class:"hidden",onChange:Re},null,544)]),h.value.length>0?(r(),a("div",al,[t("h4",il,"Uploaded Documents ("+u(h.value.length)+")",1),(r(!0),a(A,null,C(h.value,(s,i)=>(r(),a("div",{key:i,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200"},[t("div",dl,[e[215]||(e[215]=t("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("div",null,[t("p",ul,u(s.name),1),t("p",pl,u(je(s.size)),1)])]),t("button",{onClick:b=>De(i),class:"text-red-600 hover:text-red-800"},[...e[216]||(e[216]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ml)]))),128))])):p("",!0),e[217]||(e[217]=P('<div class="bg-blue-50 border border-blue-200 rounded-lg p-6"><h4 class="font-medium text-blue-900 mb-3">Required Documents</h4><ul class="space-y-2 text-sm text-blue-800"><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Site plans and location maps </li><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Architectural drawings and specifications </li><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Assessment of Environmental Effects (AEE) </li><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Written approvals from affected parties (if required) </li></ul></div>',1))])])):p("",!0),m.value===(F.value?6:5)?(r(),a("div",cl,[e[235]||(e[235]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Review & Submit",-1)),e[236]||(e[236]=t("p",{class:"text-gray-600 mb-8"},"Please review your application before submission",-1)),t("div",bl,[t("div",gl,[e[225]||(e[225]=t("h3",{class:"font-semibold text-gray-900 mb-4"},"Application Summary",-1)),t("dl",vl,[t("div",null,[e[220]||(e[220]=t("dt",{class:"text-gray-600"},"Application Type",-1)),t("dd",fl,u(Ne()),1)]),t("div",null,[e[221]||(e[221]=t("dt",{class:"text-gray-600"},"Property Address",-1)),t("dd",yl,u(o.value.property_address||"N/A"),1)]),t("div",null,[e[222]||(e[222]=t("dt",{class:"text-gray-600"},"Brief Description",-1)),t("dd",xl,u(o.value.brief_description||"N/A"),1)]),t("div",null,[e[223]||(e[223]=t("dt",{class:"text-gray-600"},"Estimated Value",-1)),t("dd",kl,u(o.value.estimated_value?`$${o.value.estimated_value}`:"N/A"),1)]),t("div",null,[e[224]||(e[224]=t("dt",{class:"text-gray-600"},"Documents Uploaded",-1)),t("dd",wl,u(h.value.length)+" files",1)])])]),t("div",hl,[t("div",_l,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[49]||(e[49]=s=>o.value.terms_accepted=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,o.value.terms_accepted]]),e[226]||(e[226]=t("label",{class:"ml-3 text-sm text-gray-700"},[g(" I confirm that the information provided in this application is true and accurate to the best of my knowledge. I understand that providing false or misleading information may result in the application being declined or consent being revoked. I have read and agree to the "),t("a",{href:"#",class:"text-blue-600 hover:text-blue-800"},"terms and conditions"),g(". ")],-1))])]),t("div",Al,[e[229]||(e[229]=t("h4",{class:"font-medium text-blue-900 mb-3"},"Fee Summary",-1)),t("div",Cl,[t("div",Sl,[e[227]||(e[227]=t("span",{class:"text-blue-800"},"Application Fee",-1)),t("span",Pl,u(ue()),1)]),t("div",Vl,[e[228]||(e[228]=t("span",{class:"font-medium text-blue-900"},"Total Due",-1)),t("span",Ml,u(ue()),1)])]),e[230]||(e[230]=t("p",{class:"text-xs text-blue-700 mt-3"}," Payment will be processed after submission. You will receive an invoice via email. ",-1))]),F.value?(r(),a("div",Ul,[e[233]||(e[233]=t("h4",{class:"font-medium text-green-900 mb-2"},"Pre-Application Meeting",-1)),e[234]||(e[234]=t("p",{class:"text-sm text-green-700 mb-4"}," For Resource Consent applications, we strongly recommend booking a pre-application meeting with our planning team. This helps ensure your application meets all requirements and can speed up the approval process. ",-1)),N(k(R),{onClick:Be,variant:"solid",theme:"green",loading:_.value},{prefix:y(()=>[...e[231]||(e[231]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:y(()=>[e[232]||(e[232]=g(" Book Pre-Application Meeting ",-1))]),_:1},8,["loading"])])):p("",!0)])])):p("",!0),t("div",ql,[m.value>1?(r(),le(k(R),{key:0,onClick:Ue,variant:"outline",theme:"gray"},{prefix:y(()=>[...e[237]||(e[237]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),default:y(()=>[e[238]||(e[238]=g(" Previous ",-1))]),_:1})):(r(),a("div",Rl)),t("div",Dl,[m.value<H.value?(r(),le(k(R),{key:0,onClick:Me,variant:"solid",theme:"blue",disabled:!ie()},{suffix:y(()=>[...e[239]||(e[239]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),default:y(()=>[e[240]||(e[240]=g(" Next ",-1))]),_:1},8,["disabled"])):Ae.value?(r(),le(k(R),{key:1,onClick:Ee,variant:"solid",theme:"blue",loading:z.value,disabled:!o.value.terms_accepted},{default:y(()=>[...e[241]||(e[241]=[g(" Submit Application ",-1)])]),_:1},8,["loading","disabled"])):(r(),a("div",jl," Make changes to your application to enable submission "))])])])]),$.value?(r(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:ce(ee,["self"])},[t("div",Nl,[t("div",El,[t("div",Bl,[t("h3",Il,u(L.value!==null?"Edit":"Add")+" Affected Party ",1),t("button",{onClick:ee,class:"text-gray-400 hover:text-gray-600"},[...e[242]||(e[242]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",Fl,[t("div",null,[e[243]||(e[243]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Party Name "),t("span",{class:"text-red-500"},"*")],-1)),n(t("input",{"onUpdate:modelValue":e[50]||(e[50]=s=>c.value.party_name=s),type:"text",required:"",placeholder:"e.g., John Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,c.value.party_name]])]),t("div",null,[e[245]||(e[245]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Relationship "),t("span",{class:"text-red-500"},"*")],-1)),n(t("select",{"onUpdate:modelValue":e[51]||(e[51]=s=>c.value.relationship=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...e[244]||(e[244]=[P('<option value="">Select relationship</option><option value="Adjacent Property Owner">Adjacent Property Owner</option><option value="Neighbor">Neighbor</option><option value="Iwi">Iwi</option><option value="Infrastructure Provider">Infrastructure Provider</option><option value="Other">Other</option>',6)])],512),[[S,c.value.relationship]])]),t("div",Ll,[e[248]||(e[248]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Contact Information",-1)),t("div",Tl,[t("div",null,[e[246]||(e[246]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Email",-1)),n(t("input",{"onUpdate:modelValue":e[52]||(e[52]=s=>c.value.email=s),type:"email",placeholder:"email@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[d,c.value.email]])]),t("div",null,[e[247]||(e[247]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Phone",-1)),n(t("input",{"onUpdate:modelValue":e[53]||(e[53]=s=>c.value.phone=s),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[d,c.value.phone]])])])]),t("div",Hl,[e[253]||(e[253]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Addresses",-1)),t("div",zl,[t("div",null,[e[249]||(e[249]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Property Address",-1)),n(t("textarea",{"onUpdate:modelValue":e[54]||(e[54]=s=>c.value.property_address=s),rows:"2",placeholder:"123 Main Street, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[d,c.value.property_address]]),e[250]||(e[250]=t("p",{class:"mt-1 text-xs text-gray-500"},"The property address affected by this proposal",-1))]),t("div",null,[e[251]||(e[251]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Postal Address",-1)),n(t("textarea",{"onUpdate:modelValue":e[55]||(e[55]=s=>c.value.postal_address=s),rows:"2",placeholder:"PO Box 123, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[d,c.value.postal_address]]),e[252]||(e[252]=t("p",{class:"mt-1 text-xs text-gray-500"},"For correspondence (if different from property address)",-1))])])]),t("div",Ol,[e[259]||(e[259]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Written Approval",-1)),t("div",$l,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[56]||(e[56]=s=>c.value.approval_obtained=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,c.value.approval_obtained]]),e[254]||(e[254]=t("label",{class:"ml-3 text-sm text-gray-700"}," Written approval obtained from this party ",-1))]),c.value.approval_obtained?(r(),a("div",Wl,[t("div",null,[e[255]||(e[255]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Date",-1)),n(t("input",{"onUpdate:modelValue":e[57]||(e[57]=s=>c.value.approval_date=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[d,c.value.approval_date]])]),t("div",null,[e[257]||(e[257]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Document",-1)),t("input",{type:"file",onChange:He,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),e[258]||(e[258]=t("p",{class:"mt-1 text-xs text-gray-500"},"Upload written approval (PDF, Word, or image, max 10MB)",-1)),c.value.approval_document?(r(),a("div",Jl,[e[256]||(e[256]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),t("span",null,u(typeof c.value.approval_document=="object"?c.value.approval_document.name:"Document attached"),1)])):p("",!0)])])):p("",!0)]),t("div",null,[e[260]||(e[260]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Comments",-1)),n(t("textarea",{"onUpdate:modelValue":e[58]||(e[58]=s=>c.value.comments=s),rows:"3",placeholder:"Any additional notes about this party or their concerns...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[d,c.value.comments]])])]),t("div",Gl,[t("button",{onClick:ee,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),t("button",{onClick:Le,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},u(L.value!==null?"Update":"Add")+" Party ",1)])])])):p("",!0),W.value?(r(),a("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:ce(te,["self"])},[t("div",Xl,[t("div",Yl,[t("div",Ql,[t("h3",Kl,u(T.value!==null?"Edit":"Add")+" Specialist Report ",1),t("button",{onClick:te,class:"text-gray-400 hover:text-gray-600"},[...e[261]||(e[261]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",Zl,[t("div",null,[e[263]||(e[263]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Report Type "),t("span",{class:"text-red-500"},"*")],-1)),n(t("select",{"onUpdate:modelValue":e[59]||(e[59]=s=>v.value.report_type=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...e[262]||(e[262]=[P('<option value="">Select report type</option><option value="Traffic Impact Assessment">Traffic Impact Assessment</option><option value="Acoustic Assessment">Acoustic Assessment</option><option value="Geotechnical Report">Geotechnical Report</option><option value="Ecological Assessment">Ecological Assessment</option><option value="Archaeological Assessment">Archaeological Assessment</option><option value="Landscape Assessment">Landscape Assessment</option><option value="Contaminated Land Assessment">Contaminated Land Assessment</option><option value="Flood Risk Assessment">Flood Risk Assessment</option><option value="Other">Other</option>',10)])],512),[[S,v.value.report_type]])]),t("div",er,[e[266]||(e[266]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Consultant Details",-1)),t("div",tr,[t("div",null,[e[264]||(e[264]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Specialist Name "),t("span",{class:"text-red-500"},"*")],-1)),n(t("input",{"onUpdate:modelValue":e[60]||(e[60]=s=>v.value.specialist_name=s),type:"text",required:"",placeholder:"e.g., Dr. Jane Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,v.value.specialist_name]])]),t("div",null,[e[265]||(e[265]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Company/Organization",-1)),n(t("input",{"onUpdate:modelValue":e[61]||(e[61]=s=>v.value.specialist_company=s),type:"text",placeholder:"e.g., ABC Consultants Ltd",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,v.value.specialist_company]])])])]),t("div",sr,[e[274]||(e[274]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Report Details",-1)),t("div",or,[t("div",null,[e[267]||(e[267]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Report Date "),t("span",{class:"text-red-500"},"*")],-1)),n(t("input",{"onUpdate:modelValue":e[62]||(e[62]=s=>v.value.report_date=s),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,v.value.report_date]]),e[268]||(e[268]=t("p",{class:"mt-1 text-xs text-gray-500"},"Date the report was prepared or finalized",-1))]),t("div",null,[e[270]||(e[270]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Document "),t("span",{class:"text-red-500"},"*")],-1)),t("input",{type:"file",onChange:Je,accept:".pdf,.doc,.docx",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),e[271]||(e[271]=t("p",{class:"mt-1 text-xs text-gray-500"},"Upload the specialist report (PDF or Word, max 10MB)",-1)),v.value.document?(r(),a("div",lr,[e[269]||(e[269]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),t("span",null,u(typeof v.value.document=="object"?v.value.document.name:"Document attached"),1)])):p("",!0)]),t("div",null,[e[272]||(e[272]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Summary",-1)),n(t("textarea",{"onUpdate:modelValue":e[63]||(e[63]=s=>v.value.summary=s),rows:"4",placeholder:"Brief summary of key findings and recommendations...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[d,v.value.summary]]),e[273]||(e[273]=t("p",{class:"mt-1 text-xs text-gray-500"},"Optional: Provide a brief summary of the report's key findings",-1))])])])]),t("div",rr,[t("button",{onClick:te,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),t("button",{onClick:$e,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},u(T.value!==null?"Update":"Add")+" Report ",1)])])])):p("",!0)]))}};export{ir as default};
//# sourceMappingURL=NewRequest-C05XnDsj.js.map
