{"version":3,"file":"CouncilLandingPage-Dlq4FMEr.js","sources":["../../../../frontend/src/pages/CouncilLandingPage.vue"],"sourcesContent":["<template>\n\t<div class=\"min-h-screen bg-gray-50\">\n\t\t<!-- Loading State -->\n\t\t<div v-if=\"loading\" class=\"flex items-center justify-center min-h-screen\">\n\t\t\t<div class=\"text-center\">\n\t\t\t\t<div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n\t\t\t\t<p class=\"mt-4 text-gray-600\">Loading...</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Error State -->\n\t\t<div v-else-if=\"error\" class=\"container mx-auto px-4 py-16\">\n\t\t\t<div class=\"bg-red-50 border border-red-200 rounded-lg p-6 max-w-2xl mx-auto\">\n\t\t\t\t<h2 class=\"text-2xl font-bold text-red-800 mb-2\">Council Not Found</h2>\n\t\t\t\t<p class=\"text-red-700 mb-4\">{{ error }}</p>\n\t\t\t\t<router-link to=\"/\" class=\"inline-block bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700\">\n\t\t\t\t\tReturn Home\n\t\t\t\t</router-link>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Landing Page Content -->\n\t\t<div v-else>\n\t\t\t<!-- Hero Section -->\n\t\t\t<div\n\t\t\t\tclass=\"hero-section relative bg-gradient-to-r from-blue-600 to-purple-600 text-white\"\n\t\t\t\t:style=\"heroBackgroundStyle\"\n\t\t\t>\n\t\t\t\t<div class=\"absolute inset-0 bg-black bg-opacity-30\"></div>\n\t\t\t\t<div class=\"container mx-auto px-4 py-20 relative z-10\">\n\t\t\t\t\t<div class=\"max-w-4xl mx-auto text-center\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tv-if=\"council.logo\"\n\t\t\t\t\t\t\t:src=\"council.logo\"\n\t\t\t\t\t\t\t:alt=\"council.council_name\"\n\t\t\t\t\t\t\tclass=\"h-24 mx-auto mb-6 drop-shadow-lg\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<h1 class=\"text-5xl font-bold mb-4\">{{ heroTitle }}</h1>\n\t\t\t\t\t\t<p class=\"text-xl mb-8 opacity-90\">{{ landingPage.hero_subtitle }}</p>\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t:to=\"{ name: 'NewRequest', query: { locked: 'true' } }\"\n\t\t\t\t\t\t\tclass=\"inline-block bg-white text-blue-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 transition shadow-lg\"\n\t\t\t\t\t\t\t:style=\"ctaButtonStyle\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ landingPage.primary_cta_text }}\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Introduction Content -->\n\t\t\t<div v-if=\"landingPage.intro_html\" class=\"container mx-auto px-4 py-12\">\n\t\t\t\t<div class=\"max-w-4xl mx-auto prose prose-lg\" v-html=\"landingPage.intro_html\"></div>\n\t\t\t</div>\n\n\t\t\t<!-- Request Type Cards -->\n\t\t\t<div v-if=\"requestTypes.length > 0\" class=\"container mx-auto px-4 py-12\">\n\t\t\t\t<h2 class=\"text-3xl font-bold text-center mb-8 text-gray-900\">Available Services</h2>\n\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"rt in requestTypes\"\n\t\t\t\t\t\t:key=\"rt.name\"\n\t\t\t\t\t\tclass=\"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-lg transition-shadow p-6\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<h3 class=\"text-xl font-semibold mb-2 text-gray-900\">{{ rt.name }}</h3>\n\t\t\t\t\t\t<p class=\"text-sm text-gray-500 mb-3\">{{ rt.category }}</p>\n\t\t\t\t\t\t<p v-if=\"rt.description\" class=\"text-gray-700 mb-4 line-clamp-3\">\n\t\t\t\t\t\t\t{{ rt.description }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div class=\"space-y-1 text-sm text-gray-600 mb-4\">\n\t\t\t\t\t\t\t<div v-if=\"rt.base_fee\" class=\"flex items-center\">\n\t\t\t\t\t\t\t\t<span class=\"font-medium\">Base Fee:</span>\n\t\t\t\t\t\t\t\t<span class=\"ml-2\">${{ rt.base_fee.toFixed(2) }}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if=\"rt.processing_sla_days\" class=\"flex items-center\">\n\t\t\t\t\t\t\t\t<span class=\"font-medium\">Processing Time:</span>\n\t\t\t\t\t\t\t\t<span class=\"ml-2\">{{ rt.processing_sla_days }} days</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t:to=\"{ name: 'NewRequest', query: { locked: 'true', type: rt.name } }\"\n\t\t\t\t\t\t\tclass=\"inline-block w-full text-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStart Application\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Features Section -->\n\t\t\t<div class=\"bg-gray-100 py-16\">\n\t\t\t\t<div class=\"container mx-auto px-4\">\n\t\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t<div class=\"text-5xl mb-4\">‚è±Ô∏è</div>\n\t\t\t\t\t\t\t<h3 class=\"text-xl font-semibold mb-2\">Fast Processing</h3>\n\t\t\t\t\t\t\t<p class=\"text-gray-600\">Track your application online 24/7</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t<div class=\"text-5xl mb-4\">üõ°Ô∏è</div>\n\t\t\t\t\t\t\t<h3 class=\"text-xl font-semibold mb-2\">Secure</h3>\n\t\t\t\t\t\t\t<p class=\"text-gray-600\">Your data is encrypted and protected</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t<div class=\"text-5xl mb-4\">‚úÖ</div>\n\t\t\t\t\t\t\t<h3 class=\"text-xl font-semibold mb-2\">Easy to Use</h3>\n\t\t\t\t\t\t\t<p class=\"text-gray-600\">Step-by-step guidance through the process</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { call } from 'frappe-ui'\n\nconst route = useRoute()\n\nconst loading = ref(true)\nconst error = ref(null)\nconst council = ref({})\nconst landingPage = ref({})\nconst requestTypes = ref([])\n\nconst heroBackgroundStyle = computed(() => {\n\tif (landingPage.value.hero_image) {\n\t\treturn {\n\t\t\tbackgroundImage: `url('${landingPage.value.hero_image}')`,\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center'\n\t\t}\n\t}\n\treturn {}\n})\n\nconst ctaButtonStyle = computed(() => {\n\tif (council.value.primary_color) {\n\t\treturn {\n\t\t\tbackgroundColor: 'white',\n\t\t\tcolor: council.value.primary_color\n\t\t}\n\t}\n\treturn {}\n})\n\nconst heroTitle = computed(() => {\n\tconst title = landingPage.value.hero_title || ''\n\treturn title.replace('{council_name}', council.value.council_name || '')\n})\n\nconst loadCouncilData = async () => {\n\ttry {\n\t\tconst councilCode = route.params.councilCode.toUpperCase()\n\n\t\t// Get council data\n\t\tconst councilResponse = await call('lodgeick.api.get_council_by_code', {\n\t\t\tcouncil_code: councilCode\n\t\t})\n\n\t\tif (!councilResponse) {\n\t\t\tthrow new Error('Council not found')\n\t\t}\n\n\t\tcouncil.value = councilResponse\n\n\t\t// Get landing page data\n\t\tconst landingPageResponse = await call('lodgeick.api.get_council_landing_page', {\n\t\t\tcouncil_code: councilCode\n\t\t})\n\n\t\tlandingPage.value = landingPageResponse || {\n\t\t\thero_title: `Welcome to ${council.value.council_name}`,\n\t\t\thero_subtitle: 'Submit planning applications online',\n\t\t\tprimary_cta_text: 'Start New Request',\n\t\t\tshow_request_types: true\n\t\t}\n\n\t\t// Get request types if enabled\n\t\tif (landingPage.value.show_request_types) {\n\t\t\tconst rtResponse = await call('lodgeick.api.get_request_types_for_council', {\n\t\t\t\tcouncil_code: councilCode\n\t\t\t})\n\t\t\trequestTypes.value = rtResponse || []\n\t\t}\n\n\t\tloading.value = false\n\t} catch (err) {\n\t\terror.value = err.message || 'Failed to load council landing page'\n\t\tloading.value = false\n\t}\n}\n\nonMounted(() => {\n\tloadCouncilData()\n})\n</script>\n\n<style scoped>\n.hero-section {\n\tmin-height: 500px;\n}\n\n.line-clamp-3 {\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 3;\n\t-webkit-box-orient: vertical;\n\toverflow: hidden;\n}\n\n.prose {\n\tmax-width: 65ch;\n}\n</style>\n"],"names":["route","useRoute","loading","ref","error","council","landingPage","requestTypes","heroBackgroundStyle","computed","ctaButtonStyle","heroTitle","loadCouncilData","__async","councilCode","councilResponse","call","landingPageResponse","rtResponse","err","onMounted","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_cache","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_createVNode","_component_router_link","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_10","_hoisted_11","_createTextVNode","_hoisted_12","_hoisted_14","_hoisted_15","_Fragment","_renderList","rt","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23"],"mappings":"6zCAwHA,MAAMA,EAAQC,EAAQ,EAEhBC,EAAUC,EAAI,EAAI,EAClBC,EAAQD,EAAI,IAAI,EAChBE,EAAUF,EAAI,CAAA,CAAE,EAChBG,EAAcH,EAAI,CAAA,CAAE,EACpBI,EAAeJ,EAAI,CAAA,CAAE,EAErBK,EAAsBC,EAAS,IAChCH,EAAY,MAAM,WACd,CACN,gBAAiB,QAAQA,EAAY,MAAM,UAAU,KACrD,eAAgB,QAChB,mBAAoB,QACvB,EAEQ,CAAA,CACP,EAEKI,EAAiBD,EAAS,IAC3BJ,EAAQ,MAAM,cACV,CACN,gBAAiB,QACjB,MAAOA,EAAQ,MAAM,aACxB,EAEQ,CAAA,CACP,EAEKM,EAAYF,EAAS,KACZH,EAAY,MAAM,YAAc,IACjC,QAAQ,iBAAkBD,EAAQ,MAAM,cAAgB,EAAE,CACvE,EAEKO,EAAkB,IAAYC,EAAA,sBACnC,GAAI,CACH,MAAMC,EAAcd,EAAM,OAAO,YAAY,YAAW,EAGlDe,EAAkB,MAAMC,EAAK,mCAAoC,CACtE,aAAcF,CACjB,CAAG,EAED,GAAI,CAACC,EACJ,MAAM,IAAI,MAAM,mBAAmB,EAGpCV,EAAQ,MAAQU,EAGhB,MAAME,EAAsB,MAAMD,EAAK,wCAAyC,CAC/E,aAAcF,CACjB,CAAG,EAUD,GARAR,EAAY,MAAQW,GAAuB,CAC1C,WAAY,cAAcZ,EAAQ,MAAM,YAAY,GACpD,cAAe,sCACf,iBAAkB,oBAClB,mBAAoB,EACvB,EAGMC,EAAY,MAAM,mBAAoB,CACzC,MAAMY,EAAa,MAAMF,EAAK,6CAA8C,CAC3E,aAAcF,CAClB,CAAI,EACDP,EAAa,MAAQW,GAAc,CAAA,CACpC,CAEAhB,EAAQ,MAAQ,EACjB,OAASiB,EAAK,CACbf,EAAM,MAAQe,EAAI,SAAW,sCAC7BjB,EAAQ,MAAQ,EACjB,CACD,GAEA,OAAAkB,EAAU,IAAM,CACfR,EAAe,CAChB,CAAC,mCArMA,OAAAS,EAAA,EAAAC,EA+GM,MA/GNC,EA+GM,CA7GMrB,EAAA,OAAXmB,IAAAC,EAKM,MALNE,EAKM,CAAA,GAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAJLC,EAGM,MAAA,CAHD,MAAM,aAAa,EAAA,CACvBA,EAA0F,MAAA,CAArF,MAAM,wEAAwE,CAAA,EACnFA,EAA4C,IAAA,CAAzC,MAAM,oBAAoB,EAAC,YAAU,YAK1BtB,EAAA,OAAhBiB,IAAAC,EAQM,MARNK,EAQM,CAPLD,EAMM,MANNE,EAMM,CALLH,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAuE,KAAA,CAAnE,MAAM,sCAAsC,EAAC,oBAAiB,EAAA,GAClEA,EAA4C,IAA5CG,EAA4CC,EAAZ1B,EAAA,KAAK,EAAA,CAAA,EACrC2B,EAEcC,EAAA,CAFD,GAAG,IAAI,MAAM,yFAA6E,IAEvG,CAAA,GAAAP,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFuG,gBAEvG,EAAA,sBAKFH,EAyFM,MAAAW,EAAA,CAvFLP,EAwBM,MAAA,CAvBL,MAAM,gFACL,QAAOlB,EAAA,KAAmB,gBAE3BkB,EAA2D,MAAA,CAAtD,MAAM,yCAAyC,EAAA,KAAA,EAAA,GACpDA,EAkBM,MAlBNQ,EAkBM,CAjBLR,EAgBM,MAhBNS,EAgBM,CAdE9B,EAAA,MAAQ,UADfiB,EAKE,MAAA,OAHA,IAAKjB,EAAA,MAAQ,KACb,IAAKA,EAAA,MAAQ,aACd,MAAM,wDAEPqB,EAAwD,KAAxDU,EAAwDN,EAAjBnB,EAAA,KAAS,EAAA,CAAA,EAChDe,EAAsE,IAAtEW,EAAsEP,EAAhCxB,EAAA,MAAY,aAAa,EAAA,CAAA,EAC/DyB,EAMcC,EAAA,CALZ,GAAI,CAAA,KAAA,aAAA,MAAA,CAAA,OAAA,OAAA,EACL,MAAM,wHACL,QAAOtB,EAAA,KAAc,cAEtB,IAAkC,CAA/B4B,EAAAR,EAAAxB,EAAA,MAAY,gBAAgB,EAAA,CAAA,8BAOxBA,EAAA,MAAY,YAAvBe,IAAAC,EAEM,MAFNiB,EAEM,CADLb,EAAoF,MAAA,CAA/E,MAAM,mCAAmC,UAAQpB,EAAA,MAAY,kCAIxDC,EAAA,MAAa,OAAM,GAA9Bc,IAAAC,EA+BM,MA/BNkB,EA+BM,CA9BLf,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAqF,KAAA,CAAjF,MAAM,mDAAmD,EAAC,qBAAkB,EAAA,GAChFA,EA4BM,MA5BNe,EA4BM,QA3BLnB,EA0BMoB,EAAA,KAAAC,EAzBQpC,EAAA,MAANqC,QADRtB,EA0BM,MAAA,CAxBJ,IAAKsB,EAAG,KACT,MAAM,+FAENlB,EAAuE,KAAvEmB,EAAuEf,EAAfc,EAAG,IAAI,EAAA,CAAA,EAC/DlB,EAA2D,IAA3DoB,EAA2DhB,EAAlBc,EAAG,QAAQ,EAAA,CAAA,EAC3CA,EAAG,aAAZvB,EAAA,EAAAC,EAEI,IAFJyB,EAEIjB,EADAc,EAAG,WAAW,EAAA,CAAA,YAElBlB,EASM,MATNsB,EASM,CARMJ,EAAG,UAAdvB,IAAAC,EAGM,MAHN2B,GAGM,CAFLxB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAA0C,OAAA,CAApC,MAAM,aAAa,EAAC,YAAS,EAAA,GACnCA,EAAuD,OAAvDwB,GAAmB,MAAIN,EAAG,SAAS,QAAO,CAAA,CAAA,EAAA,CAAA,cAEhCA,EAAG,qBAAdvB,IAAAC,EAGM,MAHN6B,GAGM,CAFL1B,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAiD,OAAA,CAA3C,MAAM,aAAa,EAAC,mBAAgB,EAAA,GAC1CA,EAA2D,OAA3D0B,GAA2DtB,EAArCc,EAAG,mBAAmB,EAAG,QAAK,CAAA,gBAGtDb,EAKcC,EAAA,CAJZ,GAAE,CAAA,KAAA,aAAA,MAAA,CAAA,OAAA,OAAA,KAAuDY,EAAG,KAAI,EACjE,MAAM,uHACN,IAED,CAAA,GAAAnB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFC,sBAED,EAAA"}