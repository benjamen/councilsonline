var X=(D,I,P)=>new Promise((R,k)=>{var b=g=>{try{v(P.next(g))}catch(p){k(p)}},l=g=>{try{v(P.throw(g))}catch(p){k(p)}},v=g=>g.done?R(g.value):Promise.resolve(g.value).then(b,l);v((P=P.apply(D,I)).next())});import{f as ie,a9 as ue,aa as de,j as $,r as y,q as me,p as ve,c as i,o as u,a as e,$ as n,t as m,m as pe,d as w,b as x,h as d,a2 as C,u as _,I as V,k as O,a5 as G,F as E,l as ce,a6 as K,w as F,i as ye}from"./index-hJupsf_S.js";import{_ as ge,v as fe,a as xe,b as be}from"./validation-QDXbfqfl.js";const he={class:"w-full max-w-2xl"},we={class:"text-center mb-8"},ke={key:0,class:"mb-4"},Ce=["src","alt"],_e={class:"text-gray-600"},Ve={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100 mb-6"},Me={class:"grid grid-cols-2 gap-4"},Pe={class:"text-center"},Se={class:"text-center"},je={class:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100"},ze={class:"flex items-center justify-between"},Te={class:"flex items-center gap-3"},Ae={class:"text-base font-semibold text-gray-900"},Be={class:"grid grid-cols-2 gap-3"},Ne={class:"grid md:grid-cols-2 gap-4"},$e={key:0,class:"mt-1 text-xs text-red-600"},qe={key:0,class:"mt-1 text-xs text-red-600"},Oe={key:1,class:"mt-1 text-xs text-gray-500"},Ie={class:"space-y-4"},Re={class:"flex items-center justify-between"},He={class:"text-xs text-gray-500 mt-1"},Ue={key:0,class:"space-y-2"},Ee={class:"flex items-start justify-between"},Fe={class:"flex-1"},De={class:"flex items-center gap-2"},Le={class:"text-sm font-semibold text-gray-900"},Je={class:"text-sm text-gray-600 mt-1"},Ze={class:"text-xs text-gray-500"},Ye={class:"flex items-center gap-2 ml-4"},Xe=["onClick"],Ge=["onClick"],Ke={key:1,class:"text-center py-6 border-2 border-dashed border-gray-300 rounded-lg"},Qe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},We={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},et={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},tt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},st={class:"space-y-4"},ot={class:"flex items-center"},lt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2"},rt={key:1,class:"space-y-4"},at={for:"organization_name",class:"block text-sm font-medium text-gray-700 mb-2"},nt={key:0},it={key:2,class:"space-y-4"},ut={class:"grid md:grid-cols-2 gap-4"},dt={key:0,class:"mt-1 text-xs text-red-600"},mt={key:0,class:"mt-1 text-xs text-red-600"},vt={class:"flex items-start"},pt={for:"terms",class:"ml-2 block text-sm text-gray-700"},ct={key:3,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},yt={class:"flex items-start"},gt={class:"text-sm text-red-700"},ft={class:"text-center mt-6"},xt={class:"text-sm text-gray-600"},bt={class:"text-center mt-4"},Ct={__name:"CouncilRegister",setup(D){const I=ie(),P=ue(),R=de(),k=$(()=>{var r;return(r=P.params.councilCode)==null?void 0:r.toUpperCase()}),b=y(null),l=y("Individual"),v=y(null),g=y(!1),p=y(""),a=y({first_name:"",last_name:"",email:"",phone:"",password:"",confirm_password:"",organization_name:"",company_number:"",trust_name:"",terms:!1}),z=y(""),T=y(""),A=y(""),B=y(""),S=y(""),Q=$(()=>S.value==="strong"?"text-green-600":S.value==="medium"?"text-yellow-600":"text-red-600"),f=y([]),H=y(!1),h=y({property_name:"",street:"",suburb:"",city:"",postcode:"",is_default:!1}),o=$(()=>{var r;return((r=b.value)==null?void 0:r.primary_color)||"#2563eb"}),W=$(()=>{var r;return((r=b.value)==null?void 0:r.secondary_color)||"#64748b"}),ee=$(()=>({background:`linear-gradient(to bottom right, ${o.value}15, ${W.value}15)`}));me(()=>X(this,null,function*(){try{b.value=yield R.getCouncilSettings(k.value)}catch(r){console.error("Failed to load council settings:",r)}}));const te=()=>{h.value={property_name:"",street:"",suburb:"",city:"",postcode:"",is_default:f.value.length===0},v.value=null,H.value=!0},U=()=>{H.value=!1,h.value={property_name:"",street:"",suburb:"",city:"",postcode:"",is_default:!1},v.value=null},se=()=>{if(!h.value.property_name){alert("Please enter a property name");return}if(!v.value){alert("Please select a property address");return}h.value.is_default&&f.value.forEach(r=>r.is_default=!1),f.value.push({property_name:h.value.property_name,street:v.value.street_address||v.value.full_address,suburb:v.value.suburb||"",city:v.value.city||"",postcode:v.value.postcode||"",is_default:h.value.is_default}),U()},oe=r=>{if(confirm("Are you sure you want to remove this property?")){const t=f.value[r].is_default;f.value.splice(r,1),t&&f.value.length>0&&(f.value[0].is_default=!0)}},le=r=>{f.value.forEach((t,j)=>{t.is_default=j===r})},re=r=>{v.value=r},L=()=>{const r=xe(a.value.phone);return r.isValid?(z.value="",a.value.phone=r.formatted):z.value=r.message,r.isValid},J=()=>{const r=fe(a.value.email);return r.isValid?T.value="":T.value=r.message,r.isValid},Z=()=>{const r=be(a.value.password);return r.isValid?(A.value="",S.value=r.strength):(A.value=r.message,S.value=""),r.isValid},Y=()=>a.value.password!==a.value.confirm_password?(B.value="Passwords do not match",!1):(B.value="",!0);function ae(){p.value="",z.value="",T.value="",A.value="",B.value="";const r=L(),t=J(),j=Z(),q=Y();if(!r||!t||!j||!q){p.value="Please correct the errors above before submitting";return}if(l.value==="Individual"&&f.value.length===0){p.value="At least one property is required for individual applicants";return}if((l.value==="Company"||l.value==="Organisation")&&!a.value.organization_name){p.value=`${l.value} name is required`;return}if(l.value==="Trust"&&!a.value.trust_name){p.value="Trust name is required";return}if(!a.value.terms){p.value="You must agree to the Terms of Service and Privacy Policy";return}g.value=!0;const M={email:a.value.email,first_name:a.value.first_name,last_name:a.value.last_name,phone:a.value.phone,password:a.value.password,user_role:"requester",applicant_type:l.value,properties:f.value,council_code:k.value};l.value==="Company"||l.value==="Organisation"?(M.organization_name=a.value.organization_name,M.company_number=a.value.company_number):l.value==="Trust"&&(M.trust_name=a.value.trust_name),fetch("/api/method/lodgeick.api.register_user",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify(M)}).then(c=>c.json()).then(c=>{if(g.value=!1,c.message&&c.message.success)I.push({name:"CouncilLogin",params:{councilCode:k.value},query:{registered:"true"}});else if(c.exc||c._server_messages){const s=c._server_messages?JSON.parse(c._server_messages):[],N=s.length>0?JSON.parse(s[0]).message:"Registration failed. Please try again.";p.value=N,console.error("Registration error:",c.exc||c._server_messages)}else p.value="Registration failed. Please try again."}).catch(c=>{g.value=!1,p.value="Network error. Please check your connection and try again.",console.error("Registration error:",c)})}return(r,t)=>{var q,M,c;const j=ve("router-link");return u(),i("div",{class:"min-h-screen flex items-center justify-center p-4",style:n(ee.value)},[e("div",he,[e("div",we,[(q=b.value)!=null&&q.logo?(u(),i("div",ke,[e("img",{src:b.value.logo,alt:b.value.council_name,class:"h-20 mx-auto object-contain"},null,8,Ce)])):(u(),i("div",{key:1,class:"inline-flex items-center justify-center w-16 h-16 rounded-2xl mb-4 shadow-lg",style:n({backgroundColor:o.value})},[...t[18]||(t[18]=[e("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],4)),t[19]||(t[19]=e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Create Your Account",-1)),e("p",_e,"Join "+m(((M=b.value)==null?void 0:M.council_name)||"Council")+" portal",1)]),e("div",Ve,[t[26]||(t[26]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4 text-center"},"Choose Account Type",-1)),e("div",Me,[e("div",{class:"p-6 border-2 bg-opacity-10 rounded-lg",style:n({borderColor:o.value,backgroundColor:`${o.value}20`})},[e("div",Pe,[(u(),i("svg",{class:"w-12 h-12 mx-auto mb-3",style:n({color:o.value}),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])],4)),t[21]||(t[21]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Register as Requester",-1)),t[22]||(t[22]=e("p",{class:"text-sm text-gray-600 mb-4"},"Submit requests for yourself or on behalf of an organization",-1)),e("div",{class:"text-sm font-medium",style:n({color:o.value})},"✓ Currently selected",4)])],4),e("button",{type:"button",onClick:t[0]||(t[0]=s=>r.$router.push({name:"CompanyRegistration"})),class:"p-6 border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 rounded-lg transition text-left"},[e("div",Se,[t[23]||(t[23]=e("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),t[24]||(t[24]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Register as Agent",-1)),t[25]||(t[25]=e("p",{class:"text-sm text-gray-600 mb-4"},"Consultants or representatives submitting on behalf of clients",-1)),e("div",{class:"text-sm font-medium",style:n({color:o.value})},"Click to register as agent →",4)])])])]),e("div",je,[e("form",{onSubmit:pe(ae,["prevent"]),class:"space-y-6"},[e("div",{class:"p-4 rounded-lg border-2",style:n({borderColor:`${o.value}40`,backgroundColor:`${o.value}10`})},[e("div",ze,[e("div",Te,[(u(),i("svg",{class:"w-5 h-5",style:n({color:o.value}),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[27]||(t[27]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},null,-1)])],4)),e("div",null,[t[28]||(t[28]=e("p",{class:"text-sm font-medium text-gray-700"},"Registering for",-1)),e("p",Ae,m(((c=b.value)==null?void 0:c.council_name)||k.value),1)])]),t[29]||(t[29]=e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1))])],4),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},[d(" Account Type "),e("span",{class:"text-red-500"},"*")],-1)),t[39]||(t[39]=e("p",{class:"text-xs text-gray-500 mb-3"},"Select the entity type you're registering as",-1)),e("div",Be,[e("button",{type:"button",onClick:t[1]||(t[1]=s=>l.value="Individual"),class:C(["p-4 border-2 rounded-lg text-center transition",l.value==="Individual"?"bg-opacity-10":"border-gray-200 hover:border-gray-300"]),style:n(l.value==="Individual"?{borderColor:o.value,backgroundColor:`${o.value}20`}:{})},[(u(),i("svg",{class:"w-8 h-8 mx-auto mb-2",style:n({color:l.value==="Individual"?o.value:"#9ca3af"}),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[30]||(t[30]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])],4)),e("div",{class:C(["text-sm font-medium",l.value==="Individual"?"":"text-gray-700"]),style:n(l.value==="Individual"?{color:o.value}:{})}," Individual ",6),t[31]||(t[31]=e("div",{class:"text-xs text-gray-500 mt-1"},"Person/Civilian",-1))],6),e("button",{type:"button",onClick:t[2]||(t[2]=s=>l.value="Company"),class:C(["p-4 border-2 rounded-lg text-center transition",l.value==="Company"?"bg-opacity-10":"border-gray-200 hover:border-gray-300"]),style:n(l.value==="Company"?{borderColor:o.value,backgroundColor:`${o.value}20`}:{})},[(u(),i("svg",{class:"w-8 h-8 mx-auto mb-2",style:n({color:l.value==="Company"?o.value:"#9ca3af"}),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[32]||(t[32]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},null,-1)])],4)),e("div",{class:C(["text-sm font-medium",l.value==="Company"?"":"text-gray-700"]),style:n(l.value==="Company"?{color:o.value}:{})}," Company ",6),t[33]||(t[33]=e("div",{class:"text-xs text-gray-500 mt-1"},"NZ Registered",-1))],6),e("button",{type:"button",onClick:t[3]||(t[3]=s=>l.value="Trust"),class:C(["p-4 border-2 rounded-lg text-center transition",l.value==="Trust"?"bg-opacity-10":"border-gray-200 hover:border-gray-300"]),style:n(l.value==="Trust"?{borderColor:o.value,backgroundColor:`${o.value}20`}:{})},[(u(),i("svg",{class:"w-8 h-8 mx-auto mb-2",style:n({color:l.value==="Trust"?o.value:"#9ca3af"}),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[34]||(t[34]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])],4)),e("div",{class:C(["text-sm font-medium",l.value==="Trust"?"":"text-gray-700"]),style:n(l.value==="Trust"?{color:o.value}:{})}," Trust ",6),t[35]||(t[35]=e("div",{class:"text-xs text-gray-500 mt-1"},"Trust Entity",-1))],6),e("button",{type:"button",onClick:t[4]||(t[4]=s=>l.value="Organisation"),class:C(["p-4 border-2 rounded-lg text-center transition",l.value==="Organisation"?"bg-opacity-10":"border-gray-200 hover:border-gray-300"]),style:n(l.value==="Organisation"?{borderColor:o.value,backgroundColor:`${o.value}20`}:{})},[(u(),i("svg",{class:"w-8 h-8 mx-auto mb-2",style:n({color:l.value==="Organisation"?o.value:"#9ca3af"}),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[36]||(t[36]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},null,-1)])],4)),e("div",{class:C(["text-sm font-medium",l.value==="Organisation"?"":"text-gray-700"]),style:n(l.value==="Organisation"?{color:o.value}:{})}," Organisation ",6),t[37]||(t[37]=e("div",{class:"text-xs text-gray-500 mt-1"},"Charity/NPO",-1))],6)])]),e("div",Ne,[e("div",null,[t[40]||(t[40]=e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" First Name "),e("span",{class:"text-red-500"},"*")],-1)),x(_(V),{id:"first_name",modelValue:a.value.first_name,"onUpdate:modelValue":t[5]||(t[5]=s=>a.value.first_name=s),type:"text",required:"",placeholder:"John",class:"w-full"},null,8,["modelValue"])]),e("div",null,[t[41]||(t[41]=e("label",{for:"last_name",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Last Name "),e("span",{class:"text-red-500"},"*")],-1)),x(_(V),{id:"last_name",modelValue:a.value.last_name,"onUpdate:modelValue":t[6]||(t[6]=s=>a.value.last_name=s),type:"text",required:"",placeholder:"Doe",class:"w-full"},null,8,["modelValue"])])]),e("div",null,[t[42]||(t[42]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Email Address "),e("span",{class:"text-red-500"},"*")],-1)),x(_(V),{id:"email",modelValue:a.value.email,"onUpdate:modelValue":t[7]||(t[7]=s=>a.value.email=s),type:"email",required:"",placeholder:"you@example.com",class:"w-full",onBlur:J},null,8,["modelValue"]),T.value?(u(),i("p",$e,m(T.value),1)):w("",!0)]),e("div",null,[t[43]||(t[43]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Phone Number "),e("span",{class:"text-red-500"},"*")],-1)),O(e("input",{id:"phone","onUpdate:modelValue":t[8]||(t[8]=s=>a.value.phone=s),type:"tel",required:"",placeholder:"021 234 5678 or 09 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:n({"--tw-ring-color":o.value}),onBlur:L},null,36),[[G,a.value.phone]]),z.value?(u(),i("p",qe,m(z.value),1)):(u(),i("p",Oe,"NZ mobile (02x) or landline (03-09)"))]),e("div",Ie,[e("div",Re,[e("div",null,[t[44]||(t[44]=e("h3",{class:"text-sm font-medium text-gray-900"},"Properties",-1)),e("p",He,m(l.value==="Individual"?"Add your properties (at least one required)":"Add your properties (optional)"),1)]),e("button",{type:"button",onClick:te,class:"inline-flex items-center px-3 py-2 border shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2",style:n({backgroundColor:o.value,borderColor:o.value,"--tw-ring-color":o.value})},[...t[45]||(t[45]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),d(" Add Property ",-1)])],4)]),f.value.length>0?(u(),i("div",Ue,[(u(!0),i(E,null,ce(f.value,(s,N)=>(u(),i("div",{key:N,class:"border border-gray-200 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition"},[e("div",Ee,[e("div",Fe,[e("div",De,[e("h4",Le,m(s.property_name),1),s.is_default?(u(),i("span",{key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",style:n({backgroundColor:`${o.value}20`,color:o.value})}," Default ",4)):w("",!0)]),e("p",Je,m(s.street),1),e("p",Ze,m(s.suburb)+m(s.suburb&&s.city?", ":"")+m(s.city)+" "+m(s.postcode),1)]),e("div",Ye,[s.is_default?w("",!0):(u(),i("button",{key:0,type:"button",onClick:ne=>le(N),class:"text-xs hover:opacity-80",style:n({color:o.value})}," Set as Default ",12,Xe)),e("button",{type:"button",onClick:ne=>oe(N),class:"text-red-600 hover:text-red-800"},[...t[46]||(t[46]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ge)])])]))),128))])):(u(),i("div",Ke,[...t[47]||(t[47]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"},"No properties added yet",-1)])]))]),H.value?(u(),i("div",Qe,[e("div",We,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:U}),e("div",et,[e("div",tt,[t[50]||(t[50]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Add Property",-1)),e("div",st,[e("div",null,[t[48]||(t[48]=e("label",{for:"property_name",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Property Name "),e("span",{class:"text-red-500"},"*")],-1)),O(e("input",{id:"property_name","onUpdate:modelValue":t[9]||(t[9]=s=>h.value.property_name=s),type:"text",required:"",placeholder:"e.g., Home, Investment Property, Beach House",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:n({"--tw-ring-color":o.value})},null,4),[[G,h.value.property_name]])]),e("div",null,[x(ge,{modelValue:v.value,"onUpdate:modelValue":t[10]||(t[10]=s=>v.value=s),id:"property_address_modal",label:"Property Address",placeholder:"Start typing the property address...",description:"Search for the property address in New Zealand",required:!0,onAddressSelected:re},null,8,["modelValue"])]),e("div",null,[e("label",ot,[O(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>h.value.is_default=s),type:"checkbox",class:"h-4 w-4 border-gray-300 rounded",style:n({accentColor:o.value})},null,4),[[K,h.value.is_default]]),t[49]||(t[49]=e("span",{class:"ml-2 text-sm text-gray-700"},"Set as default property",-1))])])])]),e("div",lt,[e("button",{type:"button",onClick:se,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",style:n({backgroundColor:o.value,"--tw-ring-color":o.value})}," Add Property ",4),e("button",{type:"button",onClick:U,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):w("",!0),l.value==="Company"||l.value==="Organisation"?(u(),i("div",rt,[e("div",null,[e("label",at,[d(m(l.value==="Company"?"Company Name":"Organisation Name")+" ",1),t[51]||(t[51]=e("span",{class:"text-red-500"},"*",-1))]),x(_(V),{id:"organization_name",modelValue:a.value.organization_name,"onUpdate:modelValue":t[12]||(t[12]=s=>a.value.organization_name=s),type:"text",required:"",placeholder:l.value==="Company"?"ABC Construction Ltd":"Community Trust",class:"w-full"},null,8,["modelValue","placeholder"])]),l.value==="Company"?(u(),i("div",nt,[t[52]||(t[52]=e("label",{for:"company_number",class:"block text-sm font-medium text-gray-700 mb-2"}," Company Number (Optional) ",-1)),x(_(V),{id:"company_number",modelValue:a.value.company_number,"onUpdate:modelValue":t[13]||(t[13]=s=>a.value.company_number=s),type:"text",placeholder:"1234567",class:"w-full"},null,8,["modelValue"])])):w("",!0)])):w("",!0),l.value==="Trust"?(u(),i("div",it,[e("div",null,[t[53]||(t[53]=e("label",{for:"trust_name",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Trust Name "),e("span",{class:"text-red-500"},"*")],-1)),x(_(V),{id:"trust_name",modelValue:a.value.trust_name,"onUpdate:modelValue":t[14]||(t[14]=s=>a.value.trust_name=s),type:"text",required:"",placeholder:"Smith Family Trust",class:"w-full"},null,8,["modelValue"])])])):w("",!0),e("div",ut,[e("div",null,[t[54]||(t[54]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Password "),e("span",{class:"text-red-500"},"*")],-1)),x(_(V),{id:"password",modelValue:a.value.password,"onUpdate:modelValue":t[15]||(t[15]=s=>a.value.password=s),type:"password",required:"",placeholder:"Min. 8 characters",class:"w-full",onInput:Z},null,8,["modelValue"]),A.value?(u(),i("p",dt,m(A.value),1)):S.value?(u(),i("p",{key:1,class:C(["mt-1 text-xs",Q.value])}," Password strength: "+m(S.value),3)):w("",!0)]),e("div",null,[t[55]||(t[55]=e("label",{for:"confirm_password",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Confirm Password "),e("span",{class:"text-red-500"},"*")],-1)),x(_(V),{id:"confirm_password",modelValue:a.value.confirm_password,"onUpdate:modelValue":t[16]||(t[16]=s=>a.value.confirm_password=s),type:"password",required:"",placeholder:"Repeat password",class:"w-full",onBlur:Y},null,8,["modelValue"]),B.value?(u(),i("p",mt,m(B.value),1)):w("",!0)])]),e("div",vt,[O(e("input",{id:"terms","onUpdate:modelValue":t[17]||(t[17]=s=>a.value.terms=s),type:"checkbox",required:"",class:"h-4 w-4 border-gray-300 rounded mt-1",style:n({accentColor:o.value})},null,4),[[K,a.value.terms]]),e("label",pt,[t[56]||(t[56]=d(" I agree to the ",-1)),e("a",{href:"#",class:"font-medium hover:opacity-80",style:n({color:o.value})},"Terms of Service",4),t[57]||(t[57]=d(" and ",-1)),e("a",{href:"#",class:"font-medium hover:opacity-80",style:n({color:o.value})},"Privacy Policy",4)])]),p.value?(u(),i("div",ct,[e("div",yt,[t[58]||(t[58]=e("svg",{class:"w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",gt,m(p.value),1)])])):w("",!0),x(_(ye),{type:"submit",loading:g.value,variant:"solid",class:"w-full text-white py-3 text-base font-medium",style:n({backgroundColor:o.value,borderColor:o.value})},{default:F(()=>[g.value?(u(),i(E,{key:1},[d(" Creating account... ")],64)):(u(),i(E,{key:0},[d(" Create Account ")],64))]),_:1},8,["loading","style"])],32)]),e("div",ft,[e("p",xt,[t[60]||(t[60]=d(" Already have an account? ",-1)),x(j,{to:{name:"CouncilLogin",params:{councilCode:k.value}},class:"font-medium hover:opacity-80",style:n({color:o.value})},{default:F(()=>[...t[59]||(t[59]=[d(" Sign in ",-1)])]),_:1},8,["to","style"])])]),e("div",bt,[x(j,{to:{name:"CouncilLanding",params:{councilCode:k.value}},class:"text-sm text-gray-500 hover:text-gray-700 inline-flex items-center"},{default:F(()=>{var s;return[t[61]||(t[61]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),d(" Back to "+m(((s=b.value)==null?void 0:s.council_name)||"Council")+" home ",1)]}),_:1},8,["to"])])])],4)}}};export{Ct as default};
//# sourceMappingURL=CouncilRegister-C04SFBFK.js.map
