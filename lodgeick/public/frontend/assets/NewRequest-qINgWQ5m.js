var tl=Object.defineProperty,ll=Object.defineProperties;var sl=Object.getOwnPropertyDescriptors;var Ie=Object.getOwnPropertySymbols;var gt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var vt=(s,p,g)=>p in s?tl(s,p,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[p]=g,E=(s,p)=>{for(var g in p||(p={}))gt.call(p,g)&&vt(s,g,p[g]);if(Ie)for(var g of Ie(p))ft.call(p,g)&&vt(s,g,p[g]);return s},Ce=(s,p)=>ll(s,sl(p));var fe=(s,p)=>{var g={};for(var b in s)gt.call(s,b)&&p.indexOf(b)<0&&(g[b]=s[b]);if(s!=null&&Ie)for(var b of Ie(s))p.indexOf(b)<0&&ft.call(s,b)&&(g[b]=s[b]);return g};var W=(s,p,g)=>new Promise((b,r)=>{var w=x=>{try{m(g.next(x))}catch(_){r(_)}},f=x=>{try{m(g.throw(x))}catch(_){r(_)}},m=x=>x.done?b(x.value):Promise.resolve(x.value).then(w,f);m((g=g.apply(s,p)).next())});import{r as h,q as de,x as tt,y as z,z as ce,k as q,A as He,B as ve,C as Le,E as ol,G as ze,H as Ue,J as al,K as xe,L as Ve,M as X,N as Ee,O as Oe,P as nl,Q as ht,R as le,S as $e,T as rl,F as U,U as Be,V as il,W as ul,X as ye,Y as re,c as n,o as a,a as e,b as G,m as O,Z as I,d as y,t as v,f as wt,g as me,l as T,$ as ee,h as j,n as be,v as ie,a0 as L,s as et,e as Se,a1 as ue,a2 as dl,w as te,a3 as cl,a4 as pl,a5 as yt,a6 as ml,u as oe,a7 as vl,a8 as gl,j as bt,a9 as Fe,i as xt}from"./index-B1OgS4l7.js";import{C as fl}from"./CouncilSelector-c-Dol2D7.js";function _t(s,p){if(s)return s;let g=p!=null?p:"button";if(typeof g=="string"&&g.toLowerCase()==="button")return"button"}function kt(s,p){let g=h(_t(s.value.type,s.value.as));return de(()=>{g.value=_t(s.value.type,s.value.as)}),tt(()=>{var b;g.value||z(p)&&z(p)instanceof HTMLButtonElement&&!((b=z(p))!=null&&b.hasAttribute("type"))&&(g.value="button")}),g}var yl=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(yl||{});let Ct=Symbol("DisclosureContext");function lt(s){let p=Ve(Ct,null);if(p===null){let g=new Error(`<${s} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(g,lt),g}return p}let $t=Symbol("DisclosurePanelContext");function bl(){return Ve($t,null)}let xl=ce({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(s,{slots:p,attrs:g}){let b=h(s.defaultOpen?0:1),r=h(null),w=h(null),f={buttonId:h(`headlessui-disclosure-button-${Ue()}`),panelId:h(`headlessui-disclosure-panel-${Ue()}`),disclosureState:b,panel:r,button:w,toggleDisclosure(){b.value=xe(b.value,{0:1,1:0})},closeDisclosure(){b.value!==1&&(b.value=1)},close(m){f.closeDisclosure();let x=m?m instanceof HTMLElement?m:m.value instanceof HTMLElement?z(m):z(f.button):z(f.button);x==null||x.focus()}};return Le(Ct,f),al(q(()=>xe(b.value,{0:ze.Open,1:ze.Closed}))),()=>{let k=s,{defaultOpen:m}=k,x=fe(k,["defaultOpen"]),_={open:b.value===0,close:f.close};return ve({theirProps:x,ourProps:{},slot:_,slots:p,attrs:g,name:"Disclosure"})}}}),_l=ce({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(s,{attrs:p,slots:g,expose:b}){let r=lt("DisclosureButton"),w=bl(),f=q(()=>w===null?!1:w.value===r.panelId.value);de(()=>{f.value||s.id!==null&&(r.buttonId.value=s.id)}),He(()=>{f.value||(r.buttonId.value=null)});let m=h(null);b({el:m,$el:m}),f.value||tt(()=>{r.button.value=m.value});let x=kt(q(()=>({as:s.as,type:p.type})),m);function _(){var C;s.disabled||(f.value?(r.toggleDisclosure(),(C=z(r.button))==null||C.focus()):r.toggleDisclosure())}function k(C){var A;if(!s.disabled)if(f.value)switch(C.key){case X.Space:case X.Enter:C.preventDefault(),C.stopPropagation(),r.toggleDisclosure(),(A=z(r.button))==null||A.focus();break}else switch(C.key){case X.Space:case X.Enter:C.preventDefault(),C.stopPropagation(),r.toggleDisclosure();break}}function S(C){switch(C.key){case X.Space:C.preventDefault();break}}return()=>{var C;let A={open:r.disclosureState.value===0},t=s,{id:$}=t,i=fe(t,["id"]),o=f.value?{ref:m,type:x.value,onClick:_,onKeydown:k}:{id:(C=r.buttonId.value)!=null?C:$,ref:m,type:x.value,"aria-expanded":r.disclosureState.value===0,"aria-controls":r.disclosureState.value===0||z(r.panel)?r.panelId.value:void 0,disabled:s.disabled?!0:void 0,onClick:_,onKeydown:k,onKeyup:S};return ve({ourProps:o,theirProps:i,slot:A,attrs:p,slots:g,name:"DisclosureButton"})}}}),hl=ce({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(s,{attrs:p,slots:g,expose:b}){let r=lt("DisclosurePanel");de(()=>{s.id!==null&&(r.panelId.value=s.id)}),He(()=>{r.panelId.value=null}),b({el:r.panel,$el:r.panel}),Le($t,r.panelId);let w=ol(),f=q(()=>w!==null?(w.value&ze.Open)===ze.Open:r.disclosureState.value===0);return()=>{var m;let x={open:r.disclosureState.value===0,close:r.close},C=s,{id:_}=C,k=fe(C,["id"]),S={id:(m=r.panelId.value)!=null?m:_,ref:r.panel};return ve({ourProps:S,theirProps:k,slot:x,attrs:p,slots:g,features:Ee.RenderStrategy|Ee.Static,visible:f.value,name:"DisclosurePanel"})}}}),wl=ce({props:{onFocus:{type:Function,required:!0}},setup(s){let p=h(!0);return()=>p.value?Oe(ht,{as:"button",type:"button",features:nl.Focusable,onFocus(g){g.preventDefault();let b,r=50;function w(){var f;if(r--<=0){b&&cancelAnimationFrame(b);return}if((f=s.onFocus)!=null&&f.call(s)){p.value=!1,cancelAnimationFrame(b);return}b=requestAnimationFrame(w)}b=requestAnimationFrame(w)}}):null}});var kl=(s=>(s[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s))(kl||{}),Cl=(s=>(s[s.Less=-1]="Less",s[s.Equal=0]="Equal",s[s.Greater=1]="Greater",s))(Cl||{});let Vt=Symbol("TabsContext");function qe(s){let p=Ve(Vt,null);if(p===null){let g=new Error(`<${s} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(g,qe),g}return p}let st=Symbol("TabsSSRContext"),$l=ce({name:"TabGroup",emits:{change:s=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(s,{slots:p,attrs:g,emit:b}){var r;let w=h((r=s.selectedIndex)!=null?r:s.defaultIndex),f=h([]),m=h([]),x=q(()=>s.selectedIndex!==null),_=q(()=>x.value?s.selectedIndex:w.value);function k(i){var o;let t=$e(S.tabs.value,z),c=$e(S.panels.value,z),P=t.filter(B=>{var J;return!((J=z(B))!=null&&J.hasAttribute("disabled"))});if(i<0||i>t.length-1){let B=xe(w.value===null?0:Math.sign(i-w.value),{[-1]:()=>1,0:()=>xe(Math.sign(i),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),J=xe(B,{0:()=>t.indexOf(P[0]),1:()=>t.indexOf(P[P.length-1])});J!==-1&&(w.value=J),S.tabs.value=t,S.panels.value=c}else{let B=t.slice(0,i),J=[...t.slice(i),...B].find(Z=>P.includes(Z));if(!J)return;let Y=(o=t.indexOf(J))!=null?o:S.selectedIndex.value;Y===-1&&(Y=S.selectedIndex.value),w.value=Y,S.tabs.value=t,S.panels.value=c}}let S={selectedIndex:q(()=>{var i,o;return(o=(i=w.value)!=null?i:s.defaultIndex)!=null?o:null}),orientation:q(()=>s.vertical?"vertical":"horizontal"),activation:q(()=>s.manual?"manual":"auto"),tabs:f,panels:m,setSelectedIndex(i){_.value!==i&&b("change",i),x.value||k(i)},registerTab(i){var o;if(f.value.includes(i))return;let t=f.value[w.value];if(f.value.push(i),f.value=$e(f.value,z),!x.value){let c=(o=f.value.indexOf(t))!=null?o:w.value;c!==-1&&(w.value=c)}},unregisterTab(i){let o=f.value.indexOf(i);o!==-1&&f.value.splice(o,1)},registerPanel(i){m.value.includes(i)||(m.value.push(i),m.value=$e(m.value,z))},unregisterPanel(i){let o=m.value.indexOf(i);o!==-1&&m.value.splice(o,1)}};Le(Vt,S);let C=h({tabs:[],panels:[]}),A=h(!1);de(()=>{A.value=!0}),Le(st,q(()=>A.value?null:C.value));let $=q(()=>s.selectedIndex);return de(()=>{le([$],()=>{var i;return k((i=s.selectedIndex)!=null?i:s.defaultIndex)},{immediate:!0})}),tt(()=>{if(!x.value||_.value==null||S.tabs.value.length<=0)return;let i=$e(S.tabs.value,z);i.some((o,t)=>z(S.tabs.value[t])!==z(o))&&S.setSelectedIndex(i.findIndex(o=>z(o)===z(S.tabs.value[_.value])))}),()=>{let i={selectedIndex:w.value};return Oe(U,[f.value.length<=0&&Oe(wl,{onFocus:()=>{for(let o of f.value){let t=z(o);if((t==null?void 0:t.tabIndex)===0)return t.focus(),!0}return!1}}),ve({theirProps:E(E({},g),rl(s,["selectedIndex","defaultIndex","manual","vertical","onChange"])),ourProps:{},slot:i,slots:p,attrs:g,name:"TabGroup"})])}}}),Vl=ce({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(s,{attrs:p,slots:g}){let b=qe("TabList");return()=>{let r={selectedIndex:b.selectedIndex.value},w={role:"tablist","aria-orientation":b.orientation.value};return ve({ourProps:w,theirProps:s,slot:r,attrs:p,slots:g,name:"TabList"})}}}),Sl=ce({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(s,{attrs:p,slots:g,expose:b}){var r;let w=(r=s.id)!=null?r:`headlessui-tabs-tab-${Ue()}`,f=qe("Tab"),m=h(null);b({el:m,$el:m}),de(()=>f.registerTab(m)),He(()=>f.unregisterTab(m));let x=Ve(st),_=q(()=>{if(x.value){let c=x.value.tabs.indexOf(w);return c===-1?x.value.tabs.push(w)-1:c}return-1}),k=q(()=>{let c=f.tabs.value.indexOf(m);return c===-1?_.value:c}),S=q(()=>k.value===f.selectedIndex.value);function C(c){var P;let B=c();if(B===Be.Success&&f.activation.value==="auto"){let J=(P=ul(m))==null?void 0:P.activeElement,Y=f.tabs.value.findIndex(Z=>z(Z)===J);Y!==-1&&f.setSelectedIndex(Y)}return B}function A(c){let P=f.tabs.value.map(B=>z(B)).filter(Boolean);if(c.key===X.Space||c.key===X.Enter){c.preventDefault(),c.stopPropagation(),f.setSelectedIndex(k.value);return}switch(c.key){case X.Home:case X.PageUp:return c.preventDefault(),c.stopPropagation(),C(()=>ye(P,re.First));case X.End:case X.PageDown:return c.preventDefault(),c.stopPropagation(),C(()=>ye(P,re.Last))}if(C(()=>xe(f.orientation.value,{vertical(){return c.key===X.ArrowUp?ye(P,re.Previous|re.WrapAround):c.key===X.ArrowDown?ye(P,re.Next|re.WrapAround):Be.Error},horizontal(){return c.key===X.ArrowLeft?ye(P,re.Previous|re.WrapAround):c.key===X.ArrowRight?ye(P,re.Next|re.WrapAround):Be.Error}}))===Be.Success)return c.preventDefault()}let $=h(!1);function i(){var c;$.value||($.value=!0,!s.disabled&&((c=z(m))==null||c.focus({preventScroll:!0}),f.setSelectedIndex(k.value),il(()=>{$.value=!1})))}function o(c){c.preventDefault()}let t=kt(q(()=>({as:s.as,type:p.type})),m);return()=>{var c,P;let B={selected:S.value,disabled:(c=s.disabled)!=null?c:!1},J=fe(s,[]),Y={ref:m,onKeydown:A,onMousedown:o,onClick:i,id:w,role:"tab",type:t.value,"aria-controls":(P=z(f.panels.value[k.value]))==null?void 0:P.id,"aria-selected":S.value,tabIndex:S.value?0:-1,disabled:s.disabled?!0:void 0};return ve({ourProps:Y,theirProps:J,slot:B,attrs:p,slots:g,name:"Tab"})}}}),ql=ce({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(s,{slots:p,attrs:g}){let b=qe("TabPanels");return()=>{let r={selectedIndex:b.selectedIndex.value};return ve({theirProps:s,ourProps:{},slot:r,attrs:g,slots:p,name:"TabPanels"})}}}),Tl=ce({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(s,{attrs:p,slots:g,expose:b}){var r;let w=(r=s.id)!=null?r:`headlessui-tabs-panel-${Ue()}`,f=qe("TabPanel"),m=h(null);b({el:m,$el:m}),de(()=>f.registerPanel(m)),He(()=>f.unregisterPanel(m));let x=Ve(st),_=q(()=>{if(x.value){let C=x.value.panels.indexOf(w);return C===-1?x.value.panels.push(w)-1:C}return-1}),k=q(()=>{let C=f.panels.value.indexOf(m);return C===-1?_.value:C}),S=q(()=>k.value===f.selectedIndex.value);return()=>{var C;let A={selected:S.value},t=s,{tabIndex:$}=t,i=fe(t,["tabIndex"]),o={ref:m,id:w,role:"tabpanel","aria-labelledby":(C=z(f.tabs.value[k.value]))==null?void 0:C.id,tabIndex:S.value?$:-1};return!S.value&&s.unmount&&!s.static?Oe(ht,E({as:"span","aria-hidden":!0},o)):ve({ourProps:o,theirProps:i,slot:A,attrs:p,slots:g,features:Ee.Static|Ee.RenderStrategy,visible:S.value,name:"TabPanel"})}}});const Ml={__name:"Step1CouncilSelection",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","council-change"],setup(s,{emit:p}){const g=s,b=p,r=w=>{console.log("[Step1CouncilSelection] updateCouncil called with:",w),console.log("[Step1CouncilSelection] Current modelValue:",g.modelValue),b("update:modelValue",Ce(E({},g.modelValue),{council:w})),b("council-change",w),console.log("[Step1CouncilSelection] Emitted events")};return(w,f)=>(a(),n("div",null,[f[0]||(f[0]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Council",-1)),f[1]||(f[1]=e("p",{class:"text-gray-600 mb-8"},"Choose the council that will process your application",-1)),G(fl,{"model-value":s.modelValue.council,"onUpdate:modelValue":r,"display-mode":"cards",required:!0,"show-selected-info":!0,label:"","show-label":!1},null,8,["model-value"])]))}},Al={key:0,class:"text-center py-12"},Pl={key:1,class:"grid md:grid-cols-2 gap-4"},Dl=["onClick"],jl={class:"flex items-start justify-between"},Rl={class:"flex-1"},Il={class:"text-lg font-semibold text-gray-900 mb-2"},Bl=["innerHTML"],Fl={class:"mt-4 flex items-center space-x-4 text-xs text-gray-500"},Nl={key:0},Ll={key:1},zl={key:2,class:"px-2 py-1 bg-gray-100 rounded"},Ul={key:0,class:"ml-4"},El={__name:"Step2RequestType",props:{modelValue:{type:Object,required:!0},requestTypes:{type:Object,required:!0}},emits:["update:modelValue","type-selected"],setup(s,{emit:p}){const g=s,b=p,r=w=>{console.log("[Step2RequestType] selectType called with:",w.name),console.log("[Step2RequestType] props.modelValue:",g.modelValue),console.log("[Step2RequestType] props.modelValue.council:",g.modelValue.council);const f=Ce(E({},g.modelValue),{request_type:w.name});console.log("[Step2RequestType] Emitting updatedValue:",f),b("update:modelValue",f),b("type-selected",w)};return(w,f)=>(a(),n("div",null,[f[2]||(f[2]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Application Type",-1)),f[3]||(f[3]=e("p",{class:"text-gray-600 mb-8"},"Choose the type of consent you wish to apply for",-1)),s.requestTypes.loading?(a(),n("div",Al,[...f[0]||(f[0]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):(a(),n("div",Pl,[(a(!0),n(U,null,O(s.requestTypes.data,m=>(a(),n("div",{key:m.name,onClick:x=>r(m),class:I(["border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md",s.modelValue.request_type===m.name?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[e("div",jl,[e("div",Rl,[e("h3",Il,v(m.type_name),1),e("p",{class:"text-sm text-gray-600",innerHTML:m.description||"No description available"},null,8,Bl),e("div",Fl,[m.base_fee?(a(),n("span",Nl,"Fee: $"+v(m.base_fee),1)):y("",!0),m.processing_sla_days?(a(),n("span",Ll,v(m.processing_sla_days)+" days",1)):y("",!0),m.category?(a(),n("span",zl,v(m.category),1)):y("",!0)])]),s.modelValue.request_type===m.name?(a(),n("div",Ul,[...f[1]||(f[1]=[e("div",{class:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):y("",!0)])],10,Dl))),128))]))]))}},Ol={class:"text-gray-600 mb-6"},Hl={key:0,class:"space-y-6"},Wl={key:0,class:"bg-white border border-gray-200 rounded-lg p-6"},Gl={class:"flex items-center gap-4 mb-4"},Jl={class:"flex items-center"},Kl={key:1,class:"mt-4"},Ql={class:"space-y-2"},Xl={class:"flex-1"},Yl={class:"text-sm font-medium text-gray-900"},Zl={class:"text-xs text-gray-600 mt-1"},es={key:0,class:"text-xs text-gray-500 mt-1"},ts=["onClick"],ls={class:"bg-white border border-gray-200 rounded-lg p-6"},ss={class:"flex items-start justify-between mb-4"},os={class:"text-xl font-semibold text-gray-900"},as={key:0,class:"text-sm text-gray-500 mt-1"},ns={class:"grid md:grid-cols-3 gap-4 mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},rs={class:"text-2xl font-bold text-blue-900 mt-1"},is={class:"text-2xl font-bold text-blue-900 mt-1"},us={class:"text-2xl font-bold text-blue-900 mt-1"},ds={key:1,class:"bg-white border border-gray-200 rounded-lg p-6"},cs=["innerHTML"],ps={key:2,class:"bg-white border border-gray-200 rounded-lg p-6"},ms=["innerHTML"],vs={key:1,class:"text-center py-12"},gs={class:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden"},fs={class:"overflow-y-auto max-h-[calc(90vh-140px)] px-6 py-4"},ys={class:"space-y-4"},bs={class:"sticky bottom-0 bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t border-gray-200"},xs=["disabled"],_s={__name:"Step3ProcessInfo",props:{requestTypeDetails:{type:Object,default:null},councilName:{type:String,default:""},modelValue:{type:Object,default:()=>({})}},emits:["continue","update:modelValue"],setup(s,{emit:p}){var i,o;const g=wt(),b=s,r=p,w=h(((i=b.modelValue)==null?void 0:i.pre_app_meeting_not_required)||!1),f=h(((o=b.modelValue)==null?void 0:o.pre_app_meetings)||[]),m=h(!1),x=h({meeting_type:"Council Meeting",meeting_format:"In Person",meeting_purpose:"",preferred_time_slot_1_start:null});le([w,f],()=>{r("update:modelValue",Ce(E({},b.modelValue),{pre_app_meeting_not_required:w.value,pre_app_meetings:f.value}))},{deep:!0});const _=()=>{x.value={meeting_type:"Council Meeting",meeting_format:"In Person",meeting_purpose:"",preferred_time_slot_1_start:null},m.value=!0},k=()=>{m.value=!1},S=()=>{f.value.push(E({},x.value)),k()},C=t=>{confirm("Remove this council meeting request?")&&f.value.splice(t,1)},A=t=>t?new Date(t).toLocaleString("en-NZ",{dateStyle:"medium",timeStyle:"short"}):"",$=()=>{if(!et.isLoggedIn){const t=window.location.pathname+window.location.search;g.push({name:"Login",query:{redirect:t}});return}r("continue")};return(t,c)=>(a(),n("div",null,[c[27]||(c[27]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Council Process Information",-1)),e("p",Ol,"Understanding "+v(s.councilName)+"'s process for this application",1),s.requestTypeDetails?(a(),n("div",Hl,[s.requestTypeDetails.council_meeting_available?(a(),n("div",Wl,[c[6]||(c[6]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-4"},"Council Meeting",-1)),c[7]||(c[7]=e("p",{class:"text-sm text-gray-600 mb-4"}," You may schedule a Council Meeting with the Council to seek further clarifications in respect of your application before proceeding. ",-1)),e("div",Gl,[e("label",Jl,[T(e("input",{type:"checkbox","onUpdate:modelValue":c[0]||(c[0]=P=>w.value=P),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[ee,w.value]]),c[4]||(c[4]=e("span",{class:"ml-2 text-sm text-gray-700"},"I do not require a council meeting",-1))])]),w.value?y("",!0):(a(),n("button",{key:0,onClick:_,type:"button",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," Request Council Meeting ")),f.value&&f.value.length>0?(a(),n("div",Kl,[c[5]||(c[5]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Requested Meetings",-1)),e("div",Ql,[(a(!0),n(U,null,O(f.value,(P,B)=>(a(),n("div",{key:B,class:"p-3 bg-gray-50 border border-gray-200 rounded-lg flex items-start justify-between"},[e("div",Xl,[e("span",Yl,v(P.meeting_type||"Council Meeting"),1),e("p",Zl,v(P.meeting_format),1),P.preferred_time_slot_1_start?(a(),n("p",es," Preferred: "+v(A(P.preferred_time_slot_1_start)),1)):y("",!0)]),e("button",{onClick:J=>C(B),type:"button",class:"text-red-600 hover:text-red-800 text-sm ml-4"}," Remove ",8,ts)]))),128))])])):y("",!0)])):y("",!0),e("div",ls,[e("div",ss,[e("div",null,[e("h3",os,v(s.requestTypeDetails.request_type_name),1),s.requestTypeDetails.category?(a(),n("p",as,v(s.requestTypeDetails.category),1)):y("",!0)])]),e("div",ns,[e("div",null,[c[8]||(c[8]=e("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Application Fee",-1)),e("div",rs," $"+v(s.requestTypeDetails.base_fee||"0"),1),c[9]||(c[9]=e("div",{class:"text-xs text-blue-600 mt-1"},"Plus any additional costs",-1))]),e("div",null,[c[11]||(c[11]=e("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Processing Time",-1)),e("div",is,[j(v(s.requestTypeDetails.sla_days||"N/A")+" ",1),c[10]||(c[10]=e("span",{class:"text-base"},"days",-1))]),c[12]||(c[12]=e("div",{class:"text-xs text-blue-600 mt-1"},"Standard timeframe",-1))]),e("div",null,[c[13]||(c[13]=e("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Payment Required",-1)),e("div",us,v(s.requestTypeDetails.requires_payment?"Yes":"No"),1),c[14]||(c[14]=e("div",{class:"text-xs text-blue-600 mt-1"},"Before processing",-1))])])]),s.requestTypeDetails.process_description?(a(),n("div",ds,[c[15]||(c[15]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"How This Works",-1)),e("div",{class:"prose prose-sm max-w-none text-gray-700",innerHTML:s.requestTypeDetails.process_description},null,8,cs)])):s.requestTypeDetails.description?(a(),n("div",ps,[c[16]||(c[16]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"About This Application",-1)),e("div",{class:"prose prose-sm max-w-none text-gray-700",innerHTML:s.requestTypeDetails.description},null,8,ms)])):y("",!0),c[17]||(c[17]=me('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4"><div class="flex items-start"><svg class="w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><div><h5 class="font-semibold text-yellow-900 text-sm">Before You Continue</h5><p class="text-yellow-800 text-sm mt-1"> Please review this information carefully. Make sure you understand the process, fees, and timeframes before proceeding with your application. </p></div></div></div>',1)),e("div",{class:"flex justify-center pt-4"},[e("button",{type:"button",onClick:$,class:"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors"}," I Understand - Continue to Application ")])])):(a(),n("div",vs,[...c[18]||(c[18]=[e("p",{class:"text-gray-500"},"No request type selected. Please go back and select a request type.",-1)])])),m.value?(a(),n("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:be(k,["self"])},[e("div",gs,[e("div",{class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between"},[c[20]||(c[20]=e("h3",{class:"text-xl font-bold text-gray-900"},"Request Council Meeting",-1)),e("button",{onClick:k,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...c[19]||(c[19]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",fs,[e("div",ys,[c[26]||(c[26]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[e("p",{class:"text-sm text-blue-900"}," A council meeting allows you to discuss your proposal with council planners before formally submitting your application. ")],-1)),e("div",null,[c[22]||(c[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Meeting Format *",-1)),T(e("select",{"onUpdate:modelValue":c[1]||(c[1]=P=>x.value.meeting_format=P),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...c[21]||(c[21]=[e("option",{value:"In Person"},"In Person",-1),e("option",{value:"Video Call"},"Video Call",-1),e("option",{value:"Phone Call"},"Phone Call",-1)])],512),[[ie,x.value.meeting_format]])]),e("div",null,[c[23]||(c[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Meeting Purpose *",-1)),T(e("textarea",{"onUpdate:modelValue":c[2]||(c[2]=P=>x.value.meeting_purpose=P),rows:"4",placeholder:"Describe what you'd like to discuss in this meeting...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[L,x.value.meeting_purpose]])]),e("div",null,[c[24]||(c[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Preferred Date & Time",-1)),T(e("input",{"onUpdate:modelValue":c[3]||(c[3]=P=>x.value.preferred_time_slot_1_start=P),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,x.value.preferred_time_slot_1_start]]),c[25]||(c[25]=e("p",{class:"text-xs text-gray-500 mt-1"},"Select your preferred date and time. The council will confirm or propose an alternative.",-1))])])]),e("div",bs,[e("button",{onClick:k,type:"button",class:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors"}," Cancel "),e("button",{onClick:S,type:"button",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",disabled:!x.value.meeting_purpose}," Request Meeting ",8,xs)])])])):y("",!0)]))}},hs={class:"px-4 sm:px-0"},ws={class:"space-y-4 sm:space-y-6"},ks={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6"},Cs={class:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-0"},$s={class:"text-base sm:text-lg font-semibold text-blue-900"},Vs={class:"text-xs sm:text-sm text-blue-700 mt-1"},Ss={class:"sm:text-right"},qs={class:"text-xl sm:text-2xl font-bold text-blue-900"},Ts={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Ms={class:"p-4 sm:p-6 space-y-3"},As={class:"grid md:grid-cols-2 gap-4"},Ps={class:"font-medium"},Ds={class:"font-medium"},js={class:"font-medium"},Rs={key:0},Is={class:"font-medium"},Bs={key:0,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Fs={class:"p-4 sm:p-6"},Ns={key:0,class:"space-y-2"},Ls={class:"font-medium"},zs={key:0},Us={class:"font-medium"},Es={key:1,class:"text-gray-500"},Os={key:1,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Hs={class:"p-4 sm:p-6 space-y-3"},Ws={class:"font-medium"},Gs={class:"font-medium"},Js={class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},Ks={class:"font-semibold text-gray-900 text-sm sm:text-base"},Qs={class:"p-4 sm:p-6 space-y-4"},Xs={key:0,class:"text-sm font-medium text-gray-700 mb-2"},Ys={class:"grid md:grid-cols-2 gap-4"},Zs={class:"text-sm text-gray-500"},eo={class:"font-medium"},to={key:0,class:"text-gray-500 text-sm"},lo={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},so={class:"p-4 sm:p-6"},oo={class:"space-y-3"},ao={class:"mt-2 flex flex-wrap gap-2"},no={key:0,class:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium"},ro={key:1,class:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium"},io={key:2,class:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium"},uo={key:3,class:"px-3 py-1 bg-cyan-100 text-cyan-800 rounded-full text-sm font-medium"},co={key:4,class:"px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm font-medium"},po={key:5,class:"text-gray-500"},mo={class:"mt-1 inline-flex items-center"},vo={key:0},go={class:"font-medium break-words"},fo={key:0,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},yo={class:"p-4 sm:p-6"},bo={class:"flex flex-wrap gap-2"},xo={key:0,class:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium inline-flex items-center gap-1"},_o={key:1,class:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium inline-flex items-center gap-1"},ho={key:2,class:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium inline-flex items-center gap-1"},wo={key:3,class:"px-3 py-1 bg-cyan-100 text-cyan-800 rounded-full text-sm font-medium inline-flex items-center gap-1"},ko={key:1,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Co={class:"p-4 sm:p-6"},$o={class:"space-y-3"},Vo={class:"font-medium"},So={key:0},qo={class:"text-sm mt-1 line-clamp-3"},To={key:1},Mo={class:"text-sm mt-1 line-clamp-3"},Ao={class:"flex items-center gap-2"},Po={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Do={class:"p-4 sm:p-6"},jo={class:"space-y-4"},Ro={key:0},Io=["innerHTML"],Bo={key:1},Fo=["innerHTML"],No={key:2},Lo={class:"text-sm mt-1 line-clamp-3"},zo={key:3},Uo={class:"text-sm mt-1 space-y-1 list-disc list-inside"},Eo={key:0},Oo={key:1},Ho={key:2},Wo={key:4},Go=["innerHTML"],Jo={key:5,class:"text-gray-500 text-sm"},Ko={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Qo={class:"p-4 sm:p-6"},Xo={class:"space-y-2"},Yo={class:"flex items-start gap-2"},Zo={class:"flex items-start gap-2"},ea={class:"flex items-start gap-2"},ta={key:0,class:"mt-4 pt-4 border-t border-gray-200"},la={class:"font-medium"},sa={key:0,class:"text-sm text-gray-500"},oa={key:4,class:"bg-red-50 border border-red-200 rounded-lg p-4"},aa={__name:"Step17Review",props:{modelValue:{type:Object,required:!0},councilName:{type:String,default:"Council"},requestTypeName:{type:String,default:"Application"},applicationFee:{type:String,default:"TBD"},isResourceConsent:{type:Boolean,default:!1},stepConfigs:{type:Array,default:()=>[]},usesConfigurableSteps:{type:Boolean,default:!1},requestTypeDetails:{type:Object,default:null}},setup(s){const p=s,g=q(()=>!p.usesConfigurableSteps||!p.stepConfigs?[]:p.stepConfigs.filter(i=>i.show_on_review)),b=q(()=>p.isResourceConsent?!0:!!(p.modelValue.property||p.modelValue.property_address)),r=i=>{if(!i.sections)return!1;for(const o of i.sections)if(o.show_on_review){for(const t of o.fields)if(t.show_on_review&&p.modelValue[t.field_name])return!0}return!1},w=(i,o)=>{if(o==null||o==="")return"Not provided";if(i.field_type==="Check")return o?"Yes":"No";if(i.field_type==="Date"&&o)try{return new Date(o).toLocaleDateString("en-NZ",{year:"numeric",month:"long",day:"numeric"})}catch(t){return o}return i.field_type==="Currency"&&o?`₱${Number(o).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`:i.field_type==="Select"?o:i.field_type==="Attach"||i.field_type==="Attach Image"?o?"✓ File attached":"Not provided":o},f=q(()=>!!(p.modelValue.consent_type_land_use||p.modelValue.consent_type_subdivision||p.modelValue.consent_type_discharge||p.modelValue.consent_type_water||p.modelValue.consent_type_coastal)),m=q(()=>{const i=p.modelValue.activity_status_type;return i==="Permitted"?"bg-green-100 text-green-800":i==="Controlled"?"bg-blue-100 text-blue-800":i==="Restricted Discretionary"?"bg-yellow-100 text-yellow-800":i==="Discretionary"?"bg-orange-100 text-orange-800":i==="Non-Complying"?"bg-red-100 text-red-800":i==="Prohibited"?"bg-gray-800 text-white":"bg-gray-100 text-gray-800"}),x=q(()=>!!(p.modelValue.hazard_flooding||p.modelValue.hazard_earthquake||p.modelValue.hazard_landslip||p.modelValue.hazard_coastal)),_=q(()=>!!(p.modelValue.consultation_undertaken||p.modelValue.consultation_summary||p.modelValue.affected_parties_details||p.modelValue.written_approvals_obtained)),k=q(()=>!!(p.modelValue.activity_description||p.modelValue.aee_full_assessment||p.modelValue.positive_effects_description||p.modelValue.effects_visual_amenity||p.modelValue.effects_traffic_parking||p.modelValue.effects_noise||p.modelValue.mitigation_measures||p.modelValue.aee_activity_description||p.modelValue.aee_existing_environment||p.modelValue.assessment_of_effects||p.modelValue.aee_document)),S=i=>{if(!i)return"";const o=document.createElement("div");return o.innerHTML=i,o.textContent||o.innerText||""},C=(i,o)=>{if(!i)return"";const t=S(i);return t.length<=o?t:t.substring(0,o)+"..."},A=i=>{if(!i)return"";try{return new Date(i).toLocaleDateString("en-NZ",{year:"numeric",month:"long",day:"numeric"})}catch(o){return i}},$=q(()=>{const i=!!(p.modelValue.council&&p.modelValue.request_type&&p.modelValue.applicant_name&&p.modelValue.applicant_email&&p.modelValue.property_address&&p.modelValue.delivery_preference);if(p.isResourceConsent){const o=!!(f.value&&p.modelValue.activity_status_type&&p.modelValue.activity_description&&p.modelValue.aee_full_assessment&&p.modelValue.declaration_accuracy&&p.modelValue.declaration_authority&&p.modelValue.declaration_acknowledgment);return i&&o}return i});return(i,o)=>{var t;return a(),n("div",hs,[o[39]||(o[39]=e("h2",{class:"text-xl sm:text-2xl font-bold text-gray-900 mb-2"},"Review & Submit",-1)),o[40]||(o[40]=e("p",{class:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8"},"Review your application details before submitting",-1)),e("div",ws,[e("div",ks,[e("div",Cs,[e("div",null,[e("h3",$s,v(s.requestTypeName),1),e("p",Vs,v(s.councilName),1)]),e("div",Ss,[o[0]||(o[0]=e("div",{class:"text-xs sm:text-sm text-blue-600 font-medium"},"Application Fee",-1)),e("div",qs,v(s.applicationFee),1)])])]),e("div",Ts,[o[5]||(o[5]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Applicant Details")],-1)),e("div",Ms,[e("div",As,[e("div",null,[o[1]||(o[1]=e("span",{class:"text-sm text-gray-500"},"Name:",-1)),e("p",Ps,v(s.modelValue.applicant_name||"Not provided"),1)]),e("div",null,[o[2]||(o[2]=e("span",{class:"text-sm text-gray-500"},"Email:",-1)),e("p",Ds,v(s.modelValue.applicant_email||"Not provided"),1)]),e("div",null,[o[3]||(o[3]=e("span",{class:"text-sm text-gray-500"},"Phone:",-1)),e("p",js,v(s.modelValue.applicant_phone||"Not provided"),1)]),s.modelValue.applicant_company?(a(),n("div",Rs,[o[4]||(o[4]=e("span",{class:"text-sm text-gray-500"},"Company:",-1)),e("p",Is,v(s.modelValue.applicant_company),1)])):y("",!0)])])]),b.value?(a(),n("div",Bs,[o[8]||(o[8]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Property Details")],-1)),e("div",Fs,[s.modelValue.property_address?(a(),n("div",Ns,[e("div",null,[o[6]||(o[6]=e("span",{class:"text-sm text-gray-500"},"Address:",-1)),e("p",Ls,v(s.modelValue.property_address),1)]),s.modelValue.legal_description?(a(),n("div",zs,[o[7]||(o[7]=e("span",{class:"text-sm text-gray-500"},"Legal Description:",-1)),e("p",Us,v(s.modelValue.legal_description),1)])):y("",!0)])):(a(),n("p",Es,"No property selected"))])])):y("",!0),(t=s.requestTypeDetails)!=null&&t.collect_payment?(a(),n("div",Os,[o[11]||(o[11]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Delivery & Payment")],-1)),e("div",Hs,[e("div",null,[o[9]||(o[9]=e("span",{class:"text-sm text-gray-500"},"Delivery Preference:",-1)),e("p",Ws,v(s.modelValue.delivery_preference||"Not selected"),1)]),e("div",null,[o[10]||(o[10]=e("span",{class:"text-sm text-gray-500"},"Invoice To:",-1)),e("p",Gs,v(s.modelValue.invoice_to||"Not specified"),1)])])])):y("",!0),s.usesConfigurableSteps&&g.value.length>0?(a(!0),n(U,{key:2},O(g.value,c=>(a(),n("div",{key:c.step_code,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},[e("div",Js,[e("h3",Ks,v(c.step_title),1)]),e("div",Qs,[(a(!0),n(U,null,O(c.sections.filter(P=>P.show_on_review),P=>(a(),n("div",{key:P.section_code},[P.section_title?(a(),n("h4",Xs,v(P.section_title),1)):y("",!0),e("div",Ys,[(a(!0),n(U,null,O(P.fields.filter(B=>B.show_on_review),B=>(a(),n("div",{key:B.field_name},[e("span",Zs,v(B.review_label||B.field_label)+":",1),e("p",eo,v(w(B,s.modelValue[B.field_name])),1)]))),128))])]))),128)),r(c)?y("",!0):(a(),n("p",to," No information to display for review "))])]))),128)):y("",!0),s.isResourceConsent?(a(),n(U,{key:3},[e("div",lo,[o[15]||(o[15]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Consent Types & Activity Status")],-1)),e("div",so,[e("div",oo,[e("div",null,[o[12]||(o[12]=e("span",{class:"text-sm text-gray-500"},"Consent Types:",-1)),e("div",ao,[s.modelValue.consent_type_land_use?(a(),n("span",no," Land Use Consent ")):y("",!0),s.modelValue.consent_type_subdivision?(a(),n("span",ro," Subdivision Consent ")):y("",!0),s.modelValue.consent_type_discharge?(a(),n("span",io," Discharge Permit ")):y("",!0),s.modelValue.consent_type_water?(a(),n("span",uo," Water Permit ")):y("",!0),s.modelValue.consent_type_coastal?(a(),n("span",co," Coastal Permit ")):y("",!0),f.value?y("",!0):(a(),n("span",po," None selected "))])]),e("div",null,[o[13]||(o[13]=e("span",{class:"text-sm text-gray-500"},"Activity Status:",-1)),e("div",mo,[e("span",{class:I(["px-3 py-1 rounded-full text-sm font-medium",m.value])},v(s.modelValue.activity_status_type||"Not specified"),3)])]),s.modelValue.activity_title?(a(),n("div",vo,[o[14]||(o[14]=e("span",{class:"text-sm text-gray-500"},"Activity Title:",-1)),e("p",go,v(s.modelValue.activity_title),1)])):y("",!0)])])]),x.value?(a(),n("div",fo,[o[20]||(o[20]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Natural Hazards")],-1)),e("div",yo,[e("div",bo,[s.modelValue.hazard_flooding?(a(),n("span",xo,[...o[16]||(o[16]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"})],-1),j(" Flood Hazard ",-1)])])):y("",!0),s.modelValue.hazard_earthquake?(a(),n("span",_o,[...o[17]||(o[17]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),j(" Earthquake/Fault Line ",-1)])])):y("",!0),s.modelValue.hazard_landslip?(a(),n("span",ho,[...o[18]||(o[18]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1),j(" Landslip/Slope Instability ",-1)])])):y("",!0),s.modelValue.hazard_coastal?(a(),n("span",wo,[...o[19]||(o[19]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5"})],-1),j(" Coastal Hazard ",-1)])])):y("",!0)])])])):y("",!0),_.value?(a(),n("div",ko,[o[25]||(o[25]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Consultation & Affected Parties")],-1)),e("div",Co,[e("div",$o,[e("div",null,[o[21]||(o[21]=e("span",{class:"text-sm text-gray-500"},"Consultation Undertaken:",-1)),e("p",Vo,v(s.modelValue.consultation_undertaken||"Not specified"),1)]),s.modelValue.consultation_summary?(a(),n("div",So,[o[22]||(o[22]=e("span",{class:"text-sm text-gray-500"},"Consultation Summary:",-1)),e("p",qo,v(s.modelValue.consultation_summary),1)])):y("",!0),s.modelValue.affected_parties_details?(a(),n("div",To,[o[23]||(o[23]=e("span",{class:"text-sm text-gray-500"},"Affected Parties:",-1)),e("p",Mo,v(S(s.modelValue.affected_parties_details)),1)])):y("",!0),e("div",Ao,[(a(),n("svg",{class:I(["w-5 h-5",s.modelValue.written_approvals_obtained?"text-green-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...o[24]||(o[24]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),e("span",{class:I(s.modelValue.written_approvals_obtained?"text-gray-900":"text-gray-500")}," Written Approvals "+v(s.modelValue.written_approvals_obtained?"Obtained":"Not Obtained"),3)])])])])):y("",!0),e("div",Po,[o[31]||(o[31]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Assessment of Environmental Effects")],-1)),e("div",Do,[e("div",jo,[s.modelValue.activity_description?(a(),n("div",Ro,[o[26]||(o[26]=e("span",{class:"text-sm text-gray-500"},"Activity Description:",-1)),e("div",{class:"text-sm mt-1 line-clamp-3",innerHTML:s.modelValue.activity_description},null,8,Io)])):y("",!0),s.modelValue.aee_full_assessment?(a(),n("div",Bo,[o[27]||(o[27]=e("span",{class:"text-sm text-gray-500"},"Full Assessment:",-1)),e("div",{class:"text-sm mt-1 line-clamp-3",innerHTML:s.modelValue.aee_full_assessment},null,8,Fo)])):y("",!0),s.modelValue.positive_effects_description?(a(),n("div",No,[o[28]||(o[28]=e("span",{class:"text-sm text-gray-500"},"Positive Effects:",-1)),e("p",Lo,v(s.modelValue.positive_effects_description),1)])):y("",!0),s.modelValue.effects_visual_amenity||s.modelValue.effects_traffic_parking||s.modelValue.effects_noise?(a(),n("div",zo,[o[29]||(o[29]=e("span",{class:"text-sm text-gray-500"},"Adverse Effects Summary:",-1)),e("ul",Uo,[s.modelValue.effects_visual_amenity?(a(),n("li",Eo,"Visual/Amenity: "+v(C(s.modelValue.effects_visual_amenity,50)),1)):y("",!0),s.modelValue.effects_traffic_parking?(a(),n("li",Oo,"Traffic/Parking: "+v(C(s.modelValue.effects_traffic_parking,50)),1)):y("",!0),s.modelValue.effects_noise?(a(),n("li",Ho,"Noise: "+v(C(s.modelValue.effects_noise,50)),1)):y("",!0)])])):y("",!0),s.modelValue.mitigation_measures?(a(),n("div",Wo,[o[30]||(o[30]=e("span",{class:"text-sm text-gray-500"},"Mitigation Measures:",-1)),e("div",{class:"text-sm mt-1 line-clamp-3",innerHTML:s.modelValue.mitigation_measures},null,8,Go)])):y("",!0),k.value?y("",!0):(a(),n("p",Jo," AEE not yet completed "))])])]),e("div",Ko,[o[36]||(o[36]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Statutory Declarations")],-1)),e("div",Qo,[e("div",Xo,[e("div",Yo,[(a(),n("svg",{class:I(["w-5 h-5 flex-shrink-0 mt-0.5",s.modelValue.declaration_accuracy||s.modelValue.declaration_rma_compliance?"text-green-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...o[32]||(o[32]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),e("span",{class:I(["text-sm",s.modelValue.declaration_accuracy||s.modelValue.declaration_rma_compliance?"text-gray-900":"text-gray-500"])}," Declaration of Accuracy & RMA Compliance ",2)]),e("div",Zo,[(a(),n("svg",{class:I(["w-5 h-5 flex-shrink-0 mt-0.5",s.modelValue.declaration_authority||s.modelValue.declaration_authorized?"text-green-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...o[33]||(o[33]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),e("span",{class:I(["text-sm",s.modelValue.declaration_authority||s.modelValue.declaration_authorized?"text-gray-900":"text-gray-500"])}," Declaration of Authority to Apply ",2)]),e("div",ea,[(a(),n("svg",{class:I(["w-5 h-5 flex-shrink-0 mt-0.5",s.modelValue.declaration_acknowledgment||s.modelValue.declaration_public_information?"text-green-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...o[34]||(o[34]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),e("span",{class:I(["text-sm",s.modelValue.declaration_acknowledgment||s.modelValue.declaration_public_information?"text-gray-900":"text-gray-500"])}," Public Information & Privacy Acknowledgment ",2)]),s.modelValue.applicant_signature?(a(),n("div",ta,[o[35]||(o[35]=e("span",{class:"text-sm text-gray-500"},"Signed by:",-1)),e("p",la,v(s.modelValue.applicant_signature),1),s.modelValue.signature_date?(a(),n("p",sa," Date: "+v(A(s.modelValue.signature_date)),1)):y("",!0)])):y("",!0)])])])],64)):y("",!0),o[38]||(o[38]=me('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 sm:p-6" data-v-3fc986b6><div class="flex items-start gap-2 sm:gap-3" data-v-3fc986b6><svg class="w-5 h-5 sm:w-6 sm:h-6 text-yellow-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3fc986b6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-3fc986b6></path></svg><div data-v-3fc986b6><h4 class="font-semibold text-yellow-900 text-sm sm:text-base" data-v-3fc986b6>Before You Submit</h4><ul class="mt-2 text-xs sm:text-sm text-yellow-800 space-y-1 list-disc list-inside" data-v-3fc986b6><li data-v-3fc986b6>Review all information carefully for accuracy and completeness</li><li data-v-3fc986b6>Ensure all required fields are completed</li><li data-v-3fc986b6>For Resource Consent applications, verify all statutory declarations are confirmed</li><li data-v-3fc986b6>Once submitted, you cannot edit the application (you may need to withdraw and resubmit)</li></ul></div></div></div>',1)),$.value?y("",!0):(a(),n("div",oa,[...o[37]||(o[37]=[me('<div class="flex items-start gap-2 sm:gap-3" data-v-3fc986b6><svg class="w-5 h-5 text-red-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3fc986b6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-3fc986b6></path></svg><div data-v-3fc986b6><h5 class="font-semibold text-red-900 text-xs sm:text-sm" data-v-3fc986b6>Application Incomplete</h5><p class="text-red-800 text-xs sm:text-sm mt-1" data-v-3fc986b6> Please complete all required sections before submitting. Use the Previous button to go back and fill in missing information. </p></div></div>',1)])]))])])}}},na=Se(aa,[["__scopeId","data-v-3fc986b6"]]);function ra(s,p){return a(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z","clip-rule":"evenodd"})])}const ia={class:"space-y-4"},ua={class:"block"},da={class:"text-sm font-medium text-gray-900"},ca={key:0,class:"text-red-500"},pa={key:0,class:"text-xs text-gray-500 mt-1"},ma={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},va=["disabled"],ga=["disabled"],fa={class:"text-center"},ya={class:"text-xs text-gray-500"},ba=["accept","multiple"],xa={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},_a={class:"flex items-center space-x-3"},ha={class:"flex-1"},wa={class:"mt-1 w-full bg-blue-200 rounded-full h-2"},ka={key:1,class:"space-y-2"},Ca={class:"flex items-center space-x-3 flex-1 min-w-0"},$a={class:"flex-shrink-0"},Va={key:0,class:"w-12 h-12 rounded-lg overflow-hidden border-2 border-green-300"},Sa=["src","alt"],qa={key:1,class:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center"},Ta={class:"flex-1 min-w-0"},Ma={class:"text-sm font-medium text-gray-900 truncate"},Aa={class:"text-xs text-gray-500"},Pa=["onClick"],Da={class:"bg-white rounded-2xl max-w-2xl w-full overflow-hidden shadow-2xl"},ja={class:"relative bg-black aspect-video"},Ra=["src"],Ia={key:2,class:"absolute inset-0 pointer-events-none"},Ba={class:"w-full h-full grid grid-cols-3 grid-rows-3"},Fa={class:"bg-gray-900 px-6 py-6"},Na={key:0,class:"flex items-center justify-center space-x-6"},La={key:1,class:"flex items-center justify-center space-x-4"},za={__name:"CameraUpload",props:{label:{type:String,required:!0},helpText:{type:String,default:""},modelValue:{type:Array,default:()=>[]},accept:{type:String,default:"image/*,.pdf"},multiple:{type:Boolean,default:!1},required:{type:Boolean,default:!1},allowCamera:{type:Boolean,default:!0},maxSize:{type:Number,default:20*1024*1024}},emits:["update:modelValue","upload"],setup(s,{emit:p}){const g=s,b=p,r=h(null),w=h(null),f=h(!1),m=h(null),x=h(null),_=h(!1),k=h(0),S=q({get:()=>g.modelValue,set:D=>b("update:modelValue",D)}),C=()=>{var D;(D=r.value)==null||D.click()},A=D=>W(this,null,function*(){const V=Array.from(D.target.files);yield $(V),D.target.value=""}),$=D=>W(this,null,function*(){const V=[];for(const M of D){if(M.size>g.maxSize){alert(`File ${M.name} exceeds maximum size of ${_e(g.maxSize)}`);continue}let F=null;M.type.startsWith("image/")&&(F=yield i(M)),V.push({file:M,name:M.name,size:M.size,type:M.type,preview:F,uploadDate:new Date().toISOString()})}if(V.length>0){const M=g.multiple?[...S.value,...V]:V;b("update:modelValue",M),yield o(V)}}),i=D=>new Promise(V=>{const M=new FileReader;M.onload=F=>V(F.target.result),M.onerror=()=>V(null),M.readAsDataURL(D)}),o=D=>W(this,null,function*(){_.value=!0,k.value=0;try{for(let V=0;V<D.length;V++){const M=D[V],F=setInterval(()=>{k.value=Math.min(k.value+10,90)},100);yield new Promise(Te=>{b("upload",M,Te)}),clearInterval(F),k.value=(V+1)/D.length*100}}catch(V){console.error("Upload error:",V),alert("Failed to upload files. Please try again.")}finally{_.value=!1,k.value=0}}),t=D=>{const V=[...S.value];V.splice(D,1),b("update:modelValue",V)},c=()=>W(this,null,function*(){try{f.value=!0,yield P()}catch(D){console.error("Camera error:",D),alert("Unable to access camera. Please check permissions or upload a file instead."),f.value=!1}}),P=()=>W(this,null,function*(){try{const D=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}},audio:!1});x.value=D,w.value&&(w.value.srcObject=D)}catch(D){throw D}}),B=()=>{const D=w.value,V=document.createElement("canvas");V.width=D.videoWidth,V.height=D.videoHeight,V.getContext("2d").drawImage(D,0,0,V.width,V.height),m.value=V.toDataURL("image/jpeg",.9)},J=()=>{m.value=null},Y=()=>W(this,null,function*(){if(!m.value)return;const D=yield(yield fetch(m.value)).blob(),V=new File([D],`photo-${Date.now()}.jpg`,{type:"image/jpeg"});yield $([V]),Z()}),Z=()=>{x.value&&(x.value.getTracks().forEach(D=>D.stop()),x.value=null),m.value=null,f.value=!1},_e=D=>{if(D===0)return"0 Bytes";const V=1024,M=["Bytes","KB","MB","GB"],F=Math.floor(Math.log(D)/Math.log(V));return Math.round(D/Math.pow(V,F)*100)/100+" "+M[F]};return(D,V)=>(a(),n("div",ia,[e("label",ua,[e("span",da,[j(v(s.label)+" ",1),s.required?(a(),n("span",ca,"*")):y("",!0)]),s.helpText?(a(),n("p",pa,v(s.helpText),1)):y("",!0)]),e("div",ma,[s.allowCamera?(a(),n("button",{key:0,onClick:c,type:"button",class:I(["relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-blue-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",{"opacity-50 cursor-not-allowed":_.value}]),disabled:_.value},[...V[0]||(V[0]=[me('<div class="text-center" data-v-2bd160e5><svg class="mx-auto h-10 w-10 text-blue-500 group-hover:text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-2bd160e5><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" data-v-2bd160e5></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" data-v-2bd160e5></path></svg><p class="mt-2 text-sm font-medium text-blue-600 group-hover:text-blue-700" data-v-2bd160e5>Take Photo</p><p class="text-xs text-gray-500" data-v-2bd160e5>Use camera</p></div>',1)])],10,va)):y("",!0),e("button",{onClick:C,type:"button",class:I(["relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",{"opacity-50 cursor-not-allowed":_.value}]),disabled:_.value},[e("div",fa,[V[1]||(V[1]=e("svg",{class:"mx-auto h-10 w-10 text-gray-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),V[2]||(V[2]=e("p",{class:"mt-2 text-sm font-medium text-gray-700 group-hover:text-blue-700"},"Upload File",-1)),e("p",ya,"Browse "+v(s.multiple?"files":"file"),1)]),e("input",{ref_key:"fileInput",ref:r,type:"file",accept:s.accept,multiple:s.multiple,onChange:A,class:"hidden"},null,40,ba)],10,ga)]),_.value?(a(),n("div",xa,[e("div",_a,[V[4]||(V[4]=e("svg",{class:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e("div",ha,[V[3]||(V[3]=e("p",{class:"text-sm font-medium text-blue-900"},"Uploading...",-1)),e("div",wa,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all",style:dl({width:k.value+"%"})},null,4)])])])])):y("",!0),S.value.length>0?(a(),n("div",ka,[G(cl,{name:"list"},{default:te(()=>[(a(!0),n(U,null,O(S.value,(M,F)=>(a(),n("div",{key:M.name+F,class:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg group hover:bg-green-100 transition-colors"},[e("div",Ca,[e("div",$a,[M.preview?(a(),n("div",Va,[e("img",{src:M.preview,alt:M.name,class:"w-full h-full object-cover"},null,8,Sa)])):(a(),n("div",qa,[...V[5]||(V[5]=[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])]))]),e("div",Ta,[e("p",Ma,v(M.name),1),e("p",Aa,v(_e(M.size)),1)]),e("button",{onClick:Te=>t(F),type:"button",class:"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-lg transition-colors",title:"Remove"},[...V[6]||(V[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Pa)])]))),128))]),_:1})])):y("",!0),(a(),ue(pl,{to:"body"},[f.value?(a(),n("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:be(Z,["self"])},[e("div",Da,[e("div",{class:"bg-gray-900 px-6 py-4 flex items-center justify-between"},[V[8]||(V[8]=e("h3",{class:"text-white font-semibold text-lg"},"Take Photo",-1)),e("button",{onClick:Z,class:"text-gray-400 hover:text-white transition-colors"},[...V[7]||(V[7]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",ja,[m.value?(a(),n("img",{key:1,src:m.value,alt:"Captured",class:"w-full h-full object-contain"},null,8,Ra)):(a(),n("video",{key:0,ref_key:"videoElement",ref:w,autoplay:"",playsinline:"",class:"w-full h-full object-contain"},null,512)),m.value?y("",!0):(a(),n("div",Ia,[e("div",Ba,[(a(),n(U,null,O(9,M=>e("div",{key:M,class:"border border-white/20"})),64))])]))]),e("div",Fa,[m.value?(a(),n("div",La,[e("button",{onClick:J,type:"button",class:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium"}," Retake "),e("button",{onClick:Y,type:"button",class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"}," Use Photo ")])):(a(),n("div",Na,[e("button",{onClick:B,type:"button",class:"w-16 h-16 rounded-full bg-white border-4 border-gray-700 hover:border-blue-500 transition-all flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105"},[...V[9]||(V[9]=[e("div",{class:"w-12 h-12 rounded-full bg-blue-500"},null,-1)])])]))])])])):y("",!0)]))]))}},Ua=Se(za,[["__scopeId","data-v-2bd160e5"]]),Ea={class:"space-y-4"},Oa={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ha={class:"block text-sm font-medium text-gray-700 mb-2"},Wa={key:0,class:"text-red-500"},Ga={class:"relative"},Ja=["required"],Ka=["value"],Qa={class:"block text-sm font-medium text-gray-700 mb-2"},Xa={key:0,class:"text-red-500"},Ya={class:"relative"},Za=["required","disabled"],en=["value"],tn={key:0,class:"mt-1 text-xs text-gray-500"},ln={class:"block text-sm font-medium text-gray-700 mb-2"},sn={key:0,class:"text-red-500"},on={class:"relative"},an=["required","disabled"],nn=["value"],rn={key:0,class:"mt-1 text-xs text-gray-500"},un={class:"block text-sm font-medium text-gray-700 mb-2"},dn={key:0,class:"text-red-500"},cn=["required"],pn={class:"md:col-span-2"},mn={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4"},vn={class:"flex items-start"},gn={class:"flex-1"},fn={class:"text-sm text-green-700 mt-1"},yn={__name:"PhilippinesAddressInput",props:{modelValue:{type:[String,Object],default:""},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(s,{emit:p}){const g=s,b=p,r=h({street:"",barangay:"",municipality:"",province:"",zipCode:""}),w=["Metro Manila","Rizal","Cavite","Laguna","Bulacan","Pampanga","Batangas","Quezon","Cebu","Davao del Sur","Benguet","Iloilo","Negros Occidental","Pangasinan","Albay"],f={"Metro Manila":["Manila City","Quezon City","Makati City","Pasig City","Taguig City","Mandaluyong City","Pasay City","Parañaque City","Las Piñas City","Muntinlupa City","Caloocan City","Malabon City","Navotas City","Valenzuela City","Marikina City","San Juan City","Pateros"],Rizal:["Taytay","Antipolo City","Cainta","Binangonan","San Mateo","Rodriguez (Montalban)","Angono","Cardona","Jalajala","Morong","Pililla","Tanay","Teresa","Baras"],Cavite:["Bacoor City","Cavite City","Dasmarinas City","Imus City","Tagaytay City","Trece Martires City","General Trias","Silang","Kawit","Noveleta","Rosario","Tanza","Naic"]},m={Taytay:["Dolores","San Juan","Muzon","San Isidro","Sta. Ana","Poblacion","Bagumbayan","Bamban","Calumpang","Dalig","Dolores","San Juan","Muzon"],"Manila City":["Ermita","Intramuros","Malate","Paco","Pandacan","Port Area","Quiapo","Sampaloc","San Andres","San Miguel","San Nicolas","Santa Ana","Santa Cruz","Santa Mesa","Tondo"],"Quezon City":["Bagong Pag-asa","Bahay Toro","Batasan Hills","Commonwealth","Cubao","Fairview","Kamuning","Novaliches","Project 4","Tatalon","Teacher's Village"]},x=q(()=>r.value.province?f[r.value.province]||[]:[]),_=q(()=>r.value.municipality?m[r.value.municipality]||["Other - Please specify in Street field"]:[]),k=q(()=>{const $=[];return r.value.street&&$.push(r.value.street),r.value.barangay&&$.push(`Brgy. ${r.value.barangay}`),r.value.municipality&&$.push(r.value.municipality),r.value.province&&$.push(r.value.province),r.value.zipCode&&$.push(r.value.zipCode),$.length>0?$.join(", "):""}),S=()=>{r.value.municipality="",r.value.barangay="",A()},C=()=>{r.value.barangay="",A()},A=()=>{b("update:modelValue",k.value)};return de(()=>{var $;if(g.modelValue)if(typeof g.modelValue=="string"){const i=g.modelValue.split(",").map(o=>o.trim());i.length>=3&&(r.value.street=i[0]||"",r.value.barangay=(($=i[1])==null?void 0:$.replace("Brgy. ",""))||"",r.value.municipality=i[2]||"",r.value.province=i[3]||"",r.value.zipCode=i[4]||"")}else typeof g.modelValue=="object"&&(r.value=E(E({},r.value),g.modelValue))}),le(()=>g.modelValue,$=>{$&&typeof $=="object"&&(r.value=E(E({},r.value),$))}),($,i)=>(a(),n("div",Ea,[i[18]||(i[18]=me('<div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200"><div class="flex items-start"><svg class="h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><div class="flex-1"><h3 class="text-sm font-semibold text-blue-900">Residential Address</h3><p class="text-xs text-blue-700 mt-0.5">Please provide your complete address details</p></div></div></div>',1)),e("div",Oa,[e("div",null,[e("label",Ha,[i[5]||(i[5]=j(" Province ",-1)),s.required?(a(),n("span",Wa,"*")):y("",!0)]),e("div",Ga,[T(e("select",{"onUpdate:modelValue":i[0]||(i[0]=o=>r.value.province=o),onChange:S,required:s.required,class:I(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value.province}])},[i[6]||(i[6]=e("option",{value:""},"Select Province",-1)),(a(),n(U,null,O(w,o=>e("option",{key:o,value:o},v(o),9,Ka)),64))],42,Ja),[[ie,r.value.province]]),i[7]||(i[7]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",null,[e("label",Qa,[i[8]||(i[8]=j(" Municipality/City ",-1)),s.required?(a(),n("span",Xa,"*")):y("",!0)]),e("div",Ya,[T(e("select",{"onUpdate:modelValue":i[1]||(i[1]=o=>r.value.municipality=o),onChange:C,required:s.required,disabled:!r.value.province,class:I(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",{"border-blue-500 ring-2 ring-blue-100":r.value.municipality}])},[i[9]||(i[9]=e("option",{value:""},"Select Municipality/City",-1)),(a(!0),n(U,null,O(x.value,o=>(a(),n("option",{key:o,value:o},v(o),9,en))),128))],42,Za),[[ie,r.value.municipality]]),i[10]||(i[10]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),r.value.province?y("",!0):(a(),n("p",tn,"Select province first"))]),e("div",null,[e("label",ln,[i[11]||(i[11]=j(" Barangay ",-1)),s.required?(a(),n("span",sn,"*")):y("",!0)]),e("div",on,[T(e("select",{"onUpdate:modelValue":i[2]||(i[2]=o=>r.value.barangay=o),onChange:A,required:s.required,disabled:!r.value.municipality,class:I(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",{"border-blue-500 ring-2 ring-blue-100":r.value.barangay}])},[i[12]||(i[12]=e("option",{value:""},"Select Barangay",-1)),(a(!0),n(U,null,O(_.value,o=>(a(),n("option",{key:o,value:o},v(o),9,nn))),128))],42,an),[[ie,r.value.barangay]]),i[13]||(i[13]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),r.value.municipality?y("",!0):(a(),n("p",rn,"Select municipality first"))]),e("div",null,[e("label",un,[i[14]||(i[14]=j(" Street / House No. ",-1)),s.required?(a(),n("span",dn,"*")):y("",!0)]),T(e("input",{"onUpdate:modelValue":i[3]||(i[3]=o=>r.value.street=o),onInput:A,type:"text",required:s.required,placeholder:"e.g., 123 Main Street, Blk 5 Lot 10",class:I(["block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value.street}])},null,42,cn),[[L,r.value.street]])]),e("div",pn,[i[15]||(i[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[j(" ZIP Code "),e("span",{class:"text-gray-500 text-xs font-normal"},"(Optional)")],-1)),T(e("input",{"onUpdate:modelValue":i[4]||(i[4]=o=>r.value.zipCode=o),onInput:A,type:"text",placeholder:"e.g., 1630",maxlength:"4",class:"block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all max-w-xs"},null,544),[[L,r.value.zipCode]])])]),k.value?(a(),n("div",mn,[e("div",vn,[i[17]||(i[17]=e("svg",{class:"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",gn,[i[16]||(i[16]=e("p",{class:"text-sm font-medium text-green-900"},"Complete Address",-1)),e("p",fn,v(k.value),1)])])])):y("",!0)]))}},bn={class:"inline-block relative group"},xn={__name:"Tooltip",props:{text:{type:String,default:""},position:{type:String,default:"top",validator:s=>["top","bottom","left","right"].includes(s)}},setup(s){const p=s,g=h(!1),b=q(()=>{switch(p.position){case"top":return"bottom-full left-1/2 -translate-x-1/2 mb-2";case"bottom":return"top-full left-1/2 -translate-x-1/2 mt-2";case"left":return"right-full top-1/2 -translate-y-1/2 mr-2";case"right":return"left-full top-1/2 -translate-y-1/2 ml-2";default:return"bottom-full left-1/2 -translate-x-1/2 mb-2"}}),r=q(()=>{switch(p.position){case"top":return"tooltip-arrow-bottom";case"bottom":return"tooltip-arrow-top";case"left":return"tooltip-arrow-right";case"right":return"tooltip-arrow-left";default:return"tooltip-arrow-bottom"}});return(w,f)=>(a(),n("div",bn,[yt(w.$slots,"trigger",{},()=>[e("button",{type:"button",class:"inline-flex items-center justify-center w-5 h-5 ml-1 text-gray-400 hover:text-blue-600 rounded-full hover:bg-blue-50 transition-colors cursor-help",onMouseenter:f[0]||(f[0]=m=>g.value=!0),onMouseleave:f[1]||(f[1]=m=>g.value=!1)},[...f[2]||(f[2]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])],32)],!0),G(ml,{name:"tooltip"},{default:te(()=>[g.value?(a(),n("div",{key:0,class:I(["absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg pointer-events-none",b.value]),style:{"max-width":"300px","white-space":"normal"}},[yt(w.$slots,"default",{},()=>[j(v(s.text),1)],!0),e("div",{class:I(["tooltip-arrow",r.value])},null,2)],2)):y("",!0)]),_:3})]))}},Ne=Se(xn,[["__scopeId","data-v-1fa5e90e"]]);function St(s,p){if(!s||s.trim()==="")return!0;let g=s.trim();g.startsWith("eval:")&&(g=g.substring(5).trim());try{return new Function("formData",`
      'use strict';
      try {
        return Boolean(${g});
      } catch (e) {
        console.warn('[Conditional Logic] Evaluation error:', e.message);
        return false;
      }
    `)(p)}catch(b){return console.error("[Conditional Logic] Failed to evaluate expression:",s,b),!0}}function _n(s,p){return!s||!s.is_enabled?!1:s.depends_on?St(s.depends_on,p):!0}function hn(s,p){return s?s.depends_on?St(s.depends_on,p):!0:!1}function wn(){const{validateField:s}=require("../utils/fieldValidation"),p=h({}),g=h(!1);function b(x,_,k,S={}){const C=s(_,k.validation,S);return C.valid?k.is_required&&(_===""||_===null||_===void 0)?(p.value[x]=`${k.field_label} is required`,!1):(delete p.value[x],!0):(p.value[x]=C.message,!1)}function r(x,_){return W(this,null,function*(){g.value=!0,p.value={};let k=!0;for(const S of x.sections||[])if(!(S.depends_on&&!w(S.depends_on,_)))for(const C of S.fields||[]){if(C.depends_on&&!w(C.depends_on,_))continue;const A=_[C.field_name];b(C.field_name,A,C,_)||(k=!1)}return g.value=!1,k})}function w(x,_){try{const{evaluateCondition:k}=require("../utils/conditionalLogic");return k(x,_)}catch(k){return console.error("Error evaluating depends_on:",k),!0}}function f(){p.value={}}function m(x){delete p.value[x]}return{errors:p,isValidating:g,validateConfigField:b,validateStep:r,clearErrors:f,clearFieldError:m}}const kn={class:"space-y-6"},Cn={key:0,class:"form-group"},$n={key:1,class:"form-group"},Vn=["for"],Sn={key:0,class:"text-red-500 ml-1"},qn={class:"relative"},Tn=["id","onUpdate:modelValue","onBlur","required","placeholder"],Mn={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},An=["innerHTML"],Pn={key:0,class:"mt-1 text-xs text-red-600"},Dn={key:1,class:"mt-1 text-xs text-gray-500"},jn={key:2,class:"form-group"},Rn=["for"],In={key:0,class:"text-red-500 ml-1"},Bn={class:"relative"},Fn=["id","onUpdate:modelValue","onBlur","required"],Nn={value:""},Ln=["value"],zn={key:0,class:"mt-1 text-xs text-red-600"},Un={key:1,class:"mt-1 text-xs text-gray-500"},En={key:3,class:"form-group"},On={class:"flex items-center h-5"},Hn=["id","onUpdate:modelValue","onChange","required"],Wn={class:"ml-3 text-sm"},Gn=["for"],Jn={key:0,class:"text-red-500 ml-1"},Kn={key:0,class:"mt-1 text-xs text-red-600"},Qn={key:1,class:"mt-1 text-xs text-gray-500"},Xn={key:4,class:"form-group"},Yn=["for"],Zn={key:0,class:"text-red-500 ml-1"},er=["id","onUpdate:modelValue","onBlur","required","placeholder"],tr={key:0,class:"mt-1 text-xs text-red-600"},lr={key:1,class:"mt-1 text-xs text-gray-500"},sr={key:5,class:"form-group"},or=["for"],ar={key:0,class:"text-red-500 ml-1"},nr={class:"relative"},rr=["id","onUpdate:modelValue","onBlur","required"],ir={key:0,class:"mt-1 text-xs text-red-600"},ur={key:1,class:"mt-1 text-xs text-gray-500"},dr={key:6,class:"form-group"},cr=["for"],pr={key:0,class:"text-red-500 ml-1"},mr={class:"relative"},vr=["id","onUpdate:modelValue","required","placeholder"],gr={key:0,class:"mt-1 text-xs text-gray-500"},fr={key:7,class:"form-group"},yr=["for"],br={key:0,class:"text-red-500 ml-1"},xr={class:"relative"},_r=["id","onUpdate:modelValue","required","placeholder"],hr={key:0,class:"mt-1 text-xs text-gray-500"},wr={key:8,class:"form-group"},kr=["for"],Cr={key:0,class:"text-red-500 ml-1"},$r={class:"relative"},Vr=["id","onUpdate:modelValue","onBlur","required"],Sr={key:0,class:"mt-1 text-xs text-red-600"},qr={key:1,class:"mt-1 text-xs text-gray-500"},Tr={key:9,class:"form-group"},Mr={key:10,class:"form-group"},Ar={class:"text-sm text-gray-500 italic"},Pr={__name:"DynamicFieldRenderer",props:{fields:{type:Array,required:!0},modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(s,{emit:p}){const g=s,b=p,r=q({get:()=>g.modelValue,set:i=>b("update:modelValue",i)}),w=q(()=>g.fields.filter(i=>hn(i,r.value))),f=i=>{var c;const o=((c=i.parent_section_code)==null?void 0:c.toLowerCase())||"";return["address","residential_address","permanent_address","property_address","current_address","home_address"].includes(o)&&i.field_name==="address_line"&&i.field_type==="Data"},m=i=>{var t;if(i.placeholder)return i.placeholder;const o=((t=i.field_label)==null?void 0:t.toLowerCase())||"";return o.includes("name")?"e.g., Juan Dela Cruz":o.includes("email")?"e.g., juan@example.com":o.includes("phone")||o.includes("mobile")||o.includes("contact")?"e.g., 0917 123 4567":o.includes("age")?"e.g., 25":o.includes("occupation")?"e.g., Teacher":o.includes("income")||o.includes("salary")?"e.g., 15000":`Enter ${i.field_label}`},x=i=>{var t;const o=((t=i.field_label)==null?void 0:t.toLowerCase())||"";return o.includes("email")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"/></svg>':o.includes("phone")||o.includes("mobile")||o.includes("contact")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>':o.includes("name")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>':null},_=i=>i?i.split(`
`).map(o=>o.trim()).filter(Boolean):[],{errors:k,validateConfigField:S,clearFieldError:C}=wn(),A=i=>{if(!i.validation&&!i.is_required){C(i.field_name);return}const o=r.value[i.field_name];S(i.field_name,o,i,r.value)},$=i=>k.value[i]||"";return le(()=>g.fields,i=>{i.forEach(o=>{o.default_value&&!r.value[o.field_name]&&(o.default_value==="Today"&&o.field_type==="Date"?r.value[o.field_name]=new Date().toISOString().split("T")[0]:r.value[o.field_name]=o.default_value)})},{immediate:!0}),(i,o)=>(a(),n("div",kn,[(a(!0),n(U,null,O(w.value,t=>(a(),n("div",{key:t.field_name,class:"field-wrapper"},[f(t)?(a(),n("div",Cn,[G(yn,{modelValue:r.value[t.field_name],"onUpdate:modelValue":c=>r.value[t.field_name]=c,required:t.is_required},null,8,["modelValue","onUpdate:modelValue","required"])])):t.field_type==="Data"?(a(),n("div",$n,[e("label",{for:t.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[e("span",null,v(t.field_label),1),t.is_required?(a(),n("span",Sn,"*")):y("",!0),t.help_text||t.description?(a(),ue(Ne,{key:1,text:t.help_text||t.description},null,8,["text"])):y("",!0)],8,Vn),e("div",qn,[T(e("input",{id:t.field_name,type:"text","onUpdate:modelValue":c=>r.value[t.field_name]=c,onBlur:c=>A(t),required:t.is_required,class:I(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value[t.field_name]&&!$(t.field_name),"border-red-500 ring-2 ring-red-100":$(t.field_name)}]),placeholder:m(t)},null,42,Tn),[[L,r.value[t.field_name]]]),x(t)?(a(),n("div",Mn,[e("span",{innerHTML:x(t),class:"text-gray-400"},null,8,An)])):y("",!0)]),$(t.field_name)?(a(),n("p",Pn,v($(t.field_name)),1)):t.description?(a(),n("p",Dn,v(t.description),1)):y("",!0)])):t.field_type==="Select"?(a(),n("div",jn,[e("label",{for:t.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[e("span",null,v(t.field_label),1),t.is_required?(a(),n("span",In,"*")):y("",!0),t.help_text||t.description?(a(),ue(Ne,{key:1,text:t.help_text||t.description},null,8,["text"])):y("",!0)],8,Rn),e("div",Bn,[T(e("select",{id:t.field_name,"onUpdate:modelValue":c=>r.value[t.field_name]=c,onBlur:c=>A(t),required:t.is_required,class:I(["block w-full pl-4 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all appearance-none bg-white",{"border-blue-500 ring-2 ring-blue-100":r.value[t.field_name]&&!$(t.field_name),"border-red-500 ring-2 ring-red-100":$(t.field_name)}])},[e("option",Nn,"Select "+v(t.field_label),1),(a(!0),n(U,null,O(_(t.options),c=>(a(),n("option",{key:c,value:c},v(c),9,Ln))),128))],42,Fn),[[ie,r.value[t.field_name]]]),o[0]||(o[0]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),$(t.field_name)?(a(),n("p",zn,v($(t.field_name)),1)):t.description?(a(),n("p",Un,v(t.description),1)):y("",!0)])):t.field_type==="Check"?(a(),n("div",En,[e("div",{class:I(["flex items-start p-4 border rounded-lg hover:border-blue-300 transition-colors",{"border-gray-200":!$(t.field_name),"border-red-500 bg-red-50":$(t.field_name)}])},[e("div",On,[T(e("input",{id:t.field_name,type:"checkbox","onUpdate:modelValue":c=>r.value[t.field_name]=c,onChange:c=>A(t),required:t.is_required,class:"focus:ring-blue-500 h-5 w-5 text-blue-600 border-gray-300 rounded cursor-pointer"},null,40,Hn),[[ee,r.value[t.field_name]]])]),e("div",Wn,[e("label",{for:t.field_name,class:"font-medium text-gray-700 cursor-pointer"},[j(v(t.field_label)+" ",1),t.is_required?(a(),n("span",Jn,"*")):y("",!0)],8,Gn),$(t.field_name)?(a(),n("p",Kn,v($(t.field_name)),1)):t.description?(a(),n("p",Qn,v(t.description),1)):y("",!0)])],2)])):t.field_type==="Text"?(a(),n("div",Xn,[e("label",{for:t.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[j(v(t.field_label)+" ",1),t.is_required?(a(),n("span",Zn,"*")):y("",!0)],8,Yn),T(e("textarea",{id:t.field_name,"onUpdate:modelValue":c=>r.value[t.field_name]=c,onBlur:c=>A(t),required:t.is_required,rows:"4",class:I(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-y",{"border-blue-500 ring-2 ring-blue-100":r.value[t.field_name]&&!$(t.field_name),"border-red-500 ring-2 ring-red-100":$(t.field_name)}]),placeholder:m(t)},null,42,er),[[L,r.value[t.field_name]]]),$(t.field_name)?(a(),n("p",tr,v($(t.field_name)),1)):t.description?(a(),n("p",lr,v(t.description),1)):y("",!0)])):t.field_type==="Date"?(a(),n("div",sr,[e("label",{for:t.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[e("span",null,v(t.field_label),1),t.is_required?(a(),n("span",ar,"*")):y("",!0),t.help_text||t.description?(a(),ue(Ne,{key:1,text:t.help_text||t.description},null,8,["text"])):y("",!0)],8,or),e("div",nr,[T(e("input",{id:t.field_name,type:"date","onUpdate:modelValue":c=>r.value[t.field_name]=c,onBlur:c=>A(t),required:t.is_required,class:I(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value[t.field_name]&&!$(t.field_name),"border-red-500 ring-2 ring-red-100":$(t.field_name)}])},null,42,rr),[[L,r.value[t.field_name]]]),o[1]||(o[1]=e("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),$(t.field_name)?(a(),n("p",ir,v($(t.field_name)),1)):t.description?(a(),n("p",ur,v(t.description),1)):y("",!0)])):t.field_type==="Int"?(a(),n("div",dr,[e("label",{for:t.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[e("span",null,v(t.field_label),1),t.is_required?(a(),n("span",pr,"*")):y("",!0),t.help_text||t.description?(a(),ue(Ne,{key:1,text:t.help_text||t.description},null,8,["text"])):y("",!0)],8,cr),e("div",mr,[T(e("input",{id:t.field_name,type:"number","onUpdate:modelValue":c=>r.value[t.field_name]=c,required:t.is_required,step:"1",class:I(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value[t.field_name]}]),placeholder:m(t)},null,10,vr),[[L,r.value[t.field_name],void 0,{number:!0}]]),o[2]||(o[2]=e("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})])],-1))]),t.description?(a(),n("p",gr,v(t.description),1)):y("",!0)])):t.field_type==="Float"?(a(),n("div",fr,[e("label",{for:t.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[j(v(t.field_label)+" ",1),t.is_required?(a(),n("span",br,"*")):y("",!0)],8,yr),e("div",xr,[T(e("input",{id:t.field_name,type:"number","onUpdate:modelValue":c=>r.value[t.field_name]=c,required:t.is_required,step:"0.01",class:I(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value[t.field_name]}]),placeholder:m(t)},null,10,_r),[[L,r.value[t.field_name],void 0,{number:!0}]]),o[3]||(o[3]=e("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})])],-1))]),t.description?(a(),n("p",hr,v(t.description),1)):y("",!0)])):t.field_type==="Currency"?(a(),n("div",wr,[e("label",{for:t.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[j(v(t.field_label)+" ",1),t.is_required?(a(),n("span",Cr,"*")):y("",!0)],8,kr),e("div",$r,[o[4]||(o[4]=e("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 text-base font-medium"},"₱")],-1)),T(e("input",{id:t.field_name,type:"number","onUpdate:modelValue":c=>r.value[t.field_name]=c,onBlur:c=>A(t),required:t.is_required,step:"0.01",class:I(["block w-full pl-10 pr-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value[t.field_name]&&!$(t.field_name),"border-red-500 ring-2 ring-red-100":$(t.field_name)}]),placeholder:"0.00"},null,42,Vr),[[L,r.value[t.field_name],void 0,{number:!0}]])]),$(t.field_name)?(a(),n("p",Sr,v($(t.field_name)),1)):t.description?(a(),n("p",qr,v(t.description),1)):y("",!0)])):t.field_type==="Attach"||t.field_type==="Attach Image"?(a(),n("div",Tr,[G(Ua,{label:t.field_label,required:t.is_required,accept:t.field_type==="Attach Image"?"image/*":"*",multiple:!1,modelValue:r.value[t.field_name],"onUpdate:modelValue":c=>r.value[t.field_name]=c},null,8,["label","required","accept","modelValue","onUpdate:modelValue"])])):(a(),n("div",Mr,[e("div",Ar,' Field type "'+v(t.field_type)+'" not yet supported for '+v(t.field_label),1)]))]))),128))]))}},Ze=Se(Pr,[["__scopeId","data-v-ca8ad65e"]]),Dr={class:"dynamic-step max-w-4xl mx-auto"},jr={class:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200"},Rr={class:"flex items-start"},Ir={class:"ml-4 flex-1"},Br={class:"text-2xl font-bold text-blue-900"},Fr={key:0,class:"mt-2 text-sm text-blue-700"},Nr={class:"space-y-6"},Lr={class:"mb-4 pb-3 border-b-2 border-gray-200"},zr={class:"flex items-center"},Ur={class:"text-lg font-semibold text-gray-900"},Er={key:0,class:"text-red-500 ml-1"},Or={key:0,class:"text-sm text-gray-600 mt-0.5"},Hr={key:0,class:"text-xs text-gray-500 mt-2 ml-11"},Wr={class:"section-content"},Gr={key:2,class:"bg-white p-6 rounded-lg border-2 border-gray-200 shadow-sm hover:shadow-md transition-shadow"},Jr={__name:"DynamicStepRenderer",props:{stepConfig:{type:Object,required:!0},modelValue:{type:Object,required:!0},stepDescription:{type:String,default:""}},emits:["update:modelValue"],setup(s,{emit:p}){const g=s,b=p,r=q({get:()=>g.modelValue,set:m=>b("update:modelValue",m)}),w=q(()=>g.stepConfig.sections?g.stepConfig.sections.filter(m=>_n(m,r.value)):[]),f=m=>[m.section_title];return le(()=>g.stepConfig,m=>{m.sections&&m.sections.forEach(x=>{x.fields.forEach(_=>{_.default_value&&!r.value[_.field_name]&&(_.default_value==="Today"&&_.field_type==="Date"?r.value[_.field_name]=new Date().toISOString().split("T")[0]:r.value[_.field_name]=_.default_value)})})},{immediate:!0,deep:!0}),(m,x)=>(a(),n("div",Dr,[e("div",jr,[e("div",Rr,[x[3]||(x[3]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",Ir,[e("h2",Br,v(s.stepConfig.step_title),1),s.stepDescription?(a(),n("p",Fr,v(s.stepDescription),1)):y("",!0)])])]),e("div",Nr,[(a(!0),n(U,null,O(w.value,_=>(a(),n("div",{key:_.section_code,class:"section"},[e("div",Lr,[e("div",zr,[x[4]||(x[4]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3"},[e("svg",{class:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),e("div",null,[e("h3",Ur,[j(v(_.section_title)+" ",1),_.is_required?(a(),n("span",Er,"*")):y("",!0)]),_.section_description?(a(),n("p",Or,v(_.section_description),1)):y("",!0)])]),_.is_required?(a(),n("div",Hr,[...x[5]||(x[5]=[j(" All fields marked with ",-1),e("span",{class:"text-red-500"},"*",-1),j(" are required ",-1)])])):y("",!0)]),e("div",Wr,[_.section_type==="Tab"?(a(),ue(oe($l),{key:0},{default:te(()=>[G(oe(Vl),{class:"flex space-x-1 rounded-xl bg-blue-900/20 p-1 mb-4"},{default:te(()=>[(a(!0),n(U,null,O(f(_),(k,S)=>(a(),ue(oe(Sl),{key:S,class:I(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700 ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",m.selected?"bg-white shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"])},{default:te(({selected:C})=>[j(v(k),1)]),_:2},1032,["class"]))),128))]),_:2},1024),G(oe(ql),null,{default:te(()=>[(a(!0),n(U,null,O(f(_),(k,S)=>(a(),ue(oe(Tl),{key:S},{default:te(()=>[G(Ze,{fields:_.fields,modelValue:r.value,"onUpdate:modelValue":x[0]||(x[0]=C=>r.value=C)},null,8,["fields","modelValue"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)):_.section_type==="Accordion"?(a(),ue(oe(xl),{key:1},{default:te(({open:k})=>[G(oe(_l),{class:"flex w-full justify-between rounded-lg bg-blue-50 px-4 py-3 text-left text-sm font-medium text-blue-900 hover:bg-blue-100 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75 mb-2"},{default:te(()=>[e("span",null,v(_.section_title),1),G(oe(ra),{class:I([k?"rotate-180 transform":"","h-5 w-5 text-blue-500"])},null,8,["class"])]),_:2},1024),G(oe(hl),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:te(()=>[G(Ze,{fields:_.fields,modelValue:r.value,"onUpdate:modelValue":x[1]||(x[1]=S=>r.value=S)},null,8,["fields","modelValue"])]),_:2},1024)]),_:2},1024)):(a(),n("div",Gr,[G(Ze,{fields:_.fields,modelValue:r.value,"onUpdate:modelValue":x[2]||(x[2]=k=>r.value=k)},null,8,["fields","modelValue"])]))])]))),128))])]))}},Kr=Se(Jr,[["__scopeId","data-v-7850b912"]]),Qr={class:"min-h-screen bg-gray-50"},Xr={class:"bg-white shadow-sm border-b border-gray-200"},Yr={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Zr={class:"flex items-center justify-between py-4"},ei={class:"flex items-center space-x-3"},ti={class:"text-sm text-gray-500"},li={class:"flex items-center gap-2"},si={class:"bg-white border-b border-gray-200"},oi={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},ai={class:"flex items-center justify-between mb-2"},ni={class:"flex flex-col items-center"},ri={key:0},ii={key:1},ui={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},di={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},ci={key:0},pi={key:1},mi={key:2},vi={key:4},gi={class:"mt-8 flex justify-between items-center"},fi={key:1},yi=["disabled"],bi=["disabled"],xi={key:0},_i={key:1},hi={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},wi={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},ki={class:"flex items-center justify-between"},Ci={class:"text-lg font-semibold text-gray-900"},$i={class:"px-6 py-4 space-y-4"},Vi={class:"border-t border-gray-200 pt-4"},Si={class:"grid md:grid-cols-2 gap-4"},qi={class:"border-t border-gray-200 pt-4"},Ti={class:"space-y-3"},Mi={class:"border-t border-gray-200 pt-4"},Ai={class:"flex items-start mb-3"},Pi={key:0,class:"ml-7 space-y-3"},Di={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},ji={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},Ri={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Ii={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},Bi={class:"flex items-center justify-between"},Fi={class:"text-lg font-semibold text-gray-900"},Ni={class:"px-6 py-4 space-y-4"},Li={class:"border-t border-gray-200 pt-4"},zi={class:"space-y-3"},Ui={class:"border-t border-gray-200 pt-4"},Ei={class:"space-y-3"},Oi={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},Hi={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},Wi={class:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto"},Gi={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},Ji={class:"flex items-center justify-between"},Ki={class:"text-lg font-semibold text-gray-900"},Qi={class:"px-6 py-4 space-y-4"},Xi={class:"border-t border-gray-200 pt-4"},Yi={class:"grid md:grid-cols-3 gap-3"},Zi={class:"flex items-center"},eu={class:"flex items-center"},tu={class:"flex items-center"},lu={class:"flex items-center"},su={class:"border-t border-gray-200 pt-4"},ou={class:"space-y-2 p-3 border border-gray-200 rounded bg-gray-50"},au={class:"flex items-center"},nu={class:"flex items-center"},ru={class:"flex items-center"},iu={class:"flex items-center"},uu={class:"flex items-center"},du={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},cu={class:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col"},pu={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},mu={class:"flex items-center justify-between"},vu={class:"flex-1 overflow-y-auto"},gu={class:"grid md:grid-cols-3 gap-6 p-6"},fu={class:"md:col-span-2 space-y-4"},yu={class:"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200"},bu=["value"],xu={class:"ml-auto text-xs text-gray-500"},_u={key:0,class:"text-center py-12"},hu={key:1,class:"space-y-3"},wu={class:"flex items-start justify-between mb-2"},ku={class:"flex-1"},Cu={class:"flex items-center gap-2 mb-1"},$u={class:"text-sm font-semibold text-gray-900"},Vu={key:0,class:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-mono rounded"},Su={class:"flex items-center gap-2 mb-2"},qu={class:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded"},Tu={key:0,class:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded"},Mu={key:1,class:"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded"},Au=["innerHTML"],Pu=["onClick"],Du={key:2,class:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},ju={class:"md:col-span-1 bg-gray-50 rounded-lg p-4 border border-gray-200"},Ru={class:"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between"},Iu={class:"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full"},Bu={key:0,class:"space-y-2 max-h-[600px] overflow-y-auto"},Fu={class:"flex items-start justify-between mb-1"},Nu={class:"flex items-center gap-1"},Lu={class:"px-1.5 py-0.5 bg-gray-100 text-gray-700 font-mono text-xs rounded"},zu={class:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded"},Uu=["onClick"],Eu=["innerHTML"],Ou={key:1,class:"text-center py-8 text-xs text-gray-500"},Hu={key:0,class:"border-t border-gray-200 bg-gray-50 p-6"},Wu={class:"text-sm font-semibold text-gray-900 mb-4"},Gu={class:"grid md:grid-cols-2 gap-4 mb-4"},Ju=["value"],Ku={class:"mb-4"},Qu={class:"flex justify-end gap-2 mt-4"},Xu={class:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end"},ld={__name:"NewRequest",setup(s){const p=wt(),g=vl(),b=gl(),r=h(null),w=h(!1),f=h(null),m=h(0),x=q(()=>o.value.length),_=h(!1),k=h(!1),S=h([]);h(null),h(!1);const C=h(!1);h(!1);const A=h([]),$=h(!1),i=h(!1),o=q(()=>{const d=[];console.log("[Steps] Computing steps..."),console.log("[Steps] councilStore.isCouncilLocked:",b.isCouncilLocked),console.log("[Steps] route.query.type:",g.query.type),console.log("[Steps] formData.value.request_type:",t.value.request_type),b.isCouncilLocked?console.log("[Steps] Skipped Council step (locked)"):(d.push({title:"Council",number:d.length+1}),console.log("[Steps] Added Council step"));const l=g.query.type||g.query.locked==="true"&&t.value.request_type,u=b.isCouncilLocked&&l;return console.log("[Steps] hasPreselectedType:",l),console.log("[Steps] skipTypeStep:",u),u?console.log("[Steps] Skipped Type step (locked + preselected)"):(d.push({title:"Type",number:d.length+1}),console.log("[Steps] Added Type step")),d.push({title:"Process Info",number:d.length+1}),console.log("[Steps] Added Process Info step"),i.value&&A.value.length>0&&A.value.forEach((R,ne)=>{d.push({title:R.step_title,number:d.length+1,code:R.step_code,config:R,isDynamic:!0})}),d.push({title:"Review",number:d.length+1}),console.log("[Steps] Final steps:",d.map(R=>R.title).join(" → ")),console.log("[Steps] Total steps:",d.length),d}),t=h({council:"",request_type:"",request_category:"",property:"",property_address:"",legal_description:"",valuation_reference:"",parcel_id:"",ct_reference:"",property_coordinates:"",hazard_data:null,zone:"",activity_zone:"",brief_description:"",detailed_description:"",estimated_value:null,proposed_start_date:"",terms_accepted:!1,applicant_phone:"",applicant_type:"",submitted_on_behalf_of:"Myself",company_account:null,acting_on_behalf:!1,applicant_name:"",applicant_email:"",consent_types:[],activity_status:"",applicant_reference_number:"",delivery_preference:"",pim_reference:"",building_height:null,building_floor_area:null,earthworks_volume:null,earthworks_vertical_alteration:null,vehicle_movements_daily:null,parking_spaces_provided:null,hours_of_operation:"",consent_term_requested:"",site_topography:"",existing_vegetation_description:"",watercourses_present:!1,watercourse_description:"",existing_infrastructure:"",contamination_status_hail:"",boundary_description:"",boundary_activity_description:"",boundary_owner_approval_obtained:!1,boundary_approval_date:"",boundary_approval_document:null,natural_hazards:[],nes_assessments:[],hail_activities:[],confidential_information_claimed:!1,confidential_information_reason:"",assessment_of_effects:"",effects_on_people:"",physical_effects:"",earthworks_effects:"",discharge_contaminants_effects:"",ecosystem_effects:"",hazard_risk_assessment:"",cultural_effects:"",aee_document:null,aee_activity_description:"",aee_activity_status:"",aee_existing_environment:"",aee_site_area:null,aee_current_use:"",aee_zoning:"",aee_overlays:"",aee_designations:"",aee_part2_assessment:"",aee_plan_rules:[],aee_compliance_standards:[],aee_written_approvals:[],aee_proposed_conditions:[],aee_consultation_summary:"",alternatives_considered:"",mitigation_proposed:"",applicant_is_not_owner:!1,owner_name:"",owner_email:"",owner_phone:"",owner_address:"",certificate_of_title_document:null,declaration_rma_compliance:!1,declaration_public_information:!1,declaration_authorized:!1,invoice_to:"Applicant",invoice_name:"",invoice_email:"",invoice_address:"",purchase_order_number:"",transfer_deposit_required:!1,transfer_deposit_consent_number:"",affected_parties:[],written_approvals_obtained:0,iwi_consultation_undertaken:!1,iwi_consulted:"",cultural_impact_assessment:null,iwi_response_summary:"",specialist_reports:[],proposed_conditions:[]});h(""),h([]),h(!1),h(!1);const c=h(null),P=h([]),B=h({}),J=d=>(B.value[d]||(B.value[d]={hazard_type:d,present:!0,risk_level:"",assessment_notes:"",mitigation_required:!1}),B.value[d]);le(P,d=>{t.value.natural_hazards=d.map(l=>J(l))},{deep:!0}),le(B,()=>{t.value.natural_hazards=P.value.map(d=>J(d))},{deep:!0});const Y=[{value:"Contaminated Soil (HAIL)",label:"NES for Assessing and Managing Contaminants in Soil (HAIL)"},{value:"Air Quality",label:"NES for Air Quality"},{value:"Drinking Water",label:"NES for Sources of Human Drinking Water"},{value:"Freshwater",label:"NES for Freshwater Management"},{value:"Plantation Forestry",label:"NES for Plantation Forestry"},{value:"Electricity Transmission",label:"NES for Electricity Transmission Activities"},{value:"Telecommunications",label:"NES for Telecommunication Facilities"},{value:"Other",label:"Other NES"}],Z=h({}),_e=d=>(Z.value[d]||(Z.value[d]={nes_type:d,applies:!1,description:"",compliance_notes:""}),Z.value[d]);le(Z,()=>{t.value.nes_assessments=Y.filter(d=>_e(d.value).applies).map(d=>_e(d.value))},{deep:!0}),q(()=>t.value.nes_assessments.some(d=>d.nes_type&&d.nes_type.includes("HAIL")));const D=h(!1),V=h(null),M=h({activity_description:"",hail_category:"",currently_undertaken:!1,previously_undertaken:!1,likely_undertaken:!1,preliminary_investigation_done:!1,proposed_activities:[],notes:""}),F=h({fuel:!1,disturb:!1,sample:!1,subdivide:!1,change:!1}),Te=()=>{if(!M.value.activity_description){alert("Please enter activity description");return}const d=[];F.value.fuel&&d.push({activity_type:"Removing or replacing fuel storage system"}),F.value.disturb&&d.push({activity_type:"Disturbing soil"}),F.value.sample&&d.push({activity_type:"Sampling soil"}),F.value.subdivide&&d.push({activity_type:"Subdividing land"}),F.value.change&&d.push({activity_type:"Changing use of land"});const l=Ce(E({},M.value),{proposed_activities:d});V.value!==null?t.value.hail_activities[V.value]=l:t.value.hail_activities.push(l),D.value=!1},We=()=>{D.value=!1};h({building:!0,earthworks:!1,traffic:!1,operations:!1});const qt=h(JSON.parse(JSON.stringify(t.value))),Tt=q(()=>{const d=E({},t.value),l=E({},qt.value);delete d.terms_accepted,delete l.terms_accepted;const u=JSON.stringify(d),R=JSON.stringify(l);return u!==R}),he=q(()=>t.value.request_category==="Resource Consent"),we=d=>{var l;return((l=t.value.consent_types)==null?void 0:l.some(u=>u.consent_type===d))||!1},ot=q(()=>we("Land Use")),Ge=q(()=>we("Subdivision")),Mt=q(()=>we("Water Permit")),At=q(()=>we("Discharge Permit")),Pt=q(()=>we("Coastal Permit"));q(()=>ot.value||Ge.value),q(()=>{const d=t.value.activity_status==="Controlled",l=!Ge.value;return d&&l&&he.value}),q(()=>(ot.value||Ge.value)&&!(Mt.value||At.value||Pt.value)),q(()=>{if(!t.value.activity_status)return null;switch(t.value.activity_status){case"Non-Complying":return"⚠️ Non-complying activities face higher scrutiny and longer processing times. Consider council meeting.";case"Discretionary":return"ℹ️ Discretionary activities may require public notification depending on effects assessment.";case"Controlled":return"✓ Controlled activities must be granted consent. Council will focus on appropriate conditions.";default:return null}});const at=q(()=>Tt.value||S.value.length>0),ae=h({data:[],loading:!1,error:null}),Dt=bt({url:"frappe.client.get_list",params:{doctype:"Property",fields:["name","property_id","street_address","suburb","city","legal_description","certificate_of_title"],limit_page_length:100},auto:!1}),Me=d=>W(this,null,function*(){if(console.log("[NewRequest] onCouncilChange called with:",d),console.log("[NewRequest] formData.value.council is now:",t.value.council),!d){ae.value={data:[],loading:!1,error:null};return}ae.value.loading=!0,ae.value.error=null;try{yield b.loadRequestTypesForCouncil(d),ae.value.data=b.availableRequestTypes,console.log(`[NewRequest] Loaded ${ae.value.data.length} request types for council ${d}`)}catch(l){ae.value.error=l.message||"Failed to load request types",console.error("[NewRequest] Failed to load request types:",l)}finally{ae.value.loading=!1}}),jt=()=>{confirm("Are you sure you want to leave? Any unsaved changes will be lost.")&&p.push({name:"Dashboard"})},Rt=d=>d<m.value||d===m.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-600",It=d=>W(this,null,function*(){console.log("[NewRequest] Selecting Request Type:",d.name,d.type_name),t.value.request_type=d.name,t.value.request_category=d.category||"",c.value=d,console.log("[NewRequest] Form data updated:"),console.log("  request_type:",t.value.request_type),console.log("  request_category:",t.value.request_category),console.log("  council:",t.value.council),console.log("  formData.value:",t.value),d.category==="Resource Consent"&&et.user&&et.user!=="Guest"&&Dt.fetch(),yield nt(d.name)}),nt=d=>W(this,null,function*(){if(!d||!t.value.council){console.log("[NewRequest] Skipping step config load - missing requestType or council");return}try{$.value=!0,console.log("[NewRequest] Loading step config for:",d,"council:",t.value.council);const l=yield Fe("lodgeick.api.get_request_type_steps",{request_type:d,council_code:t.value.council});console.log("[NewRequest] Step config API result:",l),l&&l.uses_config&&l.steps&&l.steps.length>0?(A.value=l.steps,i.value=!0,console.log("[NewRequest] Loaded",A.value.length,"configured steps")):(A.value=[],i.value=!1,console.log("[NewRequest] No step configuration found - using hardcoded flow"))}catch(l){console.error("[NewRequest] Error loading step configuration:",l),A.value=[],i.value=!1}finally{$.value=!1}}),Je=q(()=>{var l,u,R,ne,K;switch(m.value){case 1:return!!t.value.council;case 2:return!!t.value.request_type;case 3:return!0;case 4:return!0;case 5:if(he.value){const se=t.value.consent_types;if(se==null?void 0:se.some(ke=>ke.consent_type==="Land Use"||ke.consent_type==="Subdivision")){const ke=t.value.natural_hazards,el=t.value.no_natural_hazards_confirmed;return ke&&ke.length>0||el}return!0}return!0;case 6:return!0;case 7:return!0;case 8:return!0;case 9:return!0;case 10:return he.value?t.value.aee_completion_method==="upload"?!!t.value.aee_document&&!!t.value.aee_document_confirmed:!!((l=t.value.aee_activity_description)!=null&&l.trim())&&!!((u=t.value.aee_existing_environment)!=null&&u.trim())&&!!((R=t.value.assessment_of_effects)!=null&&R.trim())&&!!t.value.aee_inline_confirmed:!0;case 11:if(he.value){const se=t.value.declaration_rma_compliance&&t.value.declaration_public_information&&t.value.declaration_authorized,mt=!!((ne=t.value.applicant_signature_first_name)!=null&&ne.trim())&&!!((K=t.value.applicant_signature_last_name)!=null&&K.trim())&&!!t.value.applicant_signature_date;return se&&mt}return!0;default:return!0}}),Bt=d=>W(this,null,function*(){try{const u=yield(yield fetch("/api/method/lodgeick.api.load_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:d})})).json();if(u.message&&u.message.success)t.value=u.message.form_data||{},m.value=u.message.current_step||1,console.log(`Draft loaded successfully. Resuming at step ${m.value}`);else throw new Error(u.message||"Failed to load draft")}catch(l){console.error("Error loading draft:",l),alert("Failed to load draft. Starting new application.")}}),rt=(d=!1)=>W(this,null,function*(){_.value=!0;try{const u=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:t.value,current_step:m.value,total_steps:x.value})})).json();if(u.message&&u.message.success)return u.message.request_id&&!t.value.request_id&&(t.value.request_id=u.message.request_id),alert(`Draft saved successfully! Request ID: ${u.message.request_number}`),d&&p.push({name:"Dashboard"}),u.message;throw new Error(u.message||"Failed to save draft")}catch(l){return console.error("Error saving draft:",l),alert("Failed to save draft. Please try again."),null}finally{_.value=!1}}),it=()=>{var l;const d=(l=b.councils)==null?void 0:l.find(u=>u.council_code===t.value.council);return(d==null?void 0:d.council_name)||"Council"},Ft=()=>{var l;const d=(l=ae.data)==null?void 0:l.find(u=>u.name===t.value.request_type);return(d==null?void 0:d.type_name)||"N/A"},Nt=()=>{var l;const d=(l=ae.data)==null?void 0:l.find(u=>u.name===t.value.request_type);return d!=null&&d.base_fee?`$${d.base_fee}`:"TBD"},ut=()=>{Je.value&&m.value++},dt=()=>{if(!i.value||A.value.length===0)return null;const d=o.value.findIndex(u=>u.title==="Process Info"),l=m.value-d-1;return l>=0&&l<A.value.length?A.value[l]:null},ge=()=>{const d=m.value>=0&&m.value<o.value.length?o.value[m.value].title:"";return console.log("[getCurrentStepTitle] currentStep:",m.value,"title:",d,"allSteps:",o.value.map(l=>l.title).join(" → ")),d},Lt=()=>W(this,null,function*(){yield zt()}),zt=()=>W(this,null,function*(){if(!t.value.declaration_rma_compliance||!t.value.declaration_public_information||!t.value.declaration_authorized){alert("Please confirm all three statutory declarations before submitting your application");return}k.value=!0;try{const l=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:t.value})})).json();if(!l.message||!l.message.success)throw new Error("Failed to create request");const u=l.message.request_id;if(S.value.length>0)for(const K of S.value){const se=new FormData;se.append("file",K),se.append("doctype","Request"),se.append("docname",u),se.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:se})}if(t.value.certificate_of_title_document){const K=new FormData;K.append("file",t.value.certificate_of_title_document),K.append("doctype","Request"),K.append("docname",u),K.append("fieldname","certificate_of_title_document"),K.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:K})}if(t.value.aee_document){const K=new FormData;K.append("file",t.value.aee_document),K.append("doctype","Resource Consent Application"),K.append("docname",u),K.append("fieldname","aee_document"),K.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:K})}const ne=yield(yield fetch("/api/method/lodgeick.lodgeick.doctype.request.request.submit_application",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:u})})).json();if(ne.message&&ne.message.success)alert(`Application submitted successfully! Request Number: ${ne.message.request_number}`),p.push({name:"Dashboard"});else throw new Error("Failed to submit application")}catch(d){console.error("Error submitting application:",d),alert("Failed to submit application")}finally{k.value=!1}});h(null);const Ke=h(!1),Ae=h(null),N=h({party_name:"",relationship:"",property_address:"",email:"",phone:"",postal_address:"",approval_obtained:!1,approval_date:"",approval_document:null,comments:""}),Ut=()=>{if(!N.value.party_name||!N.value.relationship){alert("Please enter party name and relationship");return}Ae.value!==null?t.value.affected_parties[Ae.value]=E({},N.value):t.value.affected_parties.push(E({},N.value)),Ke.value=!1},Qe=()=>{Ke.value=!1},Et=d=>{const l=d.target.files[0];if(l){if(l.size>10*1024*1024){alert("File size must be less than 10MB"),d.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"].includes(l.type)){alert("Only PDF, Word documents, and images (JPG, PNG) are allowed"),d.target.value="";return}N.value.approval_document=l}},Xe=h(!1),Pe=h(null),H=h({report_type:"",specialist_name:"",specialist_company:"",report_date:"",document:null,summary:""}),Ot=()=>{if(!H.value.report_type||!H.value.specialist_name||!H.value.report_date){alert("Please enter report type, specialist name, and report date");return}Pe.value!==null?t.value.specialist_reports[Pe.value]=E({},H.value):t.value.specialist_reports.push(E({},H.value)),Xe.value=!1},Ye=()=>{Xe.value=!1},Ht=d=>{const l=d.target.files[0];if(l){if(l.size>10*1024*1024){alert("File size must be less than 10MB"),d.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(l.type)){alert("Only PDF and Word documents are allowed"),d.target.value="";return}H.value.document=l}},De=h(!1),pe=h(null),ct=h([]),Wt=h(!1),je=h("All"),Q=h({condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""}),pt=["All","General","Timing","Lapse","Review","Financial Contribution","Bonds","Monitoring","Environmental Management","Construction","Operation","Landscape","Ecology","Archaeology","Cultural","Traffic","Parking","Noise","Discharge","Earthworks","Heritage","Water","Coastal","Other"],Re=q(()=>je.value==="All"?ct.value:ct.value.filter(d=>d.condition_category===je.value)),Gt=d=>{const u={condition_number:(t.value.proposed_conditions.length+1).toString(),condition_category:d.condition_category,condition_text:d.condition_text,compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""};t.value.proposed_conditions.push(u)},Jt=()=>{Q.value={condition_number:(t.value.proposed_conditions.length+1).toString(),condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},pe.value=null},Kt=()=>{if(!Q.value.condition_category||!Q.value.condition_text){alert("Please enter condition category and text");return}pe.value!==null?t.value.proposed_conditions[pe.value]=E({},Q.value):t.value.proposed_conditions.push(E({},Q.value)),Q.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},pe.value=null},Qt=()=>{Q.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},pe.value=null},Xt=d=>{confirm("Remove this condition?")&&(t.value.proposed_conditions.splice(d,1),t.value.proposed_conditions.forEach((l,u)=>{l.condition_number=(u+1).toString()}))};bt({url:"lodgeick.api.book_council_meeting",makeParams:d=>d,onSuccess:d=>{d&&d.success?alert(`✅ Council Meeting Request Sent!

Task #${d.task_id} has been created for the planning team.

They will contact you within 2 business days to schedule.`):alert("Meeting request sent successfully! The planning team will contact you soon."),C.value=!1},onError:d=>{console.error("Error requesting meeting:",d),alert("Failed to request council meeting. Please try again or contact the planning team directly."),C.value=!1}});const Yt=()=>W(this,null,function*(){try{w.value=!0;const d=yield Fe("lodgeick.api.get_user_profile");r.value=d,d.applicant_type&&!t.value.applicant_type&&(t.value.applicant_type=d.applicant_type),d.phone&&!t.value.applicant_phone&&!t.value.acting_on_behalf&&(t.value.applicant_phone=d.phone),t.value.acting_on_behalf||(t.value.applicant_name=`${d.first_name||""} ${d.last_name||""}`.trim()||d.email,t.value.applicant_email=d.email)}catch(d){console.error("Error loading user profile:",d)}finally{w.value=!1}}),Zt=()=>W(this,null,function*(){try{const d=yield Fe("lodgeick.api.get_user_company_account");d&&(f.value=d)}catch(d){console.error("Error loading company account:",d)}});return le(()=>t.value.submitted_on_behalf_of,d=>{d==="Company"&&f.value?t.value.company_account=f.value.name:t.value.company_account=null}),le(()=>t.value.acting_on_behalf,d=>{!d&&r.value?(t.value.applicant_name=`${r.value.first_name||""} ${r.value.last_name||""}`.trim()||r.value.email,t.value.applicant_email=r.value.email,r.value.phone&&(t.value.applicant_phone=r.value.phone),r.value.applicant_type&&(t.value.applicant_type=r.value.applicant_type)):d&&(t.value.applicant_name="",t.value.applicant_email="",t.value.applicant_phone="")}),le(()=>t.value.applicant_phone,(d,l)=>W(this,null,function*(){if(!t.value.acting_on_behalf&&r.value&&d&&d!==l&&d!==r.value.phone)try{yield Fe("lodgeick.api.update_user_profile",{phone:d}),r.value.phone=d,console.log("[NewRequest] Phone number saved to profile:",d)}catch(u){console.error("[NewRequest] Error saving phone to profile:",u)}})),le(()=>t.value.council,(d,l)=>{console.log("[NewRequest] formData.council changed from:",l,"to:",d),console.trace("[NewRequest] Stack trace for council change")}),de(()=>W(this,null,function*(){console.log("[NewRequest] onMounted - starting initialization"),yield Yt(),yield Zt();const d=g.params.id||g.query.draft_id;if(d){yield Bt(d);return}console.log("[NewRequest] Before loadLockedCouncil - isCouncilLocked:",b.isCouncilLocked);const l=yield b.loadLockedCouncil();console.log("[NewRequest] After loadLockedCouncil - result:",l),console.log("[NewRequest] After loadLockedCouncil - isCouncilLocked:",b.isCouncilLocked),console.log("[NewRequest] After loadLockedCouncil - lockedCouncil:",b.lockedCouncil);const u=g.query.type;if(console.log("[NewRequest] preselectedType from URL:",u),b.isCouncilLocked)if(console.log("[NewRequest] Council is locked:",b.lockedCouncil),t.value.council=b.lockedCouncil,yield Me(b.lockedCouncil),u){console.log("[NewRequest] Request type is pre-selected:",u),t.value.request_type=u;const R=b.requestTypes.find(ne=>ne.name===u);R&&(c.value=R,t.value.request_category=R.category||"",console.log("[NewRequest] Set selectedRequestTypeDetails:",R)),yield nt(u),m.value=0}else m.value=0;else if(b.preselectedFromUrl)console.log("[NewRequest] Setting council from URL:",b.preselectedFromUrl),t.value.council=b.preselectedFromUrl,yield Me(b.preselectedFromUrl);else{const R=yield b.getUserCouncils();R.default_council&&(console.log("[NewRequest] Setting council from user default:",R.default_council),t.value.council=R.default_council,yield Me(R.default_council))}console.log("[NewRequest] onMounted - initialization complete"),console.log("  Council:",t.value.council),console.log("  Type:",t.value.request_type),console.log("  Current Step:",m.value)})),(d,l)=>(a(),n("div",Qr,[e("header",Xr,[e("div",Yr,[e("div",Zr,[e("div",ei,[e("button",{onClick:jt,class:"text-gray-500 hover:text-gray-700"},[...l[42]||(l[42]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),e("div",null,[l[43]||(l[43]=e("h1",{class:"text-xl font-bold text-gray-900"},"New Application",-1)),e("p",ti,"Step "+v(m.value+1)+" of "+v(x.value),1)])]),e("div",li,[G(oe(xt),{onClick:l[0]||(l[0]=u=>rt(!1)),variant:"outline",theme:"gray",loading:_.value},{default:te(()=>[...l[44]||(l[44]=[j(" Save Draft ",-1)])]),_:1},8,["loading"]),G(oe(xt),{onClick:l[1]||(l[1]=u=>rt(!0)),variant:"outline",theme:"gray",loading:_.value},{default:te(()=>[...l[45]||(l[45]=[j(" Save Draft & Close ",-1)])]),_:1},8,["loading"])])])])]),e("div",si,[e("div",oi,[e("div",ai,[(a(!0),n(U,null,O(o.value,(u,R)=>(a(),n("div",{key:R,class:I(["flex items-center",{"flex-1":R<o.value.length-1}])},[e("div",ni,[e("div",{class:I(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",Rt(R)])},[R<m.value?(a(),n("span",ri,"✓")):(a(),n("span",ii,v(R+1),1))],2),e("span",{class:I(["text-xs mt-2 text-center",R===m.value?"text-blue-600 font-medium":"text-gray-500"])},v(u.title),3)]),R<o.value.length-1?(a(),n("div",{key:0,class:I(["flex-1 h-1 mx-4 rounded",R<m.value?"bg-blue-600":"bg-gray-200"])},null,2)):y("",!0)],2))),128))])])]),e("main",ui,[e("div",di,[ge()==="Council"?(a(),n("div",ci,[G(Ml,{modelValue:t.value,"onUpdate:modelValue":l[2]||(l[2]=u=>t.value=u),onCouncilChange:Me},null,8,["modelValue"])])):y("",!0),ge()==="Type"?(a(),n("div",pi,[G(El,{modelValue:t.value,"onUpdate:modelValue":l[3]||(l[3]=u=>t.value=u),"request-types":ae.value,onTypeSelected:It},null,8,["modelValue","request-types"])])):y("",!0),ge()==="Process Info"?(a(),n("div",mi,[G(_s,{"request-type-details":c.value,"council-name":it(),modelValue:t.value,"onUpdate:modelValue":l[4]||(l[4]=u=>t.value=u),onContinue:ut},null,8,["request-type-details","council-name","modelValue"])])):y("",!0),i.value&&dt()&&ge()!=="Process Info"&&ge()!=="Review"?(a(),ue(Kr,{key:3,stepConfig:dt(),modelValue:t.value,"onUpdate:modelValue":l[5]||(l[5]=u=>t.value=u)},null,8,["stepConfig","modelValue"])):y("",!0),ge()==="Review"?(a(),n("div",vi,[G(na,{modelValue:t.value,"onUpdate:modelValue":l[6]||(l[6]=u=>t.value=u),"council-name":it(),"request-type-name":Ft(),"application-fee":Nt(),"is-resource-consent":he.value,"step-configs":A.value,"uses-configurable-steps":i.value,"request-type-details":c.value},null,8,["modelValue","council-name","request-type-name","application-fee","is-resource-consent","step-configs","uses-configurable-steps","request-type-details"])])):y("",!0)]),e("div",gi,[m.value>0?(a(),n("button",{key:0,onClick:l[7]||(l[7]=u=>m.value--),class:"px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors flex items-center"},[...l[46]||(l[46]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),j(" Previous ",-1)])])):(a(),n("div",fi)),m.value<o.value.length-1?(a(),n("button",{key:2,type:"button",onClick:ut,disabled:!Je.value,class:I(["px-6 py-3 font-medium rounded-lg transition-colors flex items-center",Je.value?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[...l[47]||(l[47]=[j(" Next ",-1),e("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],10,yi)):(a(),n("button",{key:3,onClick:Lt,disabled:!at.value||k.value,class:I(["px-6 py-3 font-medium rounded-lg transition-colors",at.value&&!k.value?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[k.value?(a(),n("span",xi,"Submitting...")):(a(),n("span",_i,"Submit Application"))],10,bi))])]),Ke.value?(a(),n("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:be(Qe,["self"])},[e("div",hi,[e("div",wi,[e("div",ki,[e("h3",Ci,v(Ae.value!==null?"Edit":"Add")+" Affected Party ",1),e("button",{onClick:Qe,class:"text-gray-400 hover:text-gray-600"},[...l[48]||(l[48]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",$i,[e("div",null,[l[49]||(l[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[j(" Party Name "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{"onUpdate:modelValue":l[8]||(l[8]=u=>N.value.party_name=u),type:"text",required:"",placeholder:"e.g., John Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,N.value.party_name]])]),e("div",null,[l[51]||(l[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[j(" Relationship "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{"onUpdate:modelValue":l[9]||(l[9]=u=>N.value.relationship=u),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...l[50]||(l[50]=[me('<option value="">Select relationship</option><option value="Adjacent Property Owner">Adjacent Property Owner</option><option value="Neighbor">Neighbor</option><option value="Iwi">Iwi</option><option value="Infrastructure Provider">Infrastructure Provider</option><option value="Other">Other</option>',6)])],512),[[ie,N.value.relationship]])]),e("div",Vi,[l[54]||(l[54]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Contact Information",-1)),e("div",Si,[e("div",null,[l[52]||(l[52]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Email",-1)),T(e("input",{"onUpdate:modelValue":l[10]||(l[10]=u=>N.value.email=u),type:"email",placeholder:"email@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,N.value.email]])]),e("div",null,[l[53]||(l[53]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Phone",-1)),T(e("input",{"onUpdate:modelValue":l[11]||(l[11]=u=>N.value.phone=u),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,N.value.phone]])])])]),e("div",qi,[l[59]||(l[59]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Addresses",-1)),e("div",Ti,[e("div",null,[l[55]||(l[55]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Property Address",-1)),T(e("textarea",{"onUpdate:modelValue":l[12]||(l[12]=u=>N.value.property_address=u),rows:"2",placeholder:"123 Main Street, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,N.value.property_address]]),l[56]||(l[56]=e("p",{class:"mt-1 text-xs text-gray-500"},"The property address affected by this proposal",-1))]),e("div",null,[l[57]||(l[57]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Postal Address",-1)),T(e("textarea",{"onUpdate:modelValue":l[13]||(l[13]=u=>N.value.postal_address=u),rows:"2",placeholder:"PO Box 123, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,N.value.postal_address]]),l[58]||(l[58]=e("p",{class:"mt-1 text-xs text-gray-500"},"For correspondence (if different from property address)",-1))])])]),e("div",Mi,[l[65]||(l[65]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Written Approval",-1)),e("div",Ai,[T(e("input",{type:"checkbox","onUpdate:modelValue":l[14]||(l[14]=u=>N.value.approval_obtained=u),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,N.value.approval_obtained]]),l[60]||(l[60]=e("label",{class:"ml-3 text-sm text-gray-700"}," Written approval obtained from this party ",-1))]),N.value.approval_obtained?(a(),n("div",Pi,[e("div",null,[l[61]||(l[61]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Date",-1)),T(e("input",{"onUpdate:modelValue":l[15]||(l[15]=u=>N.value.approval_date=u),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,N.value.approval_date]])]),e("div",null,[l[63]||(l[63]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Document",-1)),e("input",{type:"file",onChange:Et,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),l[64]||(l[64]=e("p",{class:"mt-1 text-xs text-gray-500"},"Upload written approval (PDF, Word, or image, max 10MB)",-1)),N.value.approval_document?(a(),n("div",Di,[l[62]||(l[62]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,v(typeof N.value.approval_document=="object"?N.value.approval_document.name:"Document attached"),1)])):y("",!0)])])):y("",!0)]),e("div",null,[l[66]||(l[66]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Comments",-1)),T(e("textarea",{"onUpdate:modelValue":l[16]||(l[16]=u=>N.value.comments=u),rows:"3",placeholder:"Any additional notes about this party or their concerns...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,N.value.comments]])])]),e("div",ji,[e("button",{onClick:Qe,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:Ut,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},v(Ae.value!==null?"Update":"Add")+" Party ",1)])])])):y("",!0),Xe.value?(a(),n("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:be(Ye,["self"])},[e("div",Ri,[e("div",Ii,[e("div",Bi,[e("h3",Fi,v(Pe.value!==null?"Edit":"Add")+" Specialist Report ",1),e("button",{onClick:Ye,class:"text-gray-400 hover:text-gray-600"},[...l[67]||(l[67]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Ni,[e("div",null,[l[69]||(l[69]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[j(" Report Type "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{"onUpdate:modelValue":l[17]||(l[17]=u=>H.value.report_type=u),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...l[68]||(l[68]=[me('<option value="">Select report type</option><option value="Traffic Impact Assessment">Traffic Impact Assessment</option><option value="Acoustic Assessment">Acoustic Assessment</option><option value="Geotechnical Report">Geotechnical Report</option><option value="Ecological Assessment">Ecological Assessment</option><option value="Archaeological Assessment">Archaeological Assessment</option><option value="Landscape Assessment">Landscape Assessment</option><option value="Contaminated Land Assessment">Contaminated Land Assessment</option><option value="Flood Risk Assessment">Flood Risk Assessment</option><option value="Other">Other</option>',10)])],512),[[ie,H.value.report_type]])]),e("div",Li,[l[72]||(l[72]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Consultant Details",-1)),e("div",zi,[e("div",null,[l[70]||(l[70]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[j(" Specialist Name "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{"onUpdate:modelValue":l[18]||(l[18]=u=>H.value.specialist_name=u),type:"text",required:"",placeholder:"e.g., Dr. Jane Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,H.value.specialist_name]])]),e("div",null,[l[71]||(l[71]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Company/Organization",-1)),T(e("input",{"onUpdate:modelValue":l[19]||(l[19]=u=>H.value.specialist_company=u),type:"text",placeholder:"e.g., ABC Consultants Ltd",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,H.value.specialist_company]])])])]),e("div",Ui,[l[80]||(l[80]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Report Details",-1)),e("div",Ei,[e("div",null,[l[73]||(l[73]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[j(" Report Date "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{"onUpdate:modelValue":l[20]||(l[20]=u=>H.value.report_date=u),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,H.value.report_date]]),l[74]||(l[74]=e("p",{class:"mt-1 text-xs text-gray-500"},"Date the report was prepared or finalized",-1))]),e("div",null,[l[76]||(l[76]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[j(" Document "),e("span",{class:"text-red-500"},"*")],-1)),e("input",{type:"file",onChange:Ht,accept:".pdf,.doc,.docx",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),l[77]||(l[77]=e("p",{class:"mt-1 text-xs text-gray-500"},"Upload the specialist report (PDF or Word, max 10MB)",-1)),H.value.document?(a(),n("div",Oi,[l[75]||(l[75]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,v(typeof H.value.document=="object"?H.value.document.name:"Document attached"),1)])):y("",!0)]),e("div",null,[l[78]||(l[78]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Summary",-1)),T(e("textarea",{"onUpdate:modelValue":l[21]||(l[21]=u=>H.value.summary=u),rows:"4",placeholder:"Brief summary of key findings and recommendations...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,H.value.summary]]),l[79]||(l[79]=e("p",{class:"mt-1 text-xs text-gray-500"},"Optional: Provide a brief summary of the report's key findings",-1))])])])]),e("div",Hi,[e("button",{onClick:Ye,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:Ot,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},v(Pe.value!==null?"Update":"Add")+" Report ",1)])])])):y("",!0),D.value?(a(),n("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:be(We,["self"])},[e("div",Wi,[e("div",Gi,[e("div",Ji,[e("h3",Ki,v(V.value!==null?"Edit":"Add")+" HAIL Activity ",1),e("button",{onClick:We,class:"text-gray-400 hover:text-gray-600"},[...l[81]||(l[81]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Qi,[e("div",null,[l[82]||(l[82]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[j(" Activity Description "),e("span",{class:"text-red-500"},"*")],-1)),T(e("textarea",{"onUpdate:modelValue":l[22]||(l[22]=u=>M.value.activity_description=u),rows:"3",required:"",placeholder:"Describe the HAIL activity (e.g., Former service station, industrial site)...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,M.value.activity_description]])]),e("div",null,[l[84]||(l[84]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," HAIL Category ",-1)),T(e("select",{"onUpdate:modelValue":l[23]||(l[23]=u=>M.value.hail_category=u),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...l[83]||(l[83]=[me('<option value="">Select HAIL category</option><option value="Category A - Petroleum/Oil Storage">Category A - Petroleum/Oil Storage</option><option value="Category B - Asbestos Products">Category B - Asbestos Products</option><option value="Category C - Chemicals">Category C - Chemicals</option><option value="Category D - Engineering Workshops">Category D - Engineering Workshops</option><option value="Category E - Gasworks/Coke Works">Category E - Gasworks/Coke Works</option><option value="Category F - Horticulture">Category F - Horticulture</option><option value="Category G - Landfills/Waste Disposal">Category G - Landfills/Waste Disposal</option><option value="Category H - Metal Treatment">Category H - Metal Treatment</option><option value="Category I - Timber Treatment">Category I - Timber Treatment</option>',10)])],512),[[ie,M.value.hail_category]])]),e("div",Xi,[l[88]||(l[88]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Activity Status",-1)),e("div",Yi,[e("div",Zi,[T(e("input",{type:"checkbox",id:"hail-current","onUpdate:modelValue":l[24]||(l[24]=u=>M.value.currently_undertaken=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,M.value.currently_undertaken]]),l[85]||(l[85]=e("label",{for:"hail-current",class:"ml-2 text-sm text-gray-700"},"Currently Being Undertaken",-1))]),e("div",eu,[T(e("input",{type:"checkbox",id:"hail-previous","onUpdate:modelValue":l[25]||(l[25]=u=>M.value.previously_undertaken=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,M.value.previously_undertaken]]),l[86]||(l[86]=e("label",{for:"hail-previous",class:"ml-2 text-sm text-gray-700"},"Previously Undertaken",-1))]),e("div",tu,[T(e("input",{type:"checkbox",id:"hail-likely","onUpdate:modelValue":l[26]||(l[26]=u=>M.value.likely_undertaken=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,M.value.likely_undertaken]]),l[87]||(l[87]=e("label",{for:"hail-likely",class:"ml-2 text-sm text-gray-700"},"Likely to Have Been Undertaken",-1))])])]),e("div",lu,[T(e("input",{type:"checkbox",id:"hail-investigated","onUpdate:modelValue":l[27]||(l[27]=u=>M.value.preliminary_investigation_done=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,M.value.preliminary_investigation_done]]),l[89]||(l[89]=e("label",{for:"hail-investigated",class:"ml-2 text-sm text-gray-700"},"Preliminary Investigation Completed",-1))]),e("div",su,[l[95]||(l[95]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Proposed Activities",-1)),e("div",ou,[e("div",au,[T(e("input",{type:"checkbox",id:"hail-activity-fuel","onUpdate:modelValue":l[28]||(l[28]=u=>F.value.fuel=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,F.value.fuel]]),l[90]||(l[90]=e("label",{for:"hail-activity-fuel",class:"ml-2 text-sm text-gray-700"},"Removing or replacing fuel storage system",-1))]),e("div",nu,[T(e("input",{type:"checkbox",id:"hail-activity-disturb","onUpdate:modelValue":l[29]||(l[29]=u=>F.value.disturb=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,F.value.disturb]]),l[91]||(l[91]=e("label",{for:"hail-activity-disturb",class:"ml-2 text-sm text-gray-700"},"Disturbing soil",-1))]),e("div",ru,[T(e("input",{type:"checkbox",id:"hail-activity-sample","onUpdate:modelValue":l[30]||(l[30]=u=>F.value.sample=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,F.value.sample]]),l[92]||(l[92]=e("label",{for:"hail-activity-sample",class:"ml-2 text-sm text-gray-700"},"Sampling soil",-1))]),e("div",iu,[T(e("input",{type:"checkbox",id:"hail-activity-subdivide","onUpdate:modelValue":l[31]||(l[31]=u=>F.value.subdivide=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,F.value.subdivide]]),l[93]||(l[93]=e("label",{for:"hail-activity-subdivide",class:"ml-2 text-sm text-gray-700"},"Subdividing land",-1))]),e("div",uu,[T(e("input",{type:"checkbox",id:"hail-activity-change","onUpdate:modelValue":l[32]||(l[32]=u=>F.value.change=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,F.value.change]]),l[94]||(l[94]=e("label",{for:"hail-activity-change",class:"ml-2 text-sm text-gray-700"},"Changing use of land",-1))])]),l[96]||(l[96]=e("p",{class:"text-xs text-gray-500 mt-2"},"Select all proposed activities that apply",-1))]),e("div",null,[l[97]||(l[97]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Additional Notes",-1)),T(e("textarea",{"onUpdate:modelValue":l[33]||(l[33]=u=>M.value.notes=u),rows:"3",placeholder:"Additional notes about the HAIL activity...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,M.value.notes]])])]),e("div",du,[e("button",{onClick:We,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:Te,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},v(V.value!==null?"Update":"Add")+" Activity ",1)])])])):y("",!0),De.value?(a(),n("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:l[41]||(l[41]=be(u=>De.value=!1,["self"]))},[e("div",cu,[e("div",pu,[e("div",mu,[l[99]||(l[99]=e("h3",{class:"text-lg font-semibold text-gray-900"}," Browse Condition Templates ",-1)),e("button",{onClick:l[34]||(l[34]=u=>De.value=!1),class:"text-gray-400 hover:text-gray-600"},[...l[98]||(l[98]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",vu,[e("div",gu,[e("div",fu,[e("div",yu,[l[100]||(l[100]=e("label",{class:"text-sm font-medium text-gray-700"},"Filter by Category:",-1)),T(e("select",{"onUpdate:modelValue":l[35]||(l[35]=u=>je.value=u),class:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(a(),n(U,null,O(pt,u=>e("option",{key:u,value:u},v(u),9,bu)),64))],512),[[ie,je.value]]),e("span",xu,v(Re.value.length)+" template"+v(Re.value.length!==1?"s":""),1)]),Wt.value?(a(),n("div",_u,[...l[101]||(l[101]=[e("svg",{class:"animate-spin h-8 w-8 mx-auto text-blue-600",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"},"Loading templates...",-1)])])):Re.value.length>0?(a(),n("div",hu,[(a(!0),n(U,null,O(Re.value,u=>(a(),n("div",{key:u.name,class:"p-4 bg-white border border-gray-300 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all"},[e("div",wu,[e("div",ku,[e("div",Cu,[e("h4",$u,v(u.template_name),1),u.condition_code?(a(),n("span",Vu,v(u.condition_code),1)):y("",!0)]),e("div",Su,[e("span",qu,v(u.condition_category),1),u.timing?(a(),n("span",Tu,v(u.timing),1)):y("",!0),u.monitoring_required?(a(),n("span",Mu," Monitoring Required ")):y("",!0)]),e("div",{class:"text-xs text-gray-700 line-clamp-3",innerHTML:u.condition_text},null,8,Au)]),e("button",{onClick:R=>Gt(u),type:"button",class:"ml-3 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 flex items-center gap-1 flex-shrink-0"},[...l[102]||(l[102]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),j(" Add ",-1)])],8,Pu)])]))),128))])):(a(),n("div",Du,[...l[103]||(l[103]=[e("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"text-sm text-gray-500"},"No templates found for selected category",-1)])])),e("div",{class:"pt-4 border-t border-gray-200"},[e("button",{onClick:Jt,type:"button",class:"w-full px-4 py-2.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300"},[...l[104]||(l[104]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),j(" Add Custom Condition ",-1)])])])]),e("div",ju,[e("h4",Ru,[l[105]||(l[105]=e("span",null,"Selected Conditions",-1)),e("span",Iu,v(t.value.proposed_conditions.length),1)]),t.value.proposed_conditions.length>0?(a(),n("div",Bu,[(a(!0),n(U,null,O(t.value.proposed_conditions,(u,R)=>(a(),n("div",{key:R,class:"p-2 bg-white rounded border border-gray-300 text-xs"},[e("div",Fu,[e("div",Nu,[e("span",Lu,v(u.condition_number),1),e("span",zu,v(u.condition_category),1)]),e("button",{onClick:ne=>Xt(R),type:"button",class:"text-red-600 hover:bg-red-50 rounded p-0.5",title:"Remove"},[...l[106]||(l[106]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Uu)]),e("div",{class:"text-gray-700 line-clamp-2",innerHTML:u.condition_text},null,8,Eu)]))),128))])):(a(),n("div",Ou,[...l[107]||(l[107]=[e("svg",{class:"w-8 h-8 mx-auto text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),j(" No conditions selected ",-1)])]))])]),pe.value!==null||Q.value.condition_text||Q.value.condition_category?(a(),n("div",Hu,[e("h4",Wu,v(pe.value!==null?"Edit":"Add Custom")+" Condition ",1),e("div",Gu,[e("div",null,[l[108]||(l[108]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[j(" Condition Number "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{"onUpdate:modelValue":l[36]||(l[36]=u=>Q.value.condition_number=u),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1"},null,512),[[L,Q.value.condition_number]])]),e("div",null,[l[110]||(l[110]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[j(" Category "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{"onUpdate:modelValue":l[37]||(l[37]=u=>Q.value.condition_category=u),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[l[109]||(l[109]=e("option",{value:""},"Select category",-1)),(a(!0),n(U,null,O(pt.filter(u=>u!=="All"),u=>(a(),n("option",{key:u,value:u},v(u),9,Ju))),128))],512),[[ie,Q.value.condition_category]])])]),e("div",Ku,[l[111]||(l[111]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[j(" Condition Text "),e("span",{class:"text-red-500"},"*")],-1)),T(e("textarea",{"onUpdate:modelValue":l[38]||(l[38]=u=>Q.value.condition_text=u),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter the condition text..."},null,512),[[L,Q.value.condition_text]])]),e("div",null,[l[112]||(l[112]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Notes",-1)),T(e("textarea",{"onUpdate:modelValue":l[39]||(l[39]=u=>Q.value.compliance_notes=u),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional notes about this condition..."},null,512),[[L,Q.value.compliance_notes]])]),e("div",Qu,[e("button",{onClick:Qt,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:Kt,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},v(pe.value!==null?"Update":"Add")+" Condition ",1)])])):y("",!0)]),e("div",Xu,[e("button",{onClick:l[40]||(l[40]=u=>De.value=!1),type:"button",class:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Done ")])])])):y("",!0)]))}};export{ld as default};
//# sourceMappingURL=NewRequest-qINgWQ5m.js.map
