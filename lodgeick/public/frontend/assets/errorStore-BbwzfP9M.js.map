{"version":3,"file":"errorStore-BbwzfP9M.js","sources":["../../../../frontend/src/stores/errorStore.js"],"sourcesContent":["import { defineStore } from 'pinia'\n\nexport const useErrorStore = defineStore('error', {\n\tstate: () => ({\n\t\terrors: [], // Array of error objects\n\t\tglobalError: null // Critical error\n\t}),\n\n\tgetters: {\n\t\thasErrors: (state) => state.errors.length > 0,\n\t\tlatestError: (state) => state.errors[state.errors.length - 1],\n\t\terrorCount: (state) => state.errors.length\n\t},\n\n\tactions: {\n\t\t/**\n\t\t * Add error to the store\n\t\t * @param {Object|String} error - Error object or message\n\t\t */\n\t\taddError(error) {\n\t\t\tconst errorObj = {\n\t\t\t\tid: Date.now() + Math.random(),\n\t\t\t\tmessage: typeof error === 'string' ? error : error.message || error.toString(),\n\t\t\t\ttimestamp: new Date(),\n\t\t\t\ttype: error.type || 'error',\n\t\t\t\tcontext: error.context || null\n\t\t\t}\n\n\t\t\tthis.errors.push(errorObj)\n\n\t\t\t// Auto-clear error after 10 seconds unless it's critical\n\t\t\tif (errorObj.type !== 'critical') {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.clearError(errorObj.id)\n\t\t\t\t}, 10000)\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Set global/critical error\n\t\t * @param {Object|String} error - Error object or message\n\t\t */\n\t\tsetGlobalError(error) {\n\t\t\tthis.globalError = typeof error === 'string'\n\t\t\t\t? { message: error, timestamp: new Date() }\n\t\t\t\t: { ...error, timestamp: new Date() }\n\t\t},\n\n\t\t/**\n\t\t * Clear specific error by ID\n\t\t * @param {Number} errorId - Error ID\n\t\t */\n\t\tclearError(errorId) {\n\t\t\tthis.errors = this.errors.filter(e => e.id !== errorId)\n\t\t},\n\n\t\t/**\n\t\t * Clear all errors\n\t\t */\n\t\tclearAllErrors() {\n\t\t\tthis.errors = []\n\t\t\tthis.globalError = null\n\t\t},\n\n\t\t/**\n\t\t * Clear global error\n\t\t */\n\t\tclearGlobalError() {\n\t\t\tthis.globalError = null\n\t\t}\n\t}\n})\n"],"names":["useErrorStore","defineStore","state","error","errorObj","__spreadProps","__spreadValues","errorId","e"],"mappings":"qdAEY,MAACA,EAAgBC,EAAY,QAAS,CACjD,MAAO,KAAO,CACb,OAAQ,CAAA,EACR,YAAa,IACf,GAEC,QAAS,CACR,UAAYC,GAAUA,EAAM,OAAO,OAAS,EAC5C,YAAcA,GAAUA,EAAM,OAAOA,EAAM,OAAO,OAAS,CAAC,EAC5D,WAAaA,GAAUA,EAAM,OAAO,MACtC,EAEC,QAAS,CAKR,SAASC,EAAO,CACf,MAAMC,EAAW,CAChB,GAAI,KAAK,MAAQ,KAAK,OAAM,EAC5B,QAAS,OAAOD,GAAU,SAAWA,EAAQA,EAAM,SAAWA,EAAM,SAAQ,EAC5E,UAAW,IAAI,KACf,KAAMA,EAAM,MAAQ,QACpB,QAASA,EAAM,SAAW,IAC9B,EAEG,KAAK,OAAO,KAAKC,CAAQ,EAGrBA,EAAS,OAAS,YACrB,WAAW,IAAM,CAChB,KAAK,WAAWA,EAAS,EAAE,CAC5B,EAAG,GAAK,CAEV,EAMA,eAAeD,EAAO,CACrB,KAAK,YAAc,OAAOA,GAAU,SACjC,CAAE,QAASA,EAAO,UAAW,IAAI,IAAM,EACvCE,EAAAC,EAAA,GAAKH,GAAL,CAAY,UAAW,IAAI,IAAM,EACrC,EAMA,WAAWI,EAAS,CACnB,KAAK,OAAS,KAAK,OAAO,OAAOC,GAAKA,EAAE,KAAOD,CAAO,CACvD,EAKA,gBAAiB,CAChB,KAAK,OAAS,CAAA,EACd,KAAK,YAAc,IACpB,EAKA,kBAAmB,CAClB,KAAK,YAAc,IACpB,CACF,CACA,CAAC"}