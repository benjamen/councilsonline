{"version":3,"file":"NewRequest-ItMJafYK.js","sources":["../../../../frontend/node_modules/@headlessui/vue/dist/hooks/use-resolve-button-type.js","../../../../frontend/node_modules/@headlessui/vue/dist/components/disclosure/disclosure.js","../../../../frontend/node_modules/@headlessui/vue/dist/internal/focus-sentinel.js","../../../../frontend/node_modules/@headlessui/vue/dist/components/tabs/tabs.js","../../../../frontend/src/components/request-steps/Step1CouncilSelection.vue","../../../../frontend/src/components/request-steps/Step2RequestType.vue","../../../../frontend/src/components/request-steps/Step3ProcessInfo.vue","../../../../frontend/src/components/request-steps/Step4ApplicantDetails.vue","../../../../frontend/src/components/request-steps/Step5PropertyDetailsMulti.vue","../../../../frontend/src/components/request-steps/Step6ConsentInfo.vue","../../../../frontend/src/api/rfq.js","../../../../frontend/src/components/modals/RFQModal.vue","../../../../frontend/src/components/common/DateTimePicker.vue","../../../../frontend/src/components/common/ContactSelector.vue","../../../../frontend/src/components/request-steps/Step1ApplicantProposal.vue","../../../../frontend/src/components/request-steps/Step2NaturalHazards.vue","../../../../frontend/src/components/request-steps/Step3NESAssessment.vue","../../../../frontend/src/components/request-steps/Step4Approvals.vue","../../../../frontend/src/components/request-steps/Step5Consultation.vue","../../../../frontend/src/components/request-steps/Step6Documents.vue","../../../../frontend/src/components/request-steps/Step7AEE.vue","../../../../frontend/src/components/request-steps/Step9Submission.vue","../../../../frontend/src/components/request-steps/Step17Review.vue","../../../../frontend/node_modules/@heroicons/vue/20/solid/esm/ChevronUpIcon.js","../../../../frontend/src/components/CameraUpload.vue","../../../../frontend/src/components/PhilippinesAddressInput.vue","../../../../frontend/src/components/Tooltip.vue","../../../../frontend/src/components/DynamicFieldRenderer.vue","../../../../frontend/src/components/DynamicStepRenderer.vue","../../../../frontend/src/pages/NewRequest.vue"],"sourcesContent":["import{onMounted as i,ref as f,watchEffect as l}from\"vue\";import{dom as o}from'../utils/dom.js';function r(t,e){if(t)return t;let n=e!=null?e:\"button\";if(typeof n==\"string\"&&n.toLowerCase()===\"button\")return\"button\"}function s(t,e){let n=f(r(t.value.type,t.value.as));return i(()=>{n.value=r(t.value.type,t.value.as)}),l(()=>{var u;n.value||o(e)&&o(e)instanceof HTMLButtonElement&&!((u=o(e))!=null&&u.hasAttribute(\"type\"))&&(n.value=\"button\")}),n}export{s as useResolveButtonType};\n","import{computed as m,defineComponent as b,inject as I,onMounted as P,onUnmounted as h,provide as R,ref as d,watchEffect as w}from\"vue\";import{useId as E}from'../../hooks/use-id.js';import{useResolveButtonType as H}from'../../hooks/use-resolve-button-type.js';import{State as y,useOpenClosed as L,useOpenClosedProvider as j}from'../../internal/open-closed.js';import{Keys as f}from'../../keyboard.js';import{dom as p}from'../../utils/dom.js';import{match as x}from'../../utils/match.js';import{Features as B,render as g}from'../../utils/render.js';var $=(o=>(o[o.Open=0]=\"Open\",o[o.Closed=1]=\"Closed\",o))($||{});let T=Symbol(\"DisclosureContext\");function O(t){let r=I(T,null);if(r===null){let o=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,O),o}return r}let k=Symbol(\"DisclosurePanelContext\");function U(){return I(k,null)}let N=b({name:\"Disclosure\",props:{as:{type:[Object,String],default:\"template\"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:r,attrs:o}){let s=d(t.defaultOpen?0:1),e=d(null),i=d(null),n={buttonId:d(`headlessui-disclosure-button-${E()}`),panelId:d(`headlessui-disclosure-panel-${E()}`),disclosureState:s,panel:e,button:i,toggleDisclosure(){s.value=x(s.value,{[0]:1,[1]:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(l){n.closeDisclosure();let a=(()=>l?l instanceof HTMLElement?l:l.value instanceof HTMLElement?p(l):p(n.button):p(n.button))();a==null||a.focus()}};return R(T,n),j(m(()=>x(s.value,{[0]:y.Open,[1]:y.Closed}))),()=>{let{defaultOpen:l,...a}=t,c={open:s.value===0,close:n.close};return g({theirProps:a,ourProps:{},slot:c,slots:r,attrs:o,name:\"Disclosure\"})}}}),Q=b({name:\"DisclosureButton\",props:{as:{type:[Object,String],default:\"button\"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:r,slots:o,expose:s}){let e=O(\"DisclosureButton\"),i=U(),n=m(()=>i===null?!1:i.value===e.panelId.value);P(()=>{n.value||t.id!==null&&(e.buttonId.value=t.id)}),h(()=>{n.value||(e.buttonId.value=null)});let l=d(null);s({el:l,$el:l}),n.value||w(()=>{e.button.value=l.value});let a=H(m(()=>({as:t.as,type:r.type})),l);function c(){var u;t.disabled||(n.value?(e.toggleDisclosure(),(u=p(e.button))==null||u.focus()):e.toggleDisclosure())}function D(u){var S;if(!t.disabled)if(n.value)switch(u.key){case f.Space:case f.Enter:u.preventDefault(),u.stopPropagation(),e.toggleDisclosure(),(S=p(e.button))==null||S.focus();break}else switch(u.key){case f.Space:case f.Enter:u.preventDefault(),u.stopPropagation(),e.toggleDisclosure();break}}function v(u){switch(u.key){case f.Space:u.preventDefault();break}}return()=>{var C;let u={open:e.disclosureState.value===0},{id:S,...K}=t,M=n.value?{ref:l,type:a.value,onClick:c,onKeydown:D}:{id:(C=e.buttonId.value)!=null?C:S,ref:l,type:a.value,\"aria-expanded\":e.disclosureState.value===0,\"aria-controls\":e.disclosureState.value===0||p(e.panel)?e.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:c,onKeydown:D,onKeyup:v};return g({ourProps:M,theirProps:K,slot:u,attrs:r,slots:o,name:\"DisclosureButton\"})}}}),V=b({name:\"DisclosurePanel\",props:{as:{type:[Object,String],default:\"div\"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:r,slots:o,expose:s}){let e=O(\"DisclosurePanel\");P(()=>{t.id!==null&&(e.panelId.value=t.id)}),h(()=>{e.panelId.value=null}),s({el:e.panel,$el:e.panel}),R(k,e.panelId);let i=L(),n=m(()=>i!==null?(i.value&y.Open)===y.Open:e.disclosureState.value===0);return()=>{var v;let l={open:e.disclosureState.value===0,close:e.close},{id:a,...c}=t,D={id:(v=e.panelId.value)!=null?v:a,ref:e.panel};return g({ourProps:D,theirProps:c,slot:l,attrs:r,slots:o,features:B.RenderStrategy|B.Static,visible:n.value,name:\"DisclosurePanel\"})}}});export{N as Disclosure,Q as DisclosureButton,V as DisclosurePanel};\n","import{defineComponent as i,h as m,ref as f}from\"vue\";import{Features as l,Hidden as F}from'./hidden.js';let d=i({props:{onFocus:{type:Function,required:!0}},setup(t){let n=f(!0);return()=>n.value?m(F,{as:\"button\",type:\"button\",features:l.Focusable,onFocus(o){o.preventDefault();let e,a=50;function r(){var u;if(a--<=0){e&&cancelAnimationFrame(e);return}if((u=t.onFocus)!=null&&u.call(t)){n.value=!1,cancelAnimationFrame(e);return}e=requestAnimationFrame(r)}e=requestAnimationFrame(r)}}):null}});export{d as FocusSentinel};\n","import{computed as v,defineComponent as L,Fragment as z,h as A,inject as j,onMounted as F,onUnmounted as K,provide as N,ref as P,watch as _,watchEffect as J}from\"vue\";import{useId as $}from'../../hooks/use-id.js';import{useResolveButtonType as Q}from'../../hooks/use-resolve-button-type.js';import{FocusSentinel as V}from'../../internal/focus-sentinel.js';import{Hidden as X}from'../../internal/hidden.js';import{Keys as S}from'../../keyboard.js';import{dom as f}from'../../utils/dom.js';import{Focus as g,focusIn as D,FocusResult as B,sortByDomNode as k}from'../../utils/focus-management.js';import{match as H}from'../../utils/match.js';import{microTask as Y}from'../../utils/micro-task.js';import{getOwnerDocument as Z}from'../../utils/owner.js';import{Features as q,omit as ee,render as M}from'../../utils/render.js';var te=(s=>(s[s.Forwards=0]=\"Forwards\",s[s.Backwards=1]=\"Backwards\",s))(te||{}),le=(d=>(d[d.Less=-1]=\"Less\",d[d.Equal=0]=\"Equal\",d[d.Greater=1]=\"Greater\",d))(le||{});let U=Symbol(\"TabsContext\");function C(a){let b=j(U,null);if(b===null){let s=new Error(`<${a} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,C),s}return b}let G=Symbol(\"TabsSSRContext\"),me=L({name:\"TabGroup\",emits:{change:a=>!0},props:{as:{type:[Object,String],default:\"template\"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(a,{slots:b,attrs:s,emit:d}){var E;let i=P((E=a.selectedIndex)!=null?E:a.defaultIndex),l=P([]),r=P([]),p=v(()=>a.selectedIndex!==null),R=v(()=>p.value?a.selectedIndex:i.value);function y(t){var c;let n=k(u.tabs.value,f),o=k(u.panels.value,f),e=n.filter(I=>{var m;return!((m=f(I))!=null&&m.hasAttribute(\"disabled\"))});if(t<0||t>n.length-1){let I=H(i.value===null?0:Math.sign(t-i.value),{[-1]:()=>1,[0]:()=>H(Math.sign(t),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0}),m=H(I,{[0]:()=>n.indexOf(e[0]),[1]:()=>n.indexOf(e[e.length-1])});m!==-1&&(i.value=m),u.tabs.value=n,u.panels.value=o}else{let I=n.slice(0,t),h=[...n.slice(t),...I].find(W=>e.includes(W));if(!h)return;let O=(c=n.indexOf(h))!=null?c:u.selectedIndex.value;O===-1&&(O=u.selectedIndex.value),i.value=O,u.tabs.value=n,u.panels.value=o}}let u={selectedIndex:v(()=>{var t,n;return(n=(t=i.value)!=null?t:a.defaultIndex)!=null?n:null}),orientation:v(()=>a.vertical?\"vertical\":\"horizontal\"),activation:v(()=>a.manual?\"manual\":\"auto\"),tabs:l,panels:r,setSelectedIndex(t){R.value!==t&&d(\"change\",t),p.value||y(t)},registerTab(t){var o;if(l.value.includes(t))return;let n=l.value[i.value];if(l.value.push(t),l.value=k(l.value,f),!p.value){let e=(o=l.value.indexOf(n))!=null?o:i.value;e!==-1&&(i.value=e)}},unregisterTab(t){let n=l.value.indexOf(t);n!==-1&&l.value.splice(n,1)},registerPanel(t){r.value.includes(t)||(r.value.push(t),r.value=k(r.value,f))},unregisterPanel(t){let n=r.value.indexOf(t);n!==-1&&r.value.splice(n,1)}};N(U,u);let T=P({tabs:[],panels:[]}),x=P(!1);F(()=>{x.value=!0}),N(G,v(()=>x.value?null:T.value));let w=v(()=>a.selectedIndex);return F(()=>{_([w],()=>{var t;return y((t=a.selectedIndex)!=null?t:a.defaultIndex)},{immediate:!0})}),J(()=>{if(!p.value||R.value==null||u.tabs.value.length<=0)return;let t=k(u.tabs.value,f);t.some((o,e)=>f(u.tabs.value[e])!==f(o))&&u.setSelectedIndex(t.findIndex(o=>f(o)===f(u.tabs.value[R.value])))}),()=>{let t={selectedIndex:i.value};return A(z,[l.value.length<=0&&A(V,{onFocus:()=>{for(let n of l.value){let o=f(n);if((o==null?void 0:o.tabIndex)===0)return o.focus(),!0}return!1}}),M({theirProps:{...s,...ee(a,[\"selectedIndex\",\"defaultIndex\",\"manual\",\"vertical\",\"onChange\"])},ourProps:{},slot:t,slots:b,attrs:s,name:\"TabGroup\"})])}}}),pe=L({name:\"TabList\",props:{as:{type:[Object,String],default:\"div\"}},setup(a,{attrs:b,slots:s}){let d=C(\"TabList\");return()=>{let i={selectedIndex:d.selectedIndex.value},l={role:\"tablist\",\"aria-orientation\":d.orientation.value};return M({ourProps:l,theirProps:a,slot:i,attrs:b,slots:s,name:\"TabList\"})}}}),xe=L({name:\"Tab\",props:{as:{type:[Object,String],default:\"button\"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(a,{attrs:b,slots:s,expose:d}){var o;let i=(o=a.id)!=null?o:`headlessui-tabs-tab-${$()}`,l=C(\"Tab\"),r=P(null);d({el:r,$el:r}),F(()=>l.registerTab(r)),K(()=>l.unregisterTab(r));let p=j(G),R=v(()=>{if(p.value){let e=p.value.tabs.indexOf(i);return e===-1?p.value.tabs.push(i)-1:e}return-1}),y=v(()=>{let e=l.tabs.value.indexOf(r);return e===-1?R.value:e}),u=v(()=>y.value===l.selectedIndex.value);function T(e){var I;let c=e();if(c===B.Success&&l.activation.value===\"auto\"){let m=(I=Z(r))==null?void 0:I.activeElement,h=l.tabs.value.findIndex(O=>f(O)===m);h!==-1&&l.setSelectedIndex(h)}return c}function x(e){let c=l.tabs.value.map(m=>f(m)).filter(Boolean);if(e.key===S.Space||e.key===S.Enter){e.preventDefault(),e.stopPropagation(),l.setSelectedIndex(y.value);return}switch(e.key){case S.Home:case S.PageUp:return e.preventDefault(),e.stopPropagation(),T(()=>D(c,g.First));case S.End:case S.PageDown:return e.preventDefault(),e.stopPropagation(),T(()=>D(c,g.Last))}if(T(()=>H(l.orientation.value,{vertical(){return e.key===S.ArrowUp?D(c,g.Previous|g.WrapAround):e.key===S.ArrowDown?D(c,g.Next|g.WrapAround):B.Error},horizontal(){return e.key===S.ArrowLeft?D(c,g.Previous|g.WrapAround):e.key===S.ArrowRight?D(c,g.Next|g.WrapAround):B.Error}}))===B.Success)return e.preventDefault()}let w=P(!1);function E(){var e;w.value||(w.value=!0,!a.disabled&&((e=f(r))==null||e.focus({preventScroll:!0}),l.setSelectedIndex(y.value),Y(()=>{w.value=!1})))}function t(e){e.preventDefault()}let n=Q(v(()=>({as:a.as,type:b.type})),r);return()=>{var m,h;let e={selected:u.value,disabled:(m=a.disabled)!=null?m:!1},{...c}=a,I={ref:r,onKeydown:x,onMousedown:t,onClick:E,id:i,role:\"tab\",type:n.value,\"aria-controls\":(h=f(l.panels.value[y.value]))==null?void 0:h.id,\"aria-selected\":u.value,tabIndex:u.value?0:-1,disabled:a.disabled?!0:void 0};return M({ourProps:I,theirProps:c,slot:e,attrs:b,slots:s,name:\"Tab\"})}}}),Ie=L({name:\"TabPanels\",props:{as:{type:[Object,String],default:\"div\"}},setup(a,{slots:b,attrs:s}){let d=C(\"TabPanels\");return()=>{let i={selectedIndex:d.selectedIndex.value};return M({theirProps:a,ourProps:{},slot:i,attrs:s,slots:b,name:\"TabPanels\"})}}}),ye=L({name:\"TabPanel\",props:{as:{type:[Object,String],default:\"div\"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(a,{attrs:b,slots:s,expose:d}){var T;let i=(T=a.id)!=null?T:`headlessui-tabs-panel-${$()}`,l=C(\"TabPanel\"),r=P(null);d({el:r,$el:r}),F(()=>l.registerPanel(r)),K(()=>l.unregisterPanel(r));let p=j(G),R=v(()=>{if(p.value){let x=p.value.panels.indexOf(i);return x===-1?p.value.panels.push(i)-1:x}return-1}),y=v(()=>{let x=l.panels.value.indexOf(r);return x===-1?R.value:x}),u=v(()=>y.value===l.selectedIndex.value);return()=>{var n;let x={selected:u.value},{tabIndex:w,...E}=a,t={ref:r,id:i,role:\"tabpanel\",\"aria-labelledby\":(n=f(l.tabs.value[y.value]))==null?void 0:n.id,tabIndex:u.value?w:-1};return!u.value&&a.unmount&&!a.static?A(X,{as:\"span\",\"aria-hidden\":!0,...t}):M({ourProps:t,theirProps:E,slot:x,attrs:b,slots:s,features:q.Static|q.RenderStrategy,visible:u.value,name:\"TabPanel\"})}}});export{xe as Tab,me as TabGroup,pe as TabList,ye as TabPanel,Ie as TabPanels};\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Select Council</h2>\n    <p class=\"text-gray-600 mb-8\">Choose the council that will process your application</p>\n\n    <CouncilSelector\n      :model-value=\"modelValue.council\"\n      @update:model-value=\"updateCouncil\"\n      display-mode=\"cards\"\n      :required=\"true\"\n      :show-selected-info=\"true\"\n      label=\"\"\n      :show-label=\"false\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits } from 'vue'\nimport CouncilSelector from '../CouncilSelector.vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'council-change'])\n\nconst updateCouncil = (council) => {\n  console.log('[Step1CouncilSelection] updateCouncil called with:', council)\n  console.log('[Step1CouncilSelection] Current modelValue:', props.modelValue)\n\n  emit('update:modelValue', {\n    ...props.modelValue,\n    council: council\n  })\n  emit('council-change', council)\n\n  console.log('[Step1CouncilSelection] Emitted events')\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Select Application Type</h2>\n    <p class=\"text-gray-600 mb-8\">Choose the type of consent you wish to apply for</p>\n\n    <div v-if=\"requestTypes.loading\" class=\"text-center py-12\">\n      <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n    </div>\n\n    <div v-else class=\"grid md:grid-cols-2 gap-4\">\n      <div\n        v-for=\"type in requestTypes.data\"\n        :key=\"type.name\"\n        @click=\"selectType(type)\"\n        class=\"border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md\"\n        :class=\"modelValue.request_type === type.name ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n      >\n        <div class=\"flex items-start justify-between\">\n          <div class=\"flex-1\">\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">{{ type.type_name }}</h3>\n            <p class=\"text-sm text-gray-600\" v-html=\"type.description || 'No description available'\"></p>\n            <div class=\"mt-4 flex items-center space-x-4 text-xs text-gray-500\">\n              <span v-if=\"type.base_fee\">Fee: ${{ type.base_fee }}</span>\n              <span v-if=\"type.processing_sla_days\">{{ type.processing_sla_days }} days</span>\n              <span v-if=\"type.category\" class=\"px-2 py-1 bg-gray-100 rounded\">{{ type.category }}</span>\n            </div>\n          </div>\n          <div v-if=\"modelValue.request_type === type.name\" class=\"ml-4\">\n            <div class=\"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center\">\n              <svg class=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  requestTypes: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'type-selected'])\n\nconst selectType = (type) => {\n  console.log('[Step2RequestType] selectType called with:', type.name)\n  console.log('[Step2RequestType] props.modelValue:', props.modelValue)\n  console.log('[Step2RequestType] props.modelValue.council:', props.modelValue.council)\n\n  const updatedValue = {\n    ...props.modelValue,\n    request_type: type.name\n  }\n\n  console.log('[Step2RequestType] Emitting updatedValue:', updatedValue)\n  emit('update:modelValue', updatedValue)\n  emit('type-selected', type)\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Council Process Information</h2>\n    <p class=\"text-gray-600 mb-6\">Understanding {{ councilName }}'s process for this application</p>\n\n    <div v-if=\"requestTypeDetails\" class=\"space-y-6\">\n\n      <!-- Council Meeting Section (if enabled) -->\n      <div v-if=\"requestTypeDetails.council_meeting_available\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Council Meeting</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          You may schedule a Council Meeting with the Council to seek further clarifications in respect of your application before proceeding.\n        </p>\n\n        <div class=\"flex items-center gap-4 mb-4\">\n          <label class=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              v-model=\"preAppMeetingNotRequired\"\n              class=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n            />\n            <span class=\"ml-2 text-sm text-gray-700\">I do not require a council meeting</span>\n          </label>\n        </div>\n\n        <button\n          v-if=\"!preAppMeetingNotRequired\"\n          @click=\"openPreAppMeetingModal\"\n          type=\"button\"\n          class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          Request Council Meeting\n        </button>\n\n        <!-- Council Meeting List -->\n        <div v-if=\"preAppMeetings && preAppMeetings.length > 0\" class=\"mt-4\">\n          <h4 class=\"text-sm font-semibold text-gray-700 mb-2\">Requested Meetings</h4>\n          <div class=\"space-y-2\">\n            <div\n              v-for=\"(meeting, index) in preAppMeetings\"\n              :key=\"index\"\n              class=\"p-3 bg-gray-50 border border-gray-200 rounded-lg flex items-start justify-between\"\n            >\n              <div class=\"flex-1\">\n                <span class=\"text-sm font-medium text-gray-900\">{{ meeting.meeting_type || 'Council Meeting' }}</span>\n                <p class=\"text-xs text-gray-600 mt-1\">{{ meeting.meeting_format }}</p>\n                <p v-if=\"meeting.preferred_time_slot_1_start\" class=\"text-xs text-gray-500 mt-1\">\n                  Preferred: {{ formatDate(meeting.preferred_time_slot_1_start) }}\n                </p>\n              </div>\n              <button\n                @click=\"removePreAppMeeting(index)\"\n                type=\"button\"\n                class=\"text-red-600 hover:text-red-800 text-sm ml-4\"\n              >\n                Remove\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <div class=\"flex items-start justify-between mb-4\">\n          <div>\n            <h3 class=\"text-xl font-semibold text-gray-900\">{{ requestTypeDetails.request_type_name }}</h3>\n            <p v-if=\"requestTypeDetails.category\" class=\"text-sm text-gray-500 mt-1\">\n              {{ requestTypeDetails.category }}\n            </p>\n          </div>\n        </div>\n\n        <div class=\"grid md:grid-cols-3 gap-4 mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <div>\n            <div class=\"text-xs text-blue-600 font-medium uppercase\">Application Fee</div>\n            <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n              ${{ requestTypeDetails.base_fee || '0' }}\n            </div>\n            <div class=\"text-xs text-blue-600 mt-1\">Plus any additional costs</div>\n          </div>\n          <div>\n            <div class=\"text-xs text-blue-600 font-medium uppercase\">Processing Time</div>\n            <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n              {{ requestTypeDetails.sla_days || 'N/A' }} <span class=\"text-base\">days</span>\n            </div>\n            <div class=\"text-xs text-blue-600 mt-1\">Standard timeframe</div>\n          </div>\n          <div>\n            <div class=\"text-xs text-blue-600 font-medium uppercase\">Payment Required</div>\n            <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n              {{ requestTypeDetails.requires_payment ? 'Yes' : 'No' }}\n            </div>\n            <div class=\"text-xs text-blue-600 mt-1\">Before processing</div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"requestTypeDetails.process_description\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">How This Works</h4>\n        <div class=\"prose prose-sm max-w-none text-gray-700\" v-html=\"requestTypeDetails.process_description\"></div>\n      </div>\n\n      <div v-else-if=\"requestTypeDetails.description\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">About This Application</h4>\n        <div class=\"prose prose-sm max-w-none text-gray-700\" v-html=\"requestTypeDetails.description\"></div>\n      </div>\n\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-yellow-900 text-sm\">Before You Continue</h5>\n            <p class=\"text-yellow-800 text-sm mt-1\">\n              Please review this information carefully. Make sure you understand the process, fees, and timeframes before proceeding with your application.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex justify-center pt-4\">\n        <button\n          type=\"button\"\n          @click=\"handleContinue\"\n          class=\"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          I Understand - Continue to Application\n        </button>\n      </div>\n    </div>\n\n    <div v-else class=\"text-center py-12\">\n      <p class=\"text-gray-500\">No request type selected. Please go back and select a request type.</p>\n    </div>\n\n    <!-- Council Meeting Modal (Simple Version) -->\n    <div\n      v-if=\"showPreAppMeetingModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"closePreAppMeetingModal\"\n    >\n      <div class=\"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n          <h3 class=\"text-xl font-bold text-gray-900\">Request Council Meeting</h3>\n          <button\n            @click=\"closePreAppMeetingModal\"\n            class=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div class=\"overflow-y-auto max-h-[calc(90vh-140px)] px-6 py-4\">\n          <div class=\"space-y-4\">\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <p class=\"text-sm text-blue-900\">\n                A council meeting allows you to discuss your proposal with council planners before formally submitting your application.\n              </p>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Meeting Format *</label>\n              <select\n                v-model=\"currentPreAppMeeting.meeting_format\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                required\n              >\n                <option value=\"In Person\">In Person</option>\n                <option value=\"Video Call\">Video Call</option>\n                <option value=\"Phone Call\">Phone Call</option>\n              </select>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Meeting Purpose *</label>\n              <textarea\n                v-model=\"currentPreAppMeeting.meeting_purpose\"\n                rows=\"4\"\n                placeholder=\"Describe what you'd like to discuss in this meeting...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                required\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Preferred Date & Time</label>\n              <input\n                v-model=\"currentPreAppMeeting.preferred_time_slot_1_start\"\n                type=\"datetime-local\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n              <p class=\"text-xs text-gray-500 mt-1\">Select your preferred date and time. The council will confirm or propose an alternative.</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t border-gray-200\">\n          <button\n            @click=\"closePreAppMeetingModal\"\n            type=\"button\"\n            class=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"savePreAppMeeting\"\n            type=\"button\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            :disabled=\"!currentPreAppMeeting.meeting_purpose\"\n          >\n            Request Meeting\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\nimport { session } from '@/data/session'\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\n\nconst props = defineProps({\n  requestTypeDetails: {\n    type: Object,\n    default: null\n  },\n  councilName: {\n    type: String,\n    default: ''\n  },\n  modelValue: {\n    type: Object,\n    default: () => ({})\n  }\n})\n\nconst emit = defineEmits(['continue', 'update:modelValue'])\n\n// Pre-app meeting state\nconst preAppMeetingNotRequired = ref(props.modelValue?.pre_app_meeting_not_required || false)\nconst preAppMeetings = ref(props.modelValue?.pre_app_meetings || [])\nconst showPreAppMeetingModal = ref(false)\nconst currentPreAppMeeting = ref({\n  meeting_type: 'Council Meeting',\n  meeting_format: 'In Person',\n  meeting_purpose: '',\n  preferred_time_slot_1_start: null\n})\n\n// Watch for changes in pre-app meeting data and emit to parent\nwatch([preAppMeetingNotRequired, preAppMeetings], () => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    pre_app_meeting_not_required: preAppMeetingNotRequired.value,\n    pre_app_meetings: preAppMeetings.value\n  })\n}, { deep: true })\n\nconst openPreAppMeetingModal = () => {\n  currentPreAppMeeting.value = {\n    meeting_type: 'Council Meeting',\n    meeting_format: 'In Person',\n    meeting_purpose: '',\n    preferred_time_slot_1_start: null\n  }\n  showPreAppMeetingModal.value = true\n}\n\nconst closePreAppMeetingModal = () => {\n  showPreAppMeetingModal.value = false\n}\n\nconst savePreAppMeeting = () => {\n  preAppMeetings.value.push({ ...currentPreAppMeeting.value })\n  closePreAppMeetingModal()\n}\n\nconst removePreAppMeeting = (index) => {\n  if (confirm('Remove this council meeting request?')) {\n    preAppMeetings.value.splice(index, 1)\n  }\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return ''\n  const date = new Date(dateString)\n  return date.toLocaleString('en-NZ', {\n    dateStyle: 'medium',\n    timeStyle: 'short'\n  })\n}\n\nconst handleContinue = () => {\n  // Check if user is logged in before allowing them to continue\n  if (!session.isLoggedIn) {\n    // Save current URL to redirect back after login\n    const currentPath = window.location.pathname + window.location.search\n    router.push({\n      name: 'Login',\n      query: { redirect: currentPath }\n    })\n    return\n  }\n\n  // User is logged in, proceed normally\n  emit('continue')\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Who is this application for?</h2>\n    <p class=\"text-gray-600 mb-8\">Provide applicant and property owner information</p>\n\n    <div class=\"space-y-6\">\n      <div v-if=\"userCompanyAccount\">\n        <div class=\"mb-6\">\n          <h3 class=\"text-sm font-semibold text-gray-900 mb-3\">Submitting As</h3>\n          <div class=\"space-y-3\">\n            <label class=\"flex items-start space-x-3 cursor-pointer p-4 border-2 rounded-lg transition-colors\" :class=\"localData.submitted_on_behalf_of === 'Myself' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\">\n              <input\n                type=\"radio\"\n                value=\"Myself\"\n                v-model=\"localData.submitted_on_behalf_of\"\n                class=\"mt-1\"\n              />\n              <div class=\"flex-1\">\n                <div class=\"font-medium text-gray-900\">Individual - Submit for Myself</div>\n                <div class=\"text-sm text-gray-500\">This application is submitted as an individual</div>\n              </div>\n            </label>\n            <label class=\"flex items-start space-x-3 cursor-pointer p-4 border-2 rounded-lg transition-colors\" :class=\"localData.submitted_on_behalf_of === 'Company' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\">\n              <input\n                type=\"radio\"\n                value=\"Company\"\n                v-model=\"localData.submitted_on_behalf_of\"\n                class=\"mt-1\"\n              />\n              <div class=\"flex-1\">\n                <div class=\"font-medium text-gray-900\">Company - {{ userCompanyAccount.company_name }}</div>\n                <div class=\"text-sm text-gray-500\">Submit on behalf of your company account</div>\n                <div class=\"text-xs text-blue-600 mt-1\">You are logged in as: {{ userCompanyAccount.user_role }}</div>\n              </div>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"border-t border-gray-200 pt-6 mt-6\">\n        <div>\n          <h3 class=\"text-sm font-semibold text-gray-900 mb-4\">\n            {{ localData.acting_on_behalf ? 'Client Information *' : 'Applicant Contact Information *' }}\n          </h3>\n\n          <div class=\"space-y-4\">\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Full Name *</label>\n                <input\n                  v-model=\"localData.applicant_name\"\n                  type=\"text\"\n                  placeholder=\"John Smith\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  :disabled=\"!localData.acting_on_behalf && userProfile\"\n                  required\n                />\n                <p v-if=\"!localData.acting_on_behalf\" class=\"mt-1 text-xs text-gray-500\">Auto-populated from your profile</p>\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Email Address *</label>\n                <input\n                  v-model=\"localData.applicant_email\"\n                  type=\"email\"\n                  placeholder=\"john@example.com\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  :disabled=\"!localData.acting_on_behalf && userProfile\"\n                  required\n                />\n                <p v-if=\"!localData.acting_on_behalf\" class=\"mt-1 text-xs text-gray-500\">Auto-populated from your profile</p>\n              </div>\n            </div>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Contact Phone *</label>\n                <input\n                  v-model=\"localData.applicant_phone\"\n                  type=\"tel\"\n                  placeholder=\"021 123 4567\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  required\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">\n                  {{ localData.acting_on_behalf ? 'Required for application processing' : 'Will be saved to your profile for future applications' }}\n                </p>\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Applicant Type *</label>\n                <select\n                  v-model=\"localData.applicant_type\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  required\n                >\n                  <option value=\"\">Select applicant type</option>\n                  <option value=\"Individual\">Individual</option>\n                  <option value=\"Company\">Company</option>\n                  <option value=\"Trust\">Trust</option>\n                  <option value=\"Partnership\">Partnership</option>\n                  <option value=\"Other\">Other</option>\n                </select>\n                <p class=\"mt-1 text-xs text-gray-500\">Type of entity making this application</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"mt-6 border-t border-gray-200 pt-6\">\n          <div class=\"flex items-start mb-4\">\n            <input\n              type=\"checkbox\"\n              v-model=\"localData.applicant_is_not_owner\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <label class=\"ml-3 text-sm font-medium text-gray-700\">\n              I am not the property owner\n            </label>\n          </div>\n\n          <div v-if=\"localData.applicant_is_not_owner\" class=\"space-y-4 pl-7\">\n            <p class=\"text-xs text-gray-600 mb-4\">\n              Under Section 88 of the RMA, you must provide the property owner's contact details.\n            </p>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Name *</label>\n                <input\n                  v-model=\"localData.owner_name\"\n                  type=\"text\"\n                  placeholder=\"Property owner's full name\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  :required=\"localData.applicant_is_not_owner\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Email</label>\n                <input\n                  v-model=\"localData.owner_email\"\n                  type=\"email\"\n                  placeholder=\"owner@example.com\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Phone</label>\n                <input\n                  v-model=\"localData.owner_phone\"\n                  type=\"tel\"\n                  placeholder=\"021 123 4567\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Address</label>\n                <textarea\n                  v-model=\"localData.owner_address\"\n                  rows=\"3\"\n                  placeholder=\"Owner's postal address\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                ></textarea>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  userProfile: {\n    type: Object,\n    default: null\n  },\n  userCompanyAccount: {\n    type: Object,\n    default: null\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Local data\nconst localData = ref({\n  submitted_on_behalf_of: props.modelValue.submitted_on_behalf_of || 'Myself',\n  acting_on_behalf: props.modelValue.acting_on_behalf || false,\n  applicant_name: props.modelValue.applicant_name || '',\n  applicant_email: props.modelValue.applicant_email || '',\n  applicant_phone: props.modelValue.applicant_phone || '',\n  applicant_type: props.modelValue.applicant_type || '',\n  applicant_is_not_owner: props.modelValue.applicant_is_not_owner || false,\n  owner_name: props.modelValue.owner_name || '',\n  owner_email: props.modelValue.owner_email || '',\n  owner_phone: props.modelValue.owner_phone || '',\n  owner_address: props.modelValue.owner_address || ''\n})\n\n// Watch for external changes\nwatch(() => props.modelValue, (newVal) => {\n  localData.value.submitted_on_behalf_of = newVal.submitted_on_behalf_of || 'Myself'\n  localData.value.acting_on_behalf = newVal.acting_on_behalf || false\n  localData.value.applicant_name = newVal.applicant_name || ''\n  localData.value.applicant_email = newVal.applicant_email || ''\n  localData.value.applicant_phone = newVal.applicant_phone || ''\n  localData.value.applicant_type = newVal.applicant_type || ''\n  localData.value.applicant_is_not_owner = newVal.applicant_is_not_owner || false\n  localData.value.owner_name = newVal.owner_name || ''\n  localData.value.owner_email = newVal.owner_email || ''\n  localData.value.owner_phone = newVal.owner_phone || ''\n  localData.value.owner_address = newVal.owner_address || ''\n}, { deep: true })\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    submitted_on_behalf_of: newVal.submitted_on_behalf_of,\n    acting_on_behalf: newVal.acting_on_behalf,\n    applicant_name: newVal.applicant_name,\n    applicant_email: newVal.applicant_email,\n    applicant_phone: newVal.applicant_phone,\n    applicant_type: newVal.applicant_type,\n    applicant_is_not_owner: newVal.applicant_is_not_owner,\n    owner_name: newVal.owner_name,\n    owner_email: newVal.owner_email,\n    owner_phone: newVal.owner_phone,\n    owner_address: newVal.owner_address,\n    transfer_deposit_required: newVal.transfer_deposit_required,\n    transfer_deposit_consent_number: newVal.transfer_deposit_consent_number,\n    invoice_to: newVal.invoice_to,\n    invoice_name: newVal.invoice_name,\n    invoice_email: newVal.invoice_email,\n    invoice_address: newVal.invoice_address,\n    invoice_tax_id: newVal.invoice_tax_id\n  })\n}, { deep: true })\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Property Details</h2>\n    <p class=\"text-gray-600 mb-8\">Add all properties affected by this application</p>\n\n    <div class=\"space-y-6\">\n      <!-- Add Property Button -->\n      <div class=\"flex justify-between items-center mb-4\">\n        <h3 class=\"text-base font-semibold text-gray-900\">Properties</h3>\n        <button\n          @click=\"openPropertyModal()\"\n          type=\"button\"\n          class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n          </svg>\n          Add Property\n        </button>\n      </div>\n\n      <!-- Properties List -->\n      <div v-if=\"localData.properties && localData.properties.length > 0\" class=\"space-y-3\">\n        <div\n          v-for=\"(property, index) in localData.properties\"\n          :key=\"index\"\n          class=\"flex items-start justify-between p-4 border border-gray-200 rounded-lg bg-white\"\n        >\n          <div class=\"flex-1\">\n            <div class=\"font-medium text-gray-900\">{{ property.property_address }}</div>\n            <p v-if=\"property.legal_description\" class=\"text-sm text-gray-600 mt-1\">\n              Legal: {{ property.legal_description }}\n            </p>\n            <div class=\"flex gap-4 mt-2 text-xs text-gray-500\">\n              <span v-if=\"property.ct_reference\">Title: {{ property.ct_reference }}</span>\n              <span v-if=\"property.valuation_reference\">Val Ref: {{ property.valuation_reference }}</span>\n              <span v-if=\"property.zone\" class=\"px-2 py-1 bg-gray-100 rounded\">{{ property.zone }}</span>\n            </div>\n          </div>\n          <div class=\"flex items-center gap-2 ml-4\">\n            <button\n              @click=\"openPropertyModal(index)\"\n              type=\"button\"\n              class=\"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors\"\n              title=\"Edit\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n              </svg>\n            </button>\n            <button\n              @click=\"removeProperty(index)\"\n              type=\"button\"\n              class=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors\"\n              title=\"Remove\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-else class=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n        <svg class=\"w-12 h-12 mx-auto text-gray-400 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n        </svg>\n        <p class=\"text-sm text-gray-600\">No properties added yet</p>\n        <p class=\"text-xs text-gray-500 mt-1\">Click \"Add Property\" to add properties to this application</p>\n      </div>\n    </div>\n\n    <!-- Property Modal -->\n    <div v-if=\"showPropertyModal\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div class=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex justify-between items-center\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingPropertyIndex !== null ? 'Edit Property' : 'Add Property' }}\n            </h3>\n            <button @click=\"closePropertyModal\" type=\"button\" class=\"text-gray-400 hover:text-gray-600\">\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-6\">\n          <!-- Property Address Search -->\n          <div class=\"relative\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Search Property Address *</label>\n            <input\n              v-model=\"propertySearchQuery\"\n              @input=\"handlePropertySearch\"\n              @focus=\"showPropertyDropdown = true\"\n              type=\"text\"\n              placeholder=\"Start typing address... e.g., 123 Main Street\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              autocomplete=\"off\"\n            />\n            <p class=\"mt-1 text-xs text-gray-500\">Type to search LINZ property database</p>\n\n            <!-- Search Results Dropdown -->\n            <div\n              v-if=\"showPropertyDropdown && (propertySearchResults.length > 0 || propertySearchLoading)\"\n              class=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto\"\n            >\n              <div v-if=\"propertySearchLoading\" class=\"p-4 text-center text-gray-500\">\n                <div class=\"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mb-2\"></div>\n                <p class=\"text-sm\">Searching properties...</p>\n              </div>\n\n              <div v-else>\n                <button\n                  v-for=\"(result, index) in propertySearchResults\"\n                  :key=\"index\"\n                  @click=\"selectPropertyFromSearch(result)\"\n                  type=\"button\"\n                  class=\"w-full text-left px-4 py-3 hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors\"\n                >\n                  <div class=\"font-medium text-gray-900\">{{ result.address }}</div>\n                  <div class=\"text-sm text-gray-600 mt-1\">{{ result.property?.legal_description || 'Legal description not available' }}</div>\n                  <div v-if=\"result.property?.title_no\" class=\"text-xs text-gray-500 mt-1\">\n                    Title: {{ result.property.title_no }}\n                  </div>\n                </button>\n              </div>\n\n              <div v-if=\"!propertySearchLoading && propertySearchResults.length === 0 && propertySearchQuery.length >= 3\" class=\"p-4 text-center text-gray-500\">\n                <p class=\"text-sm\">No properties found. Try a different search.</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Selected Property Details -->\n          <div v-if=\"currentProperty.property_address\" class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n            <div class=\"flex items-start\">\n              <svg class=\"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n              </svg>\n              <div class=\"flex-1\">\n                <p class=\"text-sm font-medium text-green-900\">Property Selected</p>\n                <p class=\"text-sm text-green-700 mt-1\">{{ currentProperty.property_address }}</p>\n              </div>\n              <button\n                @click=\"clearCurrentProperty\"\n                type=\"button\"\n                class=\"text-green-600 hover:text-green-700\"\n              >\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          <!-- Property Details (Read-only after selection) -->\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Legal Description</label>\n              <input\n                v-model=\"currentProperty.legal_description\"\n                type=\"text\"\n                readonly\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Certificate of Title Reference</label>\n              <input\n                v-model=\"currentProperty.ct_reference\"\n                type=\"text\"\n                readonly\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n              />\n            </div>\n          </div>\n\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Valuation Reference</label>\n              <input\n                v-model=\"currentProperty.valuation_reference\"\n                type=\"text\"\n                readonly\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Zone</label>\n              <input\n                v-model=\"currentProperty.zone\"\n                type=\"text\"\n                readonly\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <!-- Modal Footer -->\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"closePropertyModal\"\n            type=\"button\"\n            class=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveProperty\"\n            type=\"button\"\n            :disabled=\"!currentProperty.property_address\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed\"\n          >\n            {{ editingPropertyIndex !== null ? 'Update Property' : 'Add Property' }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\nimport { call } from 'frappe-ui'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  properties: {\n    type: Object,\n    default: () => ({ data: [], loading: false })\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'property-select'])\n\n// Local data\nconst localData = ref({\n  properties: props.modelValue.properties || []\n})\n\n// Modal state\nconst showPropertyModal = ref(false)\nconst editingPropertyIndex = ref(null)\nconst currentProperty = ref({\n  property_address: '',\n  legal_description: '',\n  ct_reference: '',\n  valuation_reference: '',\n  parcel_id: '',\n  zone: ''\n})\n\n// Property search state\nconst propertySearchQuery = ref('')\nconst propertySearchResults = ref([])\nconst propertySearchLoading = ref(false)\nconst showPropertyDropdown = ref(false)\nlet searchTimeout = null\n\n// Watch for external changes\nwatch(() => props.modelValue, (newVal) => {\n  localData.value.properties = newVal.properties || []\n}, { deep: true })\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    properties: newVal.properties\n  })\n}, { deep: true })\n\n// Property search\nconst handlePropertySearch = async () => {\n  if (searchTimeout) {\n    clearTimeout(searchTimeout)\n  }\n\n  const query = propertySearchQuery.value.trim()\n  if (query.length < 3) {\n    propertySearchResults.value = []\n    return\n  }\n\n  searchTimeout = setTimeout(async () => {\n    propertySearchLoading.value = true\n    try {\n      const results = await call('lodgeick.api.search_property_addresses', {\n        query: query\n      })\n      propertySearchResults.value = results || []\n    } catch (error) {\n      console.error('[Step5PropertyDetails] Error searching properties:', error)\n      propertySearchResults.value = []\n    } finally {\n      propertySearchLoading.value = false\n    }\n  }, 300)\n}\n\n// Select property from search results\nconst selectPropertyFromSearch = (result) => {\n  currentProperty.value = {\n    property_address: result.address,\n    legal_description: result.property?.legal_description || '',\n    ct_reference: result.property?.title_no || '',\n    valuation_reference: result.property?.valuation_reference || '',\n    parcel_id: result.property?.parcel_id || '',\n    zone: result.property?.zone || ''\n  }\n\n  showPropertyDropdown.value = false\n  propertySearchQuery.value = ''\n  propertySearchResults.value = []\n}\n\n// Clear current property\nconst clearCurrentProperty = () => {\n  currentProperty.value = {\n    property_address: '',\n    legal_description: '',\n    ct_reference: '',\n    valuation_reference: '',\n    parcel_id: '',\n    zone: ''\n  }\n  propertySearchQuery.value = ''\n}\n\n// Open property modal\nconst openPropertyModal = (index = null) => {\n  editingPropertyIndex.value = index\n  if (index !== null) {\n    currentProperty.value = { ...localData.value.properties[index] }\n  } else {\n    clearCurrentProperty()\n  }\n  showPropertyModal.value = true\n}\n\n// Close property modal\nconst closePropertyModal = () => {\n  showPropertyModal.value = false\n  editingPropertyIndex.value = null\n  clearCurrentProperty()\n}\n\n// Save property\nconst saveProperty = () => {\n  if (!currentProperty.value.property_address) {\n    return\n  }\n\n  if (!localData.value.properties) {\n    localData.value.properties = []\n  }\n\n  if (editingPropertyIndex.value !== null) {\n    localData.value.properties[editingPropertyIndex.value] = { ...currentProperty.value }\n  } else {\n    localData.value.properties.push({ ...currentProperty.value })\n  }\n\n  closePropertyModal()\n}\n\n// Remove property\nconst removeProperty = (index) => {\n  if (confirm('Remove this property from the application?')) {\n    localData.value.properties.splice(index, 1)\n  }\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Consent Information</h2>\n    <p class=\"text-gray-600 mb-8\">Select consent types, provide consent details, and describe your proposal</p>\n\n    <div class=\"space-y-8\">\n      <!-- SECTION 1: Consent Type & Activity Status -->\n      <div class=\"border-b border-gray-200 pb-8\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Consent Type & Activity Status</h3>\n\n        <div class=\"space-y-6\">\n          <!-- Card-Based Consent Type Selector -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-4\">\n              Consent Types Required * <span class=\"text-xs text-gray-500\">(Select all that apply)</span>\n            </label>\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div\n                v-for=\"consentType in availableConsentTypes\"\n                :key=\"consentType.value\"\n                @click=\"toggleConsentType(consentType.value)\"\n                class=\"border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md\"\n                :class=\"isConsentTypeSelected(consentType.value) ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n              >\n                <div class=\"flex items-start\">\n                  <input\n                    type=\"checkbox\"\n                    :checked=\"isConsentTypeSelected(consentType.value)\"\n                    class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded pointer-events-none\"\n                    readonly\n                  />\n                  <div class=\"ml-3 flex-1\">\n                    <h4 class=\"text-base font-semibold text-gray-900\">{{ consentType.label }}</h4>\n                    <p class=\"text-sm text-gray-600 mt-1\">{{ consentType.description }}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Activity Status -->\n          <div class=\"border-t border-gray-200 pt-6\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-3\">\n              Activity Status Under District/Regional Plan (Optional)\n            </label>\n            <div class=\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <div class=\"flex items-start\">\n                <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <div>\n                  <h5 class=\"font-semibold text-blue-900 text-sm\">Not sure? That's okay!</h5>\n                  <p class=\"text-blue-800 text-sm mt-1\">\n                    If you're unsure about your activity status, you can leave this blank. The council planner will determine the correct status when processing your application.\n                    Alternatively, you can book a free council meeting with the council to discuss this.\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div class=\"space-y-2\">\n              <label\n                v-for=\"status in activityStatuses\"\n                :key=\"status.value\"\n                class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-all hover:bg-gray-50\"\n                :class=\"localData.activity_status === status.value ? 'border-blue-600 bg-blue-50' : 'border-gray-200'\"\n              >\n                <input\n                  type=\"radio\"\n                  v-model=\"localData.activity_status\"\n                  :value=\"status.value\"\n                  class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <div class=\"ml-3\">\n                  <span class=\"font-medium text-gray-900\">{{ status.label }}</span>\n                  <p class=\"text-xs text-gray-600 mt-1\">{{ status.description }}</p>\n                </div>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- SECTION 2: Consent Details -->\n      <div v-if=\"localData.consent_types && localData.consent_types.length > 0\" class=\"border-b border-gray-200 pb-8\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Consent Details</h3>\n\n        <div class=\"space-y-6\">\n          <!-- Duration - Per Consent Type -->\n          <div>\n            <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">Requested Duration</h4>\n            <p class=\"text-sm text-gray-600 mb-4\">\n              Specify the duration for each consent type selected\n            </p>\n            <div class=\"space-y-4\">\n              <div\n                v-for=\"ct in localData.consent_types\"\n                :key=\"ct.consent_type\"\n                class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\"\n              >\n                <label :for=\"getDurationInputId(ct.consent_type)\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  {{ ct.consent_type }} Duration\n                </label>\n                <div class=\"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:items-start\">\n                  <div class=\"flex-1\">\n                    <div class=\"flex items-center gap-2\">\n                      <input\n                        :id=\"getDurationInputId(ct.consent_type)\"\n                        v-model.number=\"getDurationData(ct.consent_type).duration_years\"\n                        type=\"number\"\n                        :min=\"1\"\n                        :max=\"getMaxDuration(ct.consent_type)\"\n                        placeholder=\"e.g., 10\"\n                        :disabled=\"getDurationData(ct.consent_type).duration_unlimited\"\n                        :aria-label=\"`Duration in years for ${ct.consent_type} consent`\"\n                        :aria-describedby=\"getDurationHelpId(ct.consent_type)\"\n                        :aria-invalid=\"!!getDurationError(ct.consent_type)\"\n                        :class=\"[\n                          'flex-1 min-w-0 px-3 py-2 rounded-lg transition-colors',\n                          'focus:ring-2 focus:ring-blue-500 focus:outline-none',\n                          getDurationValidationClass(ct.consent_type)\n                        ]\"\n                        @blur=\"validateDuration(ct.consent_type)\"\n                        @input=\"validateDuration(ct.consent_type)\"\n                      />\n                      <span class=\"text-gray-600 whitespace-nowrap\">years</span>\n                    </div>\n\n                    <!-- Real-time validation messages -->\n                    <div :id=\"getDurationHelpId(ct.consent_type)\" class=\"mt-1.5 min-h-[20px]\">\n                      <p v-if=\"getDurationError(ct.consent_type)\"\n                         role=\"alert\"\n                         class=\"text-xs text-red-600 flex items-center gap-1.5 font-medium\">\n                        <svg class=\"w-3.5 h-3.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                          <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\n                        </svg>\n                        {{ getDurationError(ct.consent_type) }}\n                      </p>\n                      <p v-else-if=\"durationTouched[ct.consent_type] && getDurationData(ct.consent_type).duration_years && !getDurationData(ct.consent_type).duration_unlimited\"\n                         class=\"text-xs text-green-600 flex items-center gap-1.5 font-medium\">\n                        <svg class=\"w-3.5 h-3.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                          <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n                        </svg>\n                        Valid duration\n                      </p>\n                      <p v-else class=\"text-xs text-gray-500\">\n                        {{ getDurationHelpText(ct.consent_type) }}\n                      </p>\n                    </div>\n                  </div>\n                  <label v-if=\"canBeUnlimited(ct.consent_type)\"\n                         :for=\"getUnlimitedCheckboxId(ct.consent_type)\"\n                         class=\"flex items-center gap-2 whitespace-nowrap pl-4 sm:pl-0 border-l-2 sm:border-l-0 border-gray-200 sm:pt-2\">\n                    <input\n                      :id=\"getUnlimitedCheckboxId(ct.consent_type)\"\n                      v-model=\"getDurationData(ct.consent_type).duration_unlimited\"\n                      type=\"checkbox\"\n                      :aria-label=\"`Unlimited duration for ${ct.consent_type} consent`\"\n                      class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                      @change=\"onUnlimitedToggle(ct.consent_type)\"\n                    />\n                    <span class=\"text-sm font-medium\">Unlimited</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Lapsing Period -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Lapsing Period\n              <button\n                type=\"button\"\n                @click=\"showLapsingHelp = !showLapsingHelp\"\n                class=\"ml-2 text-blue-600 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded\"\n                :aria-expanded=\"showLapsingHelp\"\n                aria-label=\"Toggle lapsing period help\"\n              >\n                <svg class=\"w-4 h-4 inline\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z\" clip-rule=\"evenodd\"/>\n                </svg>\n              </button>\n            </label>\n\n            <!-- Expandable help panel -->\n            <div v-if=\"showLapsingHelp\" class=\"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm\">\n              <p class=\"font-medium text-blue-900 mb-2\">How to choose lapsing period:</p>\n              <ul class=\"space-y-1.5 text-blue-800\">\n                <li class=\"flex items-start gap-2\">\n                  <span class=\"text-blue-600 font-bold mt-0.5\"></span>\n                  <span><strong>5 years:</strong> Standard for most consents - construction/use must begin within 5 years</span>\n                </li>\n                <li class=\"flex items-start gap-2\">\n                  <span class=\"text-blue-600 font-bold mt-0.5\"></span>\n                  <span><strong>10 years:</strong> For renewable energy projects requiring longer development timelines (s.125(1A) RMA)</span>\n                </li>\n                <li v-if=\"isCoastalPermit\" class=\"flex items-start gap-2\">\n                  <span class=\"text-blue-600 font-bold mt-0.5\"></span>\n                  <span><strong>3 years:</strong> For aquaculture activities in coastal marine area</span>\n                </li>\n              </ul>\n            </div>\n\n            <select\n              v-model.number=\"localData.lapsing_period_years\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option :value=\"5\">5 years - Standard lapsing period</option>\n              <option :value=\"10\">10 years - Renewable energy projects</option>\n              <option v-if=\"isCoastalPermit\" :value=\"3\">3 years - Aquaculture activities</option>\n            </select>\n            <p class=\"mt-1 text-xs text-gray-500\">\n              Time period before consent lapses if not given effect to (s.125 RMA)\n            </p>\n          </div>\n\n          <!-- Consent Notice - Subdivision only -->\n          <div v-if=\"isSubdivision\" class=\"border-t border-gray-200 pt-6\">\n            <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">Consent Notice (s.221 RMA)</h4>\n            <p class=\"text-sm text-gray-600 mb-4\">\n              For subdivision consents, indicate whether a consent notice should be placed on the record of title\n            </p>\n            <div class=\"space-y-3\">\n              <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n                :class=\"localData.consent_notice_required ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n              >\n                <input\n                  v-model=\"localData.consent_notice_required\"\n                  type=\"checkbox\"\n                  class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <div class=\"ml-3\">\n                  <span class=\"font-medium text-gray-900\">Consent notice required</span>\n                  <p class=\"text-xs text-gray-600 mt-1\">\n                    Check if ongoing conditions need to be recorded on the certificate of title\n                  </p>\n                </div>\n              </label>\n\n              <div v-if=\"localData.consent_notice_required\" class=\"pl-7\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Consent Notice Details *\n                </label>\n                <textarea\n                  v-model=\"localData.consent_notice_details\"\n                  rows=\"4\"\n                  placeholder=\"Describe the matters to be included in the consent notice...\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  :required=\"localData.consent_notice_required\"\n                ></textarea>\n              </div>\n            </div>\n          </div>\n\n          <!-- Coastal Occupation Charge - Coastal Permit only -->\n          <div v-if=\"isCoastalPermit\" class=\"border-t border-gray-200 pt-6\">\n            <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">Coastal Occupation Charge</h4>\n            <p class=\"text-sm text-gray-600 mb-4\">\n              For occupation of the coastal marine area, councils may impose a coastal occupation charge\n            </p>\n            <div class=\"space-y-3\">\n              <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n                :class=\"localData.coastal_occupation_charge_acknowledged ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n              >\n                <input\n                  v-model=\"localData.coastal_occupation_charge_acknowledged\"\n                  type=\"checkbox\"\n                  class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <div class=\"ml-3\">\n                  <span class=\"font-medium text-gray-900\">I acknowledge that a coastal occupation charge may apply</span>\n                  <p class=\"text-xs text-gray-600 mt-1\">\n                    The council will determine the applicable charge based on the nature and extent of occupation\n                  </p>\n                </div>\n              </label>\n            </div>\n          </div>\n\n          <!-- Financial Contribution - All types -->\n          <div class=\"border-t border-gray-200 pt-6\">\n            <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">Financial Contribution (s.108(2)(a) RMA)</h4>\n            <p class=\"text-sm text-gray-600 mb-4\">\n              Council may impose financial contributions as a condition of consent\n            </p>\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <div class=\"flex items-start\">\n                <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <div>\n                  <h5 class=\"font-semibold text-blue-900 text-sm\">Information Only</h5>\n                  <p class=\"text-blue-800 text-sm mt-1\">\n                    Financial contributions are determined by council policy and will be advised during processing if applicable. No action required at this stage.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Fast-Track Processing - User Selectable -->\n          <div v-if=\"fastTrackAvailable\" class=\"border-t border-gray-200 pt-6\">\n            <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">Fast-Track Processing (s.87AAB RMA)</h4>\n            <p class=\"text-sm text-gray-600 mb-4\">\n              Controlled activities may be eligible for fast-track processing with reduced timeframes\n            </p>\n\n            <div v-if=\"eligibleForFastTrack\" class=\"space-y-3\">\n              <div class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                <div class=\"flex items-start\">\n                  <svg class=\"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div>\n                    <h5 class=\"font-semibold text-green-900 text-sm\">Eligible for Fast-Track</h5>\n                    <p class=\"text-green-800 text-sm mt-1\">\n                      Based on your consent type and activity status (Controlled), this application is eligible for fast-track processing.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n                :class=\"localData.request_fast_track ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n              >\n                <input\n                  v-model=\"localData.request_fast_track\"\n                  type=\"checkbox\"\n                  class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <div class=\"ml-3\">\n                  <span class=\"font-medium text-gray-900\">Request fast-track processing</span>\n                  <p class=\"text-xs text-gray-600 mt-1\">\n                    I would like this application to be processed under fast-track provisions (subject to council availability)\n                  </p>\n                </div>\n              </label>\n            </div>\n\n            <div v-else class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n              <p class=\"text-sm text-gray-600\">\n                Fast-track processing is only available for Controlled activities (excluding Subdivision consents).\n                Your current selections do not qualify for fast-track.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- SECTION 3: Proposal Details -->\n      <div class=\"pb-4\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Proposal Details</h3>\n\n        <div class=\"space-y-6\">\n          <!-- Brief Description -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Brief Description *\n            </label>\n            <textarea\n              v-model=\"localData.brief_description\"\n              rows=\"2\"\n              maxlength=\"200\"\n              placeholder=\"Provide a short summary of your proposal (max 200 characters)\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              required\n            ></textarea>\n            <p class=\"mt-1 text-xs text-gray-500\">\n              {{ localData.brief_description?.length || 0 }}/200 characters\n            </p>\n          </div>\n\n          <!-- Detailed Description -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Detailed Description *\n            </label>\n            <textarea\n              v-model=\"localData.detailed_description\"\n              rows=\"6\"\n              placeholder=\"Provide a comprehensive description of your proposal including scope, materials, dimensions, environmental considerations, and any other relevant information for the planner's assessment\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              required\n            ></textarea>\n            <p class=\"mt-1 text-xs text-gray-500\">\n              Full description of the proposed work for planner assessment\n            </p>\n          </div>\n\n          <div class=\"border-t border-gray-200 pt-6\">\n            <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">Detailed Breakdown (Optional)</h4>\n            <p class=\"text-sm text-gray-600 mb-4\">\n              Add specific details for different aspects of your proposal\n            </p>\n          </div>\n\n          <!-- Add Proposal Detail Button -->\n          <div class=\"flex justify-between items-center\">\n            <p class=\"text-sm text-gray-700\">\n              Add details about different aspects of your proposal (building, earthworks, traffic, etc.)\n            </p>\n            <button\n              @click=\"addProposalDetail\"\n              type=\"button\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n              </svg>\n              Add Proposal Detail\n            </button>\n          </div>\n\n          <!-- Proposal Details List -->\n          <div v-if=\"modelValue.proposal_details && modelValue.proposal_details.length > 0\" class=\"space-y-4\">\n            <div\n              v-for=\"(detail, index) in modelValue.proposal_details\"\n              :key=\"index\"\n              class=\"border border-gray-200 rounded-lg p-6 bg-white shadow-sm\"\n            >\n              <div class=\"flex justify-between items-start mb-4\">\n                <h5 class=\"text-base font-semibold text-gray-900\">\n                  {{ detail.detail_type || 'Proposal Detail' }} #{{ index + 1 }}\n                </h5>\n                <button\n                  @click=\"removeProposalDetail(index)\"\n                  type=\"button\"\n                  class=\"text-red-600 hover:text-red-800 p-1\"\n                  title=\"Remove\"\n                >\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </button>\n              </div>\n\n              <!-- Detail Type Selector -->\n              <div class=\"mb-4\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Detail Type *\n                </label>\n                <select\n                  v-model=\"detail.detail_type\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  required\n                >\n                  <option value=\"\">Select type</option>\n                  <option value=\"Building\">Building</option>\n                  <option value=\"Earthworks\">Earthworks</option>\n                  <option value=\"Traffic\">Traffic & Parking</option>\n                  <option value=\"Operations\">Operations</option>\n                  <option value=\"Subdivision\">Subdivision</option>\n                  <option value=\"Discharge\">Discharge</option>\n                  <option value=\"Water\">Water Take/Use</option>\n                  <option value=\"Coastal\">Coastal Activity</option>\n                </select>\n              </div>\n\n              <!-- Building Details -->\n              <div v-if=\"detail.detail_type === 'Building'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h5 class=\"font-medium text-gray-900\">Building Details</h5>\n                <div class=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Building Height (m)</label>\n                    <input\n                      v-model.number=\"detail.building_height_m\"\n                      type=\"number\"\n                      step=\"0.1\"\n                      placeholder=\"e.g., 8.5\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Total Floor Area (m)</label>\n                    <input\n                      v-model.number=\"detail.total_floor_area_m2\"\n                      type=\"number\"\n                      step=\"0.1\"\n                      placeholder=\"e.g., 250.5\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <!-- Earthworks Details -->\n              <div v-if=\"detail.detail_type === 'Earthworks'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h5 class=\"font-medium text-gray-900\">Earthworks Details</h5>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                  <textarea\n                    v-model=\"detail.earthworks_description\"\n                    rows=\"4\"\n                    placeholder=\"Describe the earthworks proposed...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  ></textarea>\n                </div>\n              </div>\n\n              <!-- Traffic Details -->\n              <div v-if=\"detail.detail_type === 'Traffic'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h5 class=\"font-medium text-gray-900\">Traffic & Parking Details</h5>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                  <textarea\n                    v-model=\"detail.traffic_description\"\n                    rows=\"4\"\n                    placeholder=\"Describe traffic generation, parking provision, access arrangements...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  ></textarea>\n                </div>\n              </div>\n\n              <!-- Operations Details -->\n              <div v-if=\"detail.detail_type === 'Operations'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h5 class=\"font-medium text-gray-900\">Operations Details</h5>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                  <textarea\n                    v-model=\"detail.operations_description\"\n                    rows=\"4\"\n                    placeholder=\"Describe hours of operation, activities, processes...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  ></textarea>\n                </div>\n              </div>\n\n              <!-- Subdivision Details -->\n              <div v-if=\"detail.detail_type === 'Subdivision'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h5 class=\"font-medium text-gray-900\">Subdivision Details</h5>\n                <div class=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Number of Lots</label>\n                    <input\n                      v-model.number=\"detail.subdivision_lots\"\n                      type=\"number\"\n                      placeholder=\"e.g., 5\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Lot Sizes</label>\n                    <input\n                      v-model=\"detail.subdivision_lot_sizes\"\n                      type=\"text\"\n                      placeholder=\"e.g., 800m, 1000m, 1200m\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <!-- Discharge Details -->\n              <div v-if=\"detail.detail_type === 'Discharge'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h5 class=\"font-medium text-gray-900\">Discharge Details</h5>\n                <div class=\"space-y-4\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Discharge Type</label>\n                    <select\n                      v-model=\"detail.discharge_type\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    >\n                      <option value=\"\">Select type</option>\n                      <option value=\"Stormwater\">Stormwater</option>\n                      <option value=\"Wastewater\">Wastewater</option>\n                      <option value=\"Air\">Air</option>\n                      <option value=\"Other\">Other</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Receiving Environment</label>\n                    <input\n                      v-model=\"detail.discharge_receiver\"\n                      type=\"text\"\n                      placeholder=\"e.g., Reticulated network, stream, land\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Treatment System</label>\n                    <textarea\n                      v-model=\"detail.discharge_treatment\"\n                      rows=\"3\"\n                      placeholder=\"Describe treatment systems and methods...\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    ></textarea>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Water Details -->\n              <div v-if=\"detail.detail_type === 'Water'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h5 class=\"font-medium text-gray-900\">Water Take/Use Details</h5>\n                <div class=\"space-y-4\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Water Source</label>\n                    <input\n                      v-model=\"detail.water_source\"\n                      type=\"text\"\n                      placeholder=\"e.g., River, bore, stream\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div class=\"grid md:grid-cols-2 gap-4\">\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">Maximum Take (m/day)</label>\n                      <input\n                        v-model.number=\"detail.water_max_take_m3\"\n                        type=\"number\"\n                        step=\"0.1\"\n                        placeholder=\"e.g., 50\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      />\n                    </div>\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">Rate</label>\n                      <input\n                        v-model=\"detail.water_rate\"\n                        type=\"text\"\n                        placeholder=\"e.g., 2 L/s\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Coastal Details -->\n              <div v-if=\"detail.detail_type === 'Coastal'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h5 class=\"font-medium text-gray-900\">Coastal Activity Details</h5>\n                <div class=\"space-y-4\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Structure Type</label>\n                    <input\n                      v-model=\"detail.coastal_structure_type\"\n                      type=\"text\"\n                      placeholder=\"e.g., Jetty, mooring, seawall\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    />\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Navigation Effects</label>\n                    <textarea\n                      v-model=\"detail.coastal_navigation_effects\"\n                      rows=\"3\"\n                      placeholder=\"Describe potential effects on navigation...\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    ></textarea>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Empty State -->\n          <div v-else class=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n            <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n            </svg>\n            <p class=\"mt-2 text-sm text-gray-600\">No proposal details added yet</p>\n            <p class=\"text-xs text-gray-500 mt-1\">Click \"Add Proposal Detail\" to describe your proposed activity</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch, computed, reactive, onMounted } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Available consent types\nconst availableConsentTypes = [\n  {\n    value: 'Land Use',\n    label: 'Land Use',\n    description: 'For buildings, structures, and use of land'\n  },\n  {\n    value: 'Subdivision',\n    label: 'Subdivision',\n    description: 'For dividing land into separate lots or titles'\n  },\n  {\n    value: 'Discharge Permit',\n    label: 'Discharge Permit',\n    description: 'For discharges to land, water, or air'\n  },\n  {\n    value: 'Water Permit',\n    label: 'Water Permit',\n    description: 'For taking, using, damming, or diverting water'\n  },\n  {\n    value: 'Coastal Permit',\n    label: 'Coastal Permit',\n    description: 'For activities in the coastal marine area'\n  }\n]\n\n// Activity statuses\nconst activityStatuses = [\n  {\n    value: 'Unsure',\n    label: 'Unsure / To Be Determined by Council',\n    description: 'Council planner will assess and determine the correct status'\n  },\n  {\n    value: 'Permitted',\n    label: 'Permitted Activity',\n    description: 'Complies with all permitted activity standards'\n  },\n  {\n    value: 'Controlled',\n    label: 'Controlled Activity',\n    description: 'Council must grant consent, can impose conditions'\n  },\n  {\n    value: 'Restricted Discretionary',\n    label: 'Restricted Discretionary Activity',\n    description: \"Council's discretion limited to specified matters\"\n  },\n  {\n    value: 'Discretionary',\n    label: 'Discretionary Activity',\n    description: 'Council has full discretion to grant or decline'\n  },\n  {\n    value: 'Non-Complying',\n    label: 'Non-Complying Activity',\n    description: 'Does not comply with plan, requires special consideration'\n  }\n]\n\n// Local data\nconst localData = ref({\n  consent_types: props.modelValue.consent_types || [],\n  activity_status: props.modelValue.activity_status || '',\n  lapsing_period_years: props.modelValue.lapsing_period_years || 5,\n  consent_notice_required: props.modelValue.consent_notice_required || false,\n  consent_notice_details: props.modelValue.consent_notice_details || '',\n  coastal_occupation_charge_acknowledged: props.modelValue.coastal_occupation_charge_acknowledged || false,\n  request_fast_track: props.modelValue.request_fast_track || false,\n  brief_description: props.modelValue.brief_description || '',\n  detailed_description: props.modelValue.detailed_description || ''\n})\n\n// Consent type checks\nconst hasConsentType = (type) => {\n  return localData.value.consent_types?.some(ct => ct.consent_type === type) || false\n}\n\nconst isSubdivision = computed(() => hasConsentType('Subdivision'))\nconst isCoastalPermit = computed(() => hasConsentType('Coastal Permit'))\n\n// Duration helpers - per consent type\nconst canBeUnlimited = (consentType) => {\n  return consentType === 'Land Use' || consentType === 'Subdivision'\n}\n\nconst getMaxDuration = (consentType) => {\n  return canBeUnlimited(consentType) ? 999 : 35\n}\n\nconst getDurationHelpText = (consentType) => {\n  if (canBeUnlimited(consentType)) {\n    return 'Land Use and Subdivision consents can be granted for unlimited duration (s.123 RMA)'\n  }\n  return 'Water Permits, Discharge Permits, and Coastal Permits have a maximum duration of 35 years (s.123 RMA)'\n}\n\n// Duration data management - store per consent type\nconst durationData = reactive({})\n\nconst getDurationData = (consentType) => {\n  if (!durationData[consentType]) {\n    // Check if data exists in modelValue\n    const existing = props.modelValue.consent_type_durations?.find(d => d.consent_type === consentType)\n    if (existing) {\n      durationData[consentType] = { ...existing }\n    } else {\n      durationData[consentType] = {\n        consent_type: consentType,\n        duration_years: 10,\n        duration_unlimited: false\n      }\n    }\n  }\n  return durationData[consentType]\n}\n\n// Real-time validation state\nconst durationTouched = reactive({})\nconst durationErrors = reactive({})\n\n// Validate duration input\nconst validateDuration = (consentType) => {\n  durationTouched[consentType] = true\n  const data = getDurationData(consentType)\n\n  // Clear error if unlimited is selected\n  if (data.duration_unlimited) {\n    durationErrors[consentType] = null\n    return\n  }\n\n  const max = getMaxDuration(consentType)\n  const years = data.duration_years\n\n  // Validation rules\n  if (!years || years < 1) {\n    durationErrors[consentType] = 'Duration must be at least 1 year'\n  } else if (years > max) {\n    if (canBeUnlimited(consentType)) {\n      durationErrors[consentType] = `Maximum ${max} years, or select \"Unlimited\" (s.123 RMA)`\n    } else {\n      durationErrors[consentType] = `${consentType} cannot exceed ${max} years (s.123 RMA)`\n    }\n  } else {\n    durationErrors[consentType] = null\n  }\n}\n\n// Get validation CSS class\nconst getDurationValidationClass = (consentType) => {\n  if (!durationTouched[consentType]) {\n    return 'border border-gray-300 bg-white'\n  }\n  if (durationErrors[consentType]) {\n    return 'border-2 border-red-300 bg-red-50'\n  }\n  if (getDurationData(consentType).duration_years && !getDurationData(consentType).duration_unlimited) {\n    return 'border-2 border-green-300 bg-green-50'\n  }\n  return 'border border-gray-300 bg-white'\n}\n\n// Get validation error message\nconst getDurationError = (consentType) => {\n  return durationErrors[consentType]\n}\n\n// Handle unlimited checkbox toggle\nconst onUnlimitedToggle = (consentType) => {\n  validateDuration(consentType)\n}\n\n// Accessibility helper functions - Generate unique IDs for ARIA\nconst getDurationInputId = (consentType) => {\n  return `duration-${consentType.toLowerCase().replace(/\\s+/g, '-')}`\n}\n\nconst getDurationHelpId = (consentType) => {\n  return `duration-help-${consentType.toLowerCase().replace(/\\s+/g, '-')}`\n}\n\nconst getUnlimitedCheckboxId = (consentType) => {\n  return `unlimited-${consentType.toLowerCase().replace(/\\s+/g, '-')}`\n}\n\n// Watch duration data and sync to modelValue\nwatch(durationData, () => {\n  const durations = Object.values(durationData)\n  emit('update:modelValue', {\n    ...props.modelValue,\n    consent_type_durations: durations\n  })\n}, { deep: true })\n\n// Initialize duration data when consent types change\nwatch(() => localData.value.consent_types, (newConsentTypes) => {\n  // Ensure all selected consent types have duration data initialized\n  newConsentTypes.forEach(ct => {\n    getDurationData(ct.consent_type)\n  })\n  // Trigger duration data sync\n  const durations = Object.values(durationData)\n  emit('update:modelValue', {\n    ...props.modelValue,\n    consent_type_durations: durations\n  })\n}, { deep: true, immediate: true })\n\n// Initialize duration data on mount\nonMounted(() => {\n  // Initialize duration data for any existing consent types\n  if (localData.value.consent_types && localData.value.consent_types.length > 0) {\n    localData.value.consent_types.forEach(ct => {\n      getDurationData(ct.consent_type)\n    })\n    // Trigger initial sync\n    const durations = Object.values(durationData)\n    if (durations.length > 0) {\n      emit('update:modelValue', {\n        ...props.modelValue,\n        consent_type_durations: durations\n      })\n    }\n  }\n})\n\n// Fast-track eligibility and availability\nconst eligibleForFastTrack = computed(() => {\n  const isControlled = localData.value.activity_status === 'Controlled'\n  const notSubdivision = !isSubdivision.value\n  return isControlled && notSubdivision\n})\n\nconst fastTrackAvailable = computed(() => {\n  return true\n})\n\n// UI state for help panel\nconst showLapsingHelp = ref(false)\n\n// Watch for external changes\nwatch(() => props.modelValue, (newVal) => {\n  localData.value.consent_types = newVal.consent_types || []\n  localData.value.activity_status = newVal.activity_status || ''\n  localData.value.lapsing_period_years = newVal.lapsing_period_years || 5\n  localData.value.consent_notice_required = newVal.consent_notice_required || false\n  localData.value.consent_notice_details = newVal.consent_notice_details || ''\n  localData.value.coastal_occupation_charge_acknowledged = newVal.coastal_occupation_charge_acknowledged || false\n  localData.value.request_fast_track = newVal.request_fast_track || false\n  localData.value.brief_description = newVal.brief_description || ''\n  localData.value.detailed_description = newVal.detailed_description || ''\n}, { deep: true })\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    consent_types: newVal.consent_types,\n    activity_status: newVal.activity_status,\n    lapsing_period_years: newVal.lapsing_period_years,\n    consent_notice_required: newVal.consent_notice_required,\n    consent_notice_details: newVal.consent_notice_details,\n    coastal_occupation_charge_acknowledged: newVal.coastal_occupation_charge_acknowledged,\n    request_fast_track: newVal.request_fast_track,\n    brief_description: newVal.brief_description,\n    detailed_description: newVal.detailed_description\n  })\n}, { deep: true })\n\n// Toggle consent type selection\nconst toggleConsentType = (consentType) => {\n  const index = localData.value.consent_types.findIndex(ct => ct.consent_type === consentType)\n  if (index > -1) {\n    localData.value.consent_types.splice(index, 1)\n  } else {\n    localData.value.consent_types.push({ consent_type: consentType })\n  }\n}\n\n// Check if consent type is selected\nconst isConsentTypeSelected = (consentType) => {\n  return localData.value.consent_types.some(ct => ct.consent_type === consentType)\n}\n\n// Proposal detail management\nconst addProposalDetail = () => {\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.proposal_details) {\n    updatedData.proposal_details = []\n  }\n  updatedData.proposal_details.push({\n    detail_type: '',\n    building_height_m: null,\n    total_floor_area_m2: null,\n    earthworks_description: '',\n    traffic_description: '',\n    operations_description: '',\n    subdivision_lots: null,\n    subdivision_lot_sizes: '',\n    discharge_type: '',\n    discharge_receiver: '',\n    discharge_treatment: '',\n    water_source: '',\n    water_max_take_m3: null,\n    water_rate: '',\n    coastal_structure_type: '',\n    coastal_navigation_effects: ''\n  })\n  emit('update:modelValue', updatedData)\n}\n\nconst removeProposalDetail = (index) => {\n  if (confirm('Remove this proposal detail?')) {\n    const updatedData = { ...props.modelValue }\n    updatedData.proposal_details.splice(index, 1)\n    emit('update:modelValue', updatedData)\n  }\n}\n</script>\n","import { createResource } from 'frappe-ui'\n\n/**\n * Create a new RFQ for a request\n * @param {string} requestId - The request ID\n * @param {string} rfqMessage - Optional custom RFQ message\n * @returns {Promise} Promise resolving to the created RFQ data\n */\nexport function createRFQ(requestId, rfqMessage = null) {\n  const resource = createResource({\n    url: 'lodgeick.lodgeick.doctype.rfq_agent_details.rfq_agent_details.create_rfq_for_request',\n    method: 'POST',\n    params: {\n      request_id: requestId,\n      rfq_message: rfqMessage\n    },\n    auto: true\n  })\n\n  return resource\n}\n\n/**\n * Send RFQ to an agent\n * @param {string} rfqId - The RFQ document ID\n * @param {string} agentId - The agent user ID\n * @returns {Promise} Promise resolving to the updated RFQ data\n */\nexport function sendRFQToAgent(rfqId, agentId) {\n  const resource = createResource({\n    url: 'lodgeick.lodgeick.doctype.rfq_agent_details.rfq_agent_details.send_rfq_to_agent',\n    method: 'POST',\n    params: {\n      rfq_id: rfqId,\n      agent_id: agentId\n    },\n    auto: true\n  })\n\n  return resource\n}\n\n/**\n * Engage an agent from RFQ (locks the request)\n * @param {string} rfqId - The RFQ document ID\n * @param {number} quoteAmount - The agreed quote amount\n * @param {string} quoteDetails - Optional quote details\n * @returns {Promise} Promise resolving to the updated RFQ data\n */\nexport function engageAgent(rfqId, quoteAmount = null, quoteDetails = null) {\n  const resource = createResource({\n    url: 'lodgeick.lodgeick.doctype.rfq_agent_details.rfq_agent_details.engage_agent',\n    method: 'POST',\n    params: {\n      rfq_id: rfqId,\n      quote_amount: quoteAmount,\n      quote_details: quoteDetails\n    },\n    auto: true\n  })\n\n  return resource\n}\n\n/**\n * Get available agents for RFQ\n * @returns {Promise} Promise resolving to list of available agents\n */\nexport function getAvailableAgents() {\n  const resource = createResource({\n    url: 'lodgeick.lodgeick.doctype.rfq_agent_details.rfq_agent_details.get_available_agents',\n    method: 'GET',\n    auto: true\n  })\n\n  return resource\n}\n\n/**\n * Update RFQ details\n * @param {string} rfqId - The RFQ document ID\n * @param {object} data - Updated RFQ data\n * @returns {Promise} Promise resolving to the updated RFQ\n */\nexport function updateRFQ(rfqId, data) {\n  return new Promise((resolve, reject) => {\n    frappe.call({\n      method: 'frappe.client.set_value',\n      args: {\n        doctype: 'RFQ Agent Details',\n        name: rfqId,\n        fieldname: data\n      },\n      callback: (r) => {\n        if (r.message) {\n          resolve(r.message)\n        } else {\n          reject(new Error('Failed to update RFQ'))\n        }\n      },\n      error: (err) => {\n        reject(err)\n      }\n    })\n  })\n}\n\n/**\n * Get RFQ details by ID\n * @param {string} rfqId - The RFQ document ID\n * @returns {Promise} Promise resolving to RFQ data\n */\nexport function getRFQ(rfqId) {\n  return new Promise((resolve, reject) => {\n    frappe.call({\n      method: 'frappe.client.get',\n      args: {\n        doctype: 'RFQ Agent Details',\n        name: rfqId\n      },\n      callback: (r) => {\n        if (r.message) {\n          resolve(r.message)\n        } else {\n          reject(new Error('RFQ not found'))\n        }\n      },\n      error: (err) => {\n        reject(err)\n      }\n    })\n  })\n}\n\n/**\n * Get all RFQs for a request\n * @param {string} requestId - The request ID\n * @returns {Promise} Promise resolving to list of RFQs\n */\nexport function getRFQsForRequest(requestId) {\n  return new Promise((resolve, reject) => {\n    frappe.call({\n      method: 'frappe.client.get_list',\n      args: {\n        doctype: 'RFQ Agent Details',\n        filters: {\n          request: requestId\n        },\n        fields: [\n          'name',\n          'status',\n          'created_date',\n          'rfq_message',\n          'agent',\n          'agent_name',\n          'agent_email',\n          'agent_phone',\n          'agent_engaged',\n          'agent_engaged_date',\n          'quote_amount',\n          'quote_details',\n          'quote_received_date'\n        ],\n        order_by: 'created_date desc'\n      },\n      callback: (r) => {\n        if (r.message) {\n          resolve(r.message)\n        } else {\n          resolve([])\n        }\n      },\n      error: (err) => {\n        reject(err)\n      }\n    })\n  })\n}\n","<template>\n  <div v-if=\"isOpen\" class=\"fixed inset-0 z-50 overflow-y-auto\" aria-labelledby=\"rfq-modal-title\" role=\"dialog\" aria-modal=\"true\">\n    <div class=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n      <!-- Background overlay -->\n      <div class=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" aria-hidden=\"true\" @click=\"closeModal\"></div>\n\n      <!-- Center modal -->\n      <span class=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n\n      <div class=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full\">\n        <div class=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n          <!-- Header -->\n          <div class=\"flex items-center justify-between mb-4\">\n            <h3 class=\"text-lg font-semibold text-gray-900\" id=\"rfq-modal-title\">\n              Request for Quote - Agent Details\n            </h3>\n            <button @click=\"closeModal\" class=\"text-gray-400 hover:text-gray-500\">\n              <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <!-- Status Badge -->\n          <div class=\"mb-4\">\n            <span :class=\"[\n              'inline-flex px-3 py-1 text-sm font-medium rounded-full',\n              rfqData.status === 'Draft' ? 'bg-gray-100 text-gray-800' :\n              rfqData.status === 'Sent to Agent' ? 'bg-blue-100 text-blue-800' :\n              rfqData.status === 'Quote Received' ? 'bg-yellow-100 text-yellow-800' :\n              rfqData.status === 'Agent Engaged' ? 'bg-green-100 text-green-800' :\n              rfqData.status === 'Cancelled' ? 'bg-red-100 text-red-800' :\n              'bg-gray-100 text-gray-800'\n            ]\">\n              {{ rfqData.status || 'Draft' }}\n            </span>\n          </div>\n\n          <!-- RFQ ID and Dates -->\n          <div class=\"grid grid-cols-2 gap-4 mb-6\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700\">RFQ ID</label>\n              <p class=\"mt-1 text-sm text-gray-900\">{{ rfqData.rfq_id || 'Not assigned' }}</p>\n            </div>\n            <div v-if=\"rfqData.created_date\">\n              <label class=\"block text-sm font-medium text-gray-700\">Created Date</label>\n              <p class=\"mt-1 text-sm text-gray-900\">{{ formatDate(rfqData.created_date) }}</p>\n            </div>\n          </div>\n\n          <!-- RFQ Message -->\n          <div class=\"mb-6\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              RFQ Message\n              <span v-if=\"!rfqData.agent_engaged\" class=\"text-xs text-gray-500 ml-2\">(Editable)</span>\n            </label>\n\n            <div v-if=\"rfqData.status === 'Draft' || rfqData.status === 'Sent to Agent'\" class=\"border rounded-lg p-3\">\n              <textarea\n                v-model=\"rfqData.rfq_message\"\n                rows=\"6\"\n                class=\"w-full border-0 focus:ring-0 text-sm text-gray-700 resize-none\"\n                :disabled=\"rfqData.agent_engaged\"\n                placeholder=\"Enter RFQ message...\"\n              ></textarea>\n            </div>\n            <div v-else class=\"border rounded-lg p-3 bg-gray-50\">\n              <div class=\"text-sm text-gray-700 whitespace-pre-wrap\" v-html=\"sanitizeHtml(rfqData.rfq_message)\"></div>\n            </div>\n          </div>\n\n          <!-- Agent Selection (if not yet engaged) -->\n          <div v-if=\"!rfqData.agent_engaged && availableAgents.length > 0\" class=\"mb-6\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Select Agent</label>\n            <select\n              v-model=\"selectedAgent\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">-- Choose an agent --</option>\n              <option v-for=\"agent in availableAgents\" :key=\"agent.value\" :value=\"agent.value\">\n                {{ agent.label }}\n              </option>\n            </select>\n          </div>\n\n          <!-- Agent Details (if agent engaged) -->\n          <div v-if=\"rfqData.agent_name\" class=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n            <h4 class=\"text-sm font-semibold text-blue-900 mb-2\">Engaged Agent</h4>\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-xs font-medium text-blue-700\">Agent Name</label>\n                <p class=\"text-sm text-blue-900\">{{ rfqData.agent_name }}</p>\n              </div>\n              <div v-if=\"rfqData.agent_email\">\n                <label class=\"block text-xs font-medium text-blue-700\">Email</label>\n                <p class=\"text-sm text-blue-900\">{{ rfqData.agent_email }}</p>\n              </div>\n              <div v-if=\"rfqData.agent_phone\">\n                <label class=\"block text-xs font-medium text-blue-700\">Phone</label>\n                <p class=\"text-sm text-blue-900\">{{ rfqData.agent_phone }}</p>\n              </div>\n              <div v-if=\"rfqData.agent_engaged_date\">\n                <label class=\"block text-xs font-medium text-blue-700\">Engaged Date</label>\n                <p class=\"text-sm text-blue-900\">{{ formatDate(rfqData.agent_engaged_date) }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Quote Details (if quote received) -->\n          <div v-if=\"rfqData.status === 'Quote Received' || rfqData.status === 'Agent Engaged'\" class=\"mb-6\">\n            <h4 class=\"text-sm font-semibold text-gray-900 mb-3\">Quote Details</h4>\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div v-if=\"rfqData.quote_amount\">\n                <label class=\"block text-xs font-medium text-gray-700\">Quote Amount</label>\n                <p class=\"text-sm text-gray-900\">${{ rfqData.quote_amount }}</p>\n              </div>\n              <div v-if=\"rfqData.quote_received_date\">\n                <label class=\"block text-xs font-medium text-gray-700\">Quote Received</label>\n                <p class=\"text-sm text-gray-900\">{{ formatDate(rfqData.quote_received_date) }}</p>\n              </div>\n            </div>\n            <div v-if=\"rfqData.quote_details\" class=\"mt-3\">\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">Quote Details</label>\n              <div class=\"text-sm text-gray-900 bg-gray-50 p-3 rounded border border-gray-200\">\n                {{ rfqData.quote_details }}\n              </div>\n            </div>\n          </div>\n\n          <!-- Warning Message -->\n          <div v-if=\"!rfqData.agent_engaged\" class=\"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4\">\n            <div class=\"flex\">\n              <svg class=\"h-5 w-5 text-orange-400 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fill-rule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clip-rule=\"evenodd\" />\n              </svg>\n              <div class=\"text-sm text-orange-700\">\n                <p class=\"font-medium\">Important Notice</p>\n                <p class=\"mt-1\">Once you engage an agent, you will not be able to make any more changes or complete this application.</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Locked Message (if agent engaged) -->\n          <div v-if=\"rfqData.agent_engaged\" class=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-4\">\n            <div class=\"flex\">\n              <svg class=\"h-5 w-5 text-green-400 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fill-rule=\"evenodd\" d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\" clip-rule=\"evenodd\" />\n              </svg>\n              <div class=\"text-sm text-green-700\">\n                <p class=\"font-medium\">Application Locked</p>\n                <p class=\"mt-1\">This application has been locked and is now being managed by the engaged agent.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Footer Actions -->\n        <div class=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-3\">\n          <!-- Engage Agent Button (only show if quote received and not yet engaged) -->\n          <button\n            v-if=\"rfqData.status === 'Quote Received' && !rfqData.agent_engaged\"\n            @click=\"engageAgent\"\n            :disabled=\"saving\"\n            class=\"w-full sm:w-auto inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {{ saving ? 'Engaging...' : 'Engage Agent' }}\n          </button>\n\n          <!-- Send to Agent Button (only show if draft) -->\n          <button\n            v-if=\"rfqData.status === 'Draft' && selectedAgent\"\n            @click=\"sendToAgent\"\n            :disabled=\"saving || !selectedAgent\"\n            class=\"w-full sm:w-auto inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {{ saving ? 'Sending...' : 'Send to Agent' }}\n          </button>\n\n          <!-- Save Button (only if draft or sent) -->\n          <button\n            v-if=\"!rfqData.agent_engaged && (rfqData.status === 'Draft' || rfqData.status === 'Sent to Agent')\"\n            @click=\"saveRFQ\"\n            :disabled=\"saving\"\n            class=\"w-full sm:w-auto inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {{ saving ? 'Saving...' : 'Save Changes' }}\n          </button>\n\n          <!-- Cancel/Close Button -->\n          <button\n            @click=\"closeModal\"\n            :disabled=\"saving\"\n            class=\"mt-3 sm:mt-0 w-full sm:w-auto inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {{ rfqData.agent_engaged ? 'Close' : 'Cancel' }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch, computed, onMounted } from 'vue'\nimport { getAvailableAgents } from '../../api/rfq'\n\nconst props = defineProps({\n  isOpen: {\n    type: Boolean,\n    default: false\n  },\n  rfq: {\n    type: Object,\n    default: () => ({})\n  },\n  requestId: {\n    type: String,\n    default: ''\n  }\n})\n\nconst emit = defineEmits(['close', 'save', 'send-to-agent', 'engage-agent'])\n\n// Local copy of RFQ data for editing\nconst rfqData = ref({ ...props.rfq })\nconst selectedAgent = ref(props.rfq.agent || '')\nconst saving = ref(false)\nconst availableAgents = ref([])\nconst loadingAgents = ref(false)\n\n// Load available agents on component mount\nonMounted(async () => {\n  await loadAvailableAgents()\n})\n\nconst loadAvailableAgents = async () => {\n  try {\n    loadingAgents.value = true\n    const resource = getAvailableAgents()\n\n    // Wait for the resource to load\n    await new Promise((resolve) => {\n      const checkLoaded = setInterval(() => {\n        if (resource.data) {\n          clearInterval(checkLoaded)\n          resolve()\n        }\n      }, 100)\n\n      // Timeout after 5 seconds\n      setTimeout(() => {\n        clearInterval(checkLoaded)\n        resolve()\n      }, 5000)\n    })\n\n    if (resource.data && Array.isArray(resource.data)) {\n      availableAgents.value = resource.data\n    } else {\n      // Fallback to hardcoded agents if API fails\n      availableAgents.value = [\n        { value: 'agent-1', label: 'Smith Planning Consultants Ltd' },\n        { value: 'agent-2', label: 'Jones Resource Consent Services' },\n        { value: 'agent-3', label: 'Wellington Planning Professionals' }\n      ]\n    }\n  } catch (error) {\n    console.error('Failed to load available agents:', error)\n    // Use fallback agents\n    availableAgents.value = [\n      { value: 'agent-1', label: 'Smith Planning Consultants Ltd' },\n      { value: 'agent-2', label: 'Jones Resource Consent Services' },\n      { value: 'agent-3', label: 'Wellington Planning Professionals' }\n    ]\n  } finally {\n    loadingAgents.value = false\n  }\n}\n\n// Watch for prop changes\nwatch(() => props.rfq, (newRfq) => {\n  rfqData.value = { ...newRfq }\n  selectedAgent.value = newRfq.agent || ''\n}, { deep: true })\n\nwatch(() => props.isOpen, (isOpen) => {\n  if (isOpen) {\n    rfqData.value = { ...props.rfq }\n    selectedAgent.value = props.rfq.agent || ''\n    // Reload agents when modal opens\n    if (availableAgents.value.length === 0) {\n      loadAvailableAgents()\n    }\n  }\n})\n\nconst closeModal = () => {\n  if (!saving.value) {\n    emit('close')\n  }\n}\n\nconst saveRFQ = async () => {\n  saving.value = true\n  try {\n    await emit('save', rfqData.value)\n    // closeModal() // Don't close automatically, let parent handle it\n  } finally {\n    saving.value = false\n  }\n}\n\nconst sendToAgent = async () => {\n  if (!selectedAgent.value) {\n    alert('Please select an agent first')\n    return\n  }\n\n  saving.value = true\n  try {\n    await emit('send-to-agent', {\n      rfq: rfqData.value,\n      agent: selectedAgent.value\n    })\n    rfqData.value.status = 'Sent to Agent'\n    rfqData.value.agent = selectedAgent.value\n  } finally {\n    saving.value = false\n  }\n}\n\nconst engageAgent = async () => {\n  if (!confirm('Are you sure you want to engage this agent? This will lock your application and you will not be able to make further changes.')) {\n    return\n  }\n\n  saving.value = true\n  try {\n    await emit('engage-agent', rfqData.value)\n    rfqData.value.status = 'Agent Engaged'\n    rfqData.value.agent_engaged = true\n  } finally {\n    saving.value = false\n  }\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return ''\n  const date = new Date(dateString)\n  return date.toLocaleDateString('en-NZ', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  })\n}\n\nconst sanitizeHtml = (html) => {\n  if (!html) return ''\n  // Basic HTML sanitization - in production, use a library like DOMPurify\n  return html.replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '')\n}\n</script>\n\n<style scoped>\n/* Modal animations */\n.fixed {\n  animation: fadeIn 0.2s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n</style>\n","<template>\n  <div class=\"space-y-4\">\n    <div class=\"grid grid-cols-2 gap-4\">\n      <!-- Date Picker -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          {{ label || 'Select Date' }}\n        </label>\n        <input\n          :value=\"dateValue\"\n          @input=\"updateDate\"\n          type=\"date\"\n          :min=\"minDate\"\n          :required=\"required\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        />\n      </div>\n\n      <!-- Time Picker -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Time\n        </label>\n        <input\n          :value=\"timeValue\"\n          @input=\"updateTime\"\n          type=\"time\"\n          :required=\"required\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        />\n      </div>\n    </div>\n\n    <!-- Quick Time Presets -->\n    <div v-if=\"showPresets\" class=\"flex flex-wrap gap-2\">\n      <span class=\"text-xs text-gray-600 w-full mb-1\">Quick select:</span>\n      <button\n        v-for=\"preset in timePresets\"\n        :key=\"preset.value\"\n        @click.prevent=\"setTime(preset.value)\"\n        type=\"button\"\n        class=\"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full transition-colors\"\n      >\n        {{ preset.label }}\n      </button>\n    </div>\n\n    <!-- Display formatted date/time -->\n    <div v-if=\"dateValue && timeValue\" class=\"text-sm text-gray-600 bg-blue-50 p-2 rounded-lg\">\n      <div class=\"flex items-center\">\n        <svg class=\"h-4 w-4 text-blue-600 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n        </svg>\n        <span class=\"font-medium\">{{ formattedDateTime }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: String,\n    default: ''\n  },\n  label: {\n    type: String,\n    default: 'Select Date & Time'\n  },\n  required: {\n    type: Boolean,\n    default: false\n  },\n  showPresets: {\n    type: Boolean,\n    default: true\n  },\n  minDate: {\n    type: String,\n    default: () => {\n      // Default to tomorrow\n      const tomorrow = new Date()\n      tomorrow.setDate(tomorrow.getDate() + 1)\n      return tomorrow.toISOString().split('T')[0]\n    }\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst timePresets = [\n  { label: '9:00 AM', value: '09:00' },\n  { label: '10:00 AM', value: '10:00' },\n  { label: '11:00 AM', value: '11:00' },\n  { label: '1:00 PM', value: '13:00' },\n  { label: '2:00 PM', value: '14:00' },\n  { label: '3:00 PM', value: '15:00' },\n  { label: '4:00 PM', value: '16:00' }\n]\n\n// Split the ISO datetime into date and time\nconst dateValue = ref('')\nconst timeValue = ref('')\n\n// Initialize from modelValue\nwatch(() => props.modelValue, (newValue) => {\n  if (newValue) {\n    const dt = new Date(newValue)\n    if (!isNaN(dt.getTime())) {\n      dateValue.value = dt.toISOString().split('T')[0]\n      timeValue.value = dt.toTimeString().slice(0, 5)\n    }\n  }\n}, { immediate: true })\n\nconst updateDate = (event) => {\n  dateValue.value = event.target.value\n  emitDateTime()\n}\n\nconst updateTime = (event) => {\n  timeValue.value = event.target.value\n  emitDateTime()\n}\n\nconst setTime = (time) => {\n  timeValue.value = time\n  emitDateTime()\n}\n\nconst emitDateTime = () => {\n  if (dateValue.value && timeValue.value) {\n    const datetime = `${dateValue.value}T${timeValue.value}:00`\n    emit('update:modelValue', datetime)\n  }\n}\n\nconst formattedDateTime = computed(() => {\n  if (!dateValue.value || !timeValue.value) return ''\n\n  const dt = new Date(`${dateValue.value}T${timeValue.value}`)\n  return dt.toLocaleString('en-NZ', {\n    weekday: 'long',\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n})\n</script>\n","<template>\n  <div v-if=\"isOpen\" class=\"fixed inset-0 z-50 overflow-y-auto\" aria-labelledby=\"contact-selector-title\" role=\"dialog\" aria-modal=\"true\">\n    <div class=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n      <!-- Background overlay -->\n      <div class=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" aria-hidden=\"true\" @click=\"closeModal\"></div>\n\n      <!-- Center modal -->\n      <span class=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n\n      <div class=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full\">\n        <div class=\"bg-white px-4 pt-5 pb-4 sm:p-6\">\n          <!-- Header -->\n          <div class=\"flex items-center justify-between mb-6\">\n            <h3 class=\"text-lg font-semibold text-gray-900\" id=\"contact-selector-title\">\n              Select or Add Contact\n            </h3>\n            <button @click=\"closeModal\" class=\"text-gray-400 hover:text-gray-500\">\n              <svg class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <!-- Tab Navigation -->\n          <div class=\"border-b border-gray-200 mb-6\">\n            <nav class=\"-mb-px flex space-x-8\">\n              <button\n                @click=\"activeTab = 'existing'\"\n                :class=\"[\n                  'py-2 px-1 border-b-2 font-medium text-sm',\n                  activeTab === 'existing'\n                    ? 'border-blue-500 text-blue-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                ]\"\n              >\n                Existing Contacts\n              </button>\n              <button\n                @click=\"activeTab = 'new'\"\n                :class=\"[\n                  'py-2 px-1 border-b-2 font-medium text-sm',\n                  activeTab === 'new'\n                    ? 'border-blue-500 text-blue-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                ]\"\n              >\n                Add New Contact\n              </button>\n            </nav>\n          </div>\n\n          <!-- Existing Contacts Tab -->\n          <div v-if=\"activeTab === 'existing'\" class=\"space-y-4\">\n            <!-- Search -->\n            <div class=\"relative\">\n              <input\n                v-model=\"searchQuery\"\n                type=\"text\"\n                placeholder=\"Search contacts by name or email...\"\n                class=\"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n              <svg class=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </div>\n\n            <!-- Contact List -->\n            <div class=\"max-h-96 overflow-y-auto border border-gray-200 rounded-lg\">\n              <div v-if=\"filteredContacts.length === 0\" class=\"p-8 text-center text-gray-500\">\n                <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                </svg>\n                <p class=\"mt-2\">No contacts found</p>\n              </div>\n\n              <div v-for=\"contact in filteredContacts\" :key=\"contact.name || contact.email\"\n                @click=\"selectContact(contact)\"\n                class=\"p-4 border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors\">\n                <div class=\"flex items-center justify-between\">\n                  <div class=\"flex-1\">\n                    <p class=\"font-medium text-gray-900\">{{ contact.name }}</p>\n                    <p class=\"text-sm text-gray-600\">{{ contact.email }}</p>\n                    <p v-if=\"contact.phone\" class=\"text-sm text-gray-500\">{{ contact.phone }}</p>\n                    <p v-if=\"contact.organization\" class=\"text-xs text-gray-500 mt-1\">{{ contact.organization }}</p>\n                  </div>\n                  <svg class=\"h-5 w-5 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- New Contact Tab -->\n          <div v-if=\"activeTab === 'new'\" class=\"space-y-4\">\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div class=\"col-span-2\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Full Name *</label>\n                <input\n                  v-model=\"newContact.name\"\n                  type=\"text\"\n                  required\n                  placeholder=\"e.g., John Smith\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Email *</label>\n                <input\n                  v-model=\"newContact.email\"\n                  type=\"email\"\n                  required\n                  placeholder=\"john@example.com\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Phone</label>\n                <input\n                  v-model=\"newContact.phone\"\n                  type=\"tel\"\n                  placeholder=\"+64 21 123 4567\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div class=\"col-span-2\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Organization</label>\n                <input\n                  v-model=\"newContact.organization\"\n                  type=\"text\"\n                  placeholder=\"e.g., Planning Consultants Ltd\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div class=\"col-span-2\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Role</label>\n                <input\n                  v-model=\"newContact.role\"\n                  type=\"text\"\n                  placeholder=\"e.g., Project Manager, Architect\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div class=\"flex items-start\">\n              <input\n                v-model=\"saveToContacts\"\n                type=\"checkbox\"\n                id=\"save-contact\"\n                class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1\"\n              />\n              <label for=\"save-contact\" class=\"ml-2 text-sm text-gray-700\">\n                Save this contact for future use\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <!-- Footer Actions -->\n        <div class=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-3\">\n          <button\n            v-if=\"activeTab === 'new'\"\n            @click=\"addNewContact\"\n            :disabled=\"!newContact.name || !newContact.email\"\n            class=\"w-full sm:w-auto inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Add Contact\n          </button>\n\n          <button\n            @click=\"closeModal\"\n            class=\"mt-3 sm:mt-0 w-full sm:w-auto inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\n\nconst props = defineProps({\n  isOpen: {\n    type: Boolean,\n    default: false\n  },\n  existingContacts: {\n    type: Array,\n    default: () => []\n  }\n})\n\nconst emit = defineEmits(['close', 'select'])\n\nconst activeTab = ref('existing')\nconst searchQuery = ref('')\nconst saveToContacts = ref(true)\n\nconst newContact = ref({\n  name: '',\n  email: '',\n  phone: '',\n  organization: '',\n  role: ''\n})\n\n// Filter contacts based on search query\nconst filteredContacts = computed(() => {\n  if (!searchQuery.value) {\n    return props.existingContacts\n  }\n\n  const query = searchQuery.value.toLowerCase()\n  return props.existingContacts.filter(contact => {\n    return (\n      contact.name?.toLowerCase().includes(query) ||\n      contact.email?.toLowerCase().includes(query) ||\n      contact.organization?.toLowerCase().includes(query)\n    )\n  })\n})\n\n// Watch for modal open/close to reset state\nwatch(() => props.isOpen, (isOpen) => {\n  if (isOpen) {\n    activeTab.value = 'existing'\n    searchQuery.value = ''\n    resetNewContact()\n  }\n})\n\nconst closeModal = () => {\n  emit('close')\n}\n\nconst selectContact = (contact) => {\n  emit('select', contact)\n  closeModal()\n}\n\nconst addNewContact = () => {\n  if (!newContact.value.name || !newContact.value.email) {\n    return\n  }\n\n  emit('select', {\n    ...newContact.value,\n    isNew: true,\n    saveToContacts: saveToContacts.value\n  })\n\n  resetNewContact()\n  closeModal()\n}\n\nconst resetNewContact = () => {\n  newContact.value = {\n    name: '',\n    email: '',\n    phone: '',\n    organization: '',\n    role: ''\n  }\n  saveToContacts.value = true\n}\n</script>\n\n<style scoped>\n/* Modal animations */\n.fixed {\n  animation: fadeIn 0.2s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n</style>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Applicant and Proposal Details</h2>\n    <p class=\"text-gray-600 mb-8\">Complete all sections below to provide comprehensive information for your resource consent application</p>\n\n    <div class=\"space-y-8\">\n      <!-- SECTION 1: Applicant Details (nested component) -->\n      <div class=\"border-b border-gray-200 pb-8\">\n        <Step4ApplicantDetails\n          v-model=\"localData\"\n          :user-profile=\"userProfile\"\n          :user-company-account=\"userCompanyAccount\"\n        />\n      </div>\n\n      <!-- SECTION 2: Consent Information / Proposal Details (nested component) -->\n      <div class=\"border-b border-gray-200 pb-8\">\n        <Step6ConsentInfo\n          v-model=\"localData\"\n        />\n      </div>\n\n      <!-- SECTION 3: Property Details (nested component) -->\n      <div class=\"border-b border-gray-200 pb-8\">\n        <Step5PropertyDetailsMulti\n          v-model=\"localData\"\n          :properties=\"properties\"\n          @property-select=\"handlePropertySelect\"\n        />\n      </div>\n\n      <!-- SECTION 4: Additional Consents (FRD 3.4) -->\n      <div class=\"border-b border-gray-200 pb-8\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Additional Consents from Other Councils</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Have you applied for, or are required to apply for, any additional resource consents for this proposal from another council/regional council, but not being applied under this application?\n        </p>\n\n        <div class=\"space-y-4\">\n          <div class=\"flex items-center space-x-4\">\n            <label class=\"flex items-center cursor-pointer\">\n              <input\n                type=\"radio\"\n                :value=\"false\"\n                v-model=\"additionalConsentsRequired\"\n                class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n              />\n              <span class=\"ml-2 text-sm font-medium text-gray-700\">No</span>\n            </label>\n            <label class=\"flex items-center cursor-pointer\">\n              <input\n                type=\"radio\"\n                :value=\"true\"\n                v-model=\"additionalConsentsRequired\"\n                class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n              />\n              <span class=\"ml-2 text-sm font-medium text-gray-700\">Yes</span>\n            </label>\n          </div>\n\n          <div v-if=\"additionalConsentsRequired\" class=\"mt-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h4 class=\"text-base font-semibold text-gray-900\">Additional Consents List</h4>\n              <button\n                @click=\"openAdditionalConsentModal()\"\n                type=\"button\"\n                class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n              >\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                </svg>\n                Add Additional Consent\n              </button>\n            </div>\n\n            <!-- Consents List -->\n            <div v-if=\"localData.additional_consents && localData.additional_consents.length > 0\" class=\"space-y-3\">\n              <div\n                v-for=\"(consent, index) in localData.additional_consents\"\n                :key=\"index\"\n                class=\"flex items-start justify-between p-4 border border-gray-200 rounded-lg bg-white\"\n              >\n                <div class=\"flex-1\">\n                  <div class=\"flex items-center gap-2\">\n                    <span class=\"font-medium text-gray-900\">{{ consent.consent_type }}</span>\n                    <span class=\"px-2 py-1 text-xs font-medium rounded-full\"\n                      :class=\"{\n                        'bg-yellow-100 text-yellow-800': consent.consent_status === 'Required',\n                        'bg-blue-100 text-blue-800': consent.consent_status === 'Applied',\n                        'bg-green-100 text-green-800': consent.consent_status === 'Granted',\n                        'bg-red-100 text-red-800': consent.consent_status === 'Declined'\n                      }\"\n                    >\n                      {{ consent.consent_status }}\n                    </span>\n                  </div>\n                  <p v-if=\"consent.reference_number\" class=\"text-sm text-gray-600 mt-1\">\n                    Ref: {{ consent.reference_number }}\n                  </p>\n                </div>\n                <div class=\"flex items-center gap-2 ml-4\">\n                  <button\n                    @click=\"openAdditionalConsentModal(index)\"\n                    type=\"button\"\n                    class=\"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded transition-colors\"\n                    title=\"Edit\"\n                  >\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                    </svg>\n                  </button>\n                  <button\n                    @click=\"removeAdditionalConsent(index)\"\n                    type=\"button\"\n                    class=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded transition-colors\"\n                    title=\"Remove\"\n                  >\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            <!-- Empty State -->\n            <div v-else class=\"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n              <p class=\"text-sm text-gray-600\">No additional consents added yet</p>\n              <p class=\"text-xs text-gray-500 mt-1\">Click \"Add Additional Consent\" to add consents from other councils</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- SECTION 5: PIM & Building Consent (FRD 3.5) -->\n      <div class=\"border-b border-gray-200 pb-8\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">PIM and Building Consent</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Have you applied for a Project Information Memorandum (PIM) or a Building consent for this project?\n        </p>\n\n        <div class=\"space-y-4\">\n          <div class=\"flex items-center space-x-4\">\n            <label class=\"flex items-center cursor-pointer\">\n              <input\n                type=\"radio\"\n                :value=\"false\"\n                v-model=\"localData.pim_applied\"\n                class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n              />\n              <span class=\"ml-2 text-sm font-medium text-gray-700\">No</span>\n            </label>\n            <label class=\"flex items-center cursor-pointer\">\n              <input\n                type=\"radio\"\n                :value=\"true\"\n                v-model=\"localData.pim_applied\"\n                class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n              />\n              <span class=\"ml-2 text-sm font-medium text-gray-700\">Yes</span>\n            </label>\n          </div>\n\n          <div v-if=\"localData.pim_applied\" class=\"grid md:grid-cols-2 gap-4 mt-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">PIM Number (if applicable)</label>\n              <input\n                v-model=\"localData.pim_number\"\n                type=\"text\"\n                placeholder=\"e.g., PIM-2024-001\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Building Consent Number (if applicable)</label>\n              <input\n                v-model=\"localData.building_consent_number\"\n                type=\"text\"\n                placeholder=\"e.g., BC-2024-001\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- SECTION 6: Site Visit Information (FRD 3.6) -->\n      <div class=\"border-b border-gray-200 pb-8\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Site Visit Information</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          In order to assess your application it will generally be necessary for the planning officer to visit your site. This typically involves an outdoor inspection only, and there is no need for you to be home for this purpose.\n        </p>\n\n        <div class=\"space-y-4\">\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n              :class=\"localData.site_visit_locked_gates ? 'border-orange-600 bg-orange-50' : 'border-gray-200 hover:border-gray-300'\"\n            >\n              <input\n                v-model=\"localData.site_visit_locked_gates\"\n                type=\"checkbox\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <div class=\"ml-3\">\n                <span class=\"font-medium text-gray-900\">Locked gates or security systems present</span>\n                <p class=\"text-xs text-gray-600 mt-1\">Restricting access by Council staff</p>\n              </div>\n            </label>\n\n            <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n              :class=\"localData.site_visit_dogs_present ? 'border-orange-600 bg-orange-50' : 'border-gray-200 hover:border-gray-300'\"\n            >\n              <input\n                v-model=\"localData.site_visit_dogs_present\"\n                type=\"checkbox\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <div class=\"ml-3\">\n                <span class=\"font-medium text-gray-900\">Dogs on the property</span>\n                <p class=\"text-xs text-gray-600 mt-1\">Council staff should be aware</p>\n              </div>\n            </label>\n          </div>\n\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n              :class=\"localData.site_visit_health_safety_issues ? 'border-orange-600 bg-orange-50' : 'border-gray-200 hover:border-gray-300'\"\n            >\n              <input\n                v-model=\"localData.site_visit_health_safety_issues\"\n                type=\"checkbox\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <div class=\"ml-3\">\n                <span class=\"font-medium text-gray-900\">Other health and safety issues</span>\n                <p class=\"text-xs text-gray-600 mt-1\">Council staff should be aware before visiting</p>\n              </div>\n            </label>\n\n            <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n              :class=\"localData.site_visit_notice_required ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-gray-300'\"\n            >\n              <input\n                v-model=\"localData.site_visit_notice_required\"\n                type=\"checkbox\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <div class=\"ml-3\">\n                <span class=\"font-medium text-gray-900\">Notice required prior to site visit</span>\n                <p class=\"text-xs text-gray-600 mt-1\">E.g., if the property is tenanted</p>\n              </div>\n            </label>\n          </div>\n\n          <div v-if=\"localData.site_visit_locked_gates || localData.site_visit_dogs_present || localData.site_visit_health_safety_issues || localData.site_visit_notice_required\" class=\"mt-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Additional Details for Site Visit\n            </label>\n            <textarea\n              v-model=\"localData.site_visit_details\"\n              rows=\"3\"\n              placeholder=\"Provide details so Council staff can take the necessary precautions...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n        </div>\n      </div>\n\n      <!-- SECTION 7: Agent Details (FRD 3.7) - Only for non-individual applicants or those acting on behalf -->\n      <div v-if=\"showAgentSection\" class=\"border-b border-gray-200 pb-8\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Agent Details</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          You may contact Resource Consent Planning Professionals or Agents from the list available in eRCS to obtain quotes from and engage them to help you prepare and lodge your application by selecting the Request Quote button.\n        </p>\n        <p class=\"text-sm text-orange-600 mb-4 font-medium\">\n          Please note: You will not be able to make any more changes or complete this application once you engage an Agent.\n        </p>\n\n        <div class=\"space-y-4\">\n          <div class=\"flex items-center space-x-4\">\n            <button\n              type=\"button\"\n              @click=\"openRFQModal\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              <svg class=\"w-5 h-5 inline mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n              </svg>\n              Request Quote from Agent\n            </button>\n          </div>\n\n          <!-- RFQ List (if any exist) -->\n          <div v-if=\"localData.agent_rfqs && localData.agent_rfqs.length > 0\" class=\"mt-6\">\n            <h4 class=\"text-sm font-semibold text-gray-700 mb-2\">Agent Requests for Quote</h4>\n            <div class=\"space-y-2\">\n              <div\n                v-for=\"(rfq, index) in localData.agent_rfqs\"\n                :key=\"index\"\n                class=\"p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow\"\n              >\n                <div class=\"flex items-center justify-between\">\n                  <div class=\"flex-1\">\n                    <div class=\"flex items-center gap-2 mb-2\">\n                      <span class=\"text-sm font-semibold text-gray-900\">RFQ #{{ rfq.rfq_id || (index + 1) }}</span>\n                      <span\n                        :class=\"[\n                          'px-2 py-1 text-xs font-medium rounded-full',\n                          rfq.status === 'Draft' ? 'bg-gray-100 text-gray-800' :\n                          rfq.status === 'Sent to Agent' ? 'bg-blue-100 text-blue-800' :\n                          rfq.status === 'Quote Received' ? 'bg-yellow-100 text-yellow-800' :\n                          rfq.status === 'Quote Accepted' ? 'bg-purple-100 text-purple-800' :\n                          rfq.status === 'Agent Engaged' ? 'bg-green-100 text-green-800' :\n                          rfq.status === 'Cancelled' ? 'bg-red-100 text-red-800' :\n                          'bg-gray-100 text-gray-800'\n                        ]\"\n                      >\n                        {{ rfq.status || 'Draft' }}\n                      </span>\n                    </div>\n                    <div v-if=\"rfq.agent_name\" class=\"text-sm text-gray-600 mb-1\">\n                      <span class=\"font-medium\">Agent:</span> {{ rfq.agent_name }}\n                    </div>\n                    <div v-if=\"rfq.agent_quote_amount\" class=\"text-sm text-gray-600\">\n                      <span class=\"font-medium\">Quote:</span> ${{ Number(rfq.agent_quote_amount).toFixed(2) }}\n                    </div>\n                    <div v-if=\"rfq.sent_date\" class=\"text-xs text-gray-500 mt-1\">\n                      Sent: {{ new Date(rfq.sent_date).toLocaleDateString() }}\n                    </div>\n                  </div>\n                  <div class=\"flex gap-2\">\n                    <button\n                      type=\"button\"\n                      @click=\"viewRFQ(index)\"\n                      class=\"px-3 py-1.5 text-blue-600 hover:text-blue-800 text-sm font-medium border border-blue-600 rounded hover:bg-blue-50 transition-colors\"\n                    >\n                      View Details\n                    </button>\n                    <button\n                      v-if=\"rfq.status === 'Quote Received' || rfq.status === 'Quote Accepted'\"\n                      type=\"button\"\n                      @click=\"acceptQuote(index)\"\n                      class=\"px-3 py-1.5 bg-green-600 text-white text-sm font-medium rounded hover:bg-green-700 transition-colors\"\n                      :disabled=\"rfq.status === 'Agent Engaged'\"\n                    >\n                      {{ rfq.status === 'Agent Engaged' ? 'Engaged' : 'Accept Quote' }}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div v-else class=\"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg text-center\">\n            <p class=\"text-sm text-gray-600\">No agent quotes requested yet. Click \"Request Quote from Agent\" to get started.</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- SECTION 8: Council Meeting (FRD 3.8) -->\n      <div class=\"border-b border-gray-200 pb-8\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Council Meeting</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          You may schedule a Council Meeting with the Council to seek further clarifications in respect of your application by selecting the Council Meeting button.\n        </p>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Please include any relevant information or documents such as conceptual plans or draft assessment of environmental effects you have.\n        </p>\n\n        <div class=\"flex items-center gap-4\">\n          <label class=\"flex items-center cursor-pointer\">\n            <input\n              v-model=\"localData.pre_app_meeting_not_required\"\n              type=\"checkbox\"\n              class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <span class=\"ml-2 text-sm font-medium text-gray-700\">No Meeting Required</span>\n          </label>\n          <button\n            type=\"button\"\n            @click=\"showPreAppMeetingModal = true\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            <svg class=\"w-5 h-5 inline mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n            Request Council Meeting\n          </button>\n        </div>\n\n        <!-- Council Meeting List -->\n        <div v-if=\"localData.pre_app_meetings && localData.pre_app_meetings.length > 0\" class=\"mt-4\">\n          <h4 class=\"text-sm font-semibold text-gray-700 mb-2\">Scheduled Meetings</h4>\n          <div class=\"space-y-2\">\n            <div\n              v-for=\"(meeting, index) in localData.pre_app_meetings\"\n              :key=\"index\"\n              class=\"p-3 bg-gray-50 border border-gray-200 rounded-lg flex items-center justify-between\"\n            >\n              <div class=\"flex-1\">\n                <div class=\"flex items-center gap-2\">\n                  <span class=\"text-sm font-medium text-gray-900\">{{ meeting.meeting_type || 'Council Meeting' }}</span>\n                  <span\n                    :class=\"[\n                      'px-2 py-1 text-xs rounded-full',\n                      meeting.status === 'Scheduled' ? 'bg-blue-100 text-blue-800' :\n                      meeting.status === 'Confirmed' ? 'bg-green-100 text-green-800' :\n                      meeting.status === 'Completed' ? 'bg-gray-100 text-gray-800' :\n                      'bg-yellow-100 text-yellow-800'\n                    ]\"\n                  >\n                    {{ meeting.status || 'Requested' }}\n                  </span>\n                </div>\n                <div v-if=\"meeting.scheduled_start\" class=\"text-xs text-gray-600 mt-1\">\n                  <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                  </svg>\n                  {{ new Date(meeting.scheduled_start).toLocaleString() }}\n                </div>\n              </div>\n              <button\n                type=\"button\"\n                @click=\"editPreAppMeeting(index)\"\n                class=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n              >\n                View Details\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- SECTION 9: Correspondences and Invoices (FRD 3.9) -->\n      <div class=\"border-b border-gray-200 pb-8\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Correspondences and Invoices</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          {{ showAgentSection ? 'All correspondence and notifications will be sent to the Applicant. If an Applicant engages an Agent, they will be sent to both parties.' : 'All correspondence and notifications will be sent to the Applicant and any additional contacts you specify.' }}\n        </p>\n\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              All Invoice to be paid by *\n            </label>\n            <div class=\"space-y-2\">\n              <label class=\"flex items-center p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n                :class=\"localData.invoice_responsible_party === 'Applicant' ? 'border-blue-600 bg-blue-50' : 'border-gray-200'\"\n              >\n                <input\n                  v-model=\"localData.invoice_responsible_party\"\n                  type=\"radio\"\n                  value=\"Applicant\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <span class=\"ml-3 font-medium text-gray-900\">Applicant</span>\n              </label>\n\n              <!-- Agent option - only show for non-individual applicants or those acting on behalf -->\n              <label v-if=\"showAgentSection\" class=\"flex items-center p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n                :class=\"localData.invoice_responsible_party === 'Agent' ? 'border-blue-600 bg-blue-50' : 'border-gray-200'\"\n              >\n                <input\n                  v-model=\"localData.invoice_responsible_party\"\n                  type=\"radio\"\n                  value=\"Agent\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                  :disabled=\"!localData.agent_id\"\n                />\n                <div class=\"ml-3\">\n                  <span class=\"font-medium text-gray-900\">Agent</span>\n                  <p v-if=\"!localData.agent_id\" class=\"text-xs text-gray-500 mt-1\">\n                    Only available when an agent is engaged\n                  </p>\n                </div>\n              </label>\n\n              <!-- Contact option - show list of added contacts -->\n              <label\n                v-for=\"(contact, index) in localData.additional_contacts\"\n                :key=\"`contact-${index}`\"\n                class=\"flex items-center p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n                :class=\"localData.invoice_responsible_party === `Contact-${contact.contact_id || index}` ? 'border-blue-600 bg-blue-50' : 'border-gray-200'\"\n              >\n                <input\n                  v-model=\"localData.invoice_responsible_party\"\n                  type=\"radio\"\n                  :value=\"`Contact-${contact.contact_id || index}`\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <div class=\"ml-3\">\n                  <span class=\"font-medium text-gray-900\">{{ contact.contact_name }}</span>\n                  <p class=\"text-xs text-gray-500 mt-1\">{{ contact.contact_email }}</p>\n                </div>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- SECTION 10: Additional Contact Persons (FRD 3.10) -->\n      <div class=\"pb-4\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Add More Contact Persons</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          You can also nominate third parties to be included in the list by selecting their names contact details below. You will not be able remove them from the list once the application is submitted, however you can request Consents Online Limited to do that.\n        </p>\n\n        <div class=\"flex justify-between items-center mb-4\">\n          <h4 class=\"text-base font-semibold text-gray-900\">Additional Contacts</h4>\n          <button\n            @click=\"openContactSelectorForContactPersons\"\n            type=\"button\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n            </svg>\n            Add Contact Person\n          </button>\n        </div>\n\n        <!-- Contacts List -->\n        <div v-if=\"localData.additional_contact_persons && localData.additional_contact_persons.length > 0\" class=\"space-y-2\">\n          <div\n            v-for=\"(contact, index) in localData.additional_contact_persons\"\n            :key=\"index\"\n            class=\"p-3 bg-white border border-gray-200 rounded-lg flex items-center justify-between\"\n          >\n            <div class=\"flex-1\">\n              <p class=\"text-sm font-medium text-gray-900\">{{ contact.attendee_name }}</p>\n              <p class=\"text-xs text-gray-600\">{{ contact.attendee_email }}</p>\n              <p v-if=\"contact.attendee_phone\" class=\"text-xs text-gray-500\">{{ contact.attendee_phone }}</p>\n              <p v-if=\"contact.organization\" class=\"text-xs text-gray-500\">{{ contact.organization }}</p>\n            </div>\n            <button\n              @click=\"removeContactPerson(index)\"\n              type=\"button\"\n              class=\"text-red-600 hover:text-red-800 text-sm\"\n            >\n              Remove\n            </button>\n          </div>\n        </div>\n\n        <!-- Empty State -->\n        <div v-else class=\"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n          <p class=\"text-sm text-gray-600\">No additional contact persons added yet</p>\n          <p class=\"text-xs text-gray-500 mt-1\">Click \"Add Contact Person\" to nominate third parties for correspondence</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Additional Consent Modal -->\n    <div v-if=\"showAdditionalConsentModal\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div class=\"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center\">\n          <h3 class=\"text-lg font-semibold text-gray-900\">\n            {{ editingConsentIndex !== null ? 'Edit' : 'Add' }} Additional Consent\n          </h3>\n          <button @click=\"closeAdditionalConsentModal\" class=\"text-gray-400 hover:text-gray-600\">\n            <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div class=\"p-6 space-y-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Consent Type *</label>\n            <select\n              v-model=\"currentConsent.consent_type\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              required\n            >\n              <option value=\"\">Select consent type</option>\n              <option value=\"Discharge Permit\">Discharge Permit</option>\n              <option value=\"Coastal Permit\">Coastal Permit</option>\n              <option value=\"Water Permit\">Water Permit</option>\n              <option value=\"NES Soils\">NES Soils</option>\n            </select>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Consent Status *</label>\n            <select\n              v-model=\"currentConsent.consent_status\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              required\n            >\n              <option value=\"\">Select status</option>\n              <option value=\"Required\">Required</option>\n              <option value=\"Applied\">Applied</option>\n              <option value=\"Granted\">Granted</option>\n              <option value=\"Declined\">Declined</option>\n            </select>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Reference Number (if applicable)</label>\n            <input\n              v-model=\"currentConsent.reference_number\"\n              type=\"text\"\n              placeholder=\"e.g., DP-2024-001\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t border-gray-200\">\n          <button\n            @click=\"closeAdditionalConsentModal\"\n            type=\"button\"\n            class=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveAdditionalConsent\"\n            type=\"button\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            :disabled=\"!currentConsent.consent_type || !currentConsent.consent_status\"\n          >\n            {{ editingConsentIndex !== null ? 'Update' : 'Add' }} Consent\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Contact Selector for Additional Contact Persons -->\n    <ContactSelector\n      :is-open=\"showContactSelectorForContactPersons\"\n      :existing-contacts=\"existingContacts\"\n      @close=\"showContactSelectorForContactPersons = false\"\n      @select=\"addContactPerson\"\n    />\n\n    <!-- Council Meeting Modal -->\n    <div\n      v-if=\"showPreAppMeetingModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"closePreAppMeetingModal\"\n    >\n      <div class=\"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n          <h3 class=\"text-xl font-bold text-gray-900\">Request Council Meeting</h3>\n          <button\n            @click=\"closePreAppMeetingModal\"\n            class=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div class=\"overflow-y-auto max-h-[calc(90vh-140px)] px-6 py-4\">\n          <div class=\"space-y-6\">\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <p class=\"text-sm text-blue-900\">\n                A council meeting allows you to discuss your proposal with council planners before formally submitting your application. This can help clarify requirements and identify potential issues early.\n              </p>\n            </div>\n\n            <!-- Meeting Type & Format -->\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Meeting Type *</label>\n                <select\n                  v-model=\"currentPreAppMeeting.meeting_type\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  required\n                >\n                  <option value=\"Council Meeting\">Council Meeting</option>\n                  <option value=\"Site Visit\">Site Visit</option>\n                  <option value=\"Technical Review\">Technical Review</option>\n                  <option value=\"Follow-up Meeting\">Follow-up Meeting</option>\n                  <option value=\"Other\">Other</option>\n                </select>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Meeting Format *</label>\n                <select\n                  v-model=\"currentPreAppMeeting.meeting_format\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  required\n                >\n                  <option value=\"In Person\">In Person</option>\n                  <option value=\"Video Call\">Video Call</option>\n                  <option value=\"Phone Call\">Phone Call</option>\n                  <option value=\"Hybrid\">Hybrid</option>\n                </select>\n              </div>\n            </div>\n\n            <!-- Preferred Time Slots -->\n            <div class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n              <div class=\"flex items-center justify-between mb-3\">\n                <h4 class=\"text-sm font-semibold text-gray-900\">Preferred Meeting Times *</h4>\n                <span class=\"text-xs text-gray-600\">Select up to 3 time slots</span>\n              </div>\n              <p class=\"text-xs text-gray-600 mb-4\">\n                Select your 3 preferred times. The planner will accept one of these times or propose an alternative.\n              </p>\n\n              <div class=\"space-y-4\">\n                <!-- Time Slot 1 -->\n                <div class=\"bg-white p-4 rounded-lg border border-gray-200\">\n                  <div class=\"flex items-center justify-between mb-2\">\n                    <span class=\"text-sm font-medium text-gray-700\">1st Preference</span>\n                    <button\n                      v-if=\"currentPreAppMeeting.preferred_time_slot_1_start\"\n                      @click=\"clearTimeSlot(1)\"\n                      type=\"button\"\n                      class=\"text-xs text-red-600 hover:text-red-800\"\n                    >\n                      Clear\n                    </button>\n                  </div>\n                  <DateTimePicker\n                    v-model=\"currentPreAppMeeting.preferred_time_slot_1_start\"\n                    label=\"Start Time\"\n                    :required=\"true\"\n                  />\n                </div>\n\n                <!-- Time Slot 2 -->\n                <div class=\"bg-white p-4 rounded-lg border border-gray-200\">\n                  <div class=\"flex items-center justify-between mb-2\">\n                    <span class=\"text-sm font-medium text-gray-700\">2nd Preference</span>\n                    <button\n                      v-if=\"currentPreAppMeeting.preferred_time_slot_2_start\"\n                      @click=\"clearTimeSlot(2)\"\n                      type=\"button\"\n                      class=\"text-xs text-red-600 hover:text-red-800\"\n                    >\n                      Clear\n                    </button>\n                  </div>\n                  <DateTimePicker\n                    v-model=\"currentPreAppMeeting.preferred_time_slot_2_start\"\n                    label=\"Start Time\"\n                    :required=\"true\"\n                  />\n                </div>\n\n                <!-- Time Slot 3 -->\n                <div class=\"bg-white p-4 rounded-lg border border-gray-200\">\n                  <div class=\"flex items-center justify-between mb-2\">\n                    <span class=\"text-sm font-medium text-gray-700\">3rd Preference</span>\n                    <button\n                      v-if=\"currentPreAppMeeting.preferred_time_slot_3_start\"\n                      @click=\"clearTimeSlot(3)\"\n                      type=\"button\"\n                      class=\"text-xs text-red-600 hover:text-red-800\"\n                    >\n                      Clear\n                    </button>\n                  </div>\n                  <DateTimePicker\n                    v-model=\"currentPreAppMeeting.preferred_time_slot_3_start\"\n                    label=\"Start Time\"\n                    :required=\"true\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <!-- Meeting Purpose & Discussion Points -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Meeting Purpose *</label>\n              <textarea\n                v-model=\"currentPreAppMeeting.meeting_purpose\"\n                rows=\"3\"\n                placeholder=\"Describe the purpose of this meeting and what you'd like to discuss...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                required\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Discussion Points</label>\n              <textarea\n                v-model=\"currentPreAppMeeting.discussion_points\"\n                rows=\"4\"\n                placeholder=\"List key topics you'd like to discuss (bullet points or list format)\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n\n            <!-- Location (if In Person) -->\n            <div v-if=\"currentPreAppMeeting.meeting_format === 'In Person' || currentPreAppMeeting.meeting_format === 'Hybrid'\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Preferred Location</label>\n              <input\n                v-model=\"currentPreAppMeeting.meeting_location\"\n                type=\"text\"\n                placeholder=\"e.g., Council offices, or site address\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n\n            <!-- Additional Attendees -->\n            <div class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n              <div class=\"flex items-center justify-between mb-3\">\n                <h4 class=\"text-sm font-semibold text-gray-900\">Additional Attendees</h4>\n                <button\n                  @click=\"openContactSelectorForMeeting\"\n                  type=\"button\"\n                  class=\"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  + Add Attendee\n                </button>\n              </div>\n\n              <div v-if=\"currentPreAppMeeting.meeting_attendees && currentPreAppMeeting.meeting_attendees.length > 0\" class=\"space-y-2\">\n                <div\n                  v-for=\"(attendee, index) in currentPreAppMeeting.meeting_attendees\"\n                  :key=\"index\"\n                  class=\"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-200\"\n                >\n                  <div class=\"flex-1\">\n                    <p class=\"text-sm font-medium text-gray-900\">{{ attendee.attendee_name }}</p>\n                    <p class=\"text-xs text-gray-600\">{{ attendee.attendee_email }}</p>\n                    <p v-if=\"attendee.organization\" class=\"text-xs text-gray-500\">{{ attendee.organization }}</p>\n                  </div>\n                  <button\n                    @click=\"removeMeetingAttendee(index)\"\n                    type=\"button\"\n                    class=\"text-red-600 hover:text-red-800 ml-2\"\n                  >\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n\n              <p v-else class=\"text-sm text-gray-500 italic\">No additional attendees added yet</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Contact Selector Modal -->\n        <ContactSelector\n          :is-open=\"showContactSelectorForMeeting\"\n          :existing-contacts=\"existingContacts\"\n          @close=\"showContactSelectorForMeeting = false\"\n          @select=\"addMeetingAttendee\"\n        />\n\n        <div class=\"sticky bottom-0 bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t border-gray-200\">\n          <button\n            @click=\"closePreAppMeetingModal\"\n            type=\"button\"\n            class=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"savePreAppMeeting\"\n            type=\"button\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            :disabled=\"!currentPreAppMeeting.meeting_type || !currentPreAppMeeting.meeting_format || !currentPreAppMeeting.meeting_purpose\"\n          >\n            {{ editingPreAppMeetingIndex !== null ? 'Update' : 'Request' }} Meeting\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- RFQ Modal -->\n    <RFQModal\n      :is-open=\"isRFQModalOpen\"\n      :rfq=\"currentRFQ\"\n      :request-id=\"localData.name\"\n      @close=\"closeRFQModal\"\n      @save=\"saveRFQ\"\n      @send-to-agent=\"sendRFQToAgent\"\n      @engage-agent=\"engageAgentFromRFQ\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch, computed, toRaw } from 'vue'\nimport Step4ApplicantDetails from './Step4ApplicantDetails.vue'\nimport Step5PropertyDetailsMulti from './Step5PropertyDetailsMulti.vue'\nimport Step6ConsentInfo from './Step6ConsentInfo.vue'\nimport RFQModal from '../modals/RFQModal.vue'\nimport DateTimePicker from '../common/DateTimePicker.vue'\nimport ContactSelector from '../common/ContactSelector.vue'\nimport { updateRFQ, sendRFQToAgent as sendRFQToAgentAPI, engageAgent as engageAgentAPI } from '../../api/rfq'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  userProfile: {\n    type: Object,\n    default: null\n  },\n  userCompanyAccount: {\n    type: Object,\n    default: null\n  },\n  properties: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'property-select'])\n\n// Local data with all FRD fields\n// CRITICAL FIX: Use toRaw() to break reactive chain and prevent infinite reactivity loops\n// This prevents the browser freeze issue when navigating to Step 4\nconst rawModelValue = toRaw(props.modelValue)\nconsole.log('[Step1ApplicantProposal] Using toRaw to prevent freeze - fix v2.0')\nconst localData = ref({\n  ...rawModelValue,\n  // Additional Consents (FRD 3.4)\n  additional_consents: rawModelValue.additional_consents || [],\n  // PIM & Building Consent (FRD 3.5)\n  pim_applied: rawModelValue.pim_applied || false,\n  pim_number: rawModelValue.pim_number || '',\n  building_consent_applied: rawModelValue.building_consent_applied || false,\n  building_consent_number: rawModelValue.building_consent_number || '',\n  // Site Visit (FRD 3.6)\n  site_visit_locked_gates: rawModelValue.site_visit_locked_gates || false,\n  site_visit_dogs_present: rawModelValue.site_visit_dogs_present || false,\n  site_visit_health_safety_issues: rawModelValue.site_visit_health_safety_issues || false,\n  site_visit_notice_required: rawModelValue.site_visit_notice_required || false,\n  site_visit_details: rawModelValue.site_visit_details || '',\n  // Agent Details (FRD 3.7)\n  agent_required: rawModelValue.agent_required || false,\n  agent_id: rawModelValue.agent_id || null,\n  agent_rfqs: rawModelValue.agent_rfqs || [],\n  // Pre-App Meeting (FRD 3.8)\n  pre_app_meeting_not_required: rawModelValue.pre_app_meeting_not_required || false,\n  pre_app_meetings: rawModelValue.pre_app_meetings || [],\n  // Correspondence (FRD 3.9)\n  correspondence_recipient: rawModelValue.correspondence_recipient || 'Applicant',\n  invoice_responsible_party: rawModelValue.invoice_responsible_party || 'Applicant',\n  // Additional Contacts (FRD 3.10)\n  additional_contact_persons: rawModelValue.additional_contact_persons || []\n})\n\n// Migrate old contact persons data format to new standardized format\n// Old format: { first_name, last_name, email, phone }\n// New format: { attendee_name, attendee_email, attendee_phone, organization }\nif (localData.value.additional_contact_persons && localData.value.additional_contact_persons.length > 0) {\n  localData.value.additional_contact_persons = localData.value.additional_contact_persons.map(contact => {\n    // Check if already in new format\n    if (contact.attendee_name || contact.attendee_email) {\n      return contact\n    }\n    // Convert old format to new format\n    return {\n      attendee_name: contact.first_name && contact.last_name\n        ? `${contact.first_name} ${contact.last_name}`\n        : contact.first_name || contact.last_name || '',\n      attendee_email: contact.email || '',\n      attendee_phone: contact.phone || '',\n      organization: contact.organization || ''\n    }\n  })\n}\n\n// Additional consents management\n// Initialize based on existing data\nconst additionalConsentsRequired = ref(\n  localData.value.additional_consents && localData.value.additional_consents.length > 0\n)\n\n// Watch for changes to additional_consents array to update the radio button\nwatch(() => localData.value.additional_consents, (newVal) => {\n  if (newVal && newVal.length > 0) {\n    additionalConsentsRequired.value = true\n  }\n}, { deep: true })\n\n// When user selects \"Yes\", we need to show the section even if empty\nwatch(additionalConsentsRequired, (newVal) => {\n  if (!newVal) {\n    // User selected \"No\" - clear the consents\n    localData.value.additional_consents = []\n  } else {\n    // User selected \"Yes\" - ensure array exists (but keep it empty to show empty state)\n    if (!localData.value.additional_consents) {\n      localData.value.additional_consents = []\n    }\n  }\n})\n\nconst showAdditionalConsentModal = ref(false)\nconst editingConsentIndex = ref(null)\nconst currentConsent = ref({\n  consent_type: '',\n  consent_status: '',\n  reference_number: ''\n})\n\nconst openAdditionalConsentModal = (index = null) => {\n  editingConsentIndex.value = index\n  if (index !== null) {\n    currentConsent.value = { ...localData.value.additional_consents[index] }\n  } else {\n    currentConsent.value = {\n      consent_type: '',\n      consent_status: '',\n      reference_number: ''\n    }\n  }\n  showAdditionalConsentModal.value = true\n}\n\nconst closeAdditionalConsentModal = () => {\n  showAdditionalConsentModal.value = false\n  editingConsentIndex.value = null\n}\n\nconst saveAdditionalConsent = () => {\n  if (!localData.value.additional_consents) {\n    localData.value.additional_consents = []\n  }\n\n  if (editingConsentIndex.value !== null) {\n    localData.value.additional_consents[editingConsentIndex.value] = { ...currentConsent.value }\n  } else {\n    localData.value.additional_consents.push({ ...currentConsent.value })\n  }\n\n  closeAdditionalConsentModal()\n}\n\nconst removeAdditionalConsent = (index) => {\n  if (confirm('Remove this additional consent?')) {\n    localData.value.additional_consents.splice(index, 1)\n  }\n}\n\n// Additional contacts management - using ContactSelector\nconst showContactSelectorForContactPersons = ref(false)\n\nconst openContactSelectorForContactPersons = () => {\n  showContactSelectorForContactPersons.value = true\n}\n\nconst addContactPerson = (contact) => {\n  if (!localData.value.additional_contact_persons) {\n    localData.value.additional_contact_persons = []\n  }\n\n  localData.value.additional_contact_persons.push({\n    attendee_name: contact.name,\n    attendee_email: contact.email,\n    attendee_phone: contact.phone || '',\n    organization: contact.organization || ''\n  })\n\n  showContactSelectorForContactPersons.value = false\n}\n\nconst removeContactPerson = (index) => {\n  if (confirm('Remove this contact person?')) {\n    localData.value.additional_contact_persons.splice(index, 1)\n  }\n}\n\n// Agent RFQ management\nconst agentRequired = ref(false)\nconst isRFQModalOpen = ref(false)\nconst currentRFQ = ref({})\nconst currentRFQIndex = ref(null)\nconst showRFQModal = ref(false)\n\n// Computed property to determine if agent section should be shown\n// Only show for non-individual applicants or those acting on behalf of others\nconst showAgentSection = computed(() => {\n  // Check if applicant_type exists in modelValue (from parent)\n  const applicantType = props.modelValue?.applicant_type || props.userProfile?.applicant_type\n  const actingOnBehalf = props.modelValue?.acting_on_behalf || false\n\n  // Show agent section if:\n  // 1. Acting on behalf of someone else, OR\n  // 2. Applicant type is NOT Individual (i.e., Company, Trust, Organisation)\n  return actingOnBehalf || (applicantType && applicantType !== 'Individual')\n})\n\nconst openRFQModal = () => {\n  // Create a new RFQ\n  currentRFQ.value = {\n    rfq_id: null,\n    status: 'Draft',\n    created_date: new Date().toISOString(),\n    selected_agent: null,\n    agent_name: null,\n    agent_email: null,\n    agent_quote_amount: null,\n    agent_quote_details: '',\n    rfq_message: 'You may contact Resource Consent Planning Professionals or Agents from the list available in eRCS to obtain quotes from and engage them to help you prepare and lodge your application by selecting the Engage Agent button.\\n\\nPlease note: You will not be able to make any more changes or complete this application once you engage an Agent.'\n  }\n  currentRFQIndex.value = null\n  isRFQModalOpen.value = true\n}\n\nconst viewRFQ = (index) => {\n  currentRFQIndex.value = index\n  currentRFQ.value = { ...localData.value.agent_rfqs[index] }\n  isRFQModalOpen.value = true\n}\n\nconst acceptQuote = async (index) => {\n  const rfq = localData.value.agent_rfqs[index]\n\n  if (confirm(`Accept quote from ${rfq.agent_name} for $${Number(rfq.agent_quote_amount).toFixed(2)}?`)) {\n    rfq.status = 'Agent Engaged'\n    rfq.agent_engaged_date = new Date().toISOString()\n    localData.value.agent_id = rfq.selected_agent\n\n    // TODO: Call backend API to engage agent\n    alert('Agent engaged successfully!')\n  }\n}\n\nconst closeRFQModal = () => {\n  isRFQModalOpen.value = false\n  currentRFQIndex.value = null\n  currentRFQ.value = {}\n}\n\nconst saveRFQ = async (rfqData) => {\n  try {\n    // Only update if RFQ has an ID (already created in backend)\n    if (rfqData.name || rfqData.rfq_id) {\n      const rfqId = rfqData.name || rfqData.rfq_id\n      await updateRFQ(rfqId, {\n        rfq_message: rfqData.rfq_message\n      })\n    }\n\n    // Update the RFQ in the list\n    if (currentRFQIndex.value !== null) {\n      localData.value.agent_rfqs[currentRFQIndex.value] = { ...rfqData }\n    }\n\n    closeRFQModal()\n  } catch (error) {\n    console.error('Failed to save RFQ:', error)\n    alert('Failed to save RFQ changes. Please try again.')\n  }\n}\n\nconst sendRFQToAgent = async ({ rfq, agent }) => {\n  try {\n    const rfqId = rfq.name || rfq.rfq_id\n    if (!rfqId) {\n      throw new Error('RFQ ID not found')\n    }\n\n    // Call backend API to send RFQ to agent\n    await sendRFQToAgentAPI(rfqId, agent)\n\n    // Update status in local data\n    if (currentRFQIndex.value !== null) {\n      localData.value.agent_rfqs[currentRFQIndex.value].status = 'Sent to Agent'\n      localData.value.agent_rfqs[currentRFQIndex.value].agent = agent\n      localData.value.agent_rfqs[currentRFQIndex.value].sent_date = new Date().toISOString()\n    }\n\n    closeRFQModal()\n  } catch (error) {\n    console.error('Failed to send RFQ to agent:', error)\n    alert('Failed to send RFQ to agent. Please try again.')\n  }\n}\n\nconst engageAgentFromRFQ = async (rfqData) => {\n  try {\n    const rfqId = rfqData.name || rfqData.rfq_id\n    if (!rfqId) {\n      throw new Error('RFQ ID not found')\n    }\n\n    // Call backend API to engage agent (this will lock the request)\n    await engageAgentAPI(rfqId, rfqData.quote_amount, rfqData.quote_details)\n\n    // Update status and lock application in local data\n    if (currentRFQIndex.value !== null) {\n      localData.value.agent_rfqs[currentRFQIndex.value].status = 'Agent Engaged'\n      localData.value.agent_rfqs[currentRFQIndex.value].agent_engaged = true\n      localData.value.agent_rfqs[currentRFQIndex.value].agent_engaged_date = new Date().toISOString()\n    }\n\n    // Lock the application\n    localData.value.locked_for_editing = true\n    localData.value.locked_reason = 'Agent engaged'\n    localData.value.agent_engaged = true\n\n    closeRFQModal()\n\n    // Show success message\n    alert('Agent successfully engaged. This application is now locked for editing.')\n  } catch (error) {\n    console.error('Failed to engage agent:', error)\n    alert('Failed to engage agent. Please try again.')\n  }\n}\n\n// Council Meeting modal management\nconst showPreAppMeetingModal = ref(false)\nconst editingPreAppMeetingIndex = ref(null)\nconst showContactSelectorForMeeting = ref(false)\nconst existingContacts = ref([])  // TODO: Load from backend\n\nconst currentPreAppMeeting = ref({\n  meeting_type: 'Council Meeting',\n  meeting_format: 'In Person',\n  meeting_purpose: '',\n  discussion_points: '',\n  meeting_location: '',\n  preferred_time_slot_1_start: '',\n  preferred_time_slot_2_start: '',\n  preferred_time_slot_3_start: '',\n  meeting_attendees: [],\n  status: 'Requested'\n})\n\nconst editPreAppMeeting = (index) => {\n  editingPreAppMeetingIndex.value = index\n  currentPreAppMeeting.value = { ...localData.value.pre_app_meetings[index] }\n  showPreAppMeetingModal.value = true\n}\n\nconst closePreAppMeetingModal = () => {\n  showPreAppMeetingModal.value = false\n  editingPreAppMeetingIndex.value = null\n  currentPreAppMeeting.value = {\n    meeting_type: 'Council Meeting',\n    meeting_format: 'In Person',\n    meeting_purpose: '',\n    discussion_points: '',\n    meeting_location: '',\n    preferred_time_slot_1_start: '',\n    preferred_time_slot_2_start: '',\n    preferred_time_slot_3_start: '',\n    meeting_attendees: [],\n    status: 'Requested'\n  }\n}\n\nconst savePreAppMeeting = () => {\n  // Validate at least one time slot is selected\n  if (!currentPreAppMeeting.value.preferred_time_slot_1_start &&\n      !currentPreAppMeeting.value.preferred_time_slot_2_start &&\n      !currentPreAppMeeting.value.preferred_time_slot_3_start) {\n    alert('Please select at least one preferred meeting time')\n    return\n  }\n\n  if (!localData.value.pre_app_meetings) {\n    localData.value.pre_app_meetings = []\n  }\n\n  // Prepare meeting data with time slots\n  const meetingData = {\n    ...currentPreAppMeeting.value,\n    preferred_time_slots: []\n  }\n\n  // Add time slots in order\n  if (currentPreAppMeeting.value.preferred_time_slot_1_start) {\n    meetingData.preferred_time_slots.push({\n      preference_order: 1,\n      preferred_start: currentPreAppMeeting.value.preferred_time_slot_1_start,\n      preferred_end: calculateEndTime(currentPreAppMeeting.value.preferred_time_slot_1_start),\n      planner_response: 'Pending'\n    })\n  }\n  if (currentPreAppMeeting.value.preferred_time_slot_2_start) {\n    meetingData.preferred_time_slots.push({\n      preference_order: 2,\n      preferred_start: currentPreAppMeeting.value.preferred_time_slot_2_start,\n      preferred_end: calculateEndTime(currentPreAppMeeting.value.preferred_time_slot_2_start),\n      planner_response: 'Pending'\n    })\n  }\n  if (currentPreAppMeeting.value.preferred_time_slot_3_start) {\n    meetingData.preferred_time_slots.push({\n      preference_order: 3,\n      preferred_start: currentPreAppMeeting.value.preferred_time_slot_3_start,\n      preferred_end: calculateEndTime(currentPreAppMeeting.value.preferred_time_slot_3_start),\n      planner_response: 'Pending'\n    })\n  }\n\n  if (editingPreAppMeetingIndex.value !== null) {\n    localData.value.pre_app_meetings[editingPreAppMeetingIndex.value] = meetingData\n  } else {\n    localData.value.pre_app_meetings.push(meetingData)\n  }\n\n  closePreAppMeetingModal()\n}\n\n// Helper function to calculate end time (1 hour after start by default)\nconst calculateEndTime = (startTime) => {\n  if (!startTime) return ''\n  const start = new Date(startTime)\n  const end = new Date(start.getTime() + 60 * 60 * 1000) // Add 1 hour\n  return end.toISOString()\n}\n\n// Clear a specific time slot\nconst clearTimeSlot = (slotNumber) => {\n  currentPreAppMeeting.value[`preferred_time_slot_${slotNumber}_start`] = ''\n}\n\n// Contact selector for meeting attendees\nconst openContactSelectorForMeeting = () => {\n  showContactSelectorForMeeting.value = true\n}\n\nconst addMeetingAttendee = (contact) => {\n  if (!currentPreAppMeeting.value.meeting_attendees) {\n    currentPreAppMeeting.value.meeting_attendees = []\n  }\n\n  // Add the contact as a meeting attendee\n  currentPreAppMeeting.value.meeting_attendees.push({\n    attendee_name: contact.name,\n    attendee_email: contact.email,\n    attendee_phone: contact.phone || '',\n    organization: contact.organization || '',\n    role: contact.role || ''\n  })\n\n  showContactSelectorForMeeting.value = false\n}\n\nconst removeMeetingAttendee = (index) => {\n  if (confirm('Remove this attendee?')) {\n    currentPreAppMeeting.value.meeting_attendees.splice(index, 1)\n  }\n}\n\n// Property select handler\nconst handlePropertySelect = () => {\n  emit('property-select')\n}\n\n// Watch local changes and emit\n// NOTE: We do NOT watch props.modelValue because that creates an infinite loop\n// The component initializes from props once, then localData changes flow up via emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', { ...newVal })\n}, { deep: true })\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Natural Hazards Assessment</h2>\n    <p class=\"text-gray-600 mb-8\">Identify any natural hazards that may affect the site (RMA s.104 & s.106)</p>\n\n    <div class=\"space-y-8\">\n      <!-- Inundation Advice Upload (FRD 4.1) -->\n      <div class=\"border-b border-gray-200 pb-8\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Inundation Advice</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          If your property is subject to inundation then please attach any advice received from Regional Council regarding inundation and your proposals.\n        </p>\n\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Upload Inundation Advice (if applicable)\n          </label>\n          <input\n            type=\"file\"\n            @change=\"handleInundationAdviceUpload\"\n            accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n            class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\"\n          />\n          <p v-if=\"localData.inundation_advice_document\" class=\"text-xs text-green-600 mt-1\">\n             Document uploaded: {{ localData.inundation_advice_document }}\n          </p>\n          <p class=\"mt-1 text-xs text-gray-500\">PDF, Word documents, or images (max 10MB)</p>\n        </div>\n      </div>\n\n      <!-- Natural Hazards Identification (FRD 4.2) -->\n      <div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Natural Hazards Identification</h3>\n\n        <div class=\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <p class=\"text-sm text-blue-900 font-medium mb-2\">Question:</p>\n          <p class=\"text-sm text-blue-800\">\n            Would the land, or any structure on the land, for which consent is sought, be or is likely to be subject to any of the following natural hazards listed below:\n          </p>\n        </div>\n\n        <!-- Conditional importance notice for LUC/SC (FRD 4.3 Guidance) -->\n        <div v-if=\"requiresHazardsAssessment\" class=\"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg\">\n          <div class=\"flex items-start\">\n            <svg class=\"w-5 h-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n            </svg>\n            <div>\n              <h5 class=\"font-semibold text-amber-900 text-sm\">Critical Assessment Required - s.106 RMA</h5>\n              <p class=\"text-amber-800 text-sm mt-1\">\n                <strong>Important:</strong> Under s.106 RMA, councils <strong>must refuse</strong> Land Use and Subdivision consents if building on land subject to certain natural hazards would:\n              </p>\n              <ul class=\"text-amber-800 text-sm mt-2 ml-4 list-disc\">\n                <li>Accelerate, worsen, or result in material damage</li>\n                <li>Create or worsen a natural hazard on the property or other property</li>\n              </ul>\n              <p class=\"text-amber-800 text-sm mt-2\">\n                Please carefully identify all natural hazards affecting the site and detail mitigation measures.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Under s.104(1)(c) RMA, councils must consider the risk of natural hazards. Identify any hazards that may affect the site.\n        </p>\n\n        <!-- \"No hazards\" confirmation checkbox for LUC/SC -->\n        <div v-if=\"requiresHazardsAssessment && (!localData.natural_hazards || localData.natural_hazards.length === 0)\" class=\"mb-4\">\n          <label for=\"no-hazards-confirmation\" class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer bg-white transition-colors\"\n            :class=\"localData.no_natural_hazards_confirmed ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n          >\n            <input\n              id=\"no-hazards-confirmation\"\n              v-model=\"localData.no_natural_hazards_confirmed\"\n              type=\"checkbox\"\n              aria-describedby=\"no-hazards-description\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">I confirm there are no natural hazards affecting this site</span>\n              <p id=\"no-hazards-description\" class=\"text-xs text-gray-600 mt-1\">\n                By checking this box, I confirm that I have considered all potential natural hazards (flooding, erosion, landslip, earthquake, tsunami, etc.) and none are applicable to this site.\n              </p>\n            </div>\n          </label>\n        </div>\n\n        <!-- Add Hazard Button -->\n        <div class=\"flex justify-between items-center mb-4\">\n          <p class=\"text-sm text-gray-700\">\n            Select hazard types that may affect your site and describe mitigation measures\n          </p>\n          <button\n            @click=\"addHazard\"\n            type=\"button\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n            </svg>\n            Add Natural Hazard\n          </button>\n        </div>\n\n        <!-- Hazards List -->\n        <div v-if=\"localData.natural_hazards && localData.natural_hazards.length > 0\" class=\"space-y-4\">\n          <div\n            v-for=\"(hazard, index) in localData.natural_hazards\"\n            :key=\"index\"\n            class=\"border border-gray-200 rounded-lg p-4 bg-white shadow-sm\"\n          >\n            <div class=\"flex justify-between items-start mb-4\">\n              <h4 class=\"text-base font-semibold text-gray-900\">\n                Hazard #{{ index + 1 }}{{ hazard.hazard_type ? ': ' + hazard.hazard_type : '' }}\n              </h4>\n              <button\n                @click=\"removeHazard(index)\"\n                type=\"button\"\n                class=\"text-red-600 hover:text-red-800 p-1\"\n                title=\"Remove\"\n              >\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              </button>\n            </div>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Hazard Type *</label>\n                <select\n                  v-model=\"hazard.hazard_type\"\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select hazard type</option>\n                  <option value=\"Earthquake\">Earthquake</option>\n                  <option value=\"Sedimentation\">Sedimentation</option>\n                  <option value=\"Fire\">Fire</option>\n                  <option value=\"Subsidence\">Subsidence</option>\n                  <option value=\"Tsunami\">Tsunami</option>\n                  <option value=\"Wind\">Wind</option>\n                  <option value=\"Erosion\">Erosion</option>\n                  <option value=\"Landslip\">Landslip</option>\n                  <option value=\"Volcanic\">Volcanic & Geothermal</option>\n                  <option value=\"Drought\">Drought</option>\n                  <option value=\"Flood\">Flood Activity</option>\n                </select>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Risk Level</label>\n                <select\n                  v-model=\"hazard.risk_level\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select risk level</option>\n                  <option value=\"Low\">Low</option>\n                  <option value=\"Medium\">Medium</option>\n                  <option value=\"High\">High</option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"mt-4\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Assessment Notes</label>\n              <textarea\n                v-model=\"hazard.assessment_notes\"\n                rows=\"2\"\n                placeholder=\"Describe the nature and extent of the hazard as it relates to this site...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n\n            <div class=\"mt-4\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Mitigation Measures</label>\n              <textarea\n                v-model=\"hazard.mitigation_measures\"\n                rows=\"3\"\n                placeholder=\"Describe mitigation measures to address this hazard (design features, engineering solutions, management plans)...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n          </div>\n        </div>\n\n        <!-- Empty State -->\n        <div v-else class=\"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n          <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n          <p class=\"mt-2 text-sm text-gray-600\">No natural hazards identified</p>\n          <p class=\"text-xs text-gray-500 mt-1\">Click \"Add Natural Hazard\" if any hazards may affect the site</p>\n        </div>\n      </div>\n\n      <!-- Document Upload Display (FRD 4.4) -->\n      <div v-if=\"localData.natural_hazards && localData.natural_hazards.length > 0\" class=\"border-t border-gray-200 pt-8\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Supporting Documentation</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Upload any hazard reports, geotechnical assessments, flood studies, or other documentation supporting your hazard assessment.\n        </p>\n\n        <!-- Document table placeholder - will integrate with main document management -->\n        <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n          <p class=\"text-sm text-gray-600\">\n            Hazard-related documents can be uploaded in Step 6 (Plans & Documents).\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, computed, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Consent type checks\nconst hasConsentType = (type) => {\n  return props.modelValue.consent_types?.some(ct => ct.consent_type === type) || false\n}\n\nconst requiresHazardsAssessment = computed(() => {\n  return hasConsentType('Land Use') || hasConsentType('Subdivision')\n})\n\n// Watch no_natural_hazards_confirmed\nwatch(() => localData.value.no_natural_hazards_confirmed, (newVal) => {\n  if (newVal && requiresHazardsAssessment.value) {\n    // Clear any hazards if user confirms none\n    const updatedData = { ...props.modelValue }\n    updatedData.natural_hazards = []\n    updatedData.no_natural_hazards_confirmed = true\n    emit('update:modelValue', updatedData)\n  }\n})\n\n// Inundation advice upload\nconst handleInundationAdviceUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    const maxSize = 10 * 1024 * 1024 // 10MB in bytes\n    if (file.size > maxSize) {\n      alert('File size exceeds 10MB. Please upload a smaller file.')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'image/jpeg', 'image/png', 'image/jpg']\n    if (!allowedTypes.includes(file.type)) {\n      alert('Invalid file type. Please upload a PDF, Word document, or image.')\n      event.target.value = ''\n      return\n    }\n\n    // File upload will be handled by the parent component\n    emit('update:modelValue', {\n      ...props.modelValue,\n      inundation_advice_document: file.name\n    })\n  }\n}\n\n// Hazard management\nconst addHazard = () => {\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.natural_hazards) {\n    updatedData.natural_hazards = []\n  }\n  updatedData.natural_hazards.push({\n    hazard_type: '',\n    risk_level: '',\n    assessment_notes: '',\n    mitigation_measures: ''\n  })\n\n  // Uncheck \"no hazards\" confirmation when adding a hazard\n  updatedData.no_natural_hazards_confirmed = false\n\n  emit('update:modelValue', updatedData)\n}\n\nconst removeHazard = (index) => {\n  if (confirm('Remove this natural hazard?')) {\n    const updatedData = { ...props.modelValue }\n    updatedData.natural_hazards.splice(index, 1)\n    emit('update:modelValue', updatedData)\n  }\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">National Environmental Standards Assessment</h2>\n    <p class=\"text-gray-600 mb-8\">Determine which NES may apply to your proposal (RMA Regulations)</p>\n\n    <div class=\"space-y-8\">\n      <!-- NES Screening Checkboxes (FRD 5.1) -->\n      <div>\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">NES Screening</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Select all National Environmental Standards that may be triggered by your proposal. This initial screening helps determine compliance requirements.\n        </p>\n\n        <div class=\"space-y-3\">\n          <div\n            v-for=\"nes in nesTypes\"\n            :key=\"nes.value\"\n            role=\"checkbox\"\n            :aria-checked=\"getNESData(nes.value).applies\"\n            :aria-label=\"`${nes.label} - Click to toggle applicability`\"\n            :tabindex=\"0\"\n            class=\"border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md focus:ring-2 focus:ring-blue-500 focus:outline-none\"\n            :class=\"getNESData(nes.value).applies ? 'border-blue-600 bg-blue-50' : 'border-gray-200'\"\n            @click=\"toggleNES(nes.value)\"\n            @keydown.space.prevent=\"toggleNES(nes.value)\"\n            @keydown.enter.prevent=\"toggleNES(nes.value)\"\n          >\n            <div class=\"flex items-start\">\n              <input\n                type=\"checkbox\"\n                :checked=\"getNESData(nes.value).applies\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded pointer-events-none\"\n                readonly\n                aria-hidden=\"true\"\n              />\n              <div class=\"ml-3 flex-1\">\n                <h4 class=\"text-base font-semibold text-gray-900\">{{ nes.label }}</h4>\n                <p v-if=\"nes.description\" class=\"text-xs text-gray-600 mt-1\">{{ nes.description }}</p>\n\n                <!-- Expandable details when checked -->\n                <div v-if=\"getNESData(nes.value).applies\" class=\"mt-3 space-y-3\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Description / Compliance Status</label>\n                    <textarea\n                      v-model=\"getNESData(nes.value).description\"\n                      @click.stop\n                      rows=\"3\"\n                      placeholder=\"Describe how this NES applies and how you will comply...\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                    ></textarea>\n                  </div>\n\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Compliance Notes</label>\n                    <textarea\n                      v-model=\"getNESData(nes.value).compliance_notes\"\n                      @click.stop\n                      rows=\"2\"\n                      placeholder=\"Additional compliance notes or assessment...\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                    ></textarea>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- HAIL Questionnaire (FRD 5.2-5.5) - Only show if Contaminated Soil selected -->\n      <div v-if=\"isContaminatedSoilSelected\" class=\"border-t border-gray-200 pt-8\">\n        <div class=\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <div class=\"flex items-start\">\n            <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <div>\n              <h5 class=\"font-semibold text-blue-900 text-sm\">HAIL Assessment Required</h5>\n              <p class=\"text-blue-800 text-sm mt-1\">\n                Since your site may involve contaminants in soil, you must complete the Hazardous Activities and Industries List (HAIL) assessment below.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">HAIL Activities Assessment</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Identify any current or historical Hazardous Activities and Industries List (HAIL) activities on the site.\n        </p>\n\n        <!-- Add HAIL Activity Button -->\n        <div class=\"flex justify-between items-center mb-4\">\n          <p class=\"text-sm text-gray-700\">\n            Add all HAIL activities that have occurred on this site (current or historical)\n          </p>\n          <button\n            @click=\"showHAILModal = true\"\n            type=\"button\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n            </svg>\n            Add HAIL Activity\n          </button>\n        </div>\n\n        <!-- HAIL Activities List -->\n        <div v-if=\"localData.hail_activities && localData.hail_activities.length > 0\" class=\"space-y-3 mb-6\">\n          <div\n            v-for=\"(activity, index) in localData.hail_activities\"\n            :key=\"index\"\n            class=\"border border-gray-200 rounded-lg p-4 bg-white flex justify-between items-center\"\n          >\n            <div class=\"flex-1\">\n              <div class=\"font-medium text-gray-900\">{{ activity.activity_category }}</div>\n              <div class=\"text-sm text-gray-600 mt-1\">{{ activity.activity_description }}</div>\n              <div v-if=\"activity.time_period\" class=\"text-xs text-gray-500 mt-1\">Time period: {{ activity.time_period }}</div>\n            </div>\n            <div class=\"flex gap-2\">\n              <button\n                @click=\"editHAIL(index)\"\n                type=\"button\"\n                class=\"text-blue-600 hover:text-blue-800 p-1\"\n                title=\"Edit\"\n              >\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                </svg>\n              </button>\n              <button\n                @click=\"removeHAIL(index)\"\n                type=\"button\"\n                class=\"text-red-600 hover:text-red-800 p-1\"\n                title=\"Remove\"\n              >\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Empty State for HAIL -->\n        <div v-else class=\"text-center py-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 mb-6\">\n          <svg class=\"mx-auto h-10 w-10 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n          <p class=\"mt-2 text-sm text-gray-600\">No HAIL activities identified</p>\n          <p class=\"text-xs text-gray-500 mt-1\">Click \"Add HAIL Activity\" to document any hazardous activities on this site</p>\n        </div>\n\n        <!-- Soil Contamination Assessment -->\n        <div class=\"border-t border-gray-200 pt-6\">\n          <h4 class=\"text-base font-semibold text-gray-900 mb-3\">Soil Contamination Assessment</h4>\n\n          <div class=\"mb-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Has a Preliminary Site Investigation (PSI) or Detailed Site Investigation (DSI) been completed?\n            </label>\n            <div class=\"flex gap-4\">\n              <label class=\"flex items-center\">\n                <input\n                  v-model=\"localData.soil_investigation_completed\"\n                  type=\"radio\"\n                  :value=\"true\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <span class=\"ml-2 text-sm text-gray-700\">Yes</span>\n              </label>\n              <label class=\"flex items-center\">\n                <input\n                  v-model=\"localData.soil_investigation_completed\"\n                  type=\"radio\"\n                  :value=\"false\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <span class=\"ml-2 text-sm text-gray-700\">No</span>\n              </label>\n            </div>\n          </div>\n\n          <div v-if=\"localData.soil_investigation_completed\" class=\"space-y-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Investigation Summary</label>\n              <textarea\n                v-model=\"localData.soil_investigation_summary\"\n                rows=\"3\"\n                placeholder=\"Summarize the key findings from the PSI/DSI...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Upload Investigation Report</label>\n              <input\n                type=\"file\"\n                @change=\"handleSoilReportUpload\"\n                accept=\".pdf,.doc,.docx\"\n                class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\"\n              />\n              <p v-if=\"localData.soil_investigation_document\" class=\"text-xs text-green-600 mt-1\">\n                 Document uploaded: {{ localData.soil_investigation_document }}\n              </p>\n              <p class=\"mt-1 text-xs text-gray-500\">PDF or Word documents only (max 10MB)</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- No NES Selected Confirmation -->\n      <div v-if=\"!hasAnyNESSelected\" class=\"border-t border-gray-200 pt-6\">\n        <div class=\"p-4 bg-gray-50 border border-gray-200 rounded-lg\">\n          <label class=\"flex items-start cursor-pointer\">\n            <input\n              v-model=\"localData.no_nes_confirmed\"\n              type=\"checkbox\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">I confirm that no National Environmental Standards apply to this proposal</span>\n              <p class=\"text-xs text-gray-600 mt-1\">\n                By checking this box, I confirm that I have reviewed all NES regulations and none are triggered by this activity.\n              </p>\n            </div>\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <!-- HAIL Activity Modal -->\n    <Teleport to=\"body\">\n      <div\n        v-if=\"showHAILModal\"\n        class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n        @click.self=\"closeHAILModal\"\n      >\n        <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n          <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingHAILIndex !== null ? 'Edit HAIL Activity' : 'Add HAIL Activity' }}\n            </h3>\n            <button\n              @click=\"closeHAILModal\"\n              type=\"button\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div class=\"px-6 py-4 space-y-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Activity Category *</label>\n              <select\n                v-model=\"hailForm.activity_category\"\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Select category</option>\n                <option v-for=\"category in hailCategories\" :key=\"category\" :value=\"category\">{{ category }}</option>\n              </select>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Activity Description *</label>\n              <textarea\n                v-model=\"hailForm.activity_description\"\n                rows=\"3\"\n                required\n                placeholder=\"Describe the specific HAIL activity that occurred on this site...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Time Period</label>\n              <input\n                v-model=\"hailForm.time_period\"\n                type=\"text\"\n                placeholder=\"e.g., 1950-1985, Current, Historical\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Potential Contaminants</label>\n              <input\n                v-model=\"hailForm.contaminants\"\n                type=\"text\"\n                placeholder=\"e.g., Heavy metals, Petroleum hydrocarbons, Asbestos\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\n              <select\n                v-model=\"hailForm.status\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Select status</option>\n                <option value=\"Current\">Current - still operating</option>\n                <option value=\"Historical\">Historical - no longer operating</option>\n                <option value=\"Remediated\">Remediated - site cleaned up</option>\n              </select>\n            </div>\n          </div>\n\n          <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n            <button\n              @click=\"closeHAILModal\"\n              type=\"button\"\n              class=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              @click=\"saveHAIL\"\n              type=\"button\"\n              :disabled=\"!isHAILFormValid\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {{ editingHAILIndex !== null ? 'Update' : 'Add' }} Activity\n            </button>\n          </div>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, computed, reactive, ref } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// NES Types with FRD descriptions (FRD Section 5.1)\nconst nesTypes = [\n  {\n    value: 'Contaminated Soil (HAIL)',\n    label: 'NES for Assessing and Managing Contaminants in Soil (HAIL)',\n    description: 'Applies if site has had hazardous activities or industries'\n  },\n  {\n    value: 'Air Quality',\n    label: 'NES for Air Quality',\n    description: 'Regulates emissions and ambient air quality standards'\n  },\n  {\n    value: 'Drinking Water',\n    label: 'NES for Sources of Human Drinking Water',\n    description: 'Protects drinking water sources from contamination'\n  },\n  {\n    value: 'Freshwater',\n    label: 'NES for Freshwater Management',\n    description: 'Regulates activities affecting lakes, rivers, wetlands, and aquifers'\n  },\n  {\n    value: 'Plantation Forestry',\n    label: 'NES for Plantation Forestry',\n    description: 'Applies to commercial forestry operations'\n  },\n  {\n    value: 'Electricity Transmission',\n    label: 'NES for Electricity Transmission Activities',\n    description: 'Regulates high-voltage transmission lines and infrastructure'\n  },\n  {\n    value: 'Telecommunications',\n    label: 'NES for Telecommunication Facilities',\n    description: 'Applies to cell towers and telecommunication infrastructure'\n  },\n  {\n    value: 'Other',\n    label: 'Other NES',\n    description: 'Any other relevant National Environmental Standard'\n  }\n]\n\n// HAIL Categories (NES Soil Contaminants)\nconst hailCategories = [\n  'Agriculture - Persistent Pesticide Use',\n  'Agriculture - Fertiliser Manufacturing/Storage',\n  'Chemicals - Manufacturing/Formulation',\n  'Fuel Storage - Petrol Station',\n  'Fuel Storage - Bulk Fuel Storage',\n  'Gas Works',\n  'Landfill/Waste Disposal',\n  'Metal Treatment - Electroplating/Galvanizing',\n  'Mining/Quarrying',\n  'Railway Yards',\n  'Sheep Dip',\n  'Timber Treatment',\n  'Other Industrial Activity'\n]\n\n// Initialize NES data structure if not exists\nif (!localData.value.nes_items) {\n  const updatedData = { ...props.modelValue }\n  updatedData.nes_items = []\n  emit('update:modelValue', updatedData)\n}\n\n// Reactive NES data storage\nconst nesData = reactive({})\n\nconst getNESData = (nesType) => {\n  if (!nesData[nesType]) {\n    // Check if data exists in modelValue\n    const existing = localData.value.nes_items?.find(item => item.nes_type === nesType)\n    if (existing) {\n      nesData[nesType] = { ...existing }\n    } else {\n      nesData[nesType] = {\n        nes_type: nesType,\n        applies: false,\n        description: '',\n        compliance_notes: ''\n      }\n    }\n  }\n  return nesData[nesType]\n}\n\nconst toggleNES = (nesType) => {\n  const data = getNESData(nesType)\n  data.applies = !data.applies\n\n  // Sync to modelValue\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.nes_items) updatedData.nes_items = []\n\n  const existingIndex = updatedData.nes_items.findIndex(item => item.nes_type === nesType)\n\n  if (data.applies) {\n    if (existingIndex >= 0) {\n      updatedData.nes_items[existingIndex] = { ...data }\n    } else {\n      updatedData.nes_items.push({ ...data })\n    }\n  } else {\n    if (existingIndex >= 0) {\n      updatedData.nes_items.splice(existingIndex, 1)\n    }\n  }\n\n  // Clear no_nes_confirmed if user selects any NES\n  if (data.applies) {\n    updatedData.no_nes_confirmed = false\n  }\n\n  emit('update:modelValue', updatedData)\n}\n\n// Check if Contaminated Soil (HAIL) is selected\nconst isContaminatedSoilSelected = computed(() => {\n  return localData.value.nes_items?.some(item =>\n    item.nes_type === 'Contaminated Soil (HAIL)' && item.applies\n  ) || false\n})\n\n// Check if any NES is selected\nconst hasAnyNESSelected = computed(() => {\n  return localData.value.nes_items?.some(item => item.applies) || false\n})\n\n// HAIL Modal Management\nconst showHAILModal = ref(false)\nconst editingHAILIndex = ref(null)\nconst hailForm = reactive({\n  activity_category: '',\n  activity_description: '',\n  time_period: '',\n  contaminants: '',\n  status: ''\n})\n\nconst resetHAILForm = () => {\n  hailForm.activity_category = ''\n  hailForm.activity_description = ''\n  hailForm.time_period = ''\n  hailForm.contaminants = ''\n  hailForm.status = ''\n}\n\nconst editHAIL = (index) => {\n  editingHAILIndex.value = index\n  const activity = localData.value.hail_activities[index]\n  Object.assign(hailForm, activity)\n  showHAILModal.value = true\n}\n\nconst removeHAIL = (index) => {\n  if (confirm('Remove this HAIL activity?')) {\n    const updatedData = { ...props.modelValue }\n    updatedData.hail_activities.splice(index, 1)\n    emit('update:modelValue', updatedData)\n  }\n}\n\nconst isHAILFormValid = computed(() => {\n  return !!(hailForm.activity_category && hailForm.activity_description?.trim())\n})\n\nconst saveHAIL = () => {\n  if (!isHAILFormValid.value) return\n\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.hail_activities) {\n    updatedData.hail_activities = []\n  }\n\n  const activityData = {\n    activity_category: hailForm.activity_category,\n    activity_description: hailForm.activity_description,\n    time_period: hailForm.time_period,\n    contaminants: hailForm.contaminants,\n    status: hailForm.status\n  }\n\n  if (editingHAILIndex.value !== null) {\n    updatedData.hail_activities[editingHAILIndex.value] = activityData\n  } else {\n    updatedData.hail_activities.push(activityData)\n  }\n\n  emit('update:modelValue', updatedData)\n  closeHAILModal()\n}\n\nconst closeHAILModal = () => {\n  showHAILModal.value = false\n  editingHAILIndex.value = null\n  resetHAILForm()\n}\n\n// Soil investigation file upload\nconst handleSoilReportUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    const maxSize = 10 * 1024 * 1024\n    if (file.size > maxSize) {\n      alert('File size exceeds 10MB. Please upload a smaller file.')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n    if (!allowedTypes.includes(file.type)) {\n      alert('Invalid file type. Please upload a PDF or Word document.')\n      event.target.value = ''\n      return\n    }\n\n    // File upload will be handled by the parent component\n    emit('update:modelValue', {\n      ...props.modelValue,\n      soil_investigation_document: file.name\n    })\n  }\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Boundary Approvals & Affected Parties</h2>\n    <p class=\"text-gray-600 mb-8\">Obtain approvals for boundary activities and identify affected parties (RMA s.95A-s.95F)</p>\n\n    <div class=\"space-y-8\">\n      <!-- Permitted Boundary Activity (PBA) Section (FRD 6.1) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Permitted Boundary Activity (PBA) Approvals</h3>\n        </div>\n\n        <div class=\"p-6 space-y-4\">\n          <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <div class=\"flex items-start\">\n              <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <div>\n                <h5 class=\"font-semibold text-blue-900 text-sm\">About Permitted Boundary Activities</h5>\n                <p class=\"text-blue-800 text-sm mt-1\">\n                  A Permitted Boundary Activity is an activity within prescribed proximity to a property boundary that would normally be permitted.\n                  Under s.87BA RMA, if you obtain written approval from the affected neighbor(s), the activity may be permitted without consent.\n                </p>\n                <p class=\"text-blue-800 text-sm mt-2\">\n                  <strong>Note:</strong> If you are applying for consent because you could not obtain PBA approval, please complete this section.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"mb-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Does this application relate to a Permitted Boundary Activity?\n            </label>\n            <div class=\"flex gap-4\">\n              <label class=\"flex items-center\">\n                <input\n                  v-model=\"localData.pba_approval_required\"\n                  type=\"radio\"\n                  :value=\"true\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <span class=\"ml-2 text-sm text-gray-700\">Yes</span>\n              </label>\n              <label class=\"flex items-center\">\n                <input\n                  v-model=\"localData.pba_approval_required\"\n                  type=\"radio\"\n                  :value=\"false\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <span class=\"ml-2 text-sm text-gray-700\">No</span>\n              </label>\n            </div>\n          </div>\n\n          <!-- PBA Details (show if Yes selected) -->\n          <div v-if=\"localData.pba_approval_required\" class=\"space-y-4 border-t border-gray-200 pt-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">PBA Status</label>\n              <select\n                v-model=\"localData.pba_status\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Select status</option>\n                <option value=\"Approval sought but not obtained\">Approval sought but not obtained</option>\n                <option value=\"Approval obtained from some neighbors\">Approval obtained from some neighbors</option>\n                <option value=\"Approval obtained from all neighbors\">Approval obtained from all neighbors</option>\n                <option value=\"Approval not sought\">Approval not sought</option>\n              </select>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">PBA Details</label>\n              <textarea\n                v-model=\"localData.pba_details\"\n                rows=\"3\"\n                placeholder=\"Describe the boundary activity, which neighbors were approached, and the outcome...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n\n            <!-- PBA Affected Neighbors -->\n            <div class=\"border-t border-gray-200 pt-4\">\n              <div class=\"flex justify-between items-center mb-3\">\n                <label class=\"block text-sm font-medium text-gray-700\">\n                  Neighbors Affected by Boundary Activity\n                </label>\n                <button\n                  @click=\"showPBAModal = true\"\n                  type=\"button\"\n                  class=\"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-1\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                  </svg>\n                  Add Neighbor\n                </button>\n              </div>\n\n              <!-- PBA Contacts List -->\n              <div v-if=\"localData.pba_contacts && localData.pba_contacts.length > 0\" class=\"space-y-2\">\n                <div\n                  v-for=\"(contact, index) in localData.pba_contacts\"\n                  :key=\"index\"\n                  class=\"border border-gray-200 rounded-lg p-3 bg-gray-50 flex justify-between items-start\"\n                >\n                  <div class=\"flex-1\">\n                    <div class=\"font-medium text-gray-900\">{{ contact.organisation_name || contact.contact_name }}</div>\n                    <div class=\"text-sm text-gray-600 mt-1\">\n                      {{ contact.contact_name }}\n                      <span v-if=\"contact.email\">  {{ contact.email }}</span>\n                      <span v-if=\"contact.phone\">  {{ contact.phone }}</span>\n                    </div>\n                    <div v-if=\"contact.address\" class=\"text-xs text-gray-500 mt-1\">\n                      {{ [contact.address, contact.rd_number, contact.suburb, contact.city, contact.postcode].filter(Boolean).join(', ') }}\n                    </div>\n                  </div>\n                  <div class=\"flex gap-2\">\n                    <button\n                      @click=\"editPBA(index)\"\n                      type=\"button\"\n                      class=\"text-blue-600 hover:text-blue-800 p-1\"\n                      title=\"Edit\"\n                    >\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                      </svg>\n                    </button>\n                    <button\n                      @click=\"removePBA(index)\"\n                      type=\"button\"\n                      class=\"text-red-600 hover:text-red-800 p-1\"\n                      title=\"Remove\"\n                    >\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n                <p class=\"text-sm text-gray-500\">No neighbors added yet</p>\n              </div>\n            </div>\n\n            <!-- PBA Document Upload -->\n            <div class=\"border-t border-gray-200 pt-4\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Upload PBA Documents (if applicable)\n              </label>\n              <input\n                type=\"file\"\n                @change=\"handlePBADocumentUpload\"\n                accept=\".pdf,.doc,.docx\"\n                multiple\n                class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\"\n              />\n              <p v-if=\"localData.pba_documents && localData.pba_documents.length > 0\" class=\"text-xs text-green-600 mt-1\">\n                 {{ localData.pba_documents.length }} document(s) uploaded\n              </p>\n              <p class=\"mt-1 text-xs text-gray-500\">Upload PBA forms, neighbor correspondence, or written approvals (PDF or Word)</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Affected Parties Section (existing Step13 functionality) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Affected Parties (RMA s.95A-s.95F)</h3>\n        </div>\n\n        <div class=\"p-6 space-y-6\">\n          <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <div class=\"flex items-start\">\n              <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <div>\n                <h5 class=\"font-semibold text-blue-900 text-sm\">About Affected Parties</h5>\n                <p class=\"text-blue-800 text-sm mt-1\">\n                  List all parties (neighbors, landowners, infrastructure providers, etc.) who may be affected by your proposal.\n                  If you have obtained written approvals under s.95E, upload them as supporting documents. Written approvals can reduce notification requirements.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Add Affected Party Button -->\n          <div class=\"flex justify-between items-center\">\n            <p class=\"text-sm text-gray-700\">\n              Identify all parties who may experience adverse effects from your proposal\n            </p>\n            <button\n              @click=\"openAddModal\"\n              type=\"button\"\n              class=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n              </svg>\n              Add Affected Party\n            </button>\n          </div>\n\n          <!-- Affected Parties List -->\n          <div v-if=\"localData.affected_parties && localData.affected_parties.length > 0\" class=\"space-y-3\">\n            <div\n              v-for=\"(party, index) in localData.affected_parties\"\n              :key=\"index\"\n              class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\"\n            >\n              <div class=\"flex items-start justify-between mb-3\">\n                <h4 class=\"font-semibold text-gray-900\">{{ party.party_name || 'Unnamed Party' }}</h4>\n                <div class=\"flex items-center gap-2\">\n                  <button\n                    @click=\"openEditModal(index)\"\n                    type=\"button\"\n                    class=\"text-blue-600 hover:text-blue-800 p-1\"\n                    title=\"Edit\"\n                  >\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                    </svg>\n                  </button>\n                  <button\n                    @click=\"removeParty(index)\"\n                    type=\"button\"\n                    class=\"text-red-600 hover:text-red-800 p-1\"\n                    title=\"Remove\"\n                  >\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <span class=\"text-sm text-gray-500\">Relationship:</span>\n                  <p class=\"font-medium\">{{ party.relationship || 'Not specified' }}</p>\n                </div>\n                <div>\n                  <span class=\"text-sm text-gray-500\">Contact:</span>\n                  <p class=\"font-medium\">{{ party.contact_info || 'Not specified' }}</p>\n                </div>\n                <div>\n                  <span class=\"text-sm text-gray-500\">Address:</span>\n                  <p class=\"font-medium\">{{ party.address || 'Not specified' }}</p>\n                </div>\n                <div>\n                  <span class=\"text-sm text-gray-500\">Written Approval (s.95E):</span>\n                  <p class=\"font-medium\">\n                    <span v-if=\"party.written_approval\" class=\"text-green-600\"> Obtained</span>\n                    <span v-else class=\"text-gray-500\">Not obtained</span>\n                  </p>\n                </div>\n              </div>\n              <div v-if=\"party.effects\" class=\"mt-3\">\n                <span class=\"text-sm text-gray-500\">Effects:</span>\n                <p class=\"text-sm mt-1\">{{ party.effects }}</p>\n              </div>\n            </div>\n          </div>\n\n          <div v-else class=\"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n            <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n            </svg>\n            <p class=\"mt-2 text-sm text-gray-500\">No affected parties identified yet</p>\n            <p class=\"text-sm text-gray-500 mt-1\">Click \"Add Affected Party\" to get started</p>\n          </div>\n\n          <!-- Written Approvals Summary -->\n          <div v-if=\"writtenApprovals.length > 0\" class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-semibold text-gray-900 mb-2\">Written Approvals Summary (s.95E RMA)</h4>\n            <p class=\"text-sm text-gray-600 mb-3\">\n              You have obtained written approvals from {{ writtenApprovals.length }} affected {{ writtenApprovals.length === 1 ? 'party' : 'parties' }}.\n            </p>\n            <div class=\"space-y-2\">\n              <div\n                v-for=\"party in writtenApprovals\"\n                :key=\"party.party_name\"\n                class=\"flex items-center text-sm\"\n              >\n                <svg class=\"w-4 h-4 text-green-600 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                </svg>\n                <span>{{ party.party_name }} ({{ party.relationship }})</span>\n              </div>\n            </div>\n            <div class=\"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg\">\n              <p class=\"text-sm text-green-800\">\n                Remember to upload written approval documents in Step 6 (Plans & Documents).\n              </p>\n            </div>\n          </div>\n\n          <!-- Consultation Notes -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Consultation Summary\n            </label>\n            <textarea\n              v-model=\"localData.aee_consultation_summary\"\n              rows=\"6\"\n              placeholder=\"Describe who you consulted with, when, how, and the outcomes of consultation. Include any mitigation measures agreed to address concerns...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n            <p class=\"text-sm text-gray-500 mt-2\">\n              Documenting consultation efforts can demonstrate good faith engagement and help the council understand community views.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Guidance -->\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-yellow-900 text-sm\">Affected Parties Guidance</h5>\n            <ul class=\"text-yellow-800 text-sm mt-2 space-y-1 list-disc list-inside\">\n              <li>Consider immediate neighbors, landowners with shared boundaries</li>\n              <li>Infrastructure providers (e.g., power, water, telecommunications)</li>\n              <li>Parties with interests over the land (e.g., easements, covenants)</li>\n              <li>Anyone who may experience adverse effects from your proposal</li>\n              <li>Written approvals under s.95E can reduce notification requirements and costs</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- PBA Contact Modal -->\n    <Teleport to=\"body\">\n      <div\n        v-if=\"showPBAModal\"\n        class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n        @click.self=\"closePBAModal\"\n      >\n        <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n          <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingPBAIndex !== null ? 'Edit' : 'Add' }} PBA Neighbor Contact\n            </h3>\n            <button @click=\"closePBAModal\" type=\"button\" class=\"text-gray-400 hover:text-gray-600\">\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div class=\"px-6 py-4 space-y-4\">\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Organisation Name</label>\n                <input v-model=\"pbaForm.organisation_name\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Contact Name *</label>\n                <input v-model=\"pbaForm.contact_name\" type=\"text\" required class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n              </div>\n            </div>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\n                <input v-model=\"pbaForm.email\" type=\"email\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Phone</label>\n                <input v-model=\"pbaForm.phone\" type=\"tel\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n              </div>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Street Address</label>\n              <input v-model=\"pbaForm.address\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n            </div>\n\n            <div class=\"grid md:grid-cols-3 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">RD Number</label>\n                <input v-model=\"pbaForm.rd_number\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Suburb</label>\n                <input v-model=\"pbaForm.suburb\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">City</label>\n                <input v-model=\"pbaForm.city\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n              </div>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Postcode</label>\n              <input v-model=\"pbaForm.postcode\" type=\"text\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n            </div>\n          </div>\n\n          <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n            <button @click=\"closePBAModal\" type=\"button\" class=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100\">\n              Cancel\n            </button>\n            <button @click=\"savePBA\" type=\"button\" :disabled=\"!pbaForm.contact_name\" class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\">\n              {{ editingPBAIndex !== null ? 'Update' : 'Add' }} Contact\n            </button>\n          </div>\n        </div>\n      </div>\n    </Teleport>\n\n    <!-- Affected Party Modal (existing Step13 modal) -->\n    <Teleport to=\"body\">\n      <div v-if=\"showModal\" class=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4\">\n        <div class=\"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n          <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingIndex !== null ? 'Edit' : 'Add' }} Affected Party\n            </h3>\n            <button @click=\"closeModal\" type=\"button\" class=\"text-gray-400 hover:text-gray-600\">\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div class=\"p-6 space-y-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Party Name *</label>\n              <input v-model=\"currentParty.party_name\" type=\"text\" placeholder=\"e.g., John Smith, ABC Infrastructure Ltd\" required class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Relationship *</label>\n              <select v-model=\"currentParty.relationship\" required class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n                <option value=\"\">Select relationship</option>\n                <option value=\"Adjacent neighbor\">Adjacent neighbor</option>\n                <option value=\"Nearby neighbor\">Nearby neighbor</option>\n                <option value=\"Property owner\">Property owner</option>\n                <option value=\"Leaseholder\">Leaseholder</option>\n                <option value=\"Easement holder\">Easement holder</option>\n                <option value=\"Infrastructure provider\">Infrastructure provider</option>\n                <option value=\"Iwi/Hap\">Iwi/Hap</option>\n                <option value=\"Community group\">Community group</option>\n                <option value=\"Other\">Other</option>\n              </select>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Contact Information</label>\n              <input v-model=\"currentParty.contact_info\" type=\"text\" placeholder=\"Email or phone number\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Address</label>\n              <textarea v-model=\"currentParty.address\" rows=\"2\" placeholder=\"Physical or postal address\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Potential Effects</label>\n              <textarea v-model=\"currentParty.effects\" rows=\"3\" placeholder=\"Describe how your proposal may affect this party (e.g., visual, noise, access, etc.)\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"></textarea>\n            </div>\n\n            <div class=\"flex items-start\">\n              <input v-model=\"currentParty.written_approval\" type=\"checkbox\" class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\" />\n              <label class=\"ml-3 text-sm text-gray-700\">\n                <span class=\"font-medium\">Written approval obtained (s.95E RMA)</span>\n                <p class=\"text-xs text-gray-500 mt-1\">\n                  Check this if you have obtained written approval from this party (upload approval document in Step 6)\n                </p>\n              </label>\n            </div>\n          </div>\n\n          <div class=\"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3\">\n            <button @click=\"closeModal\" type=\"button\" class=\"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\">\n              Cancel\n            </button>\n            <button @click=\"saveParty\" type=\"button\" :disabled=\"!currentParty.party_name || !currentParty.relationship\" class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\">\n              {{ editingIndex !== null ? 'Update' : 'Add' }} Party\n            </button>\n          </div>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch, computed, reactive } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Create local data reference\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// PBA Modal Management\nconst showPBAModal = ref(false)\nconst editingPBAIndex = ref(null)\nconst pbaForm = reactive({\n  organisation_name: '',\n  contact_name: '',\n  email: '',\n  phone: '',\n  address: '',\n  rd_number: '',\n  suburb: '',\n  city: '',\n  postcode: ''\n})\n\nconst resetPBAForm = () => {\n  Object.assign(pbaForm, {\n    organisation_name: '',\n    contact_name: '',\n    email: '',\n    phone: '',\n    address: '',\n    rd_number: '',\n    suburb: '',\n    city: '',\n    postcode: ''\n  })\n}\n\nconst editPBA = (index) => {\n  editingPBAIndex.value = index\n  Object.assign(pbaForm, localData.value.pba_contacts[index])\n  showPBAModal.value = true\n}\n\nconst removePBA = (index) => {\n  if (confirm('Remove this PBA contact?')) {\n    const updatedData = { ...props.modelValue }\n    updatedData.pba_contacts.splice(index, 1)\n    emit('update:modelValue', updatedData)\n  }\n}\n\nconst savePBA = () => {\n  if (!pbaForm.contact_name) return\n\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.pba_contacts) updatedData.pba_contacts = []\n\n  const contactData = { ...pbaForm }\n\n  if (editingPBAIndex.value !== null) {\n    updatedData.pba_contacts[editingPBAIndex.value] = contactData\n  } else {\n    updatedData.pba_contacts.push(contactData)\n  }\n\n  emit('update:modelValue', updatedData)\n  closePBAModal()\n}\n\nconst closePBAModal = () => {\n  showPBAModal.value = false\n  editingPBAIndex.value = null\n  resetPBAForm()\n}\n\n// PBA Document upload\nconst handlePBADocumentUpload = (event) => {\n  const files = Array.from(event.target.files)\n  if (files.length > 0) {\n    const updatedData = { ...props.modelValue }\n    if (!updatedData.pba_documents) updatedData.pba_documents = []\n\n    files.forEach(file => {\n      // Validate file size (max 10MB)\n      const maxSize = 10 * 1024 * 1024\n      if (file.size > maxSize) {\n        alert(`File ${file.name} exceeds 10MB. Please upload a smaller file.`)\n        return\n      }\n      updatedData.pba_documents.push(file.name)\n    })\n\n    emit('update:modelValue', updatedData)\n  }\n}\n\n// Affected Parties Modal state (existing Step13 functionality)\nconst showModal = ref(false)\nconst editingIndex = ref(null)\nconst currentParty = ref({\n  party_name: '',\n  relationship: '',\n  contact_info: '',\n  address: '',\n  effects: '',\n  written_approval: false\n})\n\n// Computed property for parties with written approvals\nconst writtenApprovals = computed(() => {\n  return localData.value.affected_parties?.filter(party => party.written_approval === true) || []\n})\n\n// Open modal for adding new party\nconst openAddModal = () => {\n  editingIndex.value = null\n  currentParty.value = {\n    party_name: '',\n    relationship: '',\n    contact_info: '',\n    address: '',\n    effects: '',\n    written_approval: false\n  }\n  showModal.value = true\n}\n\n// Open modal for editing existing party\nconst openEditModal = (index) => {\n  editingIndex.value = index\n  currentParty.value = { ...localData.value.affected_parties[index] }\n  showModal.value = true\n}\n\n// Close modal\nconst closeModal = () => {\n  showModal.value = false\n  editingIndex.value = null\n  currentParty.value = {\n    party_name: '',\n    relationship: '',\n    contact_info: '',\n    address: '',\n    effects: '',\n    written_approval: false\n  }\n}\n\n// Save party (add or update)\nconst saveParty = () => {\n  if (!currentParty.value.party_name || !currentParty.value.relationship) {\n    return\n  }\n\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.affected_parties) updatedData.affected_parties = []\n\n  if (editingIndex.value !== null) {\n    // Update existing party\n    updatedData.affected_parties[editingIndex.value] = { ...currentParty.value }\n  } else {\n    // Add new party\n    updatedData.affected_parties.push({ ...currentParty.value })\n  }\n\n  emit('update:modelValue', updatedData)\n  closeModal()\n}\n\n// Remove party\nconst removeParty = (index) => {\n  if (confirm('Are you sure you want to remove this affected party?')) {\n    const updatedData = { ...props.modelValue }\n    updatedData.affected_parties.splice(index, 1)\n    emit('update:modelValue', updatedData)\n  }\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Consultation with Other Parties</h2>\n    <p class=\"text-gray-600 mb-8\">Document consultation undertaken with iwi, community groups, and other relevant organizations (RMA Schedule 4)</p>\n\n    <div class=\"space-y-6\">\n      <!-- Consultation Overview -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-blue-900 text-sm\">About Consultation</h5>\n            <p class=\"text-blue-800 text-sm mt-1\">\n              Under RMA Schedule 4, Assessment of Environmental Effects should include consultation undertaken.\n              Document any consultation with iwi/hap, community groups, infrastructure providers, or other relevant organizations.\n            </p>\n            <p class=\"text-blue-800 text-sm mt-2\">\n              <strong>Tip:</strong> Proactive consultation demonstrates good planning and can help identify concerns early,\n              potentially reducing notification requirements and processing timeframes.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Consultation Status -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Consultation Undertaken</h3>\n        </div>\n\n        <div class=\"p-6\">\n          <div class=\"mb-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Have you consulted with any organizations or groups about this proposal?\n            </label>\n            <div class=\"flex gap-4\">\n              <label class=\"flex items-center\">\n                <input\n                  v-model=\"localData.consultation_undertaken\"\n                  type=\"radio\"\n                  :value=\"true\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <span class=\"ml-2 text-sm text-gray-700\">Yes</span>\n              </label>\n              <label class=\"flex items-center\">\n                <input\n                  v-model=\"localData.consultation_undertaken\"\n                  type=\"radio\"\n                  :value=\"false\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <span class=\"ml-2 text-sm text-gray-700\">No</span>\n              </label>\n            </div>\n          </div>\n\n          <!-- No consultation explanation -->\n          <div v-if=\"localData.consultation_undertaken === false\" class=\"mt-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Reason for no consultation (optional)\n            </label>\n            <textarea\n              v-model=\"localData.no_consultation_reason\"\n              rows=\"3\"\n              placeholder=\"Explain why consultation was not undertaken (e.g., proposal has minimal effects, consultation not required by council policy, etc.)\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n        </div>\n      </div>\n\n      <!-- Consulted Organizations (FRD Section 7) -->\n      <div v-if=\"localData.consultation_undertaken === true\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200 flex items-center justify-between\">\n          <h3 class=\"font-semibold text-gray-900\">Organizations Consulted</h3>\n          <button\n            @click=\"openAddModal\"\n            type=\"button\"\n            class=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n            </svg>\n            Add Organization\n          </button>\n        </div>\n\n        <div class=\"p-6\">\n          <div v-if=\"localData.consulted_organizations && localData.consulted_organizations.length > 0\" class=\"space-y-3\">\n            <div\n              v-for=\"(org, index) in localData.consulted_organizations\"\n              :key=\"index\"\n              class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\"\n            >\n              <div class=\"flex items-start justify-between mb-3\">\n                <div>\n                  <h4 class=\"font-semibold text-gray-900 flex items-center gap-2\">\n                    {{ org.organisation_name || 'Unnamed Organization' }}\n                    <span v-if=\"org.is_iwi\" class=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800\">\n                      Iwi/Hap\n                    </span>\n                  </h4>\n                  <p v-if=\"org.contact_name\" class=\"text-sm text-gray-600 mt-1\">Contact: {{ org.contact_name }}</p>\n                </div>\n                <div class=\"flex items-center gap-2\">\n                  <button\n                    @click=\"openEditModal(index)\"\n                    type=\"button\"\n                    class=\"text-blue-600 hover:text-blue-800 p-1\"\n                    title=\"Edit\"\n                  >\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                    </svg>\n                  </button>\n                  <button\n                    @click=\"removeOrganization(index)\"\n                    type=\"button\"\n                    class=\"text-red-600 hover:text-red-800 p-1\"\n                    title=\"Remove\"\n                  >\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <span class=\"text-sm text-gray-500\">Contact:</span>\n                  <p class=\"font-medium\">{{ org.email || org.phone || 'Not specified' }}</p>\n                </div>\n                <div>\n                  <span class=\"text-sm text-gray-500\">Concerns Raised:</span>\n                  <p class=\"font-medium\">\n                    <span v-if=\"org.had_concerns\" class=\"text-amber-600\">Yes</span>\n                    <span v-else class=\"text-green-600\">No</span>\n                  </p>\n                </div>\n              </div>\n\n              <div v-if=\"org.had_concerns && org.concern_details\" class=\"mt-3 border-t border-gray-200 pt-3\">\n                <span class=\"text-sm text-gray-500\">Concerns Raised:</span>\n                <p class=\"text-sm mt-1\">{{ org.concern_details }}</p>\n              </div>\n\n              <div v-if=\"org.resolution_details\" class=\"mt-3 border-t border-gray-200 pt-3\">\n                <span class=\"text-sm text-gray-500\">Resolution/Response:</span>\n                <p class=\"text-sm mt-1\">{{ org.resolution_details }}</p>\n              </div>\n            </div>\n          </div>\n\n          <div v-else class=\"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n            <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n            </svg>\n            <p class=\"mt-2 text-sm text-gray-500\">No organizations added yet</p>\n            <p class=\"text-sm text-gray-500 mt-1\">Click \"Add Organization\" to document your consultation</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Consultation Summary -->\n      <div v-if=\"localData.consultation_undertaken === true\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Overall Consultation Summary</h3>\n        </div>\n\n        <div class=\"p-6\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Summary of Consultation Process and Outcomes\n          </label>\n          <textarea\n            v-model=\"localData.consultation_summary\"\n            rows=\"6\"\n            placeholder=\"Provide an overall summary of your consultation process:&#10; When and how consultation was undertaken&#10; Key issues raised across all consultees&#10; How concerns were addressed or why they were not&#10; Any commitments or agreements made&#10; Overall feedback on the proposal\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          ></textarea>\n          <p class=\"text-sm text-gray-500 mt-2\">\n            This summary will be included in your Assessment of Environmental Effects (AEE) under Schedule 4 clause 2(1)(d).\n          </p>\n        </div>\n      </div>\n\n      <!-- Iwi Consultation Guidance -->\n      <div class=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-purple-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-purple-900 text-sm\">Iwi/Hap Consultation Guidance</h5>\n            <p class=\"text-purple-800 text-sm mt-2\">\n              Under sections 6(e), 7(a), and 8 of the RMA, councils must consider:\n            </p>\n            <ul class=\"text-purple-800 text-sm mt-2 space-y-1 list-disc list-inside\">\n              <li>The relationship of Mori and their culture and traditions with ancestral lands, water, sites, whi tapu, and other taonga</li>\n              <li>Kaitiakitanga (guardianship)</li>\n              <li>The principles of the Treaty of Waitangi</li>\n            </ul>\n            <p class=\"text-purple-800 text-sm mt-2\">\n              <strong>Check with your council</strong> to identify relevant iwi/hap authorities in your area and their preferred consultation processes.\n              Many councils maintain iwi contact lists and consultation protocols.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- General Guidance -->\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-yellow-900 text-sm\">Who to Consider for Consultation</h5>\n            <ul class=\"text-yellow-800 text-sm mt-2 space-y-1 list-disc list-inside\">\n              <li><strong>Iwi/Hap:</strong> Local mana whenua with interests in the area</li>\n              <li><strong>Infrastructure Providers:</strong> Power companies, telecommunications, water suppliers</li>\n              <li><strong>Community Groups:</strong> Resident associations, environmental groups, heritage groups</li>\n              <li><strong>Government Agencies:</strong> NZTA, DoC, Heritage NZ (for significant proposals)</li>\n              <li><strong>Special Interest Groups:</strong> Organizations with relevant expertise or advocacy roles</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Add/Edit Organization Modal -->\n    <Teleport to=\"body\">\n      <div\n        v-if=\"showModal\"\n        class=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4\"\n        @click.self=\"closeModal\"\n      >\n        <div class=\"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n          <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingIndex !== null ? 'Edit' : 'Add' }} Consulted Organization\n            </h3>\n            <button\n              @click=\"closeModal\"\n              type=\"button\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div class=\"p-6 space-y-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Organisation Name *</label>\n              <input\n                v-model=\"currentOrg.organisation_name\"\n                type=\"text\"\n                placeholder=\"e.g., Ngti Whtua, Auckland Residents Association\"\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n\n            <div class=\"flex items-start\">\n              <input\n                v-model=\"currentOrg.is_iwi\"\n                type=\"checkbox\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <label class=\"ml-3 text-sm text-gray-700\">\n                <span class=\"font-medium\">This is an Iwi/Hap organization</span>\n                <p class=\"text-xs text-gray-500 mt-1\">\n                  Check this if consulting with a mana whenua iwi or hap\n                </p>\n              </label>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Contact Name</label>\n              <input\n                v-model=\"currentOrg.contact_name\"\n                type=\"text\"\n                placeholder=\"Primary contact person\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\n                <input\n                  v-model=\"currentOrg.email\"\n                  type=\"email\"\n                  placeholder=\"contact@organization.nz\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Phone</label>\n                <input\n                  v-model=\"currentOrg.phone\"\n                  type=\"tel\"\n                  placeholder=\"09 123 4567\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Address</label>\n              <textarea\n                v-model=\"currentOrg.address\"\n                rows=\"2\"\n                placeholder=\"Physical or postal address\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n\n            <div class=\"grid md:grid-cols-3 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">RD Number</label>\n                <input\n                  v-model=\"currentOrg.rd_number\"\n                  type=\"text\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Suburb</label>\n                <input\n                  v-model=\"currentOrg.suburb\"\n                  type=\"text\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">City</label>\n                <input\n                  v-model=\"currentOrg.city\"\n                  type=\"text\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Postcode</label>\n              <input\n                v-model=\"currentOrg.postcode\"\n                type=\"text\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n\n            <div class=\"border-t border-gray-200 pt-4 mt-4\">\n              <div class=\"flex items-start mb-4\">\n                <input\n                  v-model=\"currentOrg.had_concerns\"\n                  type=\"checkbox\"\n                  class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label class=\"ml-3 text-sm text-gray-700\">\n                  <span class=\"font-medium\">This organization raised concerns</span>\n                  <p class=\"text-xs text-gray-500 mt-1\">\n                    Check this if concerns or issues were raised during consultation\n                  </p>\n                </label>\n              </div>\n\n              <div v-if=\"currentOrg.had_concerns\" class=\"space-y-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">Concerns/Issues Raised</label>\n                  <textarea\n                    v-model=\"currentOrg.concern_details\"\n                    rows=\"3\"\n                    placeholder=\"Describe the specific concerns or issues raised...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  ></textarea>\n                </div>\n\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">Resolution/Response</label>\n                  <textarea\n                    v-model=\"currentOrg.resolution_details\"\n                    rows=\"3\"\n                    placeholder=\"Describe how concerns were addressed or responded to...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3\">\n            <button\n              @click=\"closeModal\"\n              type=\"button\"\n              class=\"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n            >\n              Cancel\n            </button>\n            <button\n              @click=\"saveOrganization\"\n              type=\"button\"\n              class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n              :disabled=\"!currentOrg.organisation_name\"\n            >\n              {{ editingIndex !== null ? 'Update' : 'Add' }} Organization\n            </button>\n          </div>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Modal state\nconst showModal = ref(false)\nconst editingIndex = ref(null)\nconst currentOrg = ref({\n  organisation_name: '',\n  is_iwi: false,\n  contact_name: '',\n  email: '',\n  phone: '',\n  address: '',\n  rd_number: '',\n  suburb: '',\n  city: '',\n  postcode: '',\n  had_concerns: false,\n  concern_details: '',\n  resolution_details: ''\n})\n\n// Open modal for adding new organization\nconst openAddModal = () => {\n  editingIndex.value = null\n  currentOrg.value = {\n    organisation_name: '',\n    is_iwi: false,\n    contact_name: '',\n    email: '',\n    phone: '',\n    address: '',\n    rd_number: '',\n    suburb: '',\n    city: '',\n    postcode: '',\n    had_concerns: false,\n    concern_details: '',\n    resolution_details: ''\n  }\n  showModal.value = true\n}\n\n// Open modal for editing existing organization\nconst openEditModal = (index) => {\n  editingIndex.value = index\n  currentOrg.value = { ...localData.value.consulted_organizations[index] }\n  showModal.value = true\n}\n\n// Close modal\nconst closeModal = () => {\n  showModal.value = false\n  editingIndex.value = null\n  currentOrg.value = {\n    organisation_name: '',\n    is_iwi: false,\n    contact_name: '',\n    email: '',\n    phone: '',\n    address: '',\n    rd_number: '',\n    suburb: '',\n    city: '',\n    postcode: '',\n    had_concerns: false,\n    concern_details: '',\n    resolution_details: ''\n  }\n}\n\n// Save organization (add or update)\nconst saveOrganization = () => {\n  if (!currentOrg.value.organisation_name) {\n    return\n  }\n\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.consulted_organizations) {\n    updatedData.consulted_organizations = []\n  }\n\n  if (editingIndex.value !== null) {\n    // Update existing organization\n    updatedData.consulted_organizations[editingIndex.value] = { ...currentOrg.value }\n  } else {\n    // Add new organization\n    updatedData.consulted_organizations.push({ ...currentOrg.value })\n  }\n\n  emit('update:modelValue', updatedData)\n  closeModal()\n}\n\n// Remove organization\nconst removeOrganization = (index) => {\n  if (confirm('Are you sure you want to remove this organization?')) {\n    const updatedData = { ...props.modelValue }\n    updatedData.consulted_organizations.splice(index, 1)\n    emit('update:modelValue', updatedData)\n  }\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Plans & Documents Upload</h2>\n    <p class=\"text-gray-600 mb-8\">Upload all required plans and supporting documents for your application</p>\n\n    <div class=\"space-y-8\">\n      <!-- Upload Instructions -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-blue-900 text-sm\">Document Upload Requirements</h5>\n            <p class=\"text-blue-800 text-sm mt-1\">\n              Please upload all relevant documents to support your application. Documents should be in PDF format where possible,\n              with a maximum file size of 20MB per file. Plans and drawings should be to scale and clearly labelled.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Record of Title & Legal Documents (FRD 8.1) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Record of Title, Consent Notices & Easements</h3>\n        </div>\n\n        <div class=\"p-6 space-y-4\">\n          <p class=\"text-sm text-gray-600\">\n            Upload the Certificate(s) of Title for the subject property, including any consent notices, covenants, or easements registered on the title.\n          </p>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Upload Record of Title & Legal Documents\n            </label>\n            <input\n              type=\"file\"\n              @change=\"handleFileUpload($event, 'Record of Title')\"\n              accept=\".pdf,.jpg,.jpeg,.png\"\n              multiple\n              class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\"\n            />\n            <p class=\"mt-1 text-xs text-gray-500\">Upload CT, consent notices, easements, or covenants (PDF or images, max 20MB each)</p>\n          </div>\n\n          <!-- ROT Documents List -->\n          <div v-if=\"getDocumentsByCategory('Record of Title').length > 0\" class=\"mt-4 space-y-2\">\n            <div\n              v-for=\"(doc, index) in getDocumentsByCategory('Record of Title')\"\n              :key=\"index\"\n              class=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-gray-50\"\n            >\n              <div class=\"flex items-center gap-3\">\n                <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <div>\n                  <p class=\"text-sm font-medium text-gray-900\">{{ doc.file_name }}</p>\n                  <p class=\"text-xs text-gray-500\">{{ doc.file_size }}  {{ doc.category }}</p>\n                </div>\n              </div>\n              <button\n                @click=\"removeDocument(index)\"\n                type=\"button\"\n                class=\"text-red-600 hover:text-red-800 p-1\"\n                title=\"Remove\"\n              >\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Associated Plans (FRD 8.2) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Site Plans & Drawings</h3>\n        </div>\n\n        <div class=\"p-6 space-y-4\">\n          <p class=\"text-sm text-gray-600\">\n            Upload site plans, floor plans, elevations, cross-sections, and any other drawings relevant to your proposal.\n            Plans should be to scale and clearly show existing and proposed features.\n          </p>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Upload Site Plans & Architectural Drawings\n            </label>\n            <input\n              type=\"file\"\n              @change=\"handleFileUpload($event, 'Site Plans')\"\n              accept=\".pdf,.dwg,.jpg,.jpeg,.png\"\n              multiple\n              class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-green-100 file:text-green-700 hover:file:bg-green-200\"\n            />\n            <p class=\"mt-1 text-xs text-gray-500\">Upload plans and drawings (PDF, DWG, or images, max 20MB each)</p>\n          </div>\n\n          <!-- Plans List -->\n          <div v-if=\"getDocumentsByCategory('Site Plans').length > 0\" class=\"mt-4 space-y-2\">\n            <div\n              v-for=\"(doc, index) in getDocumentsByCategory('Site Plans')\"\n              :key=\"index\"\n              class=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-gray-50\"\n            >\n              <div class=\"flex items-center gap-3\">\n                <svg class=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <div>\n                  <p class=\"text-sm font-medium text-gray-900\">{{ doc.file_name }}</p>\n                  <p class=\"text-xs text-gray-500\">{{ doc.file_size }}  {{ doc.category }}</p>\n                </div>\n              </div>\n              <button\n                @click=\"removeDocument(getDocumentsByCategory('Site Plans').indexOf(doc))\"\n                type=\"button\"\n                class=\"text-red-600 hover:text-red-800 p-1\"\n                title=\"Remove\"\n              >\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Supporting Documents (FRD 8.3) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Supporting Documents</h3>\n        </div>\n\n        <div class=\"p-6 space-y-4\">\n          <p class=\"text-sm text-gray-600\">\n            Upload all supporting documents including specialist reports, written approvals, impact assessments, and any other relevant documentation.\n          </p>\n\n          <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n            <p class=\"text-sm text-yellow-800\">\n              <strong>Examples of supporting documents:</strong>\n            </p>\n            <ul class=\"text-sm text-yellow-800 mt-1 ml-4 list-disc\">\n              <li>Engineering reports (geotechnical, structural, civil)</li>\n              <li>Environmental assessments (traffic, acoustic, landscape, ecological)</li>\n              <li>Written approvals from affected parties (s.95E RMA)</li>\n              <li>Heritage impact assessments</li>\n              <li>Contaminated land reports (PSI/DSI)</li>\n              <li>Stormwater management plans</li>\n              <li>Correspondence with council or other parties</li>\n            </ul>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Upload Supporting Documents\n            </label>\n            <input\n              type=\"file\"\n              @change=\"handleFileUpload($event, 'Supporting Documents')\"\n              accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n              multiple\n              class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-purple-100 file:text-purple-700 hover:file:bg-purple-200\"\n            />\n            <p class=\"mt-1 text-xs text-gray-500\">Upload reports, assessments, and correspondence (PDF, Word, or images, max 20MB each)</p>\n          </div>\n\n          <!-- Supporting Documents List -->\n          <div v-if=\"getDocumentsByCategory('Supporting Documents').length > 0\" class=\"mt-4 space-y-2\">\n            <div\n              v-for=\"(doc, index) in getDocumentsByCategory('Supporting Documents')\"\n              :key=\"index\"\n              class=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-gray-50\"\n            >\n              <div class=\"flex items-center gap-3\">\n                <svg class=\"w-5 h-5 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <div>\n                  <p class=\"text-sm font-medium text-gray-900\">{{ doc.file_name }}</p>\n                  <p class=\"text-xs text-gray-500\">{{ doc.file_size }}  {{ doc.category }}</p>\n                </div>\n              </div>\n              <button\n                @click=\"removeDocument(getDocumentsByCategory('Supporting Documents').indexOf(doc))\"\n                type=\"button\"\n                class=\"text-red-600 hover:text-red-800 p-1\"\n                title=\"Remove\"\n              >\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- All Documents Summary -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Document Summary</h3>\n        </div>\n\n        <div class=\"p-6\">\n          <div v-if=\"localData.application_documents && localData.application_documents.length > 0\">\n            <div class=\"grid md:grid-cols-3 gap-4 mb-4\">\n              <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <p class=\"text-sm text-blue-600 font-medium\">Record of Title</p>\n                <p class=\"text-2xl font-bold text-blue-900 mt-1\">{{ getDocumentsByCategory('Record of Title').length }}</p>\n              </div>\n              <div class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                <p class=\"text-sm text-green-600 font-medium\">Site Plans</p>\n                <p class=\"text-2xl font-bold text-green-900 mt-1\">{{ getDocumentsByCategory('Site Plans').length }}</p>\n              </div>\n              <div class=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n                <p class=\"text-sm text-purple-600 font-medium\">Supporting Documents</p>\n                <p class=\"text-2xl font-bold text-purple-900 mt-1\">{{ getDocumentsByCategory('Supporting Documents').length }}</p>\n              </div>\n            </div>\n\n            <p class=\"text-sm text-gray-600\">\n              <strong>Total: {{ localData.application_documents.length }} document(s)</strong> uploaded\n            </p>\n\n            <!-- All Documents Table -->\n            <div class=\"mt-4 overflow-x-auto\">\n              <table class=\"min-w-full divide-y divide-gray-200\">\n                <thead class=\"bg-gray-50\">\n                  <tr>\n                    <th class=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase\">Document Name</th>\n                    <th class=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase\">Category</th>\n                    <th class=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase\">Size</th>\n                    <th class=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody class=\"bg-white divide-y divide-gray-200\">\n                  <tr v-for=\"(doc, index) in localData.application_documents\" :key=\"index\">\n                    <td class=\"px-4 py-2 text-sm text-gray-900\">{{ doc.file_name }}</td>\n                    <td class=\"px-4 py-2 text-sm text-gray-600\">{{ doc.category }}</td>\n                    <td class=\"px-4 py-2 text-sm text-gray-600\">{{ doc.file_size }}</td>\n                    <td class=\"px-4 py-2\">\n                      <button\n                        @click=\"removeDocument(index)\"\n                        type=\"button\"\n                        class=\"text-red-600 hover:text-red-800 text-sm\"\n                      >\n                        Remove\n                      </button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          <div v-else class=\"text-center py-8\">\n            <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n            </svg>\n            <p class=\"mt-2 text-sm text-gray-500\">No documents uploaded yet</p>\n            <p class=\"text-sm text-gray-500 mt-1\">Use the upload buttons above to add your documents</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Document Checklist Guidance -->\n      <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n        <h4 class=\"font-semibold text-gray-900 text-sm mb-2\">Document Checklist</h4>\n        <div class=\"space-y-1 text-sm text-gray-700\">\n          <label class=\"flex items-start\">\n            <input type=\"checkbox\" :checked=\"getDocumentsByCategory('Record of Title').length > 0\" disabled class=\"mt-0.5 h-4 w-4 text-blue-600 border-gray-300 rounded\" />\n            <span class=\"ml-2\">Certificate of Title (including consent notices, covenants, easements)</span>\n          </label>\n          <label class=\"flex items-start\">\n            <input type=\"checkbox\" :checked=\"getDocumentsByCategory('Site Plans').length > 0\" disabled class=\"mt-0.5 h-4 w-4 text-blue-600 border-gray-300 rounded\" />\n            <span class=\"ml-2\">Site plan showing existing and proposed development</span>\n          </label>\n          <label class=\"flex items-start\">\n            <input type=\"checkbox\" :checked=\"hasWrittenApprovals\" disabled class=\"mt-0.5 h-4 w-4 text-blue-600 border-gray-300 rounded\" />\n            <span class=\"ml-2\">Written approvals from affected parties (if applicable)</span>\n          </label>\n          <label class=\"flex items-start\">\n            <input type=\"checkbox\" :checked=\"hasSpecialistReports\" disabled class=\"mt-0.5 h-4 w-4 text-blue-600 border-gray-300 rounded\" />\n            <span class=\"ml-2\">Specialist reports and assessments (if required)</span>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Handle file upload\nconst handleFileUpload = (event, category) => {\n  const files = Array.from(event.target.files)\n  if (files.length === 0) return\n\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.application_documents) {\n    updatedData.application_documents = []\n  }\n\n  files.forEach(file => {\n    // Validate file size (max 20MB)\n    const maxSize = 20 * 1024 * 1024\n    if (file.size > maxSize) {\n      alert(`File ${file.name} exceeds 20MB. Please upload a smaller file.`)\n      return\n    }\n\n    // Format file size\n    const fileSize = formatFileSize(file.size)\n\n    // Add document to array\n    updatedData.application_documents.push({\n      file_name: file.name,\n      category: category,\n      file_size: fileSize,\n      upload_date: new Date().toISOString()\n    })\n  })\n\n  emit('update:modelValue', updatedData)\n\n  // Clear the input\n  event.target.value = ''\n}\n\n// Remove document\nconst removeDocument = (index) => {\n  if (confirm('Remove this document?')) {\n    const updatedData = { ...props.modelValue }\n    updatedData.application_documents.splice(index, 1)\n    emit('update:modelValue', updatedData)\n  }\n}\n\n// Get documents by category\nconst getDocumentsByCategory = (category) => {\n  return localData.value.application_documents?.filter(doc => doc.category === category) || []\n}\n\n// Check if written approvals uploaded\nconst hasWrittenApprovals = computed(() => {\n  return localData.value.application_documents?.some(doc =>\n    doc.file_name.toLowerCase().includes('approval') ||\n    doc.file_name.toLowerCase().includes('consent')\n  ) || false\n})\n\n// Check if specialist reports uploaded\nconst hasSpecialistReports = computed(() => {\n  return getDocumentsByCategory('Supporting Documents').length > 0\n})\n\n// Format file size\nconst formatFileSize = (bytes) => {\n  if (bytes === 0) return '0 Bytes'\n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i]\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Assessment of Environmental Effects (AEE)</h2>\n    <p class=\"text-gray-600 mb-8\">Assess the actual and potential effects of your proposal on the environment (RMA Schedule 4)</p>\n\n    <div class=\"space-y-8\">\n      <!-- FRD Info Box (Enhanced) -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-blue-900 text-sm\">Schedule 4 RMA Requirements</h5>\n            <p class=\"text-blue-800 text-sm mt-1\">\n              Your AEE must address the matters in Schedule 4 of the RMA, scaled to the nature and scale of the proposal.\n              The level of detail should correspond to the scale and significance of environmental effects.\n            </p>\n            <a\n              href=\"https://www.legislation.govt.nz/act/public/1991/0069/latest/whole.html#DLM242504\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              class=\"text-blue-700 text-sm font-medium mt-2 inline-flex items-center hover:underline\"\n            >\n              View Schedule 4 RMA\n              <svg class=\"w-4 h-4 ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n              </svg>\n            </a>\n          </div>\n        </div>\n      </div>\n\n      <!-- AEE Completion Method (FRD 9.1) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">How will you provide your AEE?</h3>\n        <div class=\"space-y-3\">\n          <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n            :class=\"localData.aee_completion_method === 'inline' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n          >\n            <input\n              v-model=\"localData.aee_completion_method\"\n              type=\"radio\"\n              value=\"inline\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">Complete AEE using form fields below</span>\n              <p class=\"text-xs text-gray-600 mt-1\">\n                Suitable for most applications - complete the structured questions below\n              </p>\n            </div>\n          </label>\n\n          <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n            :class=\"localData.aee_completion_method === 'upload' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n          >\n            <input\n              v-model=\"localData.aee_completion_method\"\n              type=\"radio\"\n              value=\"upload\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">Upload a prepared AEE document</span>\n              <p class=\"text-xs text-gray-600 mt-1\">\n                For complex proposals - upload an AEE prepared by a qualified consultant\n              </p>\n            </div>\n          </label>\n        </div>\n      </div>\n\n      <!-- Upload Method (FRD 9.2) -->\n      <div v-if=\"localData.aee_completion_method === 'upload'\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Upload AEE Document</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Upload a comprehensive AEE document prepared by a qualified expert that addresses all Schedule 4 matters\n        </p>\n\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Upload AEE Report *</label>\n          <input\n            type=\"file\"\n            @change=\"handleAEEDocumentUpload\"\n            accept=\".pdf,.doc,.docx\"\n            class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\"\n          />\n          <p class=\"mt-1 text-xs text-gray-500\">PDF or Word document, max 50MB</p>\n\n          <div v-if=\"localData.aee_document\" class=\"mt-3 flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg\">\n            <svg class=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n            </svg>\n            <span class=\"text-sm font-medium text-green-900\">\n              {{ typeof localData.aee_document === 'object' ? localData.aee_document.name : 'Document attached' }}\n            </span>\n          </div>\n        </div>\n\n        <!-- Confirmation Checkbox (FRD 9.3) -->\n        <div class=\"mt-6 border-t border-gray-200 pt-6\">\n          <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer\"\n            :class=\"localData.aee_document_confirmed ? 'border-blue-600 bg-blue-50' : 'border-gray-200'\"\n          >\n            <input\n              v-model=\"localData.aee_document_confirmed\"\n              type=\"checkbox\"\n              required\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">I confirm that the uploaded AEE addresses all Schedule 4 matters *</span>\n              <p class=\"text-xs text-gray-600 mt-1\">\n                The uploaded document must comprehensively address all matters required under Schedule 4 of the RMA\n              </p>\n            </div>\n          </label>\n        </div>\n      </div>\n\n      <!-- Inline Completion Method (existing fields) -->\n      <div v-if=\"localData.aee_completion_method === 'inline'\" class=\"space-y-8\">\n        <!-- 1. Activity Description (Schedule 4 clause 2(1)(a)) -->\n        <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n          <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">1. Description of Activity *</h3>\n          <p class=\"text-sm text-gray-600 mb-4\">\n            <strong>Schedule 4 clause 2(1)(a):</strong> Description of the activity including its location, design, and how it will be carried out\n          </p>\n          <textarea\n            v-model=\"localData.aee_activity_description\"\n            rows=\"6\"\n            required\n            placeholder=\"Provide a detailed description of what you're proposing to do, where it will be located, and how it will be undertaken...\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          ></textarea>\n        </div>\n\n        <!-- 2. Existing Environment (Schedule 4 clause 2(1)(b)) -->\n        <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n          <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">2. Description of Existing Environment *</h3>\n          <p class=\"text-sm text-gray-600 mb-4\">\n            <strong>Schedule 4 clause 2(1)(b):</strong> Description of the current state of the site and surrounding environment\n          </p>\n          <textarea\n            v-model=\"localData.aee_existing_environment\"\n            rows=\"6\"\n            required\n            placeholder=\"Describe the site's current characteristics, land use, vegetation, topography, nearby activities, surrounding development...\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          ></textarea>\n        </div>\n\n        <!-- 3. Assessment of Effects (Schedule 4 clause 2(1)(c)) -->\n        <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n          <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">3. Assessment of Actual and Potential Effects *</h3>\n          <p class=\"text-sm text-gray-600 mb-4\">\n            <strong>Schedule 4 clause 2(1)(c):</strong> Identify and assess the actual and potential effects on the environment\n          </p>\n\n          <div class=\"space-y-6\">\n            <!-- Main Assessment -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Overall Effects Assessment *</label>\n              <textarea\n                v-model=\"localData.assessment_of_effects\"\n                rows=\"10\"\n                required\n                placeholder=\"Address effects on:\n Physical environment (land, water, air, noise, vibration)\n Ecological environment (vegetation, wildlife, habitats)\n Social and cultural environment (amenity, heritage, iwi values)\n Economic environment\n Cumulative effects\n Risk of natural hazards\n\nInclude consideration of:\n Magnitude and scale of effects\n Duration (temporary vs permanent)\n Reversibility\n Mitigation measures proposed\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n\n            <!-- Positive Effects -->\n            <div class=\"border-t border-gray-200 pt-6\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Positive Effects (if any)\n              </label>\n              <p class=\"text-xs text-gray-500 mb-3\">\n                Describe any positive effects the proposal may have (e.g., employment, amenity improvements, environmental enhancements)\n              </p>\n              <textarea\n                v-model=\"localData.aee_positive_effects\"\n                rows=\"4\"\n                placeholder=\"Describe positive environmental, social, or economic effects...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n\n            <!-- Part 2 RMA Matters (Schedule 4 clause 2(1)(e)) -->\n            <div class=\"border-t border-gray-200 pt-6\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Part 2 RMA Assessment (s5-s8)\n              </label>\n              <p class=\"text-xs text-gray-500 mb-3\">\n                <strong>Schedule 4 clause 2(1)(e):</strong> Consider sustainable management (s5), matters of national importance (s6), other matters (s7), Treaty of Waitangi (s8)\n              </p>\n              <textarea\n                v-model=\"localData.aee_part2_assessment\"\n                rows=\"6\"\n                placeholder=\"Assess how your proposal aligns with Part 2 principles of the RMA...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n\n            <!-- Consultation Summary (Schedule 4 clause 2(1)(d)) -->\n            <div class=\"border-t border-gray-200 pt-6\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Consultation Undertaken\n              </label>\n              <p class=\"text-xs text-gray-500 mb-3\">\n                <strong>Schedule 4 clause 2(1)(d):</strong> Summarize consultation with affected parties, iwi, and other stakeholders\n              </p>\n              <textarea\n                v-model=\"localData.aee_consultation_summary\"\n                rows=\"4\"\n                placeholder=\"Describe who you've consulted with, feedback received, and how you've addressed concerns...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n              <p class=\"text-xs text-gray-500 mt-2\">\n                Note: Consultation details from Step 5 will be automatically included here\n              </p>\n            </div>\n\n            <!-- Alternatives Considered (Schedule 4 clause 2(1)(f)) -->\n            <div class=\"border-t border-gray-200 pt-6\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Alternatives Considered\n              </label>\n              <p class=\"text-xs text-gray-500 mb-3\">\n                <strong>Schedule 4 clause 2(1)(f):</strong> Describe alternative locations or methods considered (if any)\n              </p>\n              <textarea\n                v-model=\"localData.aee_alternatives_considered\"\n                rows=\"4\"\n                placeholder=\"Describe any alternative sites, designs, or methods you considered and why you selected the proposed option...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n\n            <!-- Monitoring (Schedule 4 clause 2(1)(g)) -->\n            <div class=\"border-t border-gray-200 pt-6\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Proposed Monitoring (if applicable)\n              </label>\n              <p class=\"text-xs text-gray-500 mb-3\">\n                <strong>Schedule 4 clause 2(1)(g):</strong> Describe any monitoring proposed to measure effects\n              </p>\n              <textarea\n                v-model=\"localData.aee_monitoring_proposed\"\n                rows=\"4\"\n                placeholder=\"Describe any environmental monitoring you propose (e.g., water quality, noise levels, ecological surveys)...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n          </div>\n        </div>\n\n        <!-- Confirmation (FRD 9.3) -->\n        <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n          <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer\"\n            :class=\"localData.aee_inline_confirmed ? 'border-blue-600 bg-blue-50' : 'border-gray-200'\"\n          >\n            <input\n              v-model=\"localData.aee_inline_confirmed\"\n              type=\"checkbox\"\n              required\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">I confirm that I have completed the AEE to the best of my knowledge *</span>\n              <p class=\"text-xs text-gray-600 mt-1\">\n                This AEE addresses Schedule 4 requirements scaled to the nature and significance of my proposal's effects\n              </p>\n            </div>\n          </label>\n        </div>\n      </div>\n\n      <!-- Help Section -->\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-yellow-900 text-sm\">Need Help with Your AEE?</h5>\n            <p class=\"text-yellow-800 text-sm mt-1\">\n              For complex proposals or activities with significant effects, consider engaging a qualified environmental consultant to prepare your AEE.\n              The level of detail required depends on the scale and significance of potential environmental effects.\n            </p>\n            <p class=\"text-yellow-800 text-sm mt-2\">\n              <strong>Simple activities</strong> (e.g., minor additions, internal alterations) may only need brief responses.\n              <strong>Complex activities</strong> (e.g., subdivisions, significant buildings, discharges) typically require comprehensive assessment.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, computed, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Create a computed property for local data that syncs with parent\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Set default completion method\nif (!localData.value.aee_completion_method) {\n  const updatedData = { ...props.modelValue }\n  updatedData.aee_completion_method = 'inline'\n  emit('update:modelValue', updatedData)\n}\n\n// Watch for method change and reset confirmations\nwatch(() => localData.value.aee_completion_method, (newMethod) => {\n  const updatedData = { ...props.modelValue }\n  updatedData.aee_inline_confirmed = false\n  updatedData.aee_document_confirmed = false\n  emit('update:modelValue', updatedData)\n})\n\nconst handleAEEDocumentUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (50MB max)\n    if (file.size > 50 * 1024 * 1024) {\n      alert('File size must be less than 50MB')\n      event.target.value = ''\n      return\n    }\n\n    const updatedData = { ...props.modelValue }\n    updatedData.aee_document = file\n    emit('update:modelValue', updatedData)\n  }\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Declaration & Submission</h2>\n    <p class=\"text-gray-600 mb-8\">Payment of fees, statutory declarations, and application submission</p>\n\n    <div class=\"space-y-8\">\n      <!-- Payment of Lodgement Fees (FRD 11.1) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Lodgement Fees</h3>\n        </div>\n\n        <div class=\"p-6 space-y-4\">\n          <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <div class=\"flex items-start\">\n              <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <div>\n                <h5 class=\"font-semibold text-blue-900 text-sm\">About Lodgement Fees</h5>\n                <p class=\"text-blue-800 text-sm mt-1\">\n                  Under s.36 RMA, councils can charge fees for processing resource consent applications.\n                  Lodgement fees typically cover the initial administrative costs. Additional charges may be invoiced as the application is processed.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"mb-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Have lodgement fees been paid?\n            </label>\n            <div class=\"flex gap-4\">\n              <label class=\"flex items-center\">\n                <input\n                  v-model=\"localData.lodgement_fees_paid\"\n                  type=\"radio\"\n                  :value=\"true\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <span class=\"ml-2 text-sm text-gray-700\">Yes</span>\n              </label>\n              <label class=\"flex items-center\">\n                <input\n                  v-model=\"localData.lodgement_fees_paid\"\n                  type=\"radio\"\n                  :value=\"false\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                />\n                <span class=\"ml-2 text-sm text-gray-700\">No - will pay upon submission</span>\n              </label>\n            </div>\n          </div>\n\n          <!-- Payment Details (if fees paid) -->\n          <div v-if=\"localData.lodgement_fees_paid\" class=\"border-t border-gray-200 pt-4 space-y-4\">\n            <div class=\"flex justify-between items-center\">\n              <label class=\"block text-sm font-medium text-gray-700\">\n                Payment Records\n              </label>\n              <button\n                @click=\"openPaymentModal\"\n                type=\"button\"\n                class=\"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-1\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                </svg>\n                Add Payment\n              </button>\n            </div>\n\n            <!-- Payment List -->\n            <div v-if=\"localData.lodgement_payments && localData.lodgement_payments.length > 0\" class=\"space-y-2\">\n              <div\n                v-for=\"(payment, index) in localData.lodgement_payments\"\n                :key=\"index\"\n                class=\"border border-gray-200 rounded-lg p-3 bg-gray-50\"\n              >\n                <div class=\"flex justify-between items-start\">\n                  <div class=\"flex-1\">\n                    <div class=\"font-medium text-gray-900\">{{ payment.payment_type }}</div>\n                    <div class=\"text-sm text-gray-600 mt-1\">\n                      Amount: ${{ payment.amount_excluding_gst }} (excl GST)\n                      <span v-if=\"payment.reference_number\">  Ref: {{ payment.reference_number }}</span>\n                      <span v-if=\"payment.payment_date\">  Date: {{ formatDate(payment.payment_date) }}</span>\n                    </div>\n                  </div>\n                  <button\n                    @click=\"removePayment(index)\"\n                    type=\"button\"\n                    class=\"text-red-600 hover:text-red-800 p-1\"\n                    title=\"Remove\"\n                  >\n                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n\n              <!-- Total -->\n              <div class=\"border-t-2 border-gray-300 pt-3 mt-3\">\n                <div class=\"flex justify-between items-center font-semibold text-gray-900\">\n                  <span>Total Paid (excl GST):</span>\n                  <span>${{ calculateTotalPayments() }}</span>\n                </div>\n              </div>\n            </div>\n\n            <div v-else class=\"text-center py-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n              <p class=\"text-sm text-gray-500\">No payments recorded yet</p>\n            </div>\n          </div>\n\n          <!-- Payment Information (if not paid) -->\n          <div v-else class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n            <p class=\"text-sm text-yellow-800\">\n              Lodgement fees will be calculated and invoiced by the council upon receipt of your application.\n              You will be notified of the amount due and payment methods available.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Statutory Declarations (FRD 11.2) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Statutory Declarations</h3>\n        </div>\n\n        <div class=\"p-6 space-y-6\">\n          <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <div class=\"flex items-start\">\n              <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <div>\n                <h5 class=\"font-semibold text-blue-900 text-sm\">Declarations Required</h5>\n                <p class=\"text-blue-800 text-sm mt-1\">\n                  Under the Resource Management Act 1991, you must confirm the following declarations before submitting your application.\n                  All three declarations are mandatory.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"space-y-4\">\n            <div class=\"border-2 rounded-lg p-4\" :class=\"localData.declaration_rma_compliance ? 'border-green-600 bg-green-50' : 'border-gray-200'\">\n              <label class=\"flex items-start cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  v-model=\"localData.declaration_rma_compliance\"\n                  required\n                  class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <div class=\"ml-3 flex-1\">\n                  <span class=\"font-medium text-gray-900\">RMA Compliance Declaration *</span>\n                  <p class=\"text-sm text-gray-600 mt-1\">\n                    I confirm that this application complies with the requirements of Schedule 4 of the Resource Management Act 1991 and contains all required information for the council to process this application.\n                  </p>\n                </div>\n              </label>\n            </div>\n\n            <div class=\"border-2 rounded-lg p-4\" :class=\"localData.declaration_public_information ? 'border-green-600 bg-green-50' : 'border-gray-200'\">\n              <label class=\"flex items-start cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  v-model=\"localData.declaration_public_information\"\n                  required\n                  class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <div class=\"ml-3 flex-1\">\n                  <span class=\"font-medium text-gray-900\">Public Information Declaration *</span>\n                  <p class=\"text-sm text-gray-600 mt-1\">\n                    I understand that this application and supporting documents will become public information and may be made available to any person upon request under the Local Government Official Information and Meetings Act 1987.\n                  </p>\n                </div>\n              </label>\n            </div>\n\n            <div class=\"border-2 rounded-lg p-4\" :class=\"localData.declaration_authorized ? 'border-green-600 bg-green-50' : 'border-gray-200'\">\n              <label class=\"flex items-start cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  v-model=\"localData.declaration_authorized\"\n                  required\n                  class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <div class=\"ml-3 flex-1\">\n                  <span class=\"font-medium text-gray-900\">Authorization Declaration *</span>\n                  <p class=\"text-sm text-gray-600 mt-1\">\n                    I confirm that I am authorized to make this application on behalf of the applicant and that all information provided is true and correct to the best of my knowledge.\n                  </p>\n                </div>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Applicant Signatures (FRD 11.3) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Applicant Signature(s)</h3>\n        </div>\n\n        <div class=\"p-6 space-y-4\">\n          <p class=\"text-sm text-gray-600\">\n            If the application is being made by multiple applicants (e.g., multiple property owners), each applicant must provide their signature details.\n          </p>\n\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">First Name *</label>\n              <input\n                v-model=\"localData.applicant_signature_first_name\"\n                type=\"text\"\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Last Name *</label>\n              <input\n                v-model=\"localData.applicant_signature_last_name\"\n                type=\"text\"\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Date *</label>\n            <input\n              v-model=\"localData.applicant_signature_date\"\n              type=\"date\"\n              required\n              :max=\"today\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n\n          <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-3\">\n            <p class=\"text-xs text-gray-600\">\n              <strong>Note:</strong> By providing your name and date above, you are electronically signing this application.\n              This has the same legal effect as a handwritten signature.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Agent Signature (if applicable) (FRD 11.4) -->\n      <div v-if=\"localData.agent_required\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Agent Signature</h3>\n        </div>\n\n        <div class=\"p-6 space-y-4\">\n          <p class=\"text-sm text-gray-600\">\n            If an agent is acting on behalf of the applicant, the agent must also sign the application.\n          </p>\n\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">First Name *</label>\n              <input\n                v-model=\"localData.agent_signature_first_name\"\n                type=\"text\"\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Last Name *</label>\n              <input\n                v-model=\"localData.agent_signature_last_name\"\n                type=\"text\"\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Date *</label>\n            <input\n              v-model=\"localData.agent_signature_date\"\n              type=\"date\"\n              required\n              :max=\"today\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- Submission Ready Notice -->\n      <div class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-green-900 text-sm\">Ready to Submit</h5>\n            <p class=\"text-green-800 text-sm mt-1\">\n              Once you have completed all declarations and signatures, click \"Submit Application\" to lodge your resource consent application with the council.\n              You will receive a confirmation email with your application reference number.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Payment Modal -->\n    <Teleport to=\"body\">\n      <div\n        v-if=\"showPaymentModal\"\n        class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n        @click.self=\"closePaymentModal\"\n      >\n        <div class=\"bg-white rounded-lg shadow-xl max-w-md w-full\">\n          <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">Add Payment Record</h3>\n            <button @click=\"closePaymentModal\" type=\"button\" class=\"text-gray-400 hover:text-gray-600\">\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <div class=\"px-6 py-4 space-y-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Payment Type *</label>\n              <select v-model=\"paymentForm.payment_type\" required class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\">\n                <option value=\"\">Select type</option>\n                <option value=\"Lodgement Fee\">Lodgement Fee</option>\n                <option value=\"Deposit\">Deposit</option>\n                <option value=\"Processing Fee\">Processing Fee</option>\n                <option value=\"Other\">Other</option>\n              </select>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Reference Number</label>\n              <input v-model=\"paymentForm.reference_number\" type=\"text\" placeholder=\"e.g., Invoice #, Transaction ID\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Payment Date</label>\n              <input v-model=\"paymentForm.payment_date\" type=\"date\" :max=\"today\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Amount (excl GST) *</label>\n              <div class=\"relative\">\n                <span class=\"absolute left-3 top-2 text-gray-500\">$</span>\n                <input v-model.number=\"paymentForm.amount_excluding_gst\" type=\"number\" step=\"0.01\" min=\"0\" required placeholder=\"0.00\" class=\"w-full pl-7 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\" />\n              </div>\n            </div>\n          </div>\n\n          <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n            <button @click=\"closePaymentModal\" type=\"button\" class=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100\">\n              Cancel\n            </button>\n            <button @click=\"savePayment\" type=\"button\" :disabled=\"!paymentForm.payment_type || !paymentForm.amount_excluding_gst\" class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50\">\n              Add Payment\n            </button>\n          </div>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Today's date for max date validation\nconst today = new Date().toISOString().split('T')[0]\n\n// Payment Modal Management\nconst showPaymentModal = ref(false)\nconst paymentForm = ref({\n  payment_type: '',\n  reference_number: '',\n  payment_date: today,\n  amount_excluding_gst: 0\n})\n\nconst openPaymentModal = () => {\n  paymentForm.value = {\n    payment_type: '',\n    reference_number: '',\n    payment_date: today,\n    amount_excluding_gst: 0\n  }\n  showPaymentModal.value = true\n}\n\nconst closePaymentModal = () => {\n  showPaymentModal.value = false\n}\n\nconst savePayment = () => {\n  if (!paymentForm.value.payment_type || !paymentForm.value.amount_excluding_gst) return\n\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.lodgement_payments) updatedData.lodgement_payments = []\n\n  updatedData.lodgement_payments.push({ ...paymentForm.value })\n  emit('update:modelValue', updatedData)\n  closePaymentModal()\n}\n\nconst removePayment = (index) => {\n  if (confirm('Remove this payment record?')) {\n    const updatedData = { ...props.modelValue }\n    updatedData.lodgement_payments.splice(index, 1)\n    emit('update:modelValue', updatedData)\n  }\n}\n\nconst calculateTotalPayments = () => {\n  if (!localData.value.lodgement_payments) return 0\n  return localData.value.lodgement_payments.reduce((total, payment) => total + (payment.amount_excluding_gst || 0), 0).toFixed(2)\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return ''\n  const date = new Date(dateString)\n  return date.toLocaleDateString('en-NZ', { year: 'numeric', month: 'short', day: 'numeric' })\n}\n</script>\n","<template>\n  <div class=\"px-4 sm:px-0\">\n    <h2 class=\"text-xl sm:text-2xl font-bold text-gray-900 mb-2\">Review & Submit</h2>\n    <p class=\"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8\">Review your application details before submitting</p>\n\n    <div class=\"space-y-4 sm:space-y-6\">\n      <!-- Application Summary -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6\">\n        <div class=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-0\">\n          <div>\n            <h3 class=\"text-base sm:text-lg font-semibold text-blue-900\">{{ requestTypeName }}</h3>\n            <p class=\"text-xs sm:text-sm text-blue-700 mt-1\">{{ councilName }}</p>\n          </div>\n          <div class=\"sm:text-right\">\n            <div class=\"text-xs sm:text-sm text-blue-600 font-medium\">Application Fee</div>\n            <div class=\"text-xl sm:text-2xl font-bold text-blue-900\">{{ applicationFee }}</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Applicant Details -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Applicant Details</h3>\n        </div>\n        <div class=\"p-4 sm:p-6 space-y-3\">\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <span class=\"text-sm text-gray-500\">Name:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_name || 'Not provided' }}</p>\n            </div>\n            <div>\n              <span class=\"text-sm text-gray-500\">Email:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_email || 'Not provided' }}</p>\n            </div>\n            <div>\n              <span class=\"text-sm text-gray-500\">Phone:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_phone || 'Not provided' }}</p>\n            </div>\n            <div v-if=\"modelValue.applicant_company\">\n              <span class=\"text-sm text-gray-500\">Company:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_company }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Property Details (only show if request type has property information) -->\n      <div v-if=\"hasPropertyDetails\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Property Details</h3>\n        </div>\n        <div class=\"p-4 sm:p-6\">\n          <div v-if=\"modelValue.property_address\" class=\"space-y-2\">\n            <div>\n              <span class=\"text-sm text-gray-500\">Address:</span>\n              <p class=\"font-medium\">{{ modelValue.property_address }}</p>\n            </div>\n            <div v-if=\"modelValue.legal_description\">\n              <span class=\"text-sm text-gray-500\">Legal Description:</span>\n              <p class=\"font-medium\">{{ modelValue.legal_description }}</p>\n            </div>\n          </div>\n          <p v-else class=\"text-gray-500\">No property selected</p>\n        </div>\n      </div>\n\n      <!-- Delivery Preference (only show if request type collects payment) -->\n      <div v-if=\"requestTypeDetails?.collect_payment\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Delivery & Payment</h3>\n        </div>\n        <div class=\"p-4 sm:p-6 space-y-3\">\n          <div>\n            <span class=\"text-sm text-gray-500\">Delivery Preference:</span>\n            <p class=\"font-medium\">{{ modelValue.delivery_preference || 'Not selected' }}</p>\n          </div>\n          <div>\n            <span class=\"text-sm text-gray-500\">Invoice To:</span>\n            <p class=\"font-medium\">{{ modelValue.invoice_to || 'Not specified' }}</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Dynamic Review Sections (for configured request types) -->\n      <template v-if=\"usesConfigurableSteps && reviewSections.length > 0\">\n        <div\n          v-for=\"step in reviewSections\"\n          :key=\"step.step_code\"\n          class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\"\n        >\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">{{ step.step_title }}</h3>\n          </div>\n          <div class=\"p-4 sm:p-6 space-y-4\">\n            <div\n              v-for=\"section in step.sections.filter(s => s.show_on_review)\"\n              :key=\"section.section_code\"\n            >\n              <h4 v-if=\"section.section_title\" class=\"text-sm font-medium text-gray-700 mb-2\">\n                {{ section.section_title }}\n              </h4>\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div\n                  v-for=\"field in section.fields.filter(f => f.show_on_review)\"\n                  :key=\"field.field_name\"\n                >\n                  <span class=\"text-sm text-gray-500\">{{ field.review_label || field.field_label }}:</span>\n                  <p class=\"font-medium\">{{ formatFieldValue(field, modelValue[field.field_name]) }}</p>\n                </div>\n              </div>\n            </div>\n            <p v-if=\"!hasReviewContent(step)\" class=\"text-gray-500 text-sm\">\n              No information to display for review\n            </p>\n          </div>\n        </div>\n      </template>\n\n      <!-- Resource Consent Specific Details -->\n      <template v-if=\"isResourceConsent\">\n        <!-- Consent Types -->\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Consent Types & Activity Status</h3>\n          </div>\n          <div class=\"p-4 sm:p-6\">\n            <div class=\"space-y-3\">\n              <div>\n                <span class=\"text-sm text-gray-500\">Consent Types:</span>\n                <div class=\"mt-2 flex flex-wrap gap-2\">\n                  <span\n                    v-if=\"modelValue.consent_type_land_use\"\n                    class=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\"\n                  >\n                    Land Use Consent\n                  </span>\n                  <span\n                    v-if=\"modelValue.consent_type_subdivision\"\n                    class=\"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium\"\n                  >\n                    Subdivision Consent\n                  </span>\n                  <span\n                    v-if=\"modelValue.consent_type_discharge\"\n                    class=\"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium\"\n                  >\n                    Discharge Permit\n                  </span>\n                  <span\n                    v-if=\"modelValue.consent_type_water\"\n                    class=\"px-3 py-1 bg-cyan-100 text-cyan-800 rounded-full text-sm font-medium\"\n                  >\n                    Water Permit\n                  </span>\n                  <span\n                    v-if=\"modelValue.consent_type_coastal\"\n                    class=\"px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm font-medium\"\n                  >\n                    Coastal Permit\n                  </span>\n                  <span v-if=\"!hasAnyConsentType\" class=\"text-gray-500\">\n                    None selected\n                  </span>\n                </div>\n              </div>\n              <div>\n                <span class=\"text-sm text-gray-500\">Activity Status:</span>\n                <div class=\"mt-1 inline-flex items-center\">\n                  <span\n                    class=\"px-3 py-1 rounded-full text-sm font-medium\"\n                    :class=\"activityStatusClass\"\n                  >\n                    {{ modelValue.activity_status_type || 'Not specified' }}\n                  </span>\n                </div>\n              </div>\n              <div v-if=\"modelValue.activity_title\">\n                <span class=\"text-sm text-gray-500\">Activity Title:</span>\n                <p class=\"font-medium break-words\">{{ modelValue.activity_title }}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Natural Hazards -->\n        <div v-if=\"hasNaturalHazards\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Natural Hazards</h3>\n          </div>\n          <div class=\"p-4 sm:p-6\">\n            <div class=\"flex flex-wrap gap-2\">\n              <span\n                v-if=\"modelValue.hazard_flooding\"\n                class=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium inline-flex items-center gap-1\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707\" />\n                </svg>\n                Flood Hazard\n              </span>\n              <span\n                v-if=\"modelValue.hazard_earthquake\"\n                class=\"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium inline-flex items-center gap-1\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                </svg>\n                Earthquake/Fault Line\n              </span>\n              <span\n                v-if=\"modelValue.hazard_landslip\"\n                class=\"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium inline-flex items-center gap-1\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                </svg>\n                Landslip/Slope Instability\n              </span>\n              <span\n                v-if=\"modelValue.hazard_coastal\"\n                class=\"px-3 py-1 bg-cyan-100 text-cyan-800 rounded-full text-sm font-medium inline-flex items-center gap-1\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5\" />\n                </svg>\n                Coastal Hazard\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Consultation & Affected Parties -->\n        <div v-if=\"hasConsultation\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Consultation & Affected Parties</h3>\n          </div>\n          <div class=\"p-4 sm:p-6\">\n            <div class=\"space-y-3\">\n              <div>\n                <span class=\"text-sm text-gray-500\">Consultation Undertaken:</span>\n                <p class=\"font-medium\">{{ modelValue.consultation_undertaken || 'Not specified' }}</p>\n              </div>\n              <div v-if=\"modelValue.consultation_summary\">\n                <span class=\"text-sm text-gray-500\">Consultation Summary:</span>\n                <p class=\"text-sm mt-1 line-clamp-3\">{{ modelValue.consultation_summary }}</p>\n              </div>\n              <div v-if=\"modelValue.affected_parties_details\">\n                <span class=\"text-sm text-gray-500\">Affected Parties:</span>\n                <p class=\"text-sm mt-1 line-clamp-3\">{{ stripHtml(modelValue.affected_parties_details) }}</p>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <svg\n                  class=\"w-5 h-5\"\n                  :class=\"modelValue.written_approvals_obtained ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span :class=\"modelValue.written_approvals_obtained ? 'text-gray-900' : 'text-gray-500'\">\n                  Written Approvals {{ modelValue.written_approvals_obtained ? 'Obtained' : 'Not Obtained' }}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- AEE Summary -->\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Assessment of Environmental Effects</h3>\n          </div>\n          <div class=\"p-4 sm:p-6\">\n            <div class=\"space-y-4\">\n              <div v-if=\"modelValue.activity_description\">\n                <span class=\"text-sm text-gray-500\">Activity Description:</span>\n                <div class=\"text-sm mt-1 line-clamp-3\" v-html=\"modelValue.activity_description\"></div>\n              </div>\n              <div v-if=\"modelValue.aee_full_assessment\">\n                <span class=\"text-sm text-gray-500\">Full Assessment:</span>\n                <div class=\"text-sm mt-1 line-clamp-3\" v-html=\"modelValue.aee_full_assessment\"></div>\n              </div>\n              <div v-if=\"modelValue.positive_effects_description\">\n                <span class=\"text-sm text-gray-500\">Positive Effects:</span>\n                <p class=\"text-sm mt-1 line-clamp-3\">{{ modelValue.positive_effects_description }}</p>\n              </div>\n              <div v-if=\"modelValue.effects_visual_amenity || modelValue.effects_traffic_parking || modelValue.effects_noise\">\n                <span class=\"text-sm text-gray-500\">Adverse Effects Summary:</span>\n                <ul class=\"text-sm mt-1 space-y-1 list-disc list-inside\">\n                  <li v-if=\"modelValue.effects_visual_amenity\">Visual/Amenity: {{ truncate(modelValue.effects_visual_amenity, 50) }}</li>\n                  <li v-if=\"modelValue.effects_traffic_parking\">Traffic/Parking: {{ truncate(modelValue.effects_traffic_parking, 50) }}</li>\n                  <li v-if=\"modelValue.effects_noise\">Noise: {{ truncate(modelValue.effects_noise, 50) }}</li>\n                </ul>\n              </div>\n              <div v-if=\"modelValue.mitigation_measures\">\n                <span class=\"text-sm text-gray-500\">Mitigation Measures:</span>\n                <div class=\"text-sm mt-1 line-clamp-3\" v-html=\"modelValue.mitigation_measures\"></div>\n              </div>\n              <p v-if=\"!hasAEEContent\" class=\"text-gray-500 text-sm\">\n                AEE not yet completed\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Statutory Declarations -->\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Statutory Declarations</h3>\n          </div>\n          <div class=\"p-4 sm:p-6\">\n            <div class=\"space-y-2\">\n              <div class=\"flex items-start gap-2\">\n                <svg\n                  class=\"w-5 h-5 flex-shrink-0 mt-0.5\"\n                  :class=\"(modelValue.declaration_accuracy || modelValue.declaration_rma_compliance) ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span class=\"text-sm\" :class=\"(modelValue.declaration_accuracy || modelValue.declaration_rma_compliance) ? 'text-gray-900' : 'text-gray-500'\">\n                  Declaration of Accuracy & RMA Compliance\n                </span>\n              </div>\n              <div class=\"flex items-start gap-2\">\n                <svg\n                  class=\"w-5 h-5 flex-shrink-0 mt-0.5\"\n                  :class=\"(modelValue.declaration_authority || modelValue.declaration_authorized) ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span class=\"text-sm\" :class=\"(modelValue.declaration_authority || modelValue.declaration_authorized) ? 'text-gray-900' : 'text-gray-500'\">\n                  Declaration of Authority to Apply\n                </span>\n              </div>\n              <div class=\"flex items-start gap-2\">\n                <svg\n                  class=\"w-5 h-5 flex-shrink-0 mt-0.5\"\n                  :class=\"(modelValue.declaration_acknowledgment || modelValue.declaration_public_information) ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span class=\"text-sm\" :class=\"(modelValue.declaration_acknowledgment || modelValue.declaration_public_information) ? 'text-gray-900' : 'text-gray-500'\">\n                  Public Information & Privacy Acknowledgment\n                </span>\n              </div>\n              <div v-if=\"modelValue.applicant_signature\" class=\"mt-4 pt-4 border-t border-gray-200\">\n                <span class=\"text-sm text-gray-500\">Signed by:</span>\n                <p class=\"font-medium\">{{ modelValue.applicant_signature }}</p>\n                <p v-if=\"modelValue.signature_date\" class=\"text-sm text-gray-500\">\n                  Date: {{ formatSignatureDate(modelValue.signature_date) }}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <!-- Important Notice -->\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 sm:p-6\">\n        <div class=\"flex items-start gap-2 sm:gap-3\">\n          <svg class=\"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n          <div>\n            <h4 class=\"font-semibold text-yellow-900 text-sm sm:text-base\">Before You Submit</h4>\n            <ul class=\"mt-2 text-xs sm:text-sm text-yellow-800 space-y-1 list-disc list-inside\">\n              <li>Review all information carefully for accuracy and completeness</li>\n              <li>Ensure all required fields are completed</li>\n              <li>For Resource Consent applications, verify all statutory declarations are confirmed</li>\n              <li>Once submitted, you cannot edit the application (you may need to withdraw and resubmit)</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <!-- Completeness Check -->\n      <div v-if=\"!isComplete\" class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <div class=\"flex items-start gap-2 sm:gap-3\">\n          <svg class=\"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-red-900 text-xs sm:text-sm\">Application Incomplete</h5>\n            <p class=\"text-red-800 text-xs sm:text-sm mt-1\">\n              Please complete all required sections before submitting. Use the Previous button to go back and fill in missing information.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  councilName: {\n    type: String,\n    default: 'Council'\n  },\n  requestTypeName: {\n    type: String,\n    default: 'Application'\n  },\n  applicationFee: {\n    type: String,\n    default: 'TBD'\n  },\n  isResourceConsent: {\n    type: Boolean,\n    default: false\n  },\n  stepConfigs: {\n    type: Array,\n    default: () => []\n  },\n  usesConfigurableSteps: {\n    type: Boolean,\n    default: false\n  },\n  requestTypeDetails: {\n    type: Object,\n    default: null\n  }\n})\n\n// Filter steps that should show on review\nconst reviewSections = computed(() => {\n  if (!props.usesConfigurableSteps || !props.stepConfigs) {\n    return []\n  }\n\n  return props.stepConfigs.filter(step => step.show_on_review)\n})\n\n// Check if property details should be displayed\nconst hasPropertyDetails = computed(() => {\n  // Always show for resource consent\n  if (props.isResourceConsent) {\n    return true\n  }\n\n  // Check if property data actually exists in the request\n  return !!(props.modelValue.property || props.modelValue.property_address)\n})\n\n// Check if a step has any content to show on review\nconst hasReviewContent = (step) => {\n  if (!step.sections) return false\n\n  for (const section of step.sections) {\n    if (!section.show_on_review) continue\n\n    for (const field of section.fields) {\n      if (field.show_on_review && props.modelValue[field.field_name]) {\n        return true\n      }\n    }\n  }\n\n  return false\n}\n\n// Format field value for display\nconst formatFieldValue = (field, value) => {\n  if (value === undefined || value === null || value === '') {\n    return 'Not provided'\n  }\n\n  // Check field type\n  if (field.field_type === 'Check') {\n    return value ? 'Yes' : 'No'\n  }\n\n  if (field.field_type === 'Date' && value) {\n    // Format date nicely\n    try {\n      return new Date(value).toLocaleDateString('en-NZ', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })\n    } catch (e) {\n      return value\n    }\n  }\n\n  if (field.field_type === 'Currency' && value) {\n    return `${Number(value).toLocaleString('en-PH', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`\n  }\n\n  if (field.field_type === 'Select') {\n    return value\n  }\n\n  if (field.field_type === 'Attach' || field.field_type === 'Attach Image') {\n    return value ? ' File attached' : 'Not provided'\n  }\n\n  return value\n}\n\n// RC-specific computed properties\nconst hasAnyConsentType = computed(() => {\n  return !!(\n    props.modelValue.consent_type_land_use ||\n    props.modelValue.consent_type_subdivision ||\n    props.modelValue.consent_type_discharge ||\n    props.modelValue.consent_type_water ||\n    props.modelValue.consent_type_coastal\n  )\n})\n\nconst activityStatusClass = computed(() => {\n  const status = props.modelValue.activity_status_type\n  if (status === 'Permitted') return 'bg-green-100 text-green-800'\n  if (status === 'Controlled') return 'bg-blue-100 text-blue-800'\n  if (status === 'Restricted Discretionary') return 'bg-yellow-100 text-yellow-800'\n  if (status === 'Discretionary') return 'bg-orange-100 text-orange-800'\n  if (status === 'Non-Complying') return 'bg-red-100 text-red-800'\n  if (status === 'Prohibited') return 'bg-gray-800 text-white'\n  return 'bg-gray-100 text-gray-800'\n})\n\nconst hasNaturalHazards = computed(() => {\n  return !!(\n    props.modelValue.hazard_flooding ||\n    props.modelValue.hazard_earthquake ||\n    props.modelValue.hazard_landslip ||\n    props.modelValue.hazard_coastal\n  )\n})\n\nconst hasConsultation = computed(() => {\n  return !!(\n    props.modelValue.consultation_undertaken ||\n    props.modelValue.consultation_summary ||\n    props.modelValue.affected_parties_details ||\n    props.modelValue.written_approvals_obtained\n  )\n})\n\nconst hasAEEContent = computed(() => {\n  return !!(\n    props.modelValue.activity_description ||\n    props.modelValue.aee_full_assessment ||\n    props.modelValue.positive_effects_description ||\n    props.modelValue.effects_visual_amenity ||\n    props.modelValue.effects_traffic_parking ||\n    props.modelValue.effects_noise ||\n    props.modelValue.mitigation_measures ||\n    // Legacy fields\n    props.modelValue.aee_activity_description ||\n    props.modelValue.aee_existing_environment ||\n    props.modelValue.assessment_of_effects ||\n    props.modelValue.aee_document\n  )\n})\n\n// Helper functions\nconst stripHtml = (html) => {\n  if (!html) return ''\n  const tmp = document.createElement('div')\n  tmp.innerHTML = html\n  return tmp.textContent || tmp.innerText || ''\n}\n\nconst truncate = (text, maxLength) => {\n  if (!text) return ''\n  const clean = stripHtml(text)\n  if (clean.length <= maxLength) return clean\n  return clean.substring(0, maxLength) + '...'\n}\n\nconst formatSignatureDate = (dateStr) => {\n  if (!dateStr) return ''\n  try {\n    return new Date(dateStr).toLocaleDateString('en-NZ', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    })\n  } catch (e) {\n    return dateStr\n  }\n}\n\nconst isComplete = computed(() => {\n  // Basic required fields\n  const hasBasicInfo = !!(\n    props.modelValue.council &&\n    props.modelValue.request_type &&\n    props.modelValue.applicant_name &&\n    props.modelValue.applicant_email &&\n    props.modelValue.property_address &&\n    props.modelValue.delivery_preference\n  )\n\n  // If RC, check additional requirements\n  if (props.isResourceConsent) {\n    const hasRCRequirements = !!(\n      hasAnyConsentType.value &&\n      props.modelValue.activity_status_type &&\n      props.modelValue.activity_description &&\n      props.modelValue.aee_full_assessment &&\n      props.modelValue.declaration_accuracy &&\n      props.modelValue.declaration_authority &&\n      props.modelValue.declaration_acknowledgment\n    )\n    return hasBasicInfo && hasRCRequirements\n  }\n\n  return hasBasicInfo\n})\n</script>\n\n<style scoped>\n.line-clamp-3 {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style>\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","<template>\n  <div class=\"space-y-4\">\n    <!-- Upload Label -->\n    <label class=\"block\">\n      <span class=\"text-sm font-medium text-gray-900\">\n        {{ label }}\n        <span v-if=\"required\" class=\"text-red-500\">*</span>\n      </span>\n      <p v-if=\"helpText\" class=\"text-xs text-gray-500 mt-1\">{{ helpText }}</p>\n    </label>\n\n    <!-- Upload Options -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <!-- Camera Capture Button -->\n      <button\n        v-if=\"allowCamera\"\n        @click=\"openCamera\"\n        type=\"button\"\n        class=\"relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-blue-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group\"\n        :class=\"{ 'opacity-50 cursor-not-allowed': uploading }\"\n        :disabled=\"uploading\"\n      >\n        <div class=\"text-center\">\n          <svg class=\"mx-auto h-10 w-10 text-blue-500 group-hover:text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\n          </svg>\n          <p class=\"mt-2 text-sm font-medium text-blue-600 group-hover:text-blue-700\">Take Photo</p>\n          <p class=\"text-xs text-gray-500\">Use camera</p>\n        </div>\n      </button>\n\n      <!-- File Upload Button -->\n      <button\n        @click=\"triggerFileInput\"\n        type=\"button\"\n        class=\"relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group\"\n        :class=\"{ 'opacity-50 cursor-not-allowed': uploading }\"\n        :disabled=\"uploading\"\n      >\n        <div class=\"text-center\">\n          <svg class=\"mx-auto h-10 w-10 text-gray-400 group-hover:text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n          </svg>\n          <p class=\"mt-2 text-sm font-medium text-gray-700 group-hover:text-blue-700\">Upload File</p>\n          <p class=\"text-xs text-gray-500\">Browse {{ multiple ? 'files' : 'file' }}</p>\n        </div>\n        <input\n          ref=\"fileInput\"\n          type=\"file\"\n          :accept=\"accept\"\n          :multiple=\"multiple\"\n          @change=\"handleFileSelect\"\n          class=\"hidden\"\n        />\n      </button>\n    </div>\n\n    <!-- Upload Progress -->\n    <div v-if=\"uploading\" class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n      <div class=\"flex items-center space-x-3\">\n        <svg class=\"animate-spin h-5 w-5 text-blue-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n          <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n        <div class=\"flex-1\">\n          <p class=\"text-sm font-medium text-blue-900\">Uploading...</p>\n          <div class=\"mt-1 w-full bg-blue-200 rounded-full h-2\">\n            <div class=\"bg-blue-600 h-2 rounded-full transition-all\" :style=\"{ width: uploadProgress + '%' }\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Uploaded Files List -->\n    <div v-if=\"files.length > 0\" class=\"space-y-2\">\n      <TransitionGroup name=\"list\">\n        <div\n          v-for=\"(file, index) in files\"\n          :key=\"file.name + index\"\n          class=\"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg group hover:bg-green-100 transition-colors\"\n        >\n          <div class=\"flex items-center space-x-3 flex-1 min-w-0\">\n            <!-- File Icon/Preview -->\n            <div class=\"flex-shrink-0\">\n              <div v-if=\"file.preview\" class=\"w-12 h-12 rounded-lg overflow-hidden border-2 border-green-300\">\n                <img :src=\"file.preview\" :alt=\"file.name\" class=\"w-full h-full object-cover\" />\n              </div>\n              <div v-else class=\"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center\">\n                <svg class=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n              </div>\n            </div>\n\n            <!-- File Info -->\n            <div class=\"flex-1 min-w-0\">\n              <p class=\"text-sm font-medium text-gray-900 truncate\">{{ file.name }}</p>\n              <p class=\"text-xs text-gray-500\">{{ formatFileSize(file.size) }}</p>\n            </div>\n\n            <!-- Remove Button -->\n            <button\n              @click=\"removeFile(index)\"\n              type=\"button\"\n              class=\"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-lg transition-colors\"\n              title=\"Remove\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </TransitionGroup>\n    </div>\n\n    <!-- Camera Modal -->\n    <Teleport to=\"body\">\n      <div\n        v-if=\"showCamera\"\n        class=\"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4\"\n        @click.self=\"closeCamera\"\n      >\n        <div class=\"bg-white rounded-2xl max-w-2xl w-full overflow-hidden shadow-2xl\">\n          <!-- Camera Header -->\n          <div class=\"bg-gray-900 px-6 py-4 flex items-center justify-between\">\n            <h3 class=\"text-white font-semibold text-lg\">Take Photo</h3>\n            <button\n              @click=\"closeCamera\"\n              class=\"text-gray-400 hover:text-white transition-colors\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <!-- Camera View -->\n          <div class=\"relative bg-black aspect-video\">\n            <video\n              v-if=\"!capturedImage\"\n              ref=\"videoElement\"\n              autoplay\n              playsinline\n              class=\"w-full h-full object-contain\"\n            ></video>\n            <img\n              v-else\n              :src=\"capturedImage\"\n              alt=\"Captured\"\n              class=\"w-full h-full object-contain\"\n            />\n\n            <!-- Camera Overlay Grid -->\n            <div v-if=\"!capturedImage\" class=\"absolute inset-0 pointer-events-none\">\n              <div class=\"w-full h-full grid grid-cols-3 grid-rows-3\">\n                <div v-for=\"i in 9\" :key=\"i\" class=\"border border-white/20\"></div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Camera Controls -->\n          <div class=\"bg-gray-900 px-6 py-6\">\n            <div v-if=\"!capturedImage\" class=\"flex items-center justify-center space-x-6\">\n              <button\n                @click=\"capturePhoto\"\n                type=\"button\"\n                class=\"w-16 h-16 rounded-full bg-white border-4 border-gray-700 hover:border-blue-500 transition-all flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105\"\n              >\n                <div class=\"w-12 h-12 rounded-full bg-blue-500\"></div>\n              </button>\n            </div>\n            <div v-else class=\"flex items-center justify-center space-x-4\">\n              <button\n                @click=\"retakePhoto\"\n                type=\"button\"\n                class=\"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\n              >\n                Retake\n              </button>\n              <button\n                @click=\"usePhoto\"\n                type=\"button\"\n                class=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\n              >\n                Use Photo\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  label: {\n    type: String,\n    required: true\n  },\n  helpText: {\n    type: String,\n    default: ''\n  },\n  modelValue: {\n    type: Array,\n    default: () => []\n  },\n  accept: {\n    type: String,\n    default: 'image/*,.pdf'\n  },\n  multiple: {\n    type: Boolean,\n    default: false\n  },\n  required: {\n    type: Boolean,\n    default: false\n  },\n  allowCamera: {\n    type: Boolean,\n    default: true\n  },\n  maxSize: {\n    type: Number,\n    default: 20 * 1024 * 1024 // 20MB\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'upload'])\n\nconst fileInput = ref(null)\nconst videoElement = ref(null)\nconst showCamera = ref(false)\nconst capturedImage = ref(null)\nconst mediaStream = ref(null)\nconst uploading = ref(false)\nconst uploadProgress = ref(0)\n\nconst files = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Trigger file input\nconst triggerFileInput = () => {\n  fileInput.value?.click()\n}\n\n// Handle file selection\nconst handleFileSelect = async (event) => {\n  const selectedFiles = Array.from(event.target.files)\n  await processFiles(selectedFiles)\n  event.target.value = '' // Reset input\n}\n\n// Process files\nconst processFiles = async (selectedFiles) => {\n  const validFiles = []\n\n  for (const file of selectedFiles) {\n    // Validate file size\n    if (file.size > props.maxSize) {\n      alert(`File ${file.name} exceeds maximum size of ${formatFileSize(props.maxSize)}`)\n      continue\n    }\n\n    // Create preview for images\n    let preview = null\n    if (file.type.startsWith('image/')) {\n      preview = await createImagePreview(file)\n    }\n\n    validFiles.push({\n      file: file,\n      name: file.name,\n      size: file.size,\n      type: file.type,\n      preview: preview,\n      uploadDate: new Date().toISOString()\n    })\n  }\n\n  if (validFiles.length > 0) {\n    const newFiles = props.multiple ? [...files.value, ...validFiles] : validFiles\n    emit('update:modelValue', newFiles)\n\n    // Auto-upload files\n    await uploadFiles(validFiles)\n  }\n}\n\n// Create image preview\nconst createImagePreview = (file) => {\n  return new Promise((resolve) => {\n    const reader = new FileReader()\n    reader.onload = (e) => resolve(e.target.result)\n    reader.onerror = () => resolve(null)\n    reader.readAsDataURL(file)\n  })\n}\n\n// Upload files\nconst uploadFiles = async (filesToUpload) => {\n  uploading.value = true\n  uploadProgress.value = 0\n\n  try {\n    for (let i = 0; i < filesToUpload.length; i++) {\n      const fileData = filesToUpload[i]\n\n      // Simulate upload progress\n      const progressInterval = setInterval(() => {\n        uploadProgress.value = Math.min(uploadProgress.value + 10, 90)\n      }, 100)\n\n      // Emit upload event (parent component should handle actual upload)\n      await new Promise((resolve) => {\n        emit('upload', fileData, resolve)\n      })\n\n      clearInterval(progressInterval)\n      uploadProgress.value = ((i + 1) / filesToUpload.length) * 100\n    }\n  } catch (error) {\n    console.error('Upload error:', error)\n    alert('Failed to upload files. Please try again.')\n  } finally {\n    uploading.value = false\n    uploadProgress.value = 0\n  }\n}\n\n// Remove file\nconst removeFile = (index) => {\n  const newFiles = [...files.value]\n  newFiles.splice(index, 1)\n  emit('update:modelValue', newFiles)\n}\n\n// Open camera\nconst openCamera = async () => {\n  try {\n    showCamera.value = true\n    await startCamera()\n  } catch (error) {\n    console.error('Camera error:', error)\n    alert('Unable to access camera. Please check permissions or upload a file instead.')\n    showCamera.value = false\n  }\n}\n\n// Start camera\nconst startCamera = async () => {\n  try {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: { facingMode: 'environment', width: { ideal: 1920 }, height: { ideal: 1080 } },\n      audio: false\n    })\n\n    mediaStream.value = stream\n\n    if (videoElement.value) {\n      videoElement.value.srcObject = stream\n    }\n  } catch (error) {\n    throw error\n  }\n}\n\n// Capture photo\nconst capturePhoto = () => {\n  const video = videoElement.value\n  const canvas = document.createElement('canvas')\n  canvas.width = video.videoWidth\n  canvas.height = video.videoHeight\n\n  const context = canvas.getContext('2d')\n  context.drawImage(video, 0, 0, canvas.width, canvas.height)\n\n  capturedImage.value = canvas.toDataURL('image/jpeg', 0.9)\n}\n\n// Retake photo\nconst retakePhoto = () => {\n  capturedImage.value = null\n}\n\n// Use photo\nconst usePhoto = async () => {\n  if (!capturedImage.value) return\n\n  // Convert base64 to File\n  const blob = await (await fetch(capturedImage.value)).blob()\n  const file = new File([blob], `photo-${Date.now()}.jpg`, { type: 'image/jpeg' })\n\n  await processFiles([file])\n  closeCamera()\n}\n\n// Close camera\nconst closeCamera = () => {\n  if (mediaStream.value) {\n    mediaStream.value.getTracks().forEach(track => track.stop())\n    mediaStream.value = null\n  }\n  capturedImage.value = null\n  showCamera.value = false\n}\n\n// Format file size\nconst formatFileSize = (bytes) => {\n  if (bytes === 0) return '0 Bytes'\n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i]\n}\n</script>\n\n<style scoped>\n.list-enter-active,\n.list-leave-active {\n  transition: all 0.3s ease;\n}\n.list-enter-from {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n.list-leave-to {\n  opacity: 0;\n  transform: translateX(30px);\n}\n</style>\n","<template>\n  <div class=\"space-y-4\">\n    <div class=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200\">\n      <div class=\"flex items-start\">\n        <svg class=\"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"/>\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"/>\n        </svg>\n        <div class=\"flex-1\">\n          <h3 class=\"text-sm font-semibold text-blue-900\">Residential Address</h3>\n          <p class=\"text-xs text-blue-700 mt-0.5\">Please provide your complete address details</p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <!-- Province -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Province\n          <span v-if=\"required\" class=\"text-red-500\">*</span>\n        </label>\n        <div class=\"relative\">\n          <select\n            v-model=\"localAddress.province\"\n            @change=\"onProvinceChange\"\n            :required=\"required\"\n            class=\"block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localAddress.province}\"\n          >\n            <option value=\"\">Select Province</option>\n            <option v-for=\"province in provinces\" :key=\"province\" :value=\"province\">\n              {{ province }}\n            </option>\n          </select>\n          <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/>\n            </svg>\n          </div>\n        </div>\n      </div>\n\n      <!-- Municipality/City -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Municipality/City\n          <span v-if=\"required\" class=\"text-red-500\">*</span>\n        </label>\n        <div class=\"relative\">\n          <select\n            v-model=\"localAddress.municipality\"\n            @change=\"onMunicipalityChange\"\n            :required=\"required\"\n            :disabled=\"!localAddress.province\"\n            class=\"block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localAddress.municipality}\"\n          >\n            <option value=\"\">Select Municipality/City</option>\n            <option v-for=\"municipality in municipalities\" :key=\"municipality\" :value=\"municipality\">\n              {{ municipality }}\n            </option>\n          </select>\n          <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"!localAddress.province\" class=\"mt-1 text-xs text-gray-500\">Select province first</p>\n      </div>\n\n      <!-- Barangay -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Barangay\n          <span v-if=\"required\" class=\"text-red-500\">*</span>\n        </label>\n        <div class=\"relative\">\n          <select\n            v-model=\"localAddress.barangay\"\n            @change=\"updateAddress\"\n            :required=\"required\"\n            :disabled=\"!localAddress.municipality\"\n            class=\"block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localAddress.barangay}\"\n          >\n            <option value=\"\">Select Barangay</option>\n            <option v-for=\"barangay in barangays\" :key=\"barangay\" :value=\"barangay\">\n              {{ barangay }}\n            </option>\n          </select>\n          <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"!localAddress.municipality\" class=\"mt-1 text-xs text-gray-500\">Select municipality first</p>\n      </div>\n\n      <!-- Street Address -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Street / House No.\n          <span v-if=\"required\" class=\"text-red-500\">*</span>\n        </label>\n        <input\n          v-model=\"localAddress.street\"\n          @input=\"updateAddress\"\n          type=\"text\"\n          :required=\"required\"\n          placeholder=\"e.g., 123 Main Street, Blk 5 Lot 10\"\n          class=\"block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n          :class=\"{'border-blue-500 ring-2 ring-blue-100': localAddress.street}\"\n        />\n      </div>\n\n      <!-- ZIP Code -->\n      <div class=\"md:col-span-2\">\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          ZIP Code\n          <span class=\"text-gray-500 text-xs font-normal\">(Optional)</span>\n        </label>\n        <input\n          v-model=\"localAddress.zipCode\"\n          @input=\"updateAddress\"\n          type=\"text\"\n          placeholder=\"e.g., 1630\"\n          maxlength=\"4\"\n          class=\"block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all max-w-xs\"\n        />\n      </div>\n    </div>\n\n    <!-- Address Preview -->\n    <div v-if=\"fullAddress\" class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n      <div class=\"flex items-start\">\n        <svg class=\"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"/>\n        </svg>\n        <div class=\"flex-1\">\n          <p class=\"text-sm font-medium text-green-900\">Complete Address</p>\n          <p class=\"text-sm text-green-700 mt-1\">{{ fullAddress }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: [String, Object],\n    default: ''\n  },\n  required: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localAddress = ref({\n  street: '',\n  barangay: '',\n  municipality: '',\n  province: '',\n  zipCode: ''\n})\n\n// Philippines provinces (major ones - can be expanded)\nconst provinces = [\n  'Metro Manila',\n  'Rizal',\n  'Cavite',\n  'Laguna',\n  'Bulacan',\n  'Pampanga',\n  'Batangas',\n  'Quezon',\n  'Cebu',\n  'Davao del Sur',\n  'Benguet',\n  'Iloilo',\n  'Negros Occidental',\n  'Pangasinan',\n  'Albay'\n]\n\n// Municipalities by province (can be expanded with API)\nconst municipalitiesData = {\n  'Metro Manila': [\n    'Manila City',\n    'Quezon City',\n    'Makati City',\n    'Pasig City',\n    'Taguig City',\n    'Mandaluyong City',\n    'Pasay City',\n    'Paraaque City',\n    'Las Pias City',\n    'Muntinlupa City',\n    'Caloocan City',\n    'Malabon City',\n    'Navotas City',\n    'Valenzuela City',\n    'Marikina City',\n    'San Juan City',\n    'Pateros'\n  ],\n  'Rizal': [\n    'Taytay',\n    'Antipolo City',\n    'Cainta',\n    'Binangonan',\n    'San Mateo',\n    'Rodriguez (Montalban)',\n    'Angono',\n    'Cardona',\n    'Jalajala',\n    'Morong',\n    'Pililla',\n    'Tanay',\n    'Teresa',\n    'Baras'\n  ],\n  'Cavite': [\n    'Bacoor City',\n    'Cavite City',\n    'Dasmarinas City',\n    'Imus City',\n    'Tagaytay City',\n    'Trece Martires City',\n    'General Trias',\n    'Silang',\n    'Kawit',\n    'Noveleta',\n    'Rosario',\n    'Tanza',\n    'Naic'\n  ]\n}\n\n// Barangays by municipality (sample data - Taytay as example)\nconst barangaysData = {\n  'Taytay': [\n    'Dolores',\n    'San Juan',\n    'Muzon',\n    'San Isidro',\n    'Sta. Ana',\n    'Poblacion',\n    'Bagumbayan',\n    'Bamban',\n    'Calumpang',\n    'Dalig',\n    'Dolores',\n    'San Juan',\n    'Muzon'\n  ],\n  'Manila City': [\n    'Ermita',\n    'Intramuros',\n    'Malate',\n    'Paco',\n    'Pandacan',\n    'Port Area',\n    'Quiapo',\n    'Sampaloc',\n    'San Andres',\n    'San Miguel',\n    'San Nicolas',\n    'Santa Ana',\n    'Santa Cruz',\n    'Santa Mesa',\n    'Tondo'\n  ],\n  'Quezon City': [\n    'Bagong Pag-asa',\n    'Bahay Toro',\n    'Batasan Hills',\n    'Commonwealth',\n    'Cubao',\n    'Fairview',\n    'Kamuning',\n    'Novaliches',\n    'Project 4',\n    'Tatalon',\n    'Teacher\\'s Village'\n  ]\n}\n\nconst municipalities = computed(() => {\n  if (!localAddress.value.province) return []\n  return municipalitiesData[localAddress.value.province] || []\n})\n\nconst barangays = computed(() => {\n  if (!localAddress.value.municipality) return []\n  return barangaysData[localAddress.value.municipality] || ['Other - Please specify in Street field']\n})\n\nconst fullAddress = computed(() => {\n  const parts = []\n  if (localAddress.value.street) parts.push(localAddress.value.street)\n  if (localAddress.value.barangay) parts.push(`Brgy. ${localAddress.value.barangay}`)\n  if (localAddress.value.municipality) parts.push(localAddress.value.municipality)\n  if (localAddress.value.province) parts.push(localAddress.value.province)\n  if (localAddress.value.zipCode) parts.push(localAddress.value.zipCode)\n\n  return parts.length > 0 ? parts.join(', ') : ''\n})\n\nconst onProvinceChange = () => {\n  // Reset dependent fields when province changes\n  localAddress.value.municipality = ''\n  localAddress.value.barangay = ''\n  updateAddress()\n}\n\nconst onMunicipalityChange = () => {\n  // Reset barangay when municipality changes\n  localAddress.value.barangay = ''\n  updateAddress()\n}\n\nconst updateAddress = () => {\n  emit('update:modelValue', fullAddress.value)\n}\n\n// Initialize from modelValue if provided\nonMounted(() => {\n  if (props.modelValue) {\n    if (typeof props.modelValue === 'string') {\n      // Try to parse string address\n      // This is a simple parser - can be enhanced\n      const parts = props.modelValue.split(',').map(p => p.trim())\n      if (parts.length >= 3) {\n        localAddress.value.street = parts[0] || ''\n        localAddress.value.barangay = parts[1]?.replace('Brgy. ', '') || ''\n        localAddress.value.municipality = parts[2] || ''\n        localAddress.value.province = parts[3] || ''\n        localAddress.value.zipCode = parts[4] || ''\n      }\n    } else if (typeof props.modelValue === 'object') {\n      localAddress.value = { ...localAddress.value, ...props.modelValue }\n    }\n  }\n})\n\n// Watch for external changes\nwatch(() => props.modelValue, (newVal) => {\n  if (newVal && typeof newVal === 'object') {\n    localAddress.value = { ...localAddress.value, ...newVal }\n  }\n})\n</script>\n","<template>\n  <div class=\"inline-block relative group\">\n    <slot name=\"trigger\">\n      <button\n        type=\"button\"\n        class=\"inline-flex items-center justify-center w-5 h-5 ml-1 text-gray-400 hover:text-blue-600 rounded-full hover:bg-blue-50 transition-colors cursor-help\"\n        @mouseenter=\"showTooltip = true\"\n        @mouseleave=\"showTooltip = false\"\n      >\n        <svg class=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z\" clip-rule=\"evenodd\"/>\n        </svg>\n      </button>\n    </slot>\n\n    <Transition name=\"tooltip\">\n      <div\n        v-if=\"showTooltip\"\n        class=\"absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg pointer-events-none\"\n        :class=\"tooltipPositionClass\"\n        style=\"max-width: 300px; white-space: normal;\"\n      >\n        <slot>{{ text }}</slot>\n        <div class=\"tooltip-arrow\" :class=\"arrowPositionClass\"></div>\n      </div>\n    </Transition>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  text: {\n    type: String,\n    default: ''\n  },\n  position: {\n    type: String,\n    default: 'top',\n    validator: (value) => ['top', 'bottom', 'left', 'right'].includes(value)\n  }\n})\n\nconst showTooltip = ref(false)\n\nconst tooltipPositionClass = computed(() => {\n  switch (props.position) {\n    case 'top':\n      return 'bottom-full left-1/2 -translate-x-1/2 mb-2'\n    case 'bottom':\n      return 'top-full left-1/2 -translate-x-1/2 mt-2'\n    case 'left':\n      return 'right-full top-1/2 -translate-y-1/2 mr-2'\n    case 'right':\n      return 'left-full top-1/2 -translate-y-1/2 ml-2'\n    default:\n      return 'bottom-full left-1/2 -translate-x-1/2 mb-2'\n  }\n})\n\nconst arrowPositionClass = computed(() => {\n  switch (props.position) {\n    case 'top':\n      return 'tooltip-arrow-bottom'\n    case 'bottom':\n      return 'tooltip-arrow-top'\n    case 'left':\n      return 'tooltip-arrow-right'\n    case 'right':\n      return 'tooltip-arrow-left'\n    default:\n      return 'tooltip-arrow-bottom'\n  }\n})\n</script>\n\n<style scoped>\n.tooltip-enter-active,\n.tooltip-leave-active {\n  transition: opacity 0.2s ease;\n}\n\n.tooltip-enter-from,\n.tooltip-leave-to {\n  opacity: 0;\n}\n\n.tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-style: solid;\n}\n\n.tooltip-arrow-bottom {\n  bottom: -4px;\n  left: 50%;\n  transform: translateX(-50%);\n  border-width: 4px 4px 0 4px;\n  border-color: #1f2937 transparent transparent transparent;\n}\n\n.tooltip-arrow-top {\n  top: -4px;\n  left: 50%;\n  transform: translateX(-50%);\n  border-width: 0 4px 4px 4px;\n  border-color: transparent transparent #1f2937 transparent;\n}\n\n.tooltip-arrow-right {\n  right: -4px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-width: 4px 0 4px 4px;\n  border-color: transparent transparent transparent #1f2937;\n}\n\n.tooltip-arrow-left {\n  left: -4px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-width: 4px 4px 4px 0;\n  border-color: transparent #1f2937 transparent transparent;\n}\n</style>\n","<template>\n  <div class=\"space-y-6\">\n    <div v-for=\"field in visibleFields\" :key=\"field.field_name\" class=\"field-wrapper\">\n      <!-- Philippines Address Input (special handling for address fields) -->\n      <div v-if=\"isAddressField(field)\" class=\"form-group\">\n        <PhilippinesAddressInput\n          v-model=\"localData[field.field_name]\"\n          :required=\"field.is_required\"\n        />\n      </div>\n\n      <!-- Data / Text Input -->\n      <div v-else-if=\"field.field_type === 'Data'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n          <span>{{ field.field_label }}</span>\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n          <Tooltip v-if=\"field.help_text || field.description\" :text=\"field.help_text || field.description\" />\n        </label>\n        <div class=\"relative\">\n          <input\n            :id=\"field.field_name\"\n            type=\"text\"\n            v-model=\"localData[field.field_name]\"\n            :required=\"field.is_required\"\n            class=\"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localData[field.field_name]}\"\n            :placeholder=\"getPlaceholder(field)\"\n          />\n          <div v-if=\"getFieldIcon(field)\" class=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\">\n            <span v-html=\"getFieldIcon(field)\" class=\"text-gray-400\"></span>\n          </div>\n        </div>\n        <p v-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Select Dropdown -->\n      <div v-else-if=\"field.field_type === 'Select'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n          <span>{{ field.field_label }}</span>\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n          <Tooltip v-if=\"field.help_text || field.description\" :text=\"field.help_text || field.description\" />\n        </label>\n        <div class=\"relative\">\n          <select\n            :id=\"field.field_name\"\n            v-model=\"localData[field.field_name]\"\n            :required=\"field.is_required\"\n            class=\"block w-full pl-4 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all appearance-none bg-white\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localData[field.field_name]}\"\n          >\n            <option value=\"\">Select {{ field.field_label }}</option>\n            <option\n              v-for=\"option in getSelectOptions(field.options)\"\n              :key=\"option\"\n              :value=\"option\"\n            >\n              {{ option }}\n            </option>\n          </select>\n          <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Checkbox -->\n      <div v-else-if=\"field.field_type === 'Check'\" class=\"form-group\">\n        <div class=\"flex items-start p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors\">\n          <div class=\"flex items-center h-5\">\n            <input\n              :id=\"field.field_name\"\n              type=\"checkbox\"\n              v-model=\"localData[field.field_name]\"\n              :required=\"field.is_required\"\n              class=\"focus:ring-blue-500 h-5 w-5 text-blue-600 border-gray-300 rounded cursor-pointer\"\n            />\n          </div>\n          <div class=\"ml-3 text-sm\">\n            <label :for=\"field.field_name\" class=\"font-medium text-gray-700 cursor-pointer\">\n              {{ field.field_label }}\n              <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n            </label>\n            <p v-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Text / Textarea -->\n      <div v-else-if=\"field.field_type === 'Text'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          {{ field.field_label }}\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n        </label>\n        <textarea\n          :id=\"field.field_name\"\n          v-model=\"localData[field.field_name]\"\n          :required=\"field.is_required\"\n          rows=\"4\"\n          class=\"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-y\"\n          :class=\"{'border-blue-500 ring-2 ring-blue-100': localData[field.field_name]}\"\n          :placeholder=\"getPlaceholder(field)\"\n        ></textarea>\n        <p v-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Date -->\n      <div v-else-if=\"field.field_type === 'Date'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n          <span>{{ field.field_label }}</span>\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n          <Tooltip v-if=\"field.help_text || field.description\" :text=\"field.help_text || field.description\" />\n        </label>\n        <div class=\"relative\">\n          <input\n            :id=\"field.field_name\"\n            type=\"date\"\n            v-model=\"localData[field.field_name]\"\n            :required=\"field.is_required\"\n            class=\"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localData[field.field_name]}\"\n          />\n          <div class=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Integer -->\n      <div v-else-if=\"field.field_type === 'Int'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n          <span>{{ field.field_label }}</span>\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n          <Tooltip v-if=\"field.help_text || field.description\" :text=\"field.help_text || field.description\" />\n        </label>\n        <div class=\"relative\">\n          <input\n            :id=\"field.field_name\"\n            type=\"number\"\n            v-model.number=\"localData[field.field_name]\"\n            :required=\"field.is_required\"\n            step=\"1\"\n            class=\"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localData[field.field_name]}\"\n            :placeholder=\"getPlaceholder(field)\"\n          />\n          <div class=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Float -->\n      <div v-else-if=\"field.field_type === 'Float'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          {{ field.field_label }}\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n        </label>\n        <div class=\"relative\">\n          <input\n            :id=\"field.field_name\"\n            type=\"number\"\n            v-model.number=\"localData[field.field_name]\"\n            :required=\"field.is_required\"\n            step=\"0.01\"\n            class=\"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localData[field.field_name]}\"\n            :placeholder=\"getPlaceholder(field)\"\n          />\n          <div class=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Currency -->\n      <div v-else-if=\"field.field_type === 'Currency'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          {{ field.field_label }}\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n        </label>\n        <div class=\"relative\">\n          <div class=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\n            <span class=\"text-gray-500 text-base font-medium\"></span>\n          </div>\n          <input\n            :id=\"field.field_name\"\n            type=\"number\"\n            v-model.number=\"localData[field.field_name]\"\n            :required=\"field.is_required\"\n            step=\"0.01\"\n            class=\"block w-full pl-10 pr-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localData[field.field_name]}\"\n            placeholder=\"0.00\"\n          />\n        </div>\n        <p v-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Attach / File Upload with Camera Support -->\n      <div v-else-if=\"field.field_type === 'Attach' || field.field_type === 'Attach Image'\" class=\"form-group\">\n        <CameraUpload\n          :label=\"field.field_label\"\n          :required=\"field.is_required\"\n          :accept=\"field.field_type === 'Attach Image' ? 'image/*' : '*'\"\n          :multiple=\"false\"\n          v-model=\"localData[field.field_name]\"\n        />\n      </div>\n\n      <!-- Unsupported field type -->\n      <div v-else class=\"form-group\">\n        <div class=\"text-sm text-gray-500 italic\">\n          Field type \"{{ field.field_type }}\" not yet supported for {{ field.field_label }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, watch } from 'vue'\nimport CameraUpload from './CameraUpload.vue'\nimport PhilippinesAddressInput from './PhilippinesAddressInput.vue'\nimport Tooltip from './Tooltip.vue'\n\nconst props = defineProps({\n  fields: {\n    type: Array,\n    required: true\n  },\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Filter visible fields based on depends_on logic\nconst visibleFields = computed(() => {\n  return props.fields.filter(field => {\n    if (!field.depends_on) return true\n\n    // TODO: Implement proper conditional logic evaluation\n    // For now, show all fields\n    return true\n  })\n})\n\n// Check if field is an address field\nconst isAddressField = (field) => {\n  // Only trigger for the actual address collection section, not individual address parts\n  // Check if this is part of an address section AND is the primary address field\n  const parentSection = field.parent_section_code?.toLowerCase() || ''\n  const addressSections = ['address', 'residential_address', 'permanent_address', 'property_address', 'current_address', 'home_address']\n\n  // Only show Philippines/Address component for the main address field in an address section\n  // This prevents duplication where both the section and individual fields trigger the component\n  return addressSections.includes(parentSection) &&\n         field.field_name === 'address_line' &&\n         field.field_type === 'Data'\n}\n\n// Get placeholder text for field\nconst getPlaceholder = (field) => {\n  if (field.placeholder) return field.placeholder\n\n  // Generate smart placeholders based on field name/label\n  const label = field.field_label?.toLowerCase() || ''\n\n  if (label.includes('name')) return 'e.g., Juan Dela Cruz'\n  if (label.includes('email')) return 'e.g., juan@example.com'\n  if (label.includes('phone') || label.includes('mobile') || label.includes('contact')) {\n    return 'e.g., 0917 123 4567'\n  }\n  if (label.includes('age')) return 'e.g., 25'\n  if (label.includes('occupation')) return 'e.g., Teacher'\n  if (label.includes('income') || label.includes('salary')) return 'e.g., 15000'\n\n  return `Enter ${field.field_label}`\n}\n\n// Get icon for field based on type\nconst getFieldIcon = (field) => {\n  const label = field.field_label?.toLowerCase() || ''\n\n  if (label.includes('email')) {\n    return '<svg class=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207\"/></svg>'\n  }\n  if (label.includes('phone') || label.includes('mobile') || label.includes('contact')) {\n    return '<svg class=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"/></svg>'\n  }\n  if (label.includes('name')) {\n    return '<svg class=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"/></svg>'\n  }\n\n  return null\n}\n\n// Parse select options from newline-separated string\nconst getSelectOptions = (optionsString) => {\n  if (!optionsString) return []\n  return optionsString.split('\\n').map(opt => opt.trim()).filter(Boolean)\n}\n\n// Handle file upload\nconst handleFileUpload = (event, fieldName) => {\n  const file = event.target.files[0]\n  if (file) {\n    // TODO: Implement actual file upload to Frappe\n    // For now, just store the filename\n    localData.value[fieldName] = file.name\n  }\n}\n\n// Set default values on mount\nwatch(() => props.fields, (fields) => {\n  fields.forEach(field => {\n    if (field.default_value && !localData.value[field.field_name]) {\n      if (field.default_value === 'Today' && field.field_type === 'Date') {\n        localData.value[field.field_name] = new Date().toISOString().split('T')[0]\n      } else {\n        localData.value[field.field_name] = field.default_value\n      }\n    }\n  })\n}, { immediate: true })\n</script>\n\n<style scoped>\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\ninput:focus, select:focus, textarea:focus {\n  outline: none;\n}\n\n/* Remove default number input spinners for cleaner look */\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type=\"number\"] {\n  -moz-appearance: textfield;\n}\n\n/* Ensure date input has proper cursor */\ninput[type=\"date\"] {\n  cursor: pointer;\n}\n\n/* Smooth transitions */\ninput, select, textarea {\n  transition: all 0.2s ease-in-out;\n}\n</style>\n","<template>\n  <div class=\"dynamic-step max-w-4xl mx-auto\">\n    <!-- Step Header with gradient background -->\n    <div class=\"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200\">\n      <div class=\"flex items-start\">\n        <div class=\"flex-shrink-0\">\n          <svg class=\"h-8 w-8 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"/>\n          </svg>\n        </div>\n        <div class=\"ml-4 flex-1\">\n          <h2 class=\"text-2xl font-bold text-blue-900\">{{ stepConfig.step_title }}</h2>\n          <p v-if=\"stepDescription\" class=\"mt-2 text-sm text-blue-700\">{{ stepDescription }}</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Render sections -->\n    <div class=\"space-y-6\">\n      <div v-for=\"section in visibleSections\" :key=\"section.section_code\" class=\"section\">\n        <!-- Section Header with improved styling -->\n        <div class=\"mb-4 pb-3 border-b-2 border-gray-200\">\n          <div class=\"flex items-center\">\n            <div class=\"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3\">\n              <svg class=\"h-5 w-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"/>\n              </svg>\n            </div>\n            <div>\n              <h3 class=\"text-lg font-semibold text-gray-900\">\n                {{ section.section_title }}\n                <span v-if=\"section.is_required\" class=\"text-red-500 ml-1\">*</span>\n              </h3>\n              <p v-if=\"section.section_description\" class=\"text-sm text-gray-600 mt-0.5\">\n                {{ section.section_description }}\n              </p>\n            </div>\n          </div>\n          <div v-if=\"section.is_required\" class=\"text-xs text-gray-500 mt-2 ml-11\">\n            All fields marked with <span class=\"text-red-500\">*</span> are required\n          </div>\n        </div>\n\n        <!-- Section Content -->\n        <div class=\"section-content\">\n          <!-- Tab-based sections -->\n          <TabGroup v-if=\"section.section_type === 'Tab'\">\n            <TabList class=\"flex space-x-1 rounded-xl bg-blue-900/20 p-1 mb-4\">\n              <Tab\n                v-for=\"(tab, idx) in getTabsForSection(section)\"\n                :key=\"idx\"\n                v-slot=\"{ selected }\"\n                class=\"w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700 ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2\"\n                :class=\"selected ? 'bg-white shadow' : 'text-blue-100 hover:bg-white/[0.12] hover:text-white'\"\n              >\n                {{ tab }}\n              </Tab>\n            </TabList>\n            <TabPanels>\n              <TabPanel v-for=\"(tab, idx) in getTabsForSection(section)\" :key=\"idx\">\n                <DynamicFieldRenderer\n                  :fields=\"section.fields\"\n                  v-model=\"localData\"\n                />\n              </TabPanel>\n            </TabPanels>\n          </TabGroup>\n\n          <!-- Accordion-based sections -->\n          <Disclosure v-else-if=\"section.section_type === 'Accordion'\" v-slot=\"{ open }\">\n            <DisclosureButton\n              class=\"flex w-full justify-between rounded-lg bg-blue-50 px-4 py-3 text-left text-sm font-medium text-blue-900 hover:bg-blue-100 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75 mb-2\"\n            >\n              <span>{{ section.section_title }}</span>\n              <ChevronUpIcon\n                :class=\"open ? 'rotate-180 transform' : ''\"\n                class=\"h-5 w-5 text-blue-500\"\n              />\n            </DisclosureButton>\n            <DisclosurePanel class=\"px-4 pt-4 pb-2 text-sm text-gray-500\">\n              <DynamicFieldRenderer\n                :fields=\"section.fields\"\n                v-model=\"localData\"\n              />\n            </DisclosurePanel>\n          </Disclosure>\n\n          <!-- Regular section (default) with enhanced card styling -->\n          <div v-else class=\"bg-white p-6 rounded-lg border-2 border-gray-200 shadow-sm hover:shadow-md transition-shadow\">\n            <DynamicFieldRenderer\n              :fields=\"section.fields\"\n              v-model=\"localData\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport { TabGroup, TabList, Tab, TabPanels, TabPanel, Disclosure, DisclosureButton, DisclosurePanel } from '@headlessui/vue'\nimport { ChevronUpIcon } from '@heroicons/vue/20/solid'\nimport DynamicFieldRenderer from './DynamicFieldRenderer.vue'\n\nconst props = defineProps({\n  stepConfig: {\n    type: Object,\n    required: true\n  },\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  stepDescription: {\n    type: String,\n    default: ''\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Filter visible sections based on depends_on logic\nconst visibleSections = computed(() => {\n  if (!props.stepConfig.sections) return []\n\n  return props.stepConfig.sections.filter(section => {\n    if (!section.is_enabled) return false\n\n    if (section.depends_on) {\n      // TODO: Implement proper conditional logic evaluation\n      // For now, show all enabled sections\n      return true\n    }\n\n    return true\n  })\n})\n\n// Get tabs for tab-based sections (placeholder)\nconst getTabsForSection = (section) => {\n  // For now, return single tab\n  // In future, could parse section structure for multiple tabs\n  return [section.section_title]\n}\n\n// Initialize default values\nwatch(() => props.stepConfig, (config) => {\n  if (!config.sections) return\n\n  config.sections.forEach(section => {\n    section.fields.forEach(field => {\n      if (field.default_value && !localData.value[field.field_name]) {\n        if (field.default_value === 'Today' && field.field_type === 'Date') {\n          localData.value[field.field_name] = new Date().toISOString().split('T')[0]\n        } else {\n          localData.value[field.field_name] = field.default_value\n        }\n      }\n    })\n  })\n}, { immediate: true, deep: true })\n</script>\n\n<style scoped>\n.dynamic-step {\n  max-width: 100%;\n}\n\n.section {\n  margin-bottom: 2rem;\n  scroll-margin-top: 100px; /* For smooth scrolling with fixed headers */\n}\n\n.section-content {\n  margin-top: 1rem;\n}\n\n/* Enhanced tab styling */\n:deep(.tab-active) {\n  background: white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n/* Smooth transitions for all interactive elements */\n.section-content > div {\n  transition: all 0.2s ease-in-out;\n}\n</style>\n","<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <header class=\"bg-white shadow-sm border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex items-center justify-between py-4\">\n          <div class=\"flex items-center space-x-3\">\n            <button @click=\"goBack\" class=\"text-gray-500 hover:text-gray-700\">\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n              </svg>\n            </button>\n            <div>\n              <h1 class=\"text-xl font-bold text-gray-900\">New Application</h1>\n              <p class=\"text-sm text-gray-500\">Step {{ currentStep + 1 }} of {{ totalSteps }}</p>\n            </div>\n          </div>\n          <div class=\"flex items-center gap-2\">\n            <Button @click=\"saveDraft(false)\" variant=\"outline\" theme=\"gray\" :loading=\"savingDraft\">\n              Save Draft\n            </Button>\n            <Button @click=\"saveDraft(true)\" variant=\"outline\" theme=\"gray\" :loading=\"savingDraft\">\n              Save Draft & Close\n            </Button>\n          </div>\n        </div>\n      </div>\n    </header>\n\n    <!-- Progress Bar -->\n    <div class=\"bg-white border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n        <div class=\"flex items-center justify-between mb-2\">\n          <div\n            v-for=\"(step, index) in steps\"\n            :key=\"index\"\n            class=\"flex items-center\"\n            :class=\"{ 'flex-1': index < steps.length - 1 }\"\n          >\n            <div class=\"flex flex-col items-center\">\n              <div\n                class=\"w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm\"\n                :class=\"getStepClass(index)\"\n              >\n                <span v-if=\"index < currentStep\"></span>\n                <span v-else>{{ index + 1 }}</span>\n              </div>\n              <span\n                class=\"text-xs mt-2 text-center\"\n                :class=\"index === currentStep ? 'text-blue-600 font-medium' : 'text-gray-500'\"\n              >\n                {{ step.title }}\n              </span>\n            </div>\n            <div\n              v-if=\"index < steps.length - 1\"\n              class=\"flex-1 h-1 mx-4 rounded\"\n              :class=\"index < currentStep ? 'bg-blue-600' : 'bg-gray-200'\"\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n<main class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n        <!-- Council Selection Step (only shown if not locked) -->\n        <div v-if=\"getCurrentStepTitle() === 'Council'\">\n            <Step1CouncilSelection\n                v-model=\"formData\"\n                @council-change=\"onCouncilChange\"\n            />\n        </div>\n\n        <!-- Request Type Selection Step (only shown if not locked/pre-selected) -->\n        <div v-if=\"getCurrentStepTitle() === 'Type'\">\n            <Step2RequestType\n                v-model=\"formData\"\n                :request-types=\"requestTypes\"\n                @type-selected=\"selectRequestType\"\n            />\n        </div>\n\n        <!-- Process Info Step (always shown after council/type) -->\n        <div v-if=\"getCurrentStepTitle() === 'Process Info'\">\n            <Step3ProcessInfo\n                :request-type-details=\"selectedRequestTypeDetails\"\n                :council-name=\"getCouncilName()\"\n                v-model=\"formData\"\n                @continue=\"handleNext\"\n            />\n        </div>\n\n        <!-- Dynamic Steps (for configured request types like Philippines SPISC) -->\n        <DynamicStepRenderer\n          v-if=\"usesConfigurableSteps && getCurrentStepConfig() && getCurrentStepTitle() !== 'Process Info' && getCurrentStepTitle() !== 'Review'\"\n          :stepConfig=\"getCurrentStepConfig()\"\n          v-model=\"formData\"\n        />\n\n        <!-- FRD Step 1: Applicant & Proposal Details (consolidates old Steps 4,5,6) -->\n        <Step1ApplicantProposal\n          v-if=\"getCurrentStepTitle() === 'Applicant & Proposal' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n          :user-profile=\"userProfile\"\n          :properties=\"properties\"\n        />\n\n        <!-- FRD Step 2: Natural Hazards Assessment -->\n        <Step2NaturalHazards\n          v-if=\"getCurrentStepTitle() === 'Natural Hazards' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n\n        <!-- FRD Step 3: NES Assessment -->\n        <Step3NESAssessment\n          v-if=\"getCurrentStepTitle() === 'NES Assessment' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n\n        <!-- FRD Step 4: Boundary Approvals & Affected Parties -->\n        <Step4Approvals\n          v-if=\"getCurrentStepTitle() === 'Approvals' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n\n        <!-- FRD Step 5: Consultation with Other Parties -->\n        <Step5Consultation\n          v-if=\"getCurrentStepTitle() === 'Consultation' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n\n        <!-- FRD Step 6: Plans & Documents Upload -->\n        <Step6Documents\n          v-if=\"getCurrentStepTitle() === 'Documents' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n\n        <!-- FRD Step 7: Assessment of Environmental Effects (AEE) -->\n        <Step7AEE\n          v-if=\"getCurrentStepTitle() === 'AEE' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n\n        <!-- FRD Step 9: Declaration & Submission -->\n        <Step9Submission\n          v-if=\"getCurrentStepTitle() === 'Submission' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n\n        <!-- Review Step (Final Step for all request types) -->\n        <div v-if=\"getCurrentStepTitle() === 'Review'\">\n            <Step17Review\n                v-model=\"formData\"\n                :council-name=\"getCouncilName()\"\n                :request-type-name=\"getRequestTypeName()\"\n                :application-fee=\"getApplicationFee()\"\n                :is-resource-consent=\"isResourceConsent\"\n                :step-configs=\"stepConfigs\"\n                :uses-configurable-steps=\"usesConfigurableSteps\"\n                :request-type-details=\"selectedRequestTypeDetails\"\n            />\n        </div>\n    </div>\n\n    <!-- Navigation Buttons -->\n        <div class=\"mt-8 flex justify-between items-center\">\n            <button\n                v-if=\"currentStep > 0\"\n                @click=\"currentStep--\"\n                class=\"px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors flex items-center\"\n            >\n                <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n                </svg>\n                Previous\n            </button>\n            <div v-else></div>\n\n            <!-- Next button: Show on all steps except the last step -->\n            <button\n                type=\"button\"\n                v-if=\"currentStep < steps.length - 1\"\n                @click=\"handleNext\"\n                :disabled=\"!canProceed\"\n                class=\"px-6 py-3 font-medium rounded-lg transition-colors flex items-center\"\n                :class=\"canProceed\n                    ? 'bg-blue-600 text-white hover:bg-blue-700'\n                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'\"\n            >\n                Next\n                <svg class=\"w-5 h-5 ml-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                </svg>\n            </button>\n\n            <!-- Submit button: Only show on the last step -->\n            <button\n                v-else\n                @click=\"handleSubmit\"\n                :disabled=\"!canSubmit || submitting\"\n                class=\"px-6 py-3 font-medium rounded-lg transition-colors\"\n                :class=\"canSubmit && !submitting\n                    ? 'bg-green-600 text-white hover:bg-green-700'\n                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'\"\n            >\n                <span v-if=\"submitting\">Submitting...</span>\n                <span v-else>Submit Application</span>\n            </button>\n        </div>\n</main>\n\n    <!-- Affected Party Modal -->\n    <div\n      v-if=\"showAffectedPartyModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelAffectedParty\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingPartyIndex !== null ? 'Edit' : 'Add' }} Affected Party\n            </h3>\n            <button\n              @click=\"cancelAffectedParty\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Party Name * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Party Name <span class=\"text-red-500\">*</span>\n            </label>\n            <input\n              v-model=\"affectedPartyForm.party_name\"\n              type=\"text\"\n              required\n              placeholder=\"e.g., John Smith\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n\n          <!-- Relationship * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Relationship <span class=\"text-red-500\">*</span>\n            </label>\n            <select\n              v-model=\"affectedPartyForm.relationship\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select relationship</option>\n              <option value=\"Adjacent Property Owner\">Adjacent Property Owner</option>\n              <option value=\"Neighbor\">Neighbor</option>\n              <option value=\"Iwi\">Iwi</option>\n              <option value=\"Infrastructure Provider\">Infrastructure Provider</option>\n              <option value=\"Other\">Other</option>\n            </select>\n          </div>\n\n          <!-- Contact Information -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Contact Information</h4>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Email</label>\n                <input\n                  v-model=\"affectedPartyForm.email\"\n                  type=\"email\"\n                  placeholder=\"email@example.com\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Phone</label>\n                <input\n                  v-model=\"affectedPartyForm.phone\"\n                  type=\"tel\"\n                  placeholder=\"021 123 4567\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Addresses -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Addresses</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Property Address</label>\n                <textarea\n                  v-model=\"affectedPartyForm.property_address\"\n                  rows=\"2\"\n                  placeholder=\"123 Main Street, Suburb, City\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">The property address affected by this proposal</p>\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Postal Address</label>\n                <textarea\n                  v-model=\"affectedPartyForm.postal_address\"\n                  rows=\"2\"\n                  placeholder=\"PO Box 123, Suburb, City\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">For correspondence (if different from property address)</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Approval -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Written Approval</h4>\n\n            <div class=\"flex items-start mb-3\">\n              <input\n                type=\"checkbox\"\n                v-model=\"affectedPartyForm.approval_obtained\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <label class=\"ml-3 text-sm text-gray-700\">\n                Written approval obtained from this party\n              </label>\n            </div>\n\n            <div v-if=\"affectedPartyForm.approval_obtained\" class=\"ml-7 space-y-3\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Date</label>\n                <input\n                  v-model=\"affectedPartyForm.approval_date\"\n                  type=\"date\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Document</label>\n                <input\n                  type=\"file\"\n                  @change=\"handleApprovalDocumentUpload\"\n                  accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Upload written approval (PDF, Word, or image, max 10MB)</p>\n                <div v-if=\"affectedPartyForm.approval_document\" class=\"mt-2 text-xs text-green-600 flex items-center gap-1\">\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  <span>{{ typeof affectedPartyForm.approval_document === 'object' ? affectedPartyForm.approval_document.name : 'Document attached' }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Comments -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Comments</label>\n            <textarea\n              v-model=\"affectedPartyForm.comments\"\n              rows=\"3\"\n              placeholder=\"Any additional notes about this party or their concerns...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n            ></textarea>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelAffectedParty\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveAffectedParty\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingPartyIndex !== null ? 'Update' : 'Add' }} Party\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Specialist Report Modal -->\n    <div\n      v-if=\"showSpecialistReportModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelSpecialistReport\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingReportIndex !== null ? 'Edit' : 'Add' }} Specialist Report\n            </h3>\n            <button\n              @click=\"cancelSpecialistReport\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Report Type * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Report Type <span class=\"text-red-500\">*</span>\n            </label>\n            <select\n              v-model=\"specialistReportForm.report_type\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select report type</option>\n              <option value=\"Traffic Impact Assessment\">Traffic Impact Assessment</option>\n              <option value=\"Acoustic Assessment\">Acoustic Assessment</option>\n              <option value=\"Geotechnical Report\">Geotechnical Report</option>\n              <option value=\"Ecological Assessment\">Ecological Assessment</option>\n              <option value=\"Archaeological Assessment\">Archaeological Assessment</option>\n              <option value=\"Landscape Assessment\">Landscape Assessment</option>\n              <option value=\"Contaminated Land Assessment\">Contaminated Land Assessment</option>\n              <option value=\"Flood Risk Assessment\">Flood Risk Assessment</option>\n              <option value=\"Other\">Other</option>\n            </select>\n          </div>\n\n          <!-- Consultant Details -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Consultant Details</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Specialist Name <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"specialistReportForm.specialist_name\"\n                  type=\"text\"\n                  required\n                  placeholder=\"e.g., Dr. Jane Smith\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Company/Organization</label>\n                <input\n                  v-model=\"specialistReportForm.specialist_company\"\n                  type=\"text\"\n                  placeholder=\"e.g., ABC Consultants Ltd\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Report Details -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Report Details</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Report Date <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"specialistReportForm.report_date\"\n                  type=\"date\"\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Date the report was prepared or finalized</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Document <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"file\"\n                  @change=\"handleReportDocumentUpload\"\n                  accept=\".pdf,.doc,.docx\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Upload the specialist report (PDF or Word, max 10MB)</p>\n                <div v-if=\"specialistReportForm.document\" class=\"mt-2 text-xs text-green-600 flex items-center gap-1\">\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  <span>{{ typeof specialistReportForm.document === 'object' ? specialistReportForm.document.name : 'Document attached' }}</span>\n                </div>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Summary</label>\n                <textarea\n                  v-model=\"specialistReportForm.summary\"\n                  rows=\"4\"\n                  placeholder=\"Brief summary of key findings and recommendations...\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">Optional: Provide a brief summary of the report's key findings</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelSpecialistReport\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveSpecialistReport\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingReportIndex !== null ? 'Update' : 'Add' }} Report\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- HAIL Activity Modal -->\n    <div\n      v-if=\"showHAILModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelHAIL\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingHAILIndex !== null ? 'Edit' : 'Add' }} HAIL Activity\n            </h3>\n            <button\n              @click=\"cancelHAIL\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Activity Description -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Activity Description <span class=\"text-red-500\">*</span>\n            </label>\n            <textarea\n              v-model=\"hailForm.activity_description\"\n              rows=\"3\"\n              required\n              placeholder=\"Describe the HAIL activity (e.g., Former service station, industrial site)...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n\n          <!-- HAIL Category -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              HAIL Category\n            </label>\n            <select\n              v-model=\"hailForm.hail_category\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select HAIL category</option>\n              <option value=\"Category A - Petroleum/Oil Storage\">Category A - Petroleum/Oil Storage</option>\n              <option value=\"Category B - Asbestos Products\">Category B - Asbestos Products</option>\n              <option value=\"Category C - Chemicals\">Category C - Chemicals</option>\n              <option value=\"Category D - Engineering Workshops\">Category D - Engineering Workshops</option>\n              <option value=\"Category E - Gasworks/Coke Works\">Category E - Gasworks/Coke Works</option>\n              <option value=\"Category F - Horticulture\">Category F - Horticulture</option>\n              <option value=\"Category G - Landfills/Waste Disposal\">Category G - Landfills/Waste Disposal</option>\n              <option value=\"Category H - Metal Treatment\">Category H - Metal Treatment</option>\n              <option value=\"Category I - Timber Treatment\">Category I - Timber Treatment</option>\n            </select>\n          </div>\n\n          <!-- Status Checkboxes -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Activity Status</h4>\n            <div class=\"grid md:grid-cols-3 gap-3\">\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-current\"\n                  v-model=\"hailForm.currently_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-current\" class=\"ml-2 text-sm text-gray-700\">Currently Being Undertaken</label>\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-previous\"\n                  v-model=\"hailForm.previously_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-previous\" class=\"ml-2 text-sm text-gray-700\">Previously Undertaken</label>\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-likely\"\n                  v-model=\"hailForm.likely_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-likely\" class=\"ml-2 text-sm text-gray-700\">Likely to Have Been Undertaken</label>\n              </div>\n            </div>\n          </div>\n\n          <!-- Investigation -->\n          <div class=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              id=\"hail-investigated\"\n              v-model=\"hailForm.preliminary_investigation_done\"\n              class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <label for=\"hail-investigated\" class=\"ml-2 text-sm text-gray-700\">Preliminary Investigation Completed</label>\n          </div>\n\n          <!-- Proposed Activities -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Proposed Activities</h4>\n            <div class=\"space-y-2 p-3 border border-gray-200 rounded bg-gray-50\">\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-fuel\"\n                  v-model=\"proposedActivities.fuel\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-fuel\" class=\"ml-2 text-sm text-gray-700\">Removing or replacing fuel storage system</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-disturb\"\n                  v-model=\"proposedActivities.disturb\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-disturb\" class=\"ml-2 text-sm text-gray-700\">Disturbing soil</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-sample\"\n                  v-model=\"proposedActivities.sample\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-sample\" class=\"ml-2 text-sm text-gray-700\">Sampling soil</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-subdivide\"\n                  v-model=\"proposedActivities.subdivide\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-subdivide\" class=\"ml-2 text-sm text-gray-700\">Subdividing land</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-change\"\n                  v-model=\"proposedActivities.change\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-change\" class=\"ml-2 text-sm text-gray-700\">Changing use of land</label>\n              </div>\n            </div>\n            <p class=\"text-xs text-gray-500 mt-2\">Select all proposed activities that apply</p>\n          </div>\n\n          <!-- Notes -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Additional Notes</label>\n            <textarea\n              v-model=\"hailForm.notes\"\n              rows=\"3\"\n              placeholder=\"Additional notes about the HAIL activity...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelHAIL\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveHAIL\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingHAILIndex !== null ? 'Update' : 'Add' }} Activity\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Proposed Conditions Modal -->\n    <div\n      v-if=\"showConditionsModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"showConditionsModal = false\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              Browse Condition Templates\n            </h3>\n            <button\n              @click=\"showConditionsModal = false\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"flex-1 overflow-y-auto\">\n          <div class=\"grid md:grid-cols-3 gap-6 p-6\">\n            <!-- Left Column: Template Browser (2/3 width) -->\n            <div class=\"md:col-span-2 space-y-4\">\n              <!-- Category Filter -->\n              <div class=\"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200\">\n                <label class=\"text-sm font-medium text-gray-700\">Filter by Category:</label>\n                <select\n                  v-model=\"selectedCategory\"\n                  class=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option v-for=\"category in conditionCategories\" :key=\"category\" :value=\"category\">\n                    {{ category }}\n                  </option>\n                </select>\n                <span class=\"ml-auto text-xs text-gray-500\">\n                  {{ filteredConditionTemplates.length }} template{{ filteredConditionTemplates.length !== 1 ? 's' : '' }}\n                </span>\n              </div>\n\n              <!-- Loading State -->\n              <div v-if=\"loadingTemplates\" class=\"text-center py-12\">\n                <svg class=\"animate-spin h-8 w-8 mx-auto text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                  <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                <p class=\"mt-2 text-sm text-gray-500\">Loading templates...</p>\n              </div>\n\n              <!-- Templates List -->\n              <div v-else-if=\"filteredConditionTemplates.length > 0\" class=\"space-y-3\">\n                <div\n                  v-for=\"template in filteredConditionTemplates\"\n                  :key=\"template.name\"\n                  class=\"p-4 bg-white border border-gray-300 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all\"\n                >\n                  <div class=\"flex items-start justify-between mb-2\">\n                    <div class=\"flex-1\">\n                      <div class=\"flex items-center gap-2 mb-1\">\n                        <h4 class=\"text-sm font-semibold text-gray-900\">{{ template.template_name }}</h4>\n                        <span v-if=\"template.condition_code\" class=\"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-mono rounded\">\n                          {{ template.condition_code }}\n                        </span>\n                      </div>\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <span class=\"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded\">\n                          {{ template.condition_category }}\n                        </span>\n                        <span v-if=\"template.timing\" class=\"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded\">\n                          {{ template.timing }}\n                        </span>\n                        <span v-if=\"template.monitoring_required\" class=\"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded\">\n                          Monitoring Required\n                        </span>\n                      </div>\n                      <div class=\"text-xs text-gray-700 line-clamp-3\" v-html=\"template.condition_text\"></div>\n                    </div>\n                    <button\n                      @click=\"addConditionFromTemplate(template)\"\n                      type=\"button\"\n                      class=\"ml-3 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 flex items-center gap-1 flex-shrink-0\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                      Add\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <!-- No Templates -->\n              <div v-else class=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <svg class=\"w-12 h-12 mx-auto text-gray-400 mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <p class=\"text-sm text-gray-500\">No templates found for selected category</p>\n              </div>\n\n              <!-- Add Custom Condition Button -->\n              <div class=\"pt-4 border-t border-gray-200\">\n                <button\n                  @click=\"addCustomCondition\"\n                  type=\"button\"\n                  class=\"w-full px-4 py-2.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                  </svg>\n                  Add Custom Condition\n                </button>\n              </div>\n            </div>\n\n            <!-- Right Column: Selected Conditions (1/3 width) -->\n            <div class=\"md:col-span-1 bg-gray-50 rounded-lg p-4 border border-gray-200\">\n              <h4 class=\"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between\">\n                <span>Selected Conditions</span>\n                <span class=\"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full\">\n                  {{ formData.proposed_conditions.length }}\n                </span>\n              </h4>\n\n              <div v-if=\"formData.proposed_conditions.length > 0\" class=\"space-y-2 max-h-[600px] overflow-y-auto\">\n                <div\n                  v-for=\"(condition, index) in formData.proposed_conditions\"\n                  :key=\"index\"\n                  class=\"p-2 bg-white rounded border border-gray-300 text-xs\"\n                >\n                  <div class=\"flex items-start justify-between mb-1\">\n                    <div class=\"flex items-center gap-1\">\n                      <span class=\"px-1.5 py-0.5 bg-gray-100 text-gray-700 font-mono text-xs rounded\">\n                        {{ condition.condition_number }}\n                      </span>\n                      <span class=\"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded\">\n                        {{ condition.condition_category }}\n                      </span>\n                    </div>\n                    <button\n                      @click=\"removeCondition(index)\"\n                      type=\"button\"\n                      class=\"text-red-600 hover:bg-red-50 rounded p-0.5\"\n                      title=\"Remove\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n                  <div class=\"text-gray-700 line-clamp-2\" v-html=\"condition.condition_text\"></div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-8 text-xs text-gray-500\">\n                <svg class=\"w-8 h-8 mx-auto text-gray-300 mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                No conditions selected\n              </div>\n            </div>\n          </div>\n\n          <!-- Custom Condition Editor (appears when editing) -->\n          <div v-if=\"editingConditionIndex !== null || conditionForm.condition_text || conditionForm.condition_category\" class=\"border-t border-gray-200 bg-gray-50 p-6\">\n            <h4 class=\"text-sm font-semibold text-gray-900 mb-4\">\n              {{ editingConditionIndex !== null ? 'Edit' : 'Add Custom' }} Condition\n            </h4>\n\n            <div class=\"grid md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                  Condition Number <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"conditionForm.condition_number\"\n                  type=\"text\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"e.g., 1\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                  Category <span class=\"text-red-500\">*</span>\n                </label>\n                <select\n                  v-model=\"conditionForm.condition_category\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select category</option>\n                  <option v-for=\"category in conditionCategories.filter(c => c !== 'All')\" :key=\"category\" :value=\"category\">\n                    {{ category }}\n                  </option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                Condition Text <span class=\"text-red-500\">*</span>\n              </label>\n              <textarea\n                v-model=\"conditionForm.condition_text\"\n                rows=\"4\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter the condition text...\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">Notes</label>\n              <textarea\n                v-model=\"conditionForm.compliance_notes\"\n                rows=\"2\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Optional notes about this condition...\"\n              ></textarea>\n            </div>\n\n            <div class=\"flex justify-end gap-2 mt-4\">\n              <button\n                @click=\"cancelConditionEdit\"\n                type=\"button\"\n                class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                @click=\"saveCondition\"\n                type=\"button\"\n                class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n              >\n                {{ editingConditionIndex !== null ? 'Update' : 'Add' }} Condition\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end\">\n          <button\n            @click=\"showConditionsModal = false\"\n            type=\"button\"\n            class=\"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            Done\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { createResource, Input, Button, call } from 'frappe-ui'\nimport CouncilSelector from '../components/CouncilSelector.vue'\nimport Step1CouncilSelection from '../components/request-steps/Step1CouncilSelection.vue'\nimport Step2RequestType from '../components/request-steps/Step2RequestType.vue'\nimport Step3ProcessInfo from '../components/request-steps/Step3ProcessInfo.vue'\n// FRD-compliant step components\nimport Step1ApplicantProposal from '../components/request-steps/Step1ApplicantProposal.vue'\nimport Step2NaturalHazards from '../components/request-steps/Step2NaturalHazards.vue'\nimport Step3NESAssessment from '../components/request-steps/Step3NESAssessment.vue'\nimport Step4Approvals from '../components/request-steps/Step4Approvals.vue'\nimport Step5Consultation from '../components/request-steps/Step5Consultation.vue'\nimport Step6Documents from '../components/request-steps/Step6Documents.vue'\nimport Step7AEE from '../components/request-steps/Step7AEE.vue'\nimport Step9Submission from '../components/request-steps/Step9Submission.vue'\nimport Step17Review from '../components/request-steps/Step17Review.vue'\nimport DynamicStepRenderer from '../components/DynamicStepRenderer.vue'\nimport { useCouncilStore } from '../stores/councilStore'\nimport { session } from '../data/session'\nimport { useFormValidation } from '../composables/useFormValidation'\nimport { useStepNavigation } from '../composables/useStepNavigation'\nimport { formatFileSize } from '../utils/fileHelpers'\n\nconst router = useRouter()\nconst route = useRoute()\nconst councilStore = useCouncilStore()\n\n// User profile data\nconst userProfile = ref(null)\nconst loadingProfile = ref(false)\nconst userCompanyAccount = ref(null)\n\n// Form state\nconst currentStep = ref(0)\nconst totalSteps = computed(() => steps.value.length)\nconst savingDraft = ref(false)\nconst submitting = ref(false)\nconst uploadedFiles = ref([])\nconst fileInput = ref(null)\nconst bookingMeeting = ref(false)\nconst requestingMeeting = ref(false)\nconst showActivityStatusHelp = ref(false)\n\n// Dynamic step configuration\nconst stepConfigs = ref([])\nconst loadingStepConfigs = ref(false)\nconst usesConfigurableSteps = ref(false)\n\n// Available consent types (managed configuration)\nconst availableConsentTypes = [\n  'Land Use',\n  'Subdivision',\n  'Discharge Permit',\n  'Water Permit',\n  'Coastal Permit'\n]\n\nconst steps = computed(() => {\n  const baseSteps = []\n\n  // Debug logging\n  console.log('[Steps] Computing steps...')\n  console.log('[Steps] councilStore.isCouncilLocked:', councilStore.isCouncilLocked)\n  console.log('[Steps] route.query.type:', route.query.type)\n  console.log('[Steps] formData.value.request_type:', formData.value.request_type)\n\n  // Step 1: Council Selection (SKIP if council is locked)\n  if (!councilStore.isCouncilLocked) {\n    baseSteps.push({ title: 'Council', number: baseSteps.length + 1 })\n    console.log('[Steps] Added Council step')\n  } else {\n    console.log('[Steps] Skipped Council step (locked)')\n  }\n\n  // Step 2: Request Type (SKIP if council is locked AND type is pre-selected from URL)\n  const hasPreselectedType = route.query.type || (route.query.locked === 'true' && formData.value.request_type)\n  const skipTypeStep = councilStore.isCouncilLocked && hasPreselectedType\n  console.log('[Steps] hasPreselectedType:', hasPreselectedType)\n  console.log('[Steps] skipTypeStep:', skipTypeStep)\n\n  if (!skipTypeStep) {\n    baseSteps.push({ title: 'Type', number: baseSteps.length + 1 })\n    console.log('[Steps] Added Type step')\n  } else {\n    console.log('[Steps] Skipped Type step (locked + preselected)')\n  }\n\n  // Step 3: Process Info (always included)\n  baseSteps.push({ title: 'Process Info', number: baseSteps.length + 1 })\n  console.log('[Steps] Added Process Info step')\n\n  // If using configurable steps, add them dynamically\n  if (usesConfigurableSteps.value && stepConfigs.value.length > 0) {\n    stepConfigs.value.forEach((config, index) => {\n      baseSteps.push({\n        title: config.step_title,\n        number: baseSteps.length + 1,\n        code: config.step_code,\n        config: config,\n        isDynamic: true\n      })\n    })\n  }\n  // Add RC-specific steps (FRD 9-step structure) - backward compatibility\n  else if (isResourceConsent.value) {\n    baseSteps.push({ title: 'Applicant & Proposal', number: baseSteps.length + 1 })  // FRD Step 1\n    baseSteps.push({ title: 'Natural Hazards', number: baseSteps.length + 1 })        // FRD Step 2\n    baseSteps.push({ title: 'NES Assessment', number: baseSteps.length + 1 })         // FRD Step 3\n    baseSteps.push({ title: 'Approvals', number: baseSteps.length + 1 })              // FRD Step 4\n    baseSteps.push({ title: 'Consultation', number: baseSteps.length + 1 })           // FRD Step 5\n    baseSteps.push({ title: 'Documents', number: baseSteps.length + 1 })              // FRD Step 6\n    baseSteps.push({ title: 'AEE', number: baseSteps.length + 1 })                    // FRD Step 7\n    baseSteps.push({ title: 'Submission', number: baseSteps.length + 1 })             // FRD Step 9\n  }\n\n  // Review step is always last\n  baseSteps.push({ title: 'Review', number: baseSteps.length + 1 })\n\n  console.log('[Steps] Final steps:', baseSteps.map(s => s.title).join('  '))\n  console.log('[Steps] Total steps:', baseSteps.length)\n\n  return baseSteps\n})\n\n// Form data\nconst formData = ref({\n  council: '',\n  request_type: '',\n  request_category: '', // Store the category of the selected request type\n  property: '',\n  property_address: '',\n  legal_description: '',\n  valuation_reference: '',\n  parcel_id: '',\n  ct_reference: '',\n  property_coordinates: '',\n  hazard_data: null,\n  zone: '',\n  activity_zone: '',\n  brief_description: '',\n  detailed_description: '',\n  estimated_value: null,\n  proposed_start_date: '',\n  terms_accepted: false,\n\n  // Required applicant fields\n  applicant_phone: '',\n  applicant_type: '',\n\n  // Company submission fields\n  submitted_on_behalf_of: 'Myself', // 'Myself' or 'Company'\n  company_account: null,\n\n  // Agent workflow fields\n  acting_on_behalf: false,\n  applicant_name: '',\n  applicant_email: '',\n\n  // Resource Consent specific fields\n  consent_types: [], // Array of consent type objects\n  activity_status: '',\n  applicant_reference_number: '',\n  delivery_preference: '',\n  pim_reference: '',\n\n  // Proposal Details\n  building_height: null,\n  building_floor_area: null,\n  earthworks_volume: null,\n  earthworks_vertical_alteration: null,\n  vehicle_movements_daily: null,\n  parking_spaces_provided: null,\n  hours_of_operation: '',\n  consent_term_requested: '',\n\n  // Site & Environment\n  site_topography: '',\n  existing_vegetation_description: '',\n  watercourses_present: false,\n  watercourse_description: '',\n  existing_infrastructure: '',\n  contamination_status_hail: '',\n\n  // Permitted Boundary Activity (RMA s87BA)\n  boundary_description: '',\n  boundary_activity_description: '',\n  boundary_owner_approval_obtained: false,\n  boundary_approval_date: '',\n  boundary_approval_document: null,\n\n  // Natural Hazards (structured)\n  natural_hazards: [],\n\n  // NES Assessments\n  nes_assessments: [],\n\n  // HAIL Activities\n  hail_activities: [],\n\n  // Confidential Information (RMA s42)\n  confidential_information_claimed: false,\n  confidential_information_reason: '',\n\n  // AEE Fields\n  assessment_of_effects: '',\n  effects_on_people: '',\n  physical_effects: '',\n  earthworks_effects: '',\n  discharge_contaminants_effects: '',\n  ecosystem_effects: '',\n  hazard_risk_assessment: '',\n  cultural_effects: '',\n\n  // NEW: Structured AEE fields + document upload\n  aee_document: null,\n  aee_activity_description: '',\n  aee_activity_status: '',\n  aee_existing_environment: '',\n  aee_site_area: null,\n  aee_current_use: '',\n  aee_zoning: '',\n  aee_overlays: '',\n  aee_designations: '',\n  aee_part2_assessment: '',\n\n  // NEW: AEE child tables\n  aee_plan_rules: [],\n  aee_compliance_standards: [],\n  aee_written_approvals: [],\n  aee_proposed_conditions: [],\n  aee_consultation_summary: '',\n\n  // Note: planning_assessment and rma_part2_assessment are back-office fields\n  // completed by council officers, not applicants\n  alternatives_considered: '',\n  mitigation_proposed: '',\n\n  // NEW: Owner/Occupier fields\n  applicant_is_not_owner: false,\n  owner_name: '',\n  owner_email: '',\n  owner_phone: '',\n  owner_address: '',\n\n  // NEW: Certificate of Title document\n  certificate_of_title_document: null,\n\n  // NEW: Statutory declarations\n  declaration_rma_compliance: false,\n  declaration_public_information: false,\n  declaration_authorized: false,\n\n  // NEW: Invoicing details\n  invoice_to: 'Applicant',\n  invoice_name: '',\n  invoice_email: '',\n  invoice_address: '',\n  purchase_order_number: '',\n\n  // NEW: Transfer deposit (RC-specific)\n  transfer_deposit_required: false,\n  transfer_deposit_consent_number: '',\n\n  // Affected Parties\n  affected_parties: [], // Array of affected parties\n  written_approvals_obtained: 0, // Count of approvals obtained\n\n  // Iwi Consultation\n  iwi_consultation_undertaken: false,\n  iwi_consulted: '',\n  cultural_impact_assessment: null, // CIA file upload\n  iwi_response_summary: '', // Summary of iwi consultation responses\n\n  // Specialist Reports & Conditions\n  specialist_reports: [], // Array of specialist reports\n  proposed_conditions: [], // Array of proposed conditions\n})\n\n// Property Search Autocomplete State\nconst propertySearchQuery = ref('')\nconst propertySearchResults = ref([])\nconst propertySearchLoading = ref(false)\nconst showPropertyDropdown = ref(false)\nlet propertySearchTimeout = null\n\n// Selected Request Type Details (with council-specific info)\nconst selectedRequestTypeDetails = ref(null)\n\n// Natural Hazards - RMA s104\nconst naturalHazardTypes = [\n  'Earthquake',\n  'Fire',\n  'Tsunami',\n  'Erosion',\n  'Volcanic and Geothermal',\n  'Flood',\n  'Sedimentation',\n  'Subsidence',\n  'Wind',\n  'Landslip',\n  'Drought'\n]\n\nconst selectedHazards = ref([])\nconst hazardData = ref({})\n\n// Get or create hazard data object\nconst getHazardData = (hazard) => {\n  if (!hazardData.value[hazard]) {\n    hazardData.value[hazard] = {\n      hazard_type: hazard,\n      present: true,\n      risk_level: '',\n      assessment_notes: '',\n      mitigation_required: false\n    }\n  }\n  return hazardData.value[hazard]\n}\n\n// Watch selectedHazards to update formData.natural_hazards\nwatch(selectedHazards, (newHazards) => {\n  formData.value.natural_hazards = newHazards.map(hazard => getHazardData(hazard))\n}, { deep: true })\n\n// Watch hazardData to update formData.natural_hazards\nwatch(hazardData, () => {\n  formData.value.natural_hazards = selectedHazards.value.map(hazard => getHazardData(hazard))\n}, { deep: true })\n\n// National Environmental Standards - Must match backend RC NES Item options exactly\nconst nesTypes = [\n  { value: 'Contaminated Soil (HAIL)', label: 'NES for Assessing and Managing Contaminants in Soil (HAIL)' },\n  { value: 'Air Quality', label: 'NES for Air Quality' },\n  { value: 'Drinking Water', label: 'NES for Sources of Human Drinking Water' },\n  { value: 'Freshwater', label: 'NES for Freshwater Management' },\n  { value: 'Plantation Forestry', label: 'NES for Plantation Forestry' },\n  { value: 'Electricity Transmission', label: 'NES for Electricity Transmission Activities' },\n  { value: 'Telecommunications', label: 'NES for Telecommunication Facilities' },\n  { value: 'Other', label: 'Other NES' }\n]\n\nconst nesData = ref({})\n\n// Get or create NES data object\nconst getNESData = (nesType) => {\n  if (!nesData.value[nesType]) {\n    nesData.value[nesType] = {\n      nes_type: nesType,\n      applies: false,\n      description: '',\n      compliance_notes: ''\n    }\n  }\n  return nesData.value[nesType]\n}\n\n// NES Document Upload Handling\nconst handleNESDocumentUpload = (event, nesType) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 10 * 1024 * 1024) {\n    alert('File size must be less than 10MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'image/jpeg', 'image/jpg', 'image/png']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF, Word documents, and images are allowed')\n    event.target.value = ''\n    return\n  }\n\n  // Add to attachments with NES category\n  formData.value.attachments.push({\n    document_category: 'NES Documentation',\n    document_type: 'NES Assessment',\n    file: file,\n    description: `NES Assessment for ${nesType}`,\n    nes_type: nesType  // Track which NES this belongs to\n  })\n\n  event.target.value = ''\n}\n\nconst getNESDocuments = (nesType) => {\n  return formData.value.attachments.filter(att =>\n    att.document_category === 'NES Documentation' && att.nes_type === nesType\n  )\n}\n\nconst removeNESDocument = (nesType, docIdx) => {\n  const nesDocuments = getNESDocuments(nesType)\n  const docToRemove = nesDocuments[docIdx]\n  const globalIdx = formData.value.attachments.indexOf(docToRemove)\n  if (globalIdx > -1) {\n    formData.value.attachments.splice(globalIdx, 1)\n  }\n}\n\n// Certificate of Title Upload Handler\nconst handleCTUpload = (event) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 10 * 1024 * 1024) {\n    alert('File size must be less than 10MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF and image files (JPG, PNG) are allowed for Certificate of Title')\n    event.target.value = ''\n    return\n  }\n\n  // Store the file reference\n  formData.value.certificate_of_title_document = file\n\n  event.target.value = ''\n}\n\n// AEE Document Upload Handler\nconst handleAEEUpload = (event) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 20 * 1024 * 1024) {\n    alert('File size must be less than 20MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF and Word documents (.doc, .docx) are allowed for AEE documents')\n    event.target.value = ''\n    return\n  }\n\n  // Store the file reference\n  formData.value.aee_document = file\n\n  event.target.value = ''\n}\n\n// Watch nesData to update formData.nes_assessments\nwatch(nesData, () => {\n  formData.value.nes_assessments = nesTypes\n    .filter(nes => getNESData(nes.value).applies)\n    .map(nes => getNESData(nes.value))\n}, { deep: true })\n\n// Computed: Check if NES Soils is selected (for conditional HAIL section)\nconst isNESSoilsSelected = computed(() => {\n  return formData.value.nes_assessments.some(\n    nes => nes.nes_type && nes.nes_type.includes('HAIL')\n  )\n})\n\n// HAIL Activities Management\n// HAIL Activity Modal\nconst showHAILModal = ref(false)\nconst editingHAILIndex = ref(null)\nconst hailForm = ref({\n  activity_description: '',\n  hail_category: '',\n  currently_undertaken: false,\n  previously_undertaken: false,\n  likely_undertaken: false,\n  preliminary_investigation_done: false,\n  proposed_activities: [],\n  notes: ''\n})\nconst proposedActivities = ref({\n  fuel: false,\n  disturb: false,\n  sample: false,\n  subdivide: false,\n  change: false\n})\n\nconst addHAILActivity = () => {\n  // Reset form\n  hailForm.value = {\n    activity_description: '',\n    hail_category: '',\n    currently_undertaken: false,\n    previously_undertaken: false,\n    likely_undertaken: false,\n    preliminary_investigation_done: false,\n    proposed_activities: [],\n    notes: ''\n  }\n  proposedActivities.value = {\n    fuel: false,\n    disturb: false,\n    sample: false,\n    subdivide: false,\n    change: false\n  }\n  editingHAILIndex.value = null\n  showHAILModal.value = true\n}\n\nconst editHAILActivity = (index) => {\n  const hail = formData.value.hail_activities[index]\n  hailForm.value = { ...hail }\n\n  // Convert proposed_activities array to checkbox states\n  proposedActivities.value = {\n    fuel: hail.proposed_activities?.some(a => a.activity_type === 'Removing or replacing fuel storage system') || false,\n    disturb: hail.proposed_activities?.some(a => a.activity_type === 'Disturbing soil') || false,\n    sample: hail.proposed_activities?.some(a => a.activity_type === 'Sampling soil') || false,\n    subdivide: hail.proposed_activities?.some(a => a.activity_type === 'Subdividing land') || false,\n    change: hail.proposed_activities?.some(a => a.activity_type === 'Changing use of land') || false\n  }\n\n  editingHAILIndex.value = index\n  showHAILModal.value = true\n}\n\nconst saveHAIL = () => {\n  if (!hailForm.value.activity_description) {\n    alert('Please enter activity description')\n    return\n  }\n\n  // Convert checkbox states back to proposed_activities array\n  const proposedActivitiesArray = []\n  if (proposedActivities.value.fuel) proposedActivitiesArray.push({ activity_type: 'Removing or replacing fuel storage system' })\n  if (proposedActivities.value.disturb) proposedActivitiesArray.push({ activity_type: 'Disturbing soil' })\n  if (proposedActivities.value.sample) proposedActivitiesArray.push({ activity_type: 'Sampling soil' })\n  if (proposedActivities.value.subdivide) proposedActivitiesArray.push({ activity_type: 'Subdividing land' })\n  if (proposedActivities.value.change) proposedActivitiesArray.push({ activity_type: 'Changing use of land' })\n\n  const hailData = {\n    ...hailForm.value,\n    proposed_activities: proposedActivitiesArray\n  }\n\n  if (editingHAILIndex.value !== null) {\n    // Edit existing\n    formData.value.hail_activities[editingHAILIndex.value] = hailData\n  } else {\n    // Add new\n    formData.value.hail_activities.push(hailData)\n  }\n\n  showHAILModal.value = false\n}\n\nconst cancelHAIL = () => {\n  showHAILModal.value = false\n}\n\nconst removeHAILActivity = (index) => {\n  if (confirm('Remove this HAIL activity?')) {\n    formData.value.hail_activities.splice(index, 1)\n  }\n}\n\n// HAIL Proposed Activity checkbox handlers\nconst toggleHAILProposedActivity = (hailIndex, activityType) => {\n  const hail = formData.value.hail_activities[hailIndex]\n  if (!hail.proposed_activities) {\n    hail.proposed_activities = []\n  }\n\n  const activityIndex = hail.proposed_activities.findIndex(a => a.activity_type === activityType)\n  if (activityIndex > -1) {\n    hail.proposed_activities.splice(activityIndex, 1)\n  } else {\n    hail.proposed_activities.push({ activity_type: activityType })\n  }\n}\n\nconst isHAILActivitySelected = (hailIndex, activityType) => {\n  const hail = formData.value.hail_activities[hailIndex]\n  if (!hail.proposed_activities) return false\n  return hail.proposed_activities.some(a => a.activity_type === activityType)\n}\n\n// Proposal Details Accordion State\nconst proposalAccordion = ref({\n  building: true,  // Start with first section open\n  earthworks: false,\n  traffic: false,\n  operations: false\n})\n\nconst toggleProposalSection = (section) => {\n  proposalAccordion.value[section] = !proposalAccordion.value[section]\n}\n\n// Boundary Approval Document Upload\nconst handleBoundaryApprovalUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    formData.value.boundary_approval_document = file\n  }\n}\n\n// Track initial form state to detect changes\nconst initialFormData = ref(JSON.parse(JSON.stringify(formData.value)))\n\n// Computed property to check if form has changes\n// Exclude terms_accepted from change detection since it's not actual application data\nconst hasFormChanges = computed(() => {\n  const currentCopy = { ...formData.value }\n  const initialCopy = { ...initialFormData.value }\n\n  // Remove terms_accepted from comparison\n  delete currentCopy.terms_accepted\n  delete initialCopy.terms_accepted\n\n  const current = JSON.stringify(currentCopy)\n  const initial = JSON.stringify(initialCopy)\n  return current !== initial\n})\n\n// Computed property to check if Resource Consent request\nconst isResourceConsent = computed(() => {\n  return formData.value.request_category === 'Resource Consent'\n})\n\n// Consent type helpers\nconst hasConsentType = (type) => {\n  return formData.value.consent_types?.some(ct => ct.consent_type === type) || false\n}\n\nconst isLandUse = computed(() => hasConsentType('Land Use'))\nconst isSubdivision = computed(() => hasConsentType('Subdivision'))\nconst isWaterPermit = computed(() => hasConsentType('Water Permit'))\nconst isDischargePermit = computed(() => hasConsentType('Discharge Permit'))\nconst isCoastalPermit = computed(() => hasConsentType('Coastal Permit'))\n\n// Combined checks for common requirements\nconst requiresNaturalHazardsAssessment = computed(() => {\n  return isLandUse.value || isSubdivision.value\n})\n\nconst eligibleForFastTrack = computed(() => {\n  // Fast-track available for all except Subdivision, and only if Controlled activity\n  const isControlled = formData.value.activity_status === 'Controlled'\n  const notSubdivision = !isSubdivision.value\n  return isControlled && notSubdivision && isResourceConsent.value\n})\n\nconst hasUnlimitedDuration = computed(() => {\n  // LUC and SC can have unlimited duration\n  return (isLandUse.value || isSubdivision.value) &&\n         !(isWaterPermit.value || isDischargePermit.value || isCoastalPermit.value)\n})\n\n// Activity status validation warning\nconst activityStatusWarning = computed(() => {\n  if (!formData.value.activity_status) return null\n\n  switch (formData.value.activity_status) {\n    case 'Non-Complying':\n      return ' Non-complying activities face higher scrutiny and longer processing times. Consider council meeting.'\n    case 'Discretionary':\n      return ' Discretionary activities may require public notification depending on effects assessment.'\n    case 'Controlled':\n      return ' Controlled activities must be granted consent. Council will focus on appropriate conditions.'\n    default:\n      return null\n  }\n})\n\n// Show submit button only if there are changes or files uploaded\nconst canSubmit = computed(() => {\n  return hasFormChanges.value || uploadedFiles.value.length > 0\n})\n\n// Get request types (will be loaded based on council selection)\nconst requestTypes = ref({ data: [], loading: false, error: null })\n\n// Get user's properties (only for logged-in users)\nconst properties = createResource({\n  url: 'frappe.client.get_list',\n  params: {\n    doctype: 'Property',\n    fields: ['name', 'property_id', 'street_address', 'suburb', 'city', 'legal_description', 'certificate_of_title'],\n    limit_page_length: 100,\n  },\n  auto: false, // Don't auto-fetch for guest users\n})\n\n// Methods\nconst onCouncilChange = async (councilCode) => {\n  console.log('[NewRequest] onCouncilChange called with:', councilCode)\n  console.log('[NewRequest] formData.value.council is now:', formData.value.council)\n\n  if (!councilCode) {\n    requestTypes.value = { data: [], loading: false, error: null }\n    return\n  }\n\n  // Load request types for the selected council\n  requestTypes.value.loading = true\n  requestTypes.value.error = null\n\n  try {\n    await councilStore.loadRequestTypesForCouncil(councilCode)\n    requestTypes.value.data = councilStore.availableRequestTypes\n    console.log(`[NewRequest] Loaded ${requestTypes.value.data.length} request types for council ${councilCode}`)\n  } catch (error) {\n    requestTypes.value.error = error.message || 'Failed to load request types'\n    console.error('[NewRequest] Failed to load request types:', error)\n  } finally {\n    requestTypes.value.loading = false\n  }\n}\n\nconst goBack = () => {\n  if (confirm('Are you sure you want to leave? Any unsaved changes will be lost.')) {\n    router.push({ name: 'Dashboard' })\n  }\n}\n\nconst getStepClass = (stepNumber) => {\n  if (stepNumber < currentStep.value) {\n    return 'bg-blue-600 text-white'\n  } else if (stepNumber === currentStep.value) {\n    return 'bg-blue-600 text-white'\n  } else {\n    return 'bg-gray-200 text-gray-600'\n  }\n}\n\nconst selectRequestType = async (type) => {\n  console.log('[NewRequest] Selecting Request Type:', type.name, type.type_name)\n  formData.value.request_type = type.name\n  formData.value.request_category = type.category || ''\n\n  // Store the full request type details for the Process Info step\n  selectedRequestTypeDetails.value = type\n\n  console.log('[NewRequest] Form data updated:')\n  console.log('  request_type:', formData.value.request_type)\n  console.log('  request_category:', formData.value.request_category)\n  console.log('  council:', formData.value.council)\n  console.log('  formData.value:', formData.value)\n\n  // Load properties if this is a Resource Consent and user is logged in\n  if (type.category === 'Resource Consent' && session.user && session.user !== 'Guest') {\n    properties.fetch()\n  }\n\n  // Load step configuration for this request type\n  await loadStepConfiguration(type.name)\n}\n\n// Load step configuration from API\nconst loadStepConfiguration = async (requestType) => {\n  if (!requestType || !formData.value.council) {\n    console.log('[NewRequest] Skipping step config load - missing requestType or council')\n    return\n  }\n\n  try {\n    loadingStepConfigs.value = true\n    console.log('[NewRequest] Loading step config for:', requestType, 'council:', formData.value.council)\n\n    const result = await call('lodgeick.api.get_request_type_steps', {\n      request_type: requestType,\n      council_code: formData.value.council\n    })\n\n    console.log('[NewRequest] Step config API result:', result)\n\n    if (result && result.uses_config && result.steps && result.steps.length > 0) {\n      stepConfigs.value = result.steps\n      usesConfigurableSteps.value = true\n      console.log('[NewRequest] Loaded', stepConfigs.value.length, 'configured steps')\n    } else {\n      // No configuration found - use hardcoded flow\n      stepConfigs.value = []\n      usesConfigurableSteps.value = false\n      console.log('[NewRequest] No step configuration found - using hardcoded flow')\n    }\n  } catch (error) {\n    console.error('[NewRequest] Error loading step configuration:', error)\n    stepConfigs.value = []\n    usesConfigurableSteps.value = false\n  } finally {\n    loadingStepConfigs.value = false\n  }\n}\n\nconst onPropertySelect = () => {\n  if (formData.value.property) {\n    const selected = properties.data.find(p => p.name === formData.value.property)\n    if (selected) {\n      // Populate address\n      formData.value.property_address = `${selected.street_address}, ${selected.suburb}, ${selected.city}`\n\n      // Populate property details\n      formData.value.legal_description = selected.legal_description || ''\n      formData.value.ct_reference = selected.certificate_of_title || ''\n      formData.value.parcel_id = selected.property_id || ''\n      formData.value.zone = selected.zoning || ''\n\n      // Populate coordinates if available\n      if (selected.latitude && selected.longitude) {\n        formData.value.property_coordinates = `${selected.latitude},${selected.longitude}`\n      }\n\n      console.log('[NewRequest] Populated property details from existing property:', {\n        address: formData.value.property_address,\n        legal_description: formData.value.legal_description,\n        ct_reference: formData.value.ct_reference,\n        parcel_id: formData.value.parcel_id,\n        zone: formData.value.zone\n      })\n    }\n  }\n}\n\n// Property Search Autocomplete Handlers\nconst handlePropertySearch = () => {\n  // Clear existing timeout\n  if (propertySearchTimeout) {\n    clearTimeout(propertySearchTimeout)\n  }\n\n  const query = propertySearchQuery.value.trim()\n\n  // Only search if query is at least 3 characters\n  if (query.length < 3) {\n    propertySearchResults.value = []\n    return\n  }\n\n  // Debounce search\n  propertySearchTimeout = setTimeout(async () => {\n    propertySearchLoading.value = true\n    showPropertyDropdown.value = true\n\n    try {\n      const response = await fetch('/api/method/lodgeick.api.search_property_address', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: JSON.stringify({ query })\n      })\n\n      const data = await response.json()\n\n      if (data.message && data.message.results) {\n        propertySearchResults.value = data.message.results\n      } else {\n        propertySearchResults.value = []\n      }\n    } catch (error) {\n      console.error('[PropertySearch] Error searching properties:', error)\n      propertySearchResults.value = []\n    } finally {\n      propertySearchLoading.value = false\n    }\n  }, 300) // 300ms debounce\n}\n\nconst selectProperty = (result) => {\n  // Set the property address\n  formData.value.property_address = result.address\n  propertySearchQuery.value = result.address\n\n  // Set legal description if available\n  if (result.property?.legal_description) {\n    formData.value.legal_description = result.property.legal_description\n  }\n\n  // Set title number if available\n  if (result.property?.title_no) {\n    formData.value.ct_reference = result.property.title_no\n  }\n\n  // Set valuation reference if available\n  if (result.property?.valuation_reference) {\n    formData.value.valuation_reference = result.property.valuation_reference\n  }\n\n  // Set parcel ID if available\n  if (result.property?.parcel_id) {\n    formData.value.parcel_id = result.property.parcel_id\n  }\n\n  // Set property coordinates if available\n  if (result.projected_x && result.projected_y) {\n    formData.value.property_coordinates = `NZTM2000: ${result.projected_x.toFixed(2)}, ${result.projected_y.toFixed(2)}`\n  }\n\n  // Extract and set zoning from district plan hazards\n  if (result.hazards?.districtPlan && Array.isArray(result.hazards.districtPlan) && result.hazards.districtPlan.length > 0) {\n    const districtPlan = result.hazards.districtPlan[0]\n    if (districtPlan.attributes?.Zone_Code || districtPlan.attributes?.ZONE_CODE) {\n      formData.value.zone = districtPlan.attributes.Zone_Code || districtPlan.attributes.ZONE_CODE\n    } else if (districtPlan.attributes?.Zone_Name || districtPlan.attributes?.ZONE_NAME) {\n      formData.value.zone = districtPlan.attributes.Zone_Name || districtPlan.attributes.ZONE_NAME\n    }\n  }\n\n  // Store full hazard data for potential future use\n  formData.value.hazard_data = result.hazards\n\n  // Close dropdown\n  showPropertyDropdown.value = false\n  propertySearchResults.value = []\n\n  console.log('[PropertySearch] Selected property:', {\n    address: result.address,\n    legal_description: formData.value.legal_description,\n    title_no: formData.value.ct_reference,\n    zone: formData.value.zone,\n    hazards: result.hazards\n  })\n}\n\n// Close dropdown when clicking outside\nconst closePropertyDropdown = () => {\n  showPropertyDropdown.value = false\n}\n\n// Clear property address to allow new search\nconst clearPropertyAddress = () => {\n  formData.value.property_address = ''\n  formData.value.legal_description = ''\n  formData.value.ct_reference = ''\n  formData.value.valuation_reference = ''\n  formData.value.parcel_id = ''\n  formData.value.zone = ''\n  formData.value.property_coordinates = ''\n  formData.value.hazard_data = null\n  propertySearchQuery.value = ''\n  propertySearchResults.value = []\n  console.log('[PropertySearch] Cleared property data for new search')\n}\n\nconst canProceed = computed(() => {\n  const step = currentStep.value\n\n  switch (step) {\n    case 1:\n      // Step 1: Council selection\n      return !!formData.value.council\n\n    case 2:\n      // Step 2: Request type selection\n      return !!formData.value.request_type\n\n    case 3:\n      // Step 3: Process Info - always can proceed (just informational)\n      return true\n\n    case 4:\n      // Step 4: Applicant & Proposal (FRD) - always can proceed\n      // toRaw() is used in Step1ApplicantProposal to prevent reactive loops\n      return true\n\n    case 5:\n      // Step 5: Natural Hazards (FRD Step 2) - Required for Land Use/Subdivision only\n      if (isResourceConsent.value) {\n        // Extract to avoid reactive tracking issues\n        const consentTypes = formData.value.consent_types\n        const requiresHazards = consentTypes?.some(ct =>\n          ct.consent_type === 'Land Use' || ct.consent_type === 'Subdivision'\n        )\n        if (requiresHazards) {\n          const hazards = formData.value.natural_hazards\n          const confirmed = formData.value.no_natural_hazards_confirmed\n          const hasHazards = hazards && hazards.length > 0\n          return hasHazards || confirmed\n        }\n        return true\n      }\n      return true\n\n    case 6:\n      // Step 6: NES Assessment (FRD Step 3) - Optional (can have \"no NES confirmed\")\n      return true\n\n    case 7:\n      // Step 7: Approvals (FRD Step 4) - Optional\n      return true\n\n    case 8:\n      // Step 8: Consultation (FRD Step 5) - Optional\n      return true\n\n    case 9:\n      // Step 9: Documents (FRD Step 6) - Optional (but recommended)\n      return true\n\n    case 10:\n      // Step 10: AEE (FRD Step 7) - REQUIRED based on completion method\n      if (isResourceConsent.value) {\n        if (formData.value.aee_completion_method === 'upload') {\n          return !!formData.value.aee_document && !!formData.value.aee_document_confirmed\n        } else {\n          // Inline method - require key fields\n          return !!formData.value.aee_activity_description?.trim() &&\n            !!formData.value.aee_existing_environment?.trim() &&\n            !!formData.value.assessment_of_effects?.trim() &&\n            !!formData.value.aee_inline_confirmed\n        }\n      }\n      return true\n\n    case 11:\n      // Step 11: Submission (FRD Step 9) - REQUIRED all 3 declarations and signature\n      if (isResourceConsent.value) {\n        const hasDeclarations = formData.value.declaration_rma_compliance &&\n          formData.value.declaration_public_information &&\n          formData.value.declaration_authorized\n        const hasSignature = !!formData.value.applicant_signature_first_name?.trim() &&\n          !!formData.value.applicant_signature_last_name?.trim() &&\n          !!formData.value.applicant_signature_date\n\n        return hasDeclarations && hasSignature\n      }\n      return true\n\n    default:\n      // Review step and any other steps - always allow\n      return true\n  }\n})\n\nconst nextStep = () => {\n  const totalStepsValue = totalSteps.value\n  const currentStepValue = currentStep.value\n  const canProceedValue = canProceed.value\n\n  console.log('[NewRequest] nextStep called', {\n    canProceed: canProceedValue,\n    currentStep: currentStepValue,\n    totalSteps: totalStepsValue,\n    steps: steps.value,\n    willProceed: canProceedValue && currentStepValue < totalStepsValue - 1\n  })\n\n  if (canProceedValue && currentStepValue < totalStepsValue - 1) {\n    currentStep.value++\n    console.log('[NewRequest] Moved to step:', currentStep.value)\n  } else {\n    console.warn('[NewRequest] Cannot proceed:', {\n      canProceed: canProceedValue,\n      currentStep: currentStepValue,\n      totalSteps: totalStepsValue,\n      reason: !canProceedValue ? 'canProceed returned false' : 'at last step'\n    })\n  }\n}\n\nconst previousStep = () => {\n  if (currentStep.value > 0) {\n    currentStep.value--\n  }\n}\n\nconst loadDraft = async (requestId) => {\n  try {\n    const response = await fetch('/api/method/lodgeick.api.load_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: requestId\n      })\n    })\n\n    const result = await response.json()\n\n    if (result.message && result.message.success) {\n      // Load the form data\n      formData.value = result.message.form_data || {}\n\n      // Redirect to the saved step\n      currentStep.value = result.message.current_step || 1\n\n      console.log(`Draft loaded successfully. Resuming at step ${currentStep.value}`)\n    } else {\n      throw new Error(result.message || 'Failed to load draft')\n    }\n  } catch (error) {\n    console.error('Error loading draft:', error)\n    alert('Failed to load draft. Starting new application.')\n  }\n}\n\nconst saveDraft = async (closeAfterSave = false) => {\n  savingDraft.value = true\n  try {\n    const response = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value,\n        current_step: currentStep.value,\n        total_steps: totalSteps.value\n      })\n    })\n\n    const result = await response.json()\n\n    if (result.message && result.message.success) {\n      // Store the request ID in formData for future updates\n      if (result.message.request_id && !formData.value.request_id) {\n        formData.value.request_id = result.message.request_id\n      }\n\n      alert(`Draft saved successfully! Request ID: ${result.message.request_number}`)\n\n      // If closeAfterSave, redirect to dashboard\n      if (closeAfterSave) {\n        router.push({ name: 'Dashboard' })\n      }\n\n      // Return the result for use by other functions\n      return result.message\n    } else {\n      throw new Error(result.message || 'Failed to save draft')\n    }\n  } catch (error) {\n    console.error('Error saving draft:', error)\n    alert('Failed to save draft. Please try again.')\n    return null\n  } finally {\n    savingDraft.value = false\n  }\n}\n\nconst triggerFileUpload = () => {\n  fileInput.value.click()\n}\n\nconst handleFileUpload = (event) => {\n  const files = Array.from(event.target.files)\n  uploadedFiles.value.push(...files)\n}\n\nconst removeFile = (index) => {\n  uploadedFiles.value.splice(index, 1)\n}\n\n// formatFileSize is now imported from utils/fileHelpers.js\n\nconst getCouncilName = () => {\n  const council = councilStore.councils?.find(c => c.council_code === formData.value.council)\n  return council?.council_name || 'Council'\n}\n\nconst getRequestTypeName = () => {\n  const type = requestTypes.data?.find(t => t.name === formData.value.request_type)\n  return type?.type_name || 'N/A'\n}\n\nconst getApplicationFee = () => {\n  const type = requestTypes.data?.find(t => t.name === formData.value.request_type)\n  return type?.base_fee ? `$${type.base_fee}` : 'TBD'\n}\n\n// Navigation handlers\nconst handleNext = () => {\n  if (canProceed.value) {\n    currentStep.value++\n  }\n}\n\nconst handlePrevious = () => {\n  if (currentStep.value > 1) {\n    currentStep.value--\n  }\n}\n\n// Get the step configuration for the current step\nconst getCurrentStepConfig = () => {\n  if (!usesConfigurableSteps.value || stepConfigs.value.length === 0) {\n    return null\n  }\n\n  // Find the index of 'Process Info' in the steps array\n  const processInfoIndex = steps.value.findIndex(s => s.title === 'Process Info')\n\n  // Dynamic steps come after Process Info\n  // Map currentStep to stepConfigs array (0-indexed)\n  const configIndex = currentStep.value - processInfoIndex - 1\n\n  if (configIndex >= 0 && configIndex < stepConfigs.value.length) {\n    return stepConfigs.value[configIndex]\n  }\n\n  return null\n}\n\n// Get the title of the current step\nconst getCurrentStepTitle = () => {\n  const title = (currentStep.value >= 0 && currentStep.value < steps.value.length)\n    ? steps.value[currentStep.value].title\n    : ''\n\n  console.log('[getCurrentStepTitle] currentStep:', currentStep.value, 'title:', title, 'allSteps:', steps.value.map(s => s.title).join('  '))\n\n  return title\n}\n\nconst handleSubmit = async () => {\n  await submitApplication()\n}\n\nconst submitApplication = async () => {\n  // NEW: Check statutory declarations instead of single terms_accepted\n  if (!formData.value.declaration_rma_compliance ||\n      !formData.value.declaration_public_information ||\n      !formData.value.declaration_authorized) {\n    alert('Please confirm all three statutory declarations before submitting your application')\n    return\n  }\n\n  submitting.value = true\n  try {\n    // Step 1: Create draft request\n    const createResponse = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value\n      })\n    })\n\n    const createResult = await createResponse.json()\n\n    if (!createResult.message || !createResult.message.success) {\n      throw new Error('Failed to create request')\n    }\n\n    const requestId = createResult.message.request_id\n\n    // Step 2: Upload files if any\n    if (uploadedFiles.value.length > 0) {\n      for (const file of uploadedFiles.value) {\n        const fileFormData = new FormData()\n        fileFormData.append('file', file)\n        fileFormData.append('doctype', 'Request')\n        fileFormData.append('docname', requestId)\n        fileFormData.append('is_private', 0)\n\n        await fetch('/api/method/upload_file', {\n          method: 'POST',\n          headers: {\n            'X-Frappe-CSRF-Token': window.csrf_token\n          },\n          body: fileFormData\n        })\n      }\n    }\n\n    // NEW: Upload Certificate of Title document if provided\n    if (formData.value.certificate_of_title_document) {\n      const ctFormData = new FormData()\n      ctFormData.append('file', formData.value.certificate_of_title_document)\n      ctFormData.append('doctype', 'Request')\n      ctFormData.append('docname', requestId)\n      ctFormData.append('fieldname', 'certificate_of_title_document')\n      ctFormData.append('is_private', 0)\n\n      await fetch('/api/method/upload_file', {\n        method: 'POST',\n        headers: {\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: ctFormData\n      })\n    }\n\n    // NEW: Upload AEE document if provided\n    if (formData.value.aee_document) {\n      const aeeFormData = new FormData()\n      aeeFormData.append('file', formData.value.aee_document)\n      aeeFormData.append('doctype', 'Resource Consent Application')\n      aeeFormData.append('docname', requestId)\n      aeeFormData.append('fieldname', 'aee_document')\n      aeeFormData.append('is_private', 0)\n\n      await fetch('/api/method/upload_file', {\n        method: 'POST',\n        headers: {\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: aeeFormData\n      })\n    }\n\n    // Step 3: Submit the request\n    const submitResponse = await fetch('/api/method/lodgeick.lodgeick.doctype.request.request.submit_application', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: requestId\n      })\n    })\n\n    const submitResult = await submitResponse.json()\n\n    if (submitResult.message && submitResult.message.success) {\n      alert(`Application submitted successfully! Request Number: ${submitResult.message.request_number}`)\n      router.push({ name: 'Dashboard' })\n    } else {\n      throw new Error('Failed to submit application')\n    }\n  } catch (error) {\n    console.error('Error submitting application:', error)\n    alert('Failed to submit application')\n  } finally {\n    submitting.value = false\n  }\n}\n\nconst bookPreApplicationMeeting = async () => {\n  if (!formData.value.request_type) {\n    alert('Please complete your application details first')\n    return\n  }\n\n  bookingMeeting.value = true\n  try {\n    // First, save as draft if not already saved\n    const draftResponse = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value\n      })\n    })\n\n    const draftResult = await draftResponse.json()\n\n    if (!draftResult.message || !draftResult.message.success) {\n      throw new Error('Failed to save application')\n    }\n\n    const requestId = draftResult.message.request_id\n\n    // Book the meeting via backend API\n    const meetingResponse = await fetch('/api/method/lodgeick.api.book_council_meeting', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: requestId,\n        meeting_type: 'Council Meeting'\n      })\n    })\n\n    const meetingResult = await meetingResponse.json()\n\n    if (meetingResult.message && meetingResult.message.success) {\n      alert(`Council Meeting request has been submitted! A council officer will contact you within 2 business days to schedule the meeting. Task ID: ${meetingResult.message.task_id}`)\n    } else {\n      throw new Error(meetingResult.message || 'Failed to book meeting')\n    }\n  } catch (error) {\n    console.error('Error booking meeting:', error)\n    alert('Failed to book council meeting. Please try again.')\n  } finally {\n    bookingMeeting.value = false\n  }\n}\n\n// Resource Consent specific methods\nconst ciaFileInput = ref(null)\n\n// Affected Party Modal\nconst showAffectedPartyModal = ref(false)\nconst editingPartyIndex = ref(null)\nconst affectedPartyForm = ref({\n  party_name: '',\n  relationship: '',\n  property_address: '',\n  email: '',\n  phone: '',\n  postal_address: '',\n  approval_obtained: false,\n  approval_date: '',\n  approval_document: null,\n  comments: ''\n})\n\nconst addAffectedParty = () => {\n  // Reset form\n  affectedPartyForm.value = {\n    party_name: '',\n    relationship: '',\n    property_address: '',\n    email: '',\n    phone: '',\n    postal_address: '',\n    approval_obtained: false,\n    approval_date: '',\n    approval_document: null,\n    comments: ''\n  }\n  editingPartyIndex.value = null\n  showAffectedPartyModal.value = true\n}\n\nconst editAffectedParty = (index) => {\n  affectedPartyForm.value = { ...formData.value.affected_parties[index] }\n  editingPartyIndex.value = index\n  showAffectedPartyModal.value = true\n}\n\nconst saveAffectedParty = () => {\n  if (!affectedPartyForm.value.party_name || !affectedPartyForm.value.relationship) {\n    alert('Please enter party name and relationship')\n    return\n  }\n\n  if (editingPartyIndex.value !== null) {\n    // Edit existing\n    formData.value.affected_parties[editingPartyIndex.value] = { ...affectedPartyForm.value }\n  } else {\n    // Add new\n    formData.value.affected_parties.push({ ...affectedPartyForm.value })\n  }\n\n  showAffectedPartyModal.value = false\n}\n\nconst cancelAffectedParty = () => {\n  showAffectedPartyModal.value = false\n}\n\nconst removeAffectedParty = (index) => {\n  if (confirm('Remove this affected party?')) {\n    formData.value.affected_parties.splice(index, 1)\n  }\n}\n\nconst handleApprovalDocumentUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = [\n      'application/pdf',\n      'application/msword',\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n      'image/jpeg',\n      'image/jpg',\n      'image/png'\n    ]\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF, Word documents, and images (JPG, PNG) are allowed')\n      event.target.value = ''\n      return\n    }\n\n    affectedPartyForm.value.approval_document = file\n  }\n}\n\n// Specialist Report Modal\nconst showSpecialistReportModal = ref(false)\nconst editingReportIndex = ref(null)\nconst specialistReportForm = ref({\n  report_type: '',\n  specialist_name: '',\n  specialist_company: '',\n  report_date: '',\n  document: null,\n  summary: ''\n})\n\nconst addSpecialistReport = () => {\n  specialistReportForm.value = {\n    report_type: '',\n    specialist_name: '',\n    specialist_company: '',\n    report_date: '',\n    document: null,\n    summary: ''\n  }\n  editingReportIndex.value = null\n  showSpecialistReportModal.value = true\n}\n\nconst editSpecialistReport = (index) => {\n  specialistReportForm.value = { ...formData.value.specialist_reports[index] }\n  editingReportIndex.value = index\n  showSpecialistReportModal.value = true\n}\n\nconst saveSpecialistReport = () => {\n  if (!specialistReportForm.value.report_type || !specialistReportForm.value.specialist_name || !specialistReportForm.value.report_date) {\n    alert('Please enter report type, specialist name, and report date')\n    return\n  }\n\n  if (editingReportIndex.value !== null) {\n    formData.value.specialist_reports[editingReportIndex.value] = { ...specialistReportForm.value }\n  } else {\n    formData.value.specialist_reports.push({ ...specialistReportForm.value })\n  }\n  showSpecialistReportModal.value = false\n}\n\nconst cancelSpecialistReport = () => {\n  showSpecialistReportModal.value = false\n}\n\nconst removeSpecialistReport = (index) => {\n  if (confirm('Remove this specialist report?')) {\n    formData.value.specialist_reports.splice(index, 1)\n  }\n}\n\nconst handleReportDocumentUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF and Word documents are allowed')\n      event.target.value = ''\n      return\n    }\n\n    specialistReportForm.value.document = file\n  }\n}\n\nconst handleCIAUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF and Word documents are allowed')\n      event.target.value = ''\n      return\n    }\n\n    formData.value.cultural_impact_assessment = file\n  }\n}\n\n// ===== AEE Plan Assessment Handlers =====\n\n// Plan Rules\nconst addPlanRule = () => {\n  const rule = prompt('Enter plan rule reference (e.g., Rule 16.4.2.1)')\n  if (!rule) return\n\n  const activityStatus = prompt('Activity status (Permitted/Controlled/Restricted Discretionary/Discretionary/Non-Complying/Prohibited)')\n  if (!activityStatus) return\n\n  const description = prompt('Rule description (optional)', '')\n\n  formData.value.aee_plan_rules.push({\n    rule_reference: rule,\n    activity_status: activityStatus,\n    rule_description: description || ''\n  })\n}\n\nconst removePlanRule = (index) => {\n  if (confirm('Remove this plan rule?')) {\n    formData.value.aee_plan_rules.splice(index, 1)\n  }\n}\n\n// Compliance Standards\nconst addComplianceStandard = () => {\n  const standard = prompt('Enter standard reference (e.g., Building height: 8m maximum)')\n  if (!standard) return\n\n  const complies = confirm('Does the proposal comply with this standard?')\n  const analysis = prompt('Compliance analysis (optional)', '')\n\n  formData.value.aee_compliance_standards.push({\n    standard_reference: standard,\n    complies: complies,\n    compliance_analysis: analysis || '',\n    standard_description: ''\n  })\n}\n\nconst removeComplianceStandard = (index) => {\n  if (confirm('Remove this compliance standard?')) {\n    formData.value.aee_compliance_standards.splice(index, 1)\n  }\n}\n\n// Written Approvals\nconst addWrittenApproval = () => {\n  const name = prompt('Enter party name')\n  if (!name) return\n\n  const address = prompt('Party address (optional)', '')\n  const attached = confirm('Is the written approval attached?')\n\n  formData.value.aee_written_approvals.push({\n    party_name: name,\n    party_address: address || '',\n    approval_attached: attached,\n    approval_document: null\n  })\n}\n\nconst removeWrittenApproval = (index) => {\n  if (confirm('Remove this written approval?')) {\n    formData.value.aee_written_approvals.splice(index, 1)\n  }\n}\n\n// AEE Proposed Conditions\nconst addAEECondition = () => {\n  const text = prompt('Enter proposed condition')\n  if (!text) return\n\n  const number = formData.value.aee_proposed_conditions.length + 1\n\n  formData.value.aee_proposed_conditions.push({\n    condition_number: number,\n    condition_text: text\n  })\n}\n\nconst removeAEECondition = (index) => {\n  if (confirm('Remove this proposed condition?')) {\n    formData.value.aee_proposed_conditions.splice(index, 1)\n    // Renumber remaining conditions\n    formData.value.aee_proposed_conditions.forEach((cond, idx) => {\n      cond.condition_number = idx + 1\n    })\n  }\n}\n\n// Proposed Conditions Modal\nconst showConditionsModal = ref(false)\nconst editingConditionIndex = ref(null)\nconst availableConditionTemplates = ref([])\nconst loadingTemplates = ref(false)\nconst selectedCategory = ref('All')\n\nconst conditionForm = ref({\n  condition_number: '',\n  condition_category: '',\n  condition_text: '',\n  compliance_status: 'Not Started',\n  compliance_due_date: '',\n  compliance_notes: ''\n})\n\nconst conditionCategories = [\n  'All',\n  'General',\n  'Timing',\n  'Lapse',\n  'Review',\n  'Financial Contribution',\n  'Bonds',\n  'Monitoring',\n  'Environmental Management',\n  'Construction',\n  'Operation',\n  'Landscape',\n  'Ecology',\n  'Archaeology',\n  'Cultural',\n  'Traffic',\n  'Parking',\n  'Noise',\n  'Discharge',\n  'Earthworks',\n  'Heritage',\n  'Water',\n  'Coastal',\n  'Other'\n]\n\n// Fetch condition templates based on selected consent types\nconst fetchConditionTemplates = async () => {\n  loadingTemplates.value = true\n  try {\n    const selectedTypes = formData.value.consent_types.map(ct => ct.consent_type)\n\n    // Fetch templates from backend\n    const response = await fetch('/api/method/frappe.client.get_list', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        doctype: 'Consent Condition Template',\n        fields: ['name', 'template_name', 'condition_code', 'condition_category', 'condition_text', 'applies_to_consent_types', 'timing', 'monitoring_required'],\n        filters: {\n          is_active: 1\n        },\n        limit_page_length: 0\n      })\n    })\n\n    const data = await response.json()\n\n    if (data.message) {\n      // Filter templates that apply to selected consent types\n      availableConditionTemplates.value = data.message.filter(template => {\n        if (!template.applies_to_consent_types || template.applies_to_consent_types === 'All') {\n          return true\n        }\n        return selectedTypes.some(type => template.applies_to_consent_types.includes(type))\n      })\n    }\n  } catch (error) {\n    console.error('Error fetching condition templates:', error)\n    alert('Failed to load condition templates')\n  } finally {\n    loadingTemplates.value = false\n  }\n}\n\nconst filteredConditionTemplates = computed(() => {\n  if (selectedCategory.value === 'All') {\n    return availableConditionTemplates.value\n  }\n  return availableConditionTemplates.value.filter(t => t.condition_category === selectedCategory.value)\n})\n\nconst openConditionsModal = async () => {\n  if (!formData.value.consent_types || formData.value.consent_types.length === 0) {\n    alert('Please select at least one consent type first')\n    return\n  }\n\n  await fetchConditionTemplates()\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n  showConditionsModal.value = true\n}\n\nconst addConditionFromTemplate = (template) => {\n  // Generate a condition number\n  const conditionNum = (formData.value.proposed_conditions.length + 1).toString()\n\n  const newCondition = {\n    condition_number: conditionNum,\n    condition_category: template.condition_category,\n    condition_text: template.condition_text,\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n\n  formData.value.proposed_conditions.push(newCondition)\n}\n\nconst addCustomCondition = () => {\n  conditionForm.value = {\n    condition_number: (formData.value.proposed_conditions.length + 1).toString(),\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst editCondition = (index) => {\n  conditionForm.value = { ...formData.value.proposed_conditions[index] }\n  editingConditionIndex.value = index\n}\n\nconst saveCondition = () => {\n  if (!conditionForm.value.condition_category || !conditionForm.value.condition_text) {\n    alert('Please enter condition category and text')\n    return\n  }\n\n  if (editingConditionIndex.value !== null) {\n    formData.value.proposed_conditions[editingConditionIndex.value] = { ...conditionForm.value }\n  } else {\n    formData.value.proposed_conditions.push({ ...conditionForm.value })\n  }\n\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst cancelConditionEdit = () => {\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst removeCondition = (index) => {\n  if (confirm('Remove this condition?')) {\n    formData.value.proposed_conditions.splice(index, 1)\n    // Renumber remaining conditions\n    formData.value.proposed_conditions.forEach((cond, idx) => {\n      cond.condition_number = (idx + 1).toString()\n    })\n  }\n}\n\n// Council Meeting Request\nconst meetingResource = createResource({\n  url: 'lodgeick.api.book_council_meeting',\n  makeParams: (values) => values,\n  onSuccess: (data) => {\n    if (data && data.success) {\n      alert(` Council Meeting Request Sent!\\n\\nTask #${data.task_id} has been created for the planning team.\\n\\nThey will contact you within 2 business days to schedule.`)\n    } else {\n      alert('Meeting request sent successfully! The planning team will contact you soon.')\n    }\n    requestingMeeting.value = false\n  },\n  onError: (error) => {\n    console.error('Error requesting meeting:', error)\n    alert('Failed to request council meeting. Please try again or contact the planning team directly.')\n    requestingMeeting.value = false\n  }\n})\n\nconst requestPreAppMeeting = async () => {\n  if (!formData.value.request_type || !formData.value.property_address) {\n    alert('Please complete the Request Type and Property Details first.')\n    return\n  }\n\n  if (!confirm('Request a council meeting? A planning officer will contact you within 2 business days to schedule.\\n\\nNote: You should save your application as a draft first.')) {\n    return\n  }\n\n  try {\n    requestingMeeting.value = true\n\n    // First, save the draft\n    const draftResult = await saveDraft()\n\n    if (!draftResult || !draftResult.request_id) {\n      alert('Please save your draft application first.')\n      requestingMeeting.value = false\n      return\n    }\n\n    // Then request the meeting\n    meetingResource.submit({\n      request_id: draftResult.request_id,\n      meeting_type: 'Council Meeting'\n    })\n  } catch (error) {\n    console.error('Error in meeting request:', error)\n    alert('Failed to request council meeting. Please try again.')\n    requestingMeeting.value = false\n  }\n}\n\n// Initialize on mount\n// Load user profile and auto-populate fields\nconst loadUserProfile = async () => {\n  try {\n    loadingProfile.value = true\n    const profile = await call('lodgeick.api.get_user_profile')\n    userProfile.value = profile\n\n    // Auto-populate applicant type from profile default\n    if (profile.applicant_type && !formData.value.applicant_type) {\n      formData.value.applicant_type = profile.applicant_type\n    }\n\n    // Auto-populate phone if not acting on behalf\n    if (profile.phone && !formData.value.applicant_phone && !formData.value.acting_on_behalf) {\n      formData.value.applicant_phone = profile.phone\n    }\n\n    // Auto-populate applicant name and email when not acting on behalf\n    if (!formData.value.acting_on_behalf) {\n      formData.value.applicant_name = `${profile.first_name || ''} ${profile.last_name || ''}`.trim() || profile.email\n      formData.value.applicant_email = profile.email\n    }\n  } catch (error) {\n    console.error('Error loading user profile:', error)\n  } finally {\n    loadingProfile.value = false\n  }\n}\n\nconst loadCompanyAccount = async () => {\n  try {\n    const companyAccount = await call('lodgeick.api.get_user_company_account')\n    if (companyAccount) {\n      userCompanyAccount.value = companyAccount\n    }\n  } catch (error) {\n    console.error('Error loading company account:', error)\n  }\n}\n\n// Watch submitted_on_behalf_of to set company_account\nwatch(() => formData.value.submitted_on_behalf_of, (submittedAs) => {\n  if (submittedAs === 'Company' && userCompanyAccount.value) {\n    formData.value.company_account = userCompanyAccount.value.name\n  } else {\n    formData.value.company_account = null\n  }\n})\n\n// Watch acting_on_behalf to auto-populate or clear applicant details\nwatch(() => formData.value.acting_on_behalf, (actingOnBehalf) => {\n  if (!actingOnBehalf && userProfile.value) {\n    // Auto-populate from profile\n    formData.value.applicant_name = `${userProfile.value.first_name || ''} ${userProfile.value.last_name || ''}`.trim() || userProfile.value.email\n    formData.value.applicant_email = userProfile.value.email\n    if (userProfile.value.phone) {\n      formData.value.applicant_phone = userProfile.value.phone\n    }\n    if (userProfile.value.applicant_type) {\n      formData.value.applicant_type = userProfile.value.applicant_type\n    }\n  } else if (actingOnBehalf) {\n    // Clear fields for agent to fill in client details\n    formData.value.applicant_name = ''\n    formData.value.applicant_email = ''\n    formData.value.applicant_phone = ''\n    // Keep applicant_type as it might be different for the client\n  }\n})\n\n// Watch phone number to save back to profile when user updates it (and not acting on behalf)\nwatch(() => formData.value.applicant_phone, async (newPhone, oldPhone) => {\n  // Only save if:\n  // 1. Not acting on behalf (it's their own application)\n  // 2. Profile is loaded\n  // 3. Phone has actually changed\n  // 4. New phone is not empty\n  if (!formData.value.acting_on_behalf && userProfile.value && newPhone && newPhone !== oldPhone && newPhone !== userProfile.value.phone) {\n    try {\n      await call('lodgeick.api.update_user_profile', {\n        phone: newPhone\n      })\n      // Update local profile copy\n      userProfile.value.phone = newPhone\n      console.log('[NewRequest] Phone number saved to profile:', newPhone)\n    } catch (error) {\n      console.error('[NewRequest] Error saving phone to profile:', error)\n      // Don't show error to user - this is a background operation\n    }\n  }\n})\n\n// Watch for changes to formData.council\nwatch(() => formData.value.council, (newValue, oldValue) => {\n  console.log('[NewRequest] formData.council changed from:', oldValue, 'to:', newValue)\n  console.trace('[NewRequest] Stack trace for council change')\n})\n\nonMounted(async () => {\n  console.log('[NewRequest] onMounted - starting initialization')\n\n  // Load user profile first\n  await loadUserProfile()\n\n  // Load company account if user has one\n  await loadCompanyAccount()\n\n  // Check if we're loading a draft\n  const draftId = route.params.id || route.query.draft_id\n  if (draftId) {\n    await loadDraft(draftId)\n    return  // Skip council/type initialization when loading a draft\n  }\n\n  // Load locked council state from session\n  console.log('[NewRequest] Before loadLockedCouncil - isCouncilLocked:', councilStore.isCouncilLocked)\n  const lockedResult = await councilStore.loadLockedCouncil()\n  console.log('[NewRequest] After loadLockedCouncil - result:', lockedResult)\n  console.log('[NewRequest] After loadLockedCouncil - isCouncilLocked:', councilStore.isCouncilLocked)\n  console.log('[NewRequest] After loadLockedCouncil - lockedCouncil:', councilStore.lockedCouncil)\n\n  // Check for pre-selected request type from URL\n  const preselectedType = route.query.type\n  console.log('[NewRequest] preselectedType from URL:', preselectedType)\n\n  // Handle council selection\n  if (councilStore.isCouncilLocked) {\n    // Council is locked - pre-select it\n    console.log('[NewRequest] Council is locked:', councilStore.lockedCouncil)\n    formData.value.council = councilStore.lockedCouncil\n    await onCouncilChange(councilStore.lockedCouncil)\n\n    if (preselectedType) {\n      // Both council and type are locked - skip Steps 1 & 2\n      console.log('[NewRequest] Request type is pre-selected:', preselectedType)\n      formData.value.request_type = preselectedType\n\n      // Find the request type details from the loaded request types\n      const requestType = councilStore.requestTypes.find(rt => rt.name === preselectedType)\n      if (requestType) {\n        selectedRequestTypeDetails.value = requestType\n        formData.value.request_category = requestType.category || ''\n        console.log('[NewRequest] Set selectedRequestTypeDetails:', requestType)\n      }\n\n      // Load step configuration for this request type\n      await loadStepConfiguration(preselectedType)\n\n      // Start at Step 3 (Process Info) - which is now step index 0 (since Steps 1 & 2 are removed)\n      currentStep.value = 0\n    } else {\n      // Only council is locked - skip Step 1, show Step 2 (Type)\n      currentStep.value = 0  // Points to \"Request Type\" step (which is now index 0)\n    }\n  } else if (councilStore.preselectedFromUrl) {\n    // Council was preselected via URL (but not locked)\n    console.log('[NewRequest] Setting council from URL:', councilStore.preselectedFromUrl)\n    formData.value.council = councilStore.preselectedFromUrl\n    await onCouncilChange(councilStore.preselectedFromUrl)\n  } else {\n    // Try to load user's default council\n    const userCouncils = await councilStore.getUserCouncils()\n    if (userCouncils.default_council) {\n      console.log('[NewRequest] Setting council from user default:', userCouncils.default_council)\n      formData.value.council = userCouncils.default_council\n      await onCouncilChange(userCouncils.default_council)\n    }\n  }\n\n  console.log('[NewRequest] onMounted - initialization complete')\n  console.log('  Council:', formData.value.council)\n  console.log('  Type:', formData.value.request_type)\n  console.log('  Current Step:', currentStep.value)\n})\n</script>\n"],"names":["r","t","e","n","s","f","i","l","u","o","$","T","O","I","k","U","N","b","d","E","x","a","p","R","j","m","y","__objRest","c","g","Q","P","h","w","H","D","S","v","C","_a","K","M","V","L","B","F","te","le","G","me","W","_","J","A","z","__spreadValues","ee","pe","xe","Z","Y","Ie","ye","X","q","props","__props","emit","__emit","updateCouncil","council","__spreadProps","_createElementBlock","_cache","_createElementVNode","_createVNode","CouncilSelector","selectType","type","updatedValue","_openBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","$event","_normalizeClass","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","router","useRouter","preAppMeetingNotRequired","ref","preAppMeetings","_b","showPreAppMeetingModal","currentPreAppMeeting","watch","openPreAppMeetingModal","closePreAppMeetingModal","savePreAppMeeting","removePreAppMeeting","index","formatDate","dateString","handleContinue","session","currentPath","_hoisted_3","_hoisted_7","meeting","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_vModelSelect","_vModelText","_hoisted_29","_hoisted_30","localData","newVal","_vModelRadio","_vModelCheckbox","showPropertyModal","editingPropertyIndex","currentProperty","propertySearchQuery","propertySearchResults","propertySearchLoading","showPropertyDropdown","searchTimeout","handlePropertySearch","__async","query","results","call","error","selectPropertyFromSearch","result","_c","_d","_e","clearCurrentProperty","openPropertyModal","closePropertyModal","saveProperty","removeProperty","property","_hoisted_22","_hoisted_24","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","availableConsentTypes","activityStatuses","hasConsentType","ct","isSubdivision","computed","isCoastalPermit","canBeUnlimited","consentType","getMaxDuration","getDurationHelpText","durationData","reactive","getDurationData","existing","durationTouched","durationErrors","validateDuration","data","max","years","getDurationValidationClass","getDurationError","onUnlimitedToggle","getDurationInputId","getDurationHelpId","getUnlimitedCheckboxId","durations","newConsentTypes","onMounted","eligibleForFastTrack","isControlled","notSubdivision","fastTrackAvailable","showLapsingHelp","toggleConsentType","isConsentTypeSelected","addProposalDetail","updatedData","removeProposalDetail","status","_createTextVNode","_hoisted_38","_hoisted_39","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","detail","_hoisted_50","_hoisted_51","_hoisted_53","_hoisted_55","_hoisted_56","_hoisted_59","_hoisted_61","_hoisted_63","_hoisted_65","_hoisted_66","_hoisted_69","_hoisted_70","_hoisted_74","_hoisted_75","_hoisted_77","_hoisted_80","_hoisted_81","_hoisted_84","sendRFQToAgent","rfqId","agentId","createResource","engageAgent","quoteAmount","quoteDetails","getAvailableAgents","updateRFQ","resolve","reject","err","rfqData","selectedAgent","saving","availableAgents","loadingAgents","loadAvailableAgents","resource","checkLoaded","newRfq","isOpen","closeModal","saveRFQ","sendToAgent","sanitizeHtml","html","agent","_hoisted_40","timePresets","dateValue","timeValue","newValue","dt","updateDate","event","emitDateTime","updateTime","setTime","time","datetime","formattedDateTime","preset","_withModifiers","activeTab","searchQuery","saveToContacts","newContact","filteredContacts","contact","resetNewContact","selectContact","addNewContact","rawModelValue","toRaw","additionalConsentsRequired","showAdditionalConsentModal","editingConsentIndex","currentConsent","openAdditionalConsentModal","closeAdditionalConsentModal","saveAdditionalConsent","removeAdditionalConsent","showContactSelectorForContactPersons","openContactSelectorForContactPersons","addContactPerson","removeContactPerson","isRFQModalOpen","currentRFQ","currentRFQIndex","showAgentSection","applicantType","openRFQModal","viewRFQ","acceptQuote","rfq","closeRFQModal","_0","sendRFQToAgentAPI","engageAgentFromRFQ","engageAgentAPI","editingPreAppMeetingIndex","showContactSelectorForMeeting","existingContacts","editPreAppMeeting","meetingData","calculateEndTime","startTime","start","clearTimeSlot","slotNumber","openContactSelectorForMeeting","addMeetingAttendee","removeMeetingAttendee","handlePropertySelect","Step4ApplicantDetails","Step6ConsentInfo","Step5PropertyDetailsMulti","consent","_hoisted_52","_hoisted_54","_hoisted_57","_hoisted_58","_hoisted_60","_hoisted_62","_hoisted_67","_hoisted_68","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_76","_hoisted_78","_hoisted_79","_hoisted_82","_hoisted_83","ContactSelector","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","DateTimePicker","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","attendee","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_104","_hoisted_105","_hoisted_106","RFQModal","value","requiresHazardsAssessment","handleInundationAdviceUpload","file","addHazard","removeHazard","hazard","nesTypes","hailCategories","nesData","getNESData","nesType","item","toggleNES","existingIndex","isContaminatedSoilSelected","hasAnyNESSelected","showHAILModal","editingHAILIndex","hailForm","resetHAILForm","editHAIL","activity","removeHAIL","isHAILFormValid","saveHAIL","activityData","closeHAILModal","handleSoilReportUpload","nes","_createBlock","_Teleport","category","showPBAModal","editingPBAIndex","pbaForm","resetPBAForm","editPBA","removePBA","savePBA","contactData","closePBAModal","handlePBADocumentUpload","files","showModal","editingIndex","currentParty","writtenApprovals","party","openAddModal","openEditModal","saveParty","removeParty","currentOrg","saveOrganization","removeOrganization","org","handleFileUpload","fileSize","formatFileSize","removeDocument","getDocumentsByCategory","doc","hasWrittenApprovals","hasSpecialistReports","bytes","sizes","newMethod","handleAEEDocumentUpload","today","showPaymentModal","paymentForm","openPaymentModal","closePaymentModal","savePayment","removePayment","calculateTotalPayments","total","payment","_unref","reviewSections","step","hasPropertyDetails","hasReviewContent","section","field","formatFieldValue","hasAnyConsentType","activityStatusClass","hasNaturalHazards","hasConsultation","hasAEEContent","stripHtml","tmp","truncate","text","maxLength","clean","formatSignatureDate","dateStr","isComplete","hasBasicInfo","hasRCRequirements","_hoisted_64","render","_ctx","fileInput","videoElement","showCamera","capturedImage","mediaStream","uploading","uploadProgress","triggerFileInput","handleFileSelect","selectedFiles","processFiles","validFiles","preview","createImagePreview","newFiles","uploadFiles","reader","filesToUpload","fileData","progressInterval","removeFile","openCamera","startCamera","stream","capturePhoto","video","canvas","retakePhoto","usePhoto","blob","closeCamera","track","_TransitionGroup","localAddress","provinces","municipalitiesData","barangaysData","municipalities","barangays","fullAddress","parts","onProvinceChange","updateAddress","onMunicipalityChange","province","municipality","barangay","showTooltip","tooltipPositionClass","arrowPositionClass","_renderSlot","_Transition","visibleFields","isAddressField","parentSection","getPlaceholder","label","getFieldIcon","getSelectOptions","optionsString","opt","fields","PhilippinesAddressInput","Tooltip","option","CameraUpload","visibleSections","getTabsForSection","config","TabGroup","TabList","tab","idx","Tab","selected","_withCtx","TabPanels","TabPanel","DynamicFieldRenderer","Disclosure","open","DisclosureButton","ChevronUpIcon","DisclosurePanel","route","useRoute","councilStore","useCouncilStore","userProfile","loadingProfile","userCompanyAccount","currentStep","totalSteps","steps","savingDraft","submitting","uploadedFiles","requestingMeeting","stepConfigs","loadingStepConfigs","usesConfigurableSteps","baseSteps","formData","hasPreselectedType","skipTypeStep","isResourceConsent","selectedRequestTypeDetails","selectedHazards","hazardData","getHazardData","newHazards","proposedActivities","proposedActivitiesArray","hailData","cancelHAIL","initialFormData","hasFormChanges","currentCopy","initialCopy","current","initial","isLandUse","isWaterPermit","isDischargePermit","canSubmit","requestTypes","properties","onCouncilChange","councilCode","goBack","getStepClass","stepNumber","selectRequestType","loadStepConfiguration","requestType","canProceed","consentTypes","hazards","confirmed","hasDeclarations","hasSignature","loadDraft","requestId","saveDraft","closeAfterSave","getCouncilName","getRequestTypeName","getApplicationFee","handleNext","getCurrentStepConfig","processInfoIndex","configIndex","getCurrentStepTitle","title","handleSubmit","submitApplication","createResult","fileFormData","ctFormData","aeeFormData","submitResult","showAffectedPartyModal","editingPartyIndex","affectedPartyForm","saveAffectedParty","cancelAffectedParty","handleApprovalDocumentUpload","showSpecialistReportModal","editingReportIndex","specialistReportForm","saveSpecialistReport","cancelSpecialistReport","handleReportDocumentUpload","showConditionsModal","editingConditionIndex","availableConditionTemplates","loadingTemplates","selectedCategory","conditionForm","conditionCategories","filteredConditionTemplates","addConditionFromTemplate","template","newCondition","addCustomCondition","saveCondition","cancelConditionEdit","removeCondition","cond","values","loadUserProfile","profile","loadCompanyAccount","companyAccount","submittedAs","actingOnBehalf","newPhone","oldPhone","oldValue","draftId","lockedResult","preselectedType","rt","userCouncils","Button","Step1CouncilSelection","Step2RequestType","Step3ProcessInfo","DynamicStepRenderer","Step1ApplicantProposal","Step2NaturalHazards","Step3NESAssessment","Step4Approvals","Step5Consultation","Step6Documents","Step7AEE","Step9Submission","Step17Review","condition","_hoisted_103","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110"],"mappings":"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","x_google_ignoreList":[0,1,2,3,23]}