{"version":3,"file":"NewRequest-MFHzgX1d.js","sources":["../../../../frontend/src/components/request-steps/Step1CouncilSelection.vue","../../../../frontend/src/components/request-steps/Step2RequestType.vue","../../../../frontend/src/components/request-steps/Step3ProcessInfo.vue","../../../../frontend/src/components/request-steps/Step4ApplicantDetails.vue","../../../../frontend/src/components/request-steps/Step5PropertyDetails.vue","../../../../frontend/src/components/request-steps/Step6DeliveryPayment.vue","../../../../frontend/src/components/request-steps/Step7ConsentType.vue","../../../../frontend/src/components/request-steps/Step7BConsentDetails.vue","../../../../frontend/src/components/request-steps/Step8ProposalDetails.vue","../../../../frontend/src/components/request-steps/Step9SiteEnvironment.vue","../../../../frontend/src/components/request-steps/Step10NESHazards.vue","../../../../frontend/src/components/request-steps/Step11AEE.vue","../../../../frontend/src/components/request-steps/Step12PlanAssessment.vue","../../../../frontend/src/components/request-steps/Step13AffectedParties.vue","../../../../frontend/src/components/request-steps/Step14SpecialistReports.vue","../../../../frontend/src/components/request-steps/Step15ProposedConditions.vue","../../../../frontend/src/components/request-steps/Step16Declarations.vue","../../../../frontend/src/components/request-steps/Step17Review.vue","../../../../frontend/src/pages/NewRequest.vue"],"sourcesContent":["<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Select Council</h2>\n    <p class=\"text-gray-600 mb-8\">Choose the council that will process your application</p>\n\n    <CouncilSelector\n      :model-value=\"modelValue.council\"\n      @update:model-value=\"updateCouncil\"\n      display-mode=\"cards\"\n      :required=\"true\"\n      :show-selected-info=\"true\"\n      label=\"\"\n      :show-label=\"false\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits } from 'vue'\nimport CouncilSelector from '../CouncilSelector.vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'council-change'])\n\nconst updateCouncil = (council) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    council: council\n  })\n  emit('council-change', council)\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Select Application Type</h2>\n    <p class=\"text-gray-600 mb-8\">Choose the type of consent you wish to apply for</p>\n\n    <div v-if=\"requestTypes.loading\" class=\"text-center py-12\">\n      <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n    </div>\n\n    <div v-else class=\"grid md:grid-cols-2 gap-4\">\n      <div\n        v-for=\"type in requestTypes.data\"\n        :key=\"type.name\"\n        @click=\"selectType(type)\"\n        class=\"border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md\"\n        :class=\"modelValue.request_type === type.name ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n      >\n        <div class=\"flex items-start justify-between\">\n          <div class=\"flex-1\">\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">{{ type.type_name }}</h3>\n            <p class=\"text-sm text-gray-600\" v-html=\"type.description || 'No description available'\"></p>\n            <div class=\"mt-4 flex items-center space-x-4 text-xs text-gray-500\">\n              <span v-if=\"type.base_fee\">Fee: ${{ type.base_fee }}</span>\n              <span v-if=\"type.processing_sla_days\">{{ type.processing_sla_days }} days</span>\n              <span v-if=\"type.category\" class=\"px-2 py-1 bg-gray-100 rounded\">{{ type.category }}</span>\n            </div>\n          </div>\n          <div v-if=\"modelValue.request_type === type.name\" class=\"ml-4\">\n            <div class=\"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center\">\n              <svg class=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  requestTypes: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'type-selected'])\n\nconst selectType = (type) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    request_type: type.name\n  })\n  emit('type-selected', type)\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Council Process Information</h2>\n    <p class=\"text-gray-600 mb-6\">Understanding {{ councilName }}'s process for this application</p>\n\n    <div v-if=\"requestTypeDetails\" class=\"space-y-6\">\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <div class=\"flex items-start justify-between mb-4\">\n          <div>\n            <h3 class=\"text-xl font-semibold text-gray-900\">{{ requestTypeDetails.request_type_name }}</h3>\n            <p v-if=\"requestTypeDetails.category\" class=\"text-sm text-gray-500 mt-1\">\n              {{ requestTypeDetails.category }}\n            </p>\n          </div>\n        </div>\n\n        <div class=\"grid md:grid-cols-3 gap-4 mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <div>\n            <div class=\"text-xs text-blue-600 font-medium uppercase\">Application Fee</div>\n            <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n              ${{ requestTypeDetails.base_fee || '0' }}\n            </div>\n            <div class=\"text-xs text-blue-600 mt-1\">Plus any additional costs</div>\n          </div>\n          <div>\n            <div class=\"text-xs text-blue-600 font-medium uppercase\">Processing Time</div>\n            <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n              {{ requestTypeDetails.sla_days || 'N/A' }} <span class=\"text-base\">days</span>\n            </div>\n            <div class=\"text-xs text-blue-600 mt-1\">Standard timeframe</div>\n          </div>\n          <div>\n            <div class=\"text-xs text-blue-600 font-medium uppercase\">Payment Required</div>\n            <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n              {{ requestTypeDetails.requires_payment ? 'Yes' : 'No' }}\n            </div>\n            <div class=\"text-xs text-blue-600 mt-1\">Before processing</div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"requestTypeDetails.process_description\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">How This Works</h4>\n        <div class=\"prose prose-sm max-w-none text-gray-700\" v-html=\"requestTypeDetails.process_description\"></div>\n      </div>\n\n      <div v-else-if=\"requestTypeDetails.description\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">About This Application</h4>\n        <p class=\"text-gray-700\">{{ requestTypeDetails.description }}</p>\n      </div>\n\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-yellow-900 text-sm\">Before You Continue</h5>\n            <p class=\"text-yellow-800 text-sm mt-1\">\n              Please review this information carefully. Make sure you understand the process, fees, and timeframes before proceeding with your application.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex justify-center pt-4\">\n        <button\n          @click=\"emit('continue')\"\n          class=\"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          I Understand - Continue to Application\n        </button>\n      </div>\n    </div>\n\n    <div v-else class=\"text-center py-12\">\n      <p class=\"text-gray-500\">No request type selected. Please go back and select a request type.</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits } from 'vue'\n\nconst props = defineProps({\n  requestTypeDetails: {\n    type: Object,\n    default: null\n  },\n  councilName: {\n    type: String,\n    default: ''\n  }\n})\n\nconst emit = defineEmits(['continue'])\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Who is this application for?</h2>\n    <p class=\"text-gray-600 mb-8\">Provide applicant and property owner information</p>\n\n    <div class=\"space-y-6\">\n      <div v-if=\"userCompanyAccount\">\n        <div class=\"mb-6\">\n          <h3 class=\"text-sm font-semibold text-gray-900 mb-3\">Submitting As</h3>\n          <div class=\"space-y-3\">\n            <label class=\"flex items-start space-x-3 cursor-pointer p-4 border-2 rounded-lg transition-colors\" :class=\"localData.submitted_on_behalf_of === 'Myself' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\">\n              <input\n                type=\"radio\"\n                value=\"Myself\"\n                v-model=\"localData.submitted_on_behalf_of\"\n                class=\"mt-1\"\n              />\n              <div class=\"flex-1\">\n                <div class=\"font-medium text-gray-900\">Individual - Submit for Myself</div>\n                <div class=\"text-sm text-gray-500\">This application is submitted as an individual</div>\n              </div>\n            </label>\n            <label class=\"flex items-start space-x-3 cursor-pointer p-4 border-2 rounded-lg transition-colors\" :class=\"localData.submitted_on_behalf_of === 'Company' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\">\n              <input\n                type=\"radio\"\n                value=\"Company\"\n                v-model=\"localData.submitted_on_behalf_of\"\n                class=\"mt-1\"\n              />\n              <div class=\"flex-1\">\n                <div class=\"font-medium text-gray-900\">Company - {{ userCompanyAccount.company_name }}</div>\n                <div class=\"text-sm text-gray-500\">Submit on behalf of your company account</div>\n                <div class=\"text-xs text-blue-600 mt-1\">You are logged in as: {{ userCompanyAccount.user_role }}</div>\n              </div>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"border-t border-gray-200 pt-6 mt-6\">\n        <div class=\"mb-6\">\n          <h3 class=\"text-sm font-semibold text-gray-900 mb-3\">Who is this application for?</h3>\n          <div class=\"space-y-3\">\n            <label class=\"flex items-start space-x-3 cursor-pointer\">\n              <input\n                type=\"radio\"\n                :value=\"false\"\n                v-model=\"localData.acting_on_behalf\"\n                class=\"mt-1\"\n              />\n              <div>\n                <div class=\"font-medium text-gray-900\">This application is for myself</div>\n                <div class=\"text-sm text-gray-500\">I am the applicant submitting this request</div>\n              </div>\n            </label>\n            <label class=\"flex items-start space-x-3 cursor-pointer\">\n              <input\n                type=\"radio\"\n                :value=\"true\"\n                v-model=\"localData.acting_on_behalf\"\n                class=\"mt-1\"\n              />\n              <div>\n                <div class=\"font-medium text-gray-900\">I am acting on behalf of a client</div>\n                <div class=\"text-sm text-gray-500\">I am an agent submitting this request for someone else</div>\n              </div>\n            </label>\n          </div>\n        </div>\n\n        <div>\n          <h3 class=\"text-sm font-semibold text-gray-900 mb-4\">\n            {{ localData.acting_on_behalf ? 'Client Information *' : 'Applicant Contact Information *' }}\n          </h3>\n\n          <div class=\"space-y-4\">\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Full Name *</label>\n                <input\n                  v-model=\"localData.applicant_name\"\n                  type=\"text\"\n                  placeholder=\"John Smith\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  :disabled=\"!localData.acting_on_behalf && userProfile\"\n                  required\n                />\n                <p v-if=\"!localData.acting_on_behalf\" class=\"mt-1 text-xs text-gray-500\">Auto-populated from your profile</p>\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Email Address *</label>\n                <input\n                  v-model=\"localData.applicant_email\"\n                  type=\"email\"\n                  placeholder=\"john@example.com\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  :disabled=\"!localData.acting_on_behalf && userProfile\"\n                  required\n                />\n                <p v-if=\"!localData.acting_on_behalf\" class=\"mt-1 text-xs text-gray-500\">Auto-populated from your profile</p>\n              </div>\n            </div>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Contact Phone *</label>\n                <input\n                  v-model=\"localData.applicant_phone\"\n                  type=\"tel\"\n                  placeholder=\"021 123 4567\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  required\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">\n                  {{ localData.acting_on_behalf ? 'Required for application processing' : 'Will be saved to your profile for future applications' }}\n                </p>\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Applicant Type *</label>\n                <select\n                  v-model=\"localData.applicant_type\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  required\n                >\n                  <option value=\"\">Select applicant type</option>\n                  <option value=\"Individual\">Individual</option>\n                  <option value=\"Company\">Company</option>\n                  <option value=\"Trust\">Trust</option>\n                  <option value=\"Partnership\">Partnership</option>\n                  <option value=\"Other\">Other</option>\n                </select>\n                <p class=\"mt-1 text-xs text-gray-500\">Type of entity making this application</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"mt-6 border-t border-gray-200 pt-6\">\n          <div class=\"flex items-start mb-4\">\n            <input\n              type=\"checkbox\"\n              v-model=\"localData.applicant_is_not_owner\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <label class=\"ml-3 text-sm font-medium text-gray-700\">\n              I am not the property owner\n            </label>\n          </div>\n\n          <div v-if=\"localData.applicant_is_not_owner\" class=\"space-y-4 pl-7\">\n            <p class=\"text-xs text-gray-600 mb-4\">\n              Under Section 88 of the RMA, you must provide the property owner's contact details.\n            </p>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Name *</label>\n                <input\n                  v-model=\"localData.owner_name\"\n                  type=\"text\"\n                  placeholder=\"Property owner's full name\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  :required=\"localData.applicant_is_not_owner\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Email</label>\n                <input\n                  v-model=\"localData.owner_email\"\n                  type=\"email\"\n                  placeholder=\"owner@example.com\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Phone</label>\n                <input\n                  v-model=\"localData.owner_phone\"\n                  type=\"tel\"\n                  placeholder=\"021 123 4567\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Address</label>\n                <textarea\n                  v-model=\"localData.owner_address\"\n                  rows=\"3\"\n                  placeholder=\"Owner's postal address\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                ></textarea>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  userProfile: {\n    type: Object,\n    default: null\n  },\n  userCompanyAccount: {\n    type: Object,\n    default: null\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Local data\nconst localData = ref({\n  submitted_on_behalf_of: props.modelValue.submitted_on_behalf_of || 'Myself',\n  acting_on_behalf: props.modelValue.acting_on_behalf || false,\n  applicant_name: props.modelValue.applicant_name || '',\n  applicant_email: props.modelValue.applicant_email || '',\n  applicant_phone: props.modelValue.applicant_phone || '',\n  applicant_type: props.modelValue.applicant_type || '',\n  applicant_is_not_owner: props.modelValue.applicant_is_not_owner || false,\n  owner_name: props.modelValue.owner_name || '',\n  owner_email: props.modelValue.owner_email || '',\n  owner_phone: props.modelValue.owner_phone || '',\n  owner_address: props.modelValue.owner_address || ''\n})\n\n// Watch for external changes\nwatch(() => props.modelValue, (newVal) => {\n  localData.value.submitted_on_behalf_of = newVal.submitted_on_behalf_of || 'Myself'\n  localData.value.acting_on_behalf = newVal.acting_on_behalf || false\n  localData.value.applicant_name = newVal.applicant_name || ''\n  localData.value.applicant_email = newVal.applicant_email || ''\n  localData.value.applicant_phone = newVal.applicant_phone || ''\n  localData.value.applicant_type = newVal.applicant_type || ''\n  localData.value.applicant_is_not_owner = newVal.applicant_is_not_owner || false\n  localData.value.owner_name = newVal.owner_name || ''\n  localData.value.owner_email = newVal.owner_email || ''\n  localData.value.owner_phone = newVal.owner_phone || ''\n  localData.value.owner_address = newVal.owner_address || ''\n}, { deep: true })\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    submitted_on_behalf_of: newVal.submitted_on_behalf_of,\n    acting_on_behalf: newVal.acting_on_behalf,\n    applicant_name: newVal.applicant_name,\n    applicant_email: newVal.applicant_email,\n    applicant_phone: newVal.applicant_phone,\n    applicant_type: newVal.applicant_type,\n    applicant_is_not_owner: newVal.applicant_is_not_owner,\n    owner_name: newVal.owner_name,\n    owner_email: newVal.owner_email,\n    owner_phone: newVal.owner_phone,\n    owner_address: newVal.owner_address\n  })\n}, { deep: true })\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Property Details</h2>\n    <p class=\"text-gray-600 mb-8\">Provide details about the property for this application</p>\n\n    <div class=\"space-y-6\">\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Select Existing Property or Enter New\n        </label>\n        <select\n          v-model=\"localData.property\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          @change=\"handlePropertySelect\"\n        >\n          <option value=\"\">-- Select a property or enter new --</option>\n          <option v-for=\"prop in properties.data\" :key=\"prop.name\" :value=\"prop.name\">\n            {{ prop.street_address }}, {{ prop.suburb }}{{ prop.legal_description ? ' - ' + prop.legal_description : '' }}\n          </option>\n        </select>\n      </div>\n\n      <div class=\"space-y-4\">\n        <div v-if=\"localData.property_address\" class=\"relative\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Property Address *</label>\n          <div class=\"flex gap-2\">\n            <input\n              v-model=\"localData.property_address\"\n              type=\"text\"\n              readonly\n              class=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-900\"\n            />\n            <button\n              @click=\"clearPropertyAddress\"\n              type=\"button\"\n              class=\"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 border border-blue-600 rounded-lg hover:bg-blue-50\"\n            >\n              Change\n            </button>\n          </div>\n          <p class=\"mt-1 text-xs text-green-600\">✓ Address selected from LINZ database</p>\n        </div>\n\n        <div v-else class=\"relative\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Search Property Address *</label>\n          <input\n            v-model=\"propertySearchQuery\"\n            @input=\"handlePropertySearch\"\n            @focus=\"showPropertyDropdown = true\"\n            type=\"text\"\n            placeholder=\"Start typing address... e.g., 123 Main Street\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            autocomplete=\"off\"\n          />\n          <p class=\"mt-1 text-xs text-gray-500\">Type to search LINZ property database</p>\n\n          <div\n            v-if=\"showPropertyDropdown && (propertySearchResults.length > 0 || propertySearchLoading)\"\n            class=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto\"\n          >\n            <div v-if=\"propertySearchLoading\" class=\"p-4 text-center text-gray-500\">\n              <div class=\"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mb-2\"></div>\n              <p class=\"text-sm\">Searching properties...</p>\n            </div>\n\n            <div v-else>\n              <button\n                v-for=\"(result, index) in propertySearchResults\"\n                :key=\"index\"\n                @click=\"selectProperty(result)\"\n                type=\"button\"\n                class=\"w-full text-left px-4 py-3 hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors focus:outline-none focus:bg-blue-50\"\n              >\n                <div class=\"font-medium text-gray-900\">{{ result.address }}</div>\n                <div class=\"text-sm text-gray-600 mt-1\">{{ result.property?.legal_description || 'Legal description not available' }}</div>\n                <div v-if=\"result.property?.title_no\" class=\"text-xs text-gray-500 mt-1\">\n                  Title: {{ result.property.title_no }}\n                </div>\n              </button>\n            </div>\n\n            <div v-if=\"!propertySearchLoading && propertySearchResults.length === 0 && propertySearchQuery.length >= 3\" class=\"p-4 text-center text-gray-500\">\n              <p class=\"text-sm\">No properties found. Try a different search.</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"grid md:grid-cols-2 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Legal Description</label>\n            <input\n              v-model=\"localData.legal_description\"\n              type=\"text\"\n              placeholder=\"Lot 1 DP 12345\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n              readonly\n            />\n            <p v-if=\"localData.legal_description\" class=\"mt-1 text-xs text-green-600\">\n              ✓ Auto-populated from LINZ\n            </p>\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Certificate of Title</label>\n            <input\n              v-model=\"localData.ct_reference\"\n              type=\"text\"\n              placeholder=\"WN123/456\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n              readonly\n            />\n            <p v-if=\"localData.ct_reference\" class=\"mt-1 text-xs text-green-600\">\n              ✓ Auto-populated from LINZ\n            </p>\n          </div>\n        </div>\n\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Upload Certificate of Title (Optional)\n          </label>\n          <input\n            type=\"file\"\n            @change=\"handleCTUpload\"\n            accept=\".pdf,.jpg,.jpeg,.png\"\n            class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\"\n          />\n          <p v-if=\"localData.certificate_of_title_document\" class=\"text-xs text-green-600 mt-1\">\n            ✓ Document uploaded\n          </p>\n          <p class=\"mt-1 text-xs text-gray-500\">Upload a copy of the Certificate of Title if available</p>\n        </div>\n\n        <div class=\"grid md:grid-cols-2 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Valuation Reference</label>\n            <input\n              v-model=\"localData.valuation_reference\"\n              type=\"text\"\n              placeholder=\"Auto-populated\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n              readonly\n            />\n            <p v-if=\"localData.valuation_reference\" class=\"mt-1 text-xs text-green-600\">\n              ✓ Valuation Reference\n            </p>\n            <p v-else class=\"mt-1 text-xs text-gray-500\">\n              Will be populated when address is selected\n            </p>\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Parcel ID</label>\n            <input\n              v-model=\"localData.parcel_id\"\n              type=\"text\"\n              placeholder=\"Auto-populated\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n              readonly\n            />\n            <p v-if=\"localData.parcel_id\" class=\"mt-1 text-xs text-green-600\">\n              ✓ LINZ Parcel ID\n            </p>\n          </div>\n        </div>\n\n        <div class=\"grid md:grid-cols-1 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Zone</label>\n            <input\n              v-model=\"localData.zone\"\n              type=\"text\"\n              placeholder=\"Auto-populated from District Plan\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n              readonly\n            />\n            <p v-if=\"localData.zone\" class=\"mt-1 text-xs text-green-600\">\n              ✓ District Plan zone\n            </p>\n            <p v-else class=\"mt-1 text-xs text-gray-500\">\n              Will be populated when address is selected\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\nimport { call } from 'frappe-ui'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  properties: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'property-select'])\n\n// Local data\nconst localData = ref({\n  property: props.modelValue.property || '',\n  property_address: props.modelValue.property_address || '',\n  legal_description: props.modelValue.legal_description || '',\n  ct_reference: props.modelValue.ct_reference || '',\n  certificate_of_title_document: props.modelValue.certificate_of_title_document || '',\n  valuation_reference: props.modelValue.valuation_reference || '',\n  parcel_id: props.modelValue.parcel_id || '',\n  zone: props.modelValue.zone || ''\n})\n\n// Property search state\nconst propertySearchQuery = ref('')\nconst propertySearchResults = ref([])\nconst propertySearchLoading = ref(false)\nconst showPropertyDropdown = ref(false)\nlet searchTimeout = null\n\n// Watch for external changes\nwatch(() => props.modelValue, (newVal) => {\n  localData.value.property = newVal.property || ''\n  localData.value.property_address = newVal.property_address || ''\n  localData.value.legal_description = newVal.legal_description || ''\n  localData.value.ct_reference = newVal.ct_reference || ''\n  localData.value.certificate_of_title_document = newVal.certificate_of_title_document || ''\n  localData.value.valuation_reference = newVal.valuation_reference || ''\n  localData.value.parcel_id = newVal.parcel_id || ''\n  localData.value.zone = newVal.zone || ''\n}, { deep: true })\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    property: newVal.property,\n    property_address: newVal.property_address,\n    legal_description: newVal.legal_description,\n    ct_reference: newVal.ct_reference,\n    certificate_of_title_document: newVal.certificate_of_title_document,\n    valuation_reference: newVal.valuation_reference,\n    parcel_id: newVal.parcel_id,\n    zone: newVal.zone\n  })\n}, { deep: true })\n\n// Property selection\nconst handlePropertySelect = () => {\n  emit('property-select')\n}\n\n// Property search\nconst handlePropertySearch = async () => {\n  if (searchTimeout) {\n    clearTimeout(searchTimeout)\n  }\n\n  const query = propertySearchQuery.value.trim()\n  if (query.length < 3) {\n    propertySearchResults.value = []\n    return\n  }\n\n  searchTimeout = setTimeout(async () => {\n    propertySearchLoading.value = true\n    try {\n      const results = await call('lodgeick.api.search_property_addresses', {\n        query: query\n      })\n      propertySearchResults.value = results || []\n    } catch (error) {\n      console.error('[Step5PropertyDetails] Error searching properties:', error)\n      propertySearchResults.value = []\n    } finally {\n      propertySearchLoading.value = false\n    }\n  }, 300)\n}\n\n// Select property from search results\nconst selectProperty = (result) => {\n  localData.value.property_address = result.address\n  localData.value.legal_description = result.property?.legal_description || ''\n  localData.value.ct_reference = result.property?.title_no || ''\n  localData.value.valuation_reference = result.property?.valuation_reference || ''\n  localData.value.parcel_id = result.property?.parcel_id || ''\n  localData.value.zone = result.property?.zone || ''\n\n  showPropertyDropdown.value = false\n  propertySearchQuery.value = ''\n  propertySearchResults.value = []\n}\n\n// Clear property address\nconst clearPropertyAddress = () => {\n  localData.value.property = ''\n  localData.value.property_address = ''\n  localData.value.legal_description = ''\n  localData.value.ct_reference = ''\n  localData.value.valuation_reference = ''\n  localData.value.parcel_id = ''\n  localData.value.zone = ''\n  propertySearchQuery.value = ''\n}\n\n// Handle CT upload\nconst handleCTUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // File upload will be handled by the parent component\n    emit('update:modelValue', {\n      ...props.modelValue,\n      certificate_of_title_document: file.name\n    })\n  }\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Delivery & Payment</h2>\n    <p class=\"text-gray-600 mb-8\">Choose how you'd like to receive documents and specify payment details</p>\n\n    <div class=\"space-y-6\">\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Delivery Preference *\n        </label>\n        <select\n          v-model=\"localData.delivery_preference\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          required\n        >\n          <option value=\"\">Select preference</option>\n          <option value=\"Email\">Email</option>\n          <option value=\"Post\">Post</option>\n          <option value=\"Portal\">Portal (online account)</option>\n        </select>\n        <p class=\"mt-1 text-xs text-gray-500\">How you'd like to receive council correspondence and decision documents</p>\n      </div>\n\n      <div class=\"border-t border-gray-200 pt-6\">\n        <div class=\"flex items-start mb-4\">\n          <input\n            type=\"checkbox\"\n            v-model=\"localData.transfer_deposit_required\"\n            class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n          />\n          <label class=\"ml-3 text-sm font-medium text-gray-700\">\n            Transfer deposit from existing consent\n          </label>\n        </div>\n\n        <div v-if=\"localData.transfer_deposit_required\" class=\"pl-7\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Existing Consent Number *\n          </label>\n          <input\n            v-model=\"localData.transfer_deposit_consent_number\"\n            type=\"text\"\n            placeholder=\"e.g., RC123456\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            :required=\"localData.transfer_deposit_required\"\n          />\n          <p class=\"mt-1 text-xs text-gray-500\">\n            Enter the consent number from which the deposit should be transferred\n          </p>\n        </div>\n      </div>\n\n      <div class=\"border-t border-gray-200 pt-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Invoice Details</h3>\n\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Invoice To *\n            </label>\n            <select\n              v-model=\"localData.invoice_to\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              required\n            >\n              <option value=\"\">Select who should receive the invoice</option>\n              <option value=\"Applicant\">Applicant</option>\n              <option value=\"Other\">Other (specify below)</option>\n            </select>\n          </div>\n\n          <div v-if=\"localData.invoice_to === 'Other'\" class=\"space-y-4 pl-4 border-l-4 border-blue-200\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Invoice Recipient Name *\n              </label>\n              <input\n                v-model=\"localData.invoice_name\"\n                type=\"text\"\n                placeholder=\"Full name or company name\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                :required=\"localData.invoice_to === 'Other'\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Invoice Recipient Email *\n              </label>\n              <input\n                v-model=\"localData.invoice_email\"\n                type=\"email\"\n                placeholder=\"invoice@example.com\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                :required=\"localData.invoice_to === 'Other'\"\n              />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Invoice Recipient Address\n              </label>\n              <textarea\n                v-model=\"localData.invoice_address\"\n                rows=\"3\"\n                placeholder=\"Recipient postal address\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Invoice Recipient GST/VAT Number\n              </label>\n              <input\n                v-model=\"localData.invoice_tax_id\"\n                type=\"text\"\n                placeholder=\"e.g., 123-456-789\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n              <p class=\"mt-1 text-xs text-gray-500\">Provide if applicable</p>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Local data\nconst localData = ref({\n  delivery_preference: props.modelValue.delivery_preference || '',\n  transfer_deposit_required: props.modelValue.transfer_deposit_required || false,\n  transfer_deposit_consent_number: props.modelValue.transfer_deposit_consent_number || '',\n  invoice_to: props.modelValue.invoice_to || '',\n  invoice_name: props.modelValue.invoice_name || '',\n  invoice_email: props.modelValue.invoice_email || '',\n  invoice_address: props.modelValue.invoice_address || '',\n  invoice_tax_id: props.modelValue.invoice_tax_id || ''\n})\n\n// Watch for external changes\nwatch(() => props.modelValue, (newVal) => {\n  localData.value.delivery_preference = newVal.delivery_preference || ''\n  localData.value.transfer_deposit_required = newVal.transfer_deposit_required || false\n  localData.value.transfer_deposit_consent_number = newVal.transfer_deposit_consent_number || ''\n  localData.value.invoice_to = newVal.invoice_to || ''\n  localData.value.invoice_name = newVal.invoice_name || ''\n  localData.value.invoice_email = newVal.invoice_email || ''\n  localData.value.invoice_address = newVal.invoice_address || ''\n  localData.value.invoice_tax_id = newVal.invoice_tax_id || ''\n}, { deep: true })\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    delivery_preference: newVal.delivery_preference,\n    transfer_deposit_required: newVal.transfer_deposit_required,\n    transfer_deposit_consent_number: newVal.transfer_deposit_consent_number,\n    invoice_to: newVal.invoice_to,\n    invoice_name: newVal.invoice_name,\n    invoice_email: newVal.invoice_email,\n    invoice_address: newVal.invoice_address,\n    invoice_tax_id: newVal.invoice_tax_id\n  })\n}, { deep: true })\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Consent Type & Activity Status</h2>\n    <p class=\"text-gray-600 mb-8\">Select the types of consent you're applying for and the activity status</p>\n\n    <div class=\"space-y-6\">\n      <!-- Card-Based Consent Type Selector -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-4\">\n          Consent Types Required * <span class=\"text-xs text-gray-500\">(Select all that apply)</span>\n        </label>\n        <div class=\"grid md:grid-cols-2 gap-4\">\n          <div\n            v-for=\"consentType in availableConsentTypes\"\n            :key=\"consentType.value\"\n            @click=\"toggleConsentType(consentType.value)\"\n            class=\"border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md\"\n            :class=\"isConsentTypeSelected(consentType.value) ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n          >\n            <div class=\"flex items-start\">\n              <input\n                type=\"checkbox\"\n                :checked=\"isConsentTypeSelected(consentType.value)\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded pointer-events-none\"\n                readonly\n              />\n              <div class=\"ml-3 flex-1\">\n                <h3 class=\"text-base font-semibold text-gray-900\">{{ consentType.label }}</h3>\n                <p class=\"text-sm text-gray-600 mt-1\">{{ consentType.description }}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Activity Status -->\n      <div class=\"border-t border-gray-200 pt-6\">\n        <label class=\"block text-sm font-medium text-gray-700 mb-3\">\n          Activity Status Under District/Regional Plan (Optional)\n        </label>\n        <div class=\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <div class=\"flex items-start\">\n            <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <div>\n              <h5 class=\"font-semibold text-blue-900 text-sm\">Not sure? That's okay!</h5>\n              <p class=\"text-blue-800 text-sm mt-1\">\n                If you're unsure about your activity status, you can leave this blank. The council planner will determine the correct status when processing your application.\n                Alternatively, you can book a free pre-application meeting with the council to discuss this.\n              </p>\n            </div>\n          </div>\n        </div>\n        <div class=\"space-y-2\">\n          <label\n            v-for=\"status in activityStatuses\"\n            :key=\"status.value\"\n            class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-all hover:bg-gray-50\"\n            :class=\"localData.activity_status === status.value ? 'border-blue-600 bg-blue-50' : 'border-gray-200'\"\n          >\n            <input\n              type=\"radio\"\n              v-model=\"localData.activity_status\"\n              :value=\"status.value\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">{{ status.label }}</span>\n              <p class=\"text-xs text-gray-600 mt-1\">{{ status.description }}</p>\n            </div>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Available consent types\nconst availableConsentTypes = [\n  {\n    value: 'Land Use',\n    label: 'Land Use',\n    description: 'For buildings, structures, and use of land'\n  },\n  {\n    value: 'Subdivision',\n    label: 'Subdivision',\n    description: 'For dividing land into separate lots or titles'\n  },\n  {\n    value: 'Discharge Permit',\n    label: 'Discharge Permit',\n    description: 'For discharges to land, water, or air'\n  },\n  {\n    value: 'Water Permit',\n    label: 'Water Permit',\n    description: 'For taking, using, damming, or diverting water'\n  },\n  {\n    value: 'Coastal Permit',\n    label: 'Coastal Permit',\n    description: 'For activities in the coastal marine area'\n  }\n]\n\n// Activity statuses\nconst activityStatuses = [\n  {\n    value: 'Unsure',\n    label: 'Unsure / To Be Determined by Council',\n    description: 'Council planner will assess and determine the correct status'\n  },\n  {\n    value: 'Permitted',\n    label: 'Permitted Activity',\n    description: 'Complies with all permitted activity standards'\n  },\n  {\n    value: 'Controlled',\n    label: 'Controlled Activity',\n    description: 'Council must grant consent, can impose conditions'\n  },\n  {\n    value: 'Restricted Discretionary',\n    label: 'Restricted Discretionary Activity',\n    description: \"Council's discretion limited to specified matters\"\n  },\n  {\n    value: 'Discretionary',\n    label: 'Discretionary Activity',\n    description: 'Council has full discretion to grant or decline'\n  },\n  {\n    value: 'Non-Complying',\n    label: 'Non-Complying Activity',\n    description: 'Does not comply with plan, requires special consideration'\n  }\n]\n\n// Local data\nconst localData = ref({\n  consent_types: props.modelValue.consent_types || [],\n  activity_status: props.modelValue.activity_status || ''\n})\n\n// Watch for external changes\nwatch(() => [props.modelValue.consent_types, props.modelValue.activity_status], ([newConsentTypes, newActivityStatus]) => {\n  localData.value.consent_types = newConsentTypes || []\n  localData.value.activity_status = newActivityStatus || ''\n}, { deep: true })\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    consent_types: newVal.consent_types,\n    activity_status: newVal.activity_status\n  })\n}, { deep: true })\n\n// Toggle consent type selection\nconst toggleConsentType = (consentType) => {\n  const index = localData.value.consent_types.findIndex(ct => ct.consent_type === consentType)\n  if (index > -1) {\n    localData.value.consent_types.splice(index, 1)\n  } else {\n    localData.value.consent_types.push({ consent_type: consentType })\n  }\n}\n\n// Check if consent type is selected\nconst isConsentTypeSelected = (consentType) => {\n  return localData.value.consent_types.some(ct => ct.consent_type === consentType)\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Consent Details</h2>\n    <p class=\"text-gray-600 mb-8\">Additional details specific to your consent type(s)</p>\n\n    <div class=\"space-y-6\">\n      <!-- Duration - Per Consent Type -->\n      <div>\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Requested Duration</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Specify the duration for each consent type selected\n        </p>\n        <div class=\"space-y-4\">\n          <div\n            v-for=\"ct in props.modelValue.consent_types\"\n            :key=\"ct.consent_type\"\n            class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\"\n          >\n            <label :for=\"getDurationInputId(ct.consent_type)\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n              {{ ct.consent_type }} Duration\n            </label>\n            <div class=\"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:items-start\">\n              <div class=\"flex-1\">\n                <div class=\"flex items-center gap-2\">\n                  <input\n                    :id=\"getDurationInputId(ct.consent_type)\"\n                    v-model.number=\"getDurationData(ct.consent_type).duration_years\"\n                    type=\"number\"\n                    :min=\"1\"\n                    :max=\"getMaxDuration(ct.consent_type)\"\n                    placeholder=\"e.g., 10\"\n                    :disabled=\"getDurationData(ct.consent_type).duration_unlimited\"\n                    :aria-label=\"`Duration in years for ${ct.consent_type} consent`\"\n                    :aria-describedby=\"getDurationHelpId(ct.consent_type)\"\n                    :aria-invalid=\"!!getDurationError(ct.consent_type)\"\n                    :class=\"[\n                      'flex-1 min-w-0 px-3 py-2 rounded-lg transition-colors',\n                      'focus:ring-2 focus:ring-blue-500 focus:outline-none',\n                      getDurationValidationClass(ct.consent_type)\n                    ]\"\n                    @blur=\"validateDuration(ct.consent_type)\"\n                    @input=\"validateDuration(ct.consent_type)\"\n                  />\n                  <span class=\"text-gray-600 whitespace-nowrap\">years</span>\n                </div>\n\n                <!-- Real-time validation messages -->\n                <div :id=\"getDurationHelpId(ct.consent_type)\" class=\"mt-1.5 min-h-[20px]\">\n                  <p v-if=\"getDurationError(ct.consent_type)\"\n                     role=\"alert\"\n                     class=\"text-xs text-red-600 flex items-center gap-1.5 font-medium\">\n                    <svg class=\"w-3.5 h-3.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                      <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\n                    </svg>\n                    {{ getDurationError(ct.consent_type) }}\n                  </p>\n                  <p v-else-if=\"durationTouched[ct.consent_type] && getDurationData(ct.consent_type).duration_years && !getDurationData(ct.consent_type).duration_unlimited\"\n                     class=\"text-xs text-green-600 flex items-center gap-1.5 font-medium\">\n                    <svg class=\"w-3.5 h-3.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                      <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n                    </svg>\n                    Valid duration\n                  </p>\n                  <p v-else class=\"text-xs text-gray-500\">\n                    {{ getDurationHelpText(ct.consent_type) }}\n                  </p>\n                </div>\n              </div>\n              <label v-if=\"canBeUnlimited(ct.consent_type)\"\n                     :for=\"getUnlimitedCheckboxId(ct.consent_type)\"\n                     class=\"flex items-center gap-2 whitespace-nowrap pl-4 sm:pl-0 border-l-2 sm:border-l-0 border-gray-200 sm:pt-2\">\n                <input\n                  :id=\"getUnlimitedCheckboxId(ct.consent_type)\"\n                  v-model=\"getDurationData(ct.consent_type).duration_unlimited\"\n                  type=\"checkbox\"\n                  :aria-label=\"`Unlimited duration for ${ct.consent_type} consent`\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                  @change=\"onUnlimitedToggle(ct.consent_type)\"\n                />\n                <span class=\"text-sm font-medium\">Unlimited</span>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Lapsing Period -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Lapsing Period\n        </label>\n        <select\n          v-model.number=\"localData.lapsing_period_years\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        >\n          <option :value=\"5\">5 years (standard)</option>\n          <option :value=\"10\">10 years (renewable energy)</option>\n          <option v-if=\"isCoastalPermit\" :value=\"3\">3 years (aquaculture)</option>\n        </select>\n        <p class=\"mt-1 text-xs text-gray-500\">\n          Time period before consent lapses if not given effect to (s.125 RMA)\n        </p>\n      </div>\n\n      <!-- Consent Notice - Subdivision only -->\n      <div v-if=\"isSubdivision\" class=\"border-t border-gray-200 pt-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Consent Notice (s.221 RMA)</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          For subdivision consents, indicate whether a consent notice should be placed on the record of title\n        </p>\n        <div class=\"space-y-3\">\n          <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n            :class=\"localData.consent_notice_required ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n          >\n            <input\n              v-model=\"localData.consent_notice_required\"\n              type=\"checkbox\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">Consent notice required</span>\n              <p class=\"text-xs text-gray-600 mt-1\">\n                Check if ongoing conditions need to be recorded on the certificate of title\n              </p>\n            </div>\n          </label>\n\n          <div v-if=\"localData.consent_notice_required\" class=\"pl-7\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Consent Notice Details *\n            </label>\n            <textarea\n              v-model=\"localData.consent_notice_details\"\n              rows=\"4\"\n              placeholder=\"Describe the matters to be included in the consent notice...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              :required=\"localData.consent_notice_required\"\n            ></textarea>\n          </div>\n        </div>\n      </div>\n\n      <!-- Coastal Occupation Charge - Coastal Permit only -->\n      <div v-if=\"isCoastalPermit\" class=\"border-t border-gray-200 pt-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Coastal Occupation Charge</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          For occupation of the coastal marine area, councils may impose a coastal occupation charge\n        </p>\n        <div class=\"space-y-3\">\n          <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n            :class=\"localData.coastal_occupation_charge_acknowledged ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n          >\n            <input\n              v-model=\"localData.coastal_occupation_charge_acknowledged\"\n              type=\"checkbox\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">I acknowledge that a coastal occupation charge may apply</span>\n              <p class=\"text-xs text-gray-600 mt-1\">\n                The council will determine the applicable charge based on the nature and extent of occupation\n              </p>\n            </div>\n          </label>\n        </div>\n      </div>\n\n      <!-- Financial Contribution - All types -->\n      <div class=\"border-t border-gray-200 pt-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Financial Contribution (s.108(2)(a) RMA)</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Council may impose financial contributions as a condition of consent\n        </p>\n        <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <div class=\"flex items-start\">\n            <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <div>\n              <h5 class=\"font-semibold text-blue-900 text-sm\">Information Only</h5>\n              <p class=\"text-blue-800 text-sm mt-1\">\n                Financial contributions are determined by council policy and will be advised during processing if applicable. No action required at this stage.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Fast-Track Processing - User Selectable -->\n      <div v-if=\"fastTrackAvailable\" class=\"border-t border-gray-200 pt-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Fast-Track Processing (s.87AAB RMA)</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Controlled activities may be eligible for fast-track processing with reduced timeframes\n        </p>\n\n        <div v-if=\"eligibleForFastTrack\" class=\"space-y-3\">\n          <div class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n            <div class=\"flex items-start\">\n              <svg class=\"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <div>\n                <h5 class=\"font-semibold text-green-900 text-sm\">Eligible for Fast-Track</h5>\n                <p class=\"text-green-800 text-sm mt-1\">\n                  Based on your consent type and activity status (Controlled), this application is eligible for fast-track processing.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <label class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer transition-colors\"\n            :class=\"localData.request_fast_track ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n          >\n            <input\n              v-model=\"localData.request_fast_track\"\n              type=\"checkbox\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">Request fast-track processing</span>\n              <p class=\"text-xs text-gray-600 mt-1\">\n                I would like this application to be processed under fast-track provisions (subject to council availability)\n              </p>\n            </div>\n          </label>\n        </div>\n\n        <div v-else class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n          <p class=\"text-sm text-gray-600\">\n            Fast-track processing is only available for Controlled activities (excluding Subdivision consents).\n            Your current selections do not qualify for fast-track.\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch, computed, reactive } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Consent type checks\nconst hasConsentType = (type) => {\n  return props.modelValue.consent_types?.some(ct => ct.consent_type === type) || false\n}\n\nconst isSubdivision = computed(() => hasConsentType('Subdivision'))\nconst isCoastalPermit = computed(() => hasConsentType('Coastal Permit'))\nconst isLandUse = computed(() => hasConsentType('Land Use'))\nconst isWaterPermit = computed(() => hasConsentType('Water Permit'))\nconst isDischargePermit = computed(() => hasConsentType('Discharge Permit'))\n\n// Duration helpers - per consent type\nconst canBeUnlimited = (consentType) => {\n  return consentType === 'Land Use' || consentType === 'Subdivision'\n}\n\nconst getMaxDuration = (consentType) => {\n  return canBeUnlimited(consentType) ? 999 : 35\n}\n\nconst getDurationHelpText = (consentType) => {\n  if (canBeUnlimited(consentType)) {\n    return 'Land Use and Subdivision consents can be granted for unlimited duration (s.123 RMA)'\n  }\n  return 'Water Permits, Discharge Permits, and Coastal Permits have a maximum duration of 35 years (s.123 RMA)'\n}\n\n// Duration data management - store per consent type\nconst durationData = reactive({})\n\nconst getDurationData = (consentType) => {\n  if (!durationData[consentType]) {\n    // Check if data exists in modelValue\n    const existing = props.modelValue.consent_type_durations?.find(d => d.consent_type === consentType)\n    if (existing) {\n      durationData[consentType] = { ...existing }\n    } else {\n      durationData[consentType] = {\n        consent_type: consentType,\n        duration_years: 10,\n        duration_unlimited: false\n      }\n    }\n  }\n  return durationData[consentType]\n}\n\n// Real-time validation state\nconst durationTouched = reactive({})\nconst durationErrors = reactive({})\n\n// Validate duration input\nconst validateDuration = (consentType) => {\n  durationTouched[consentType] = true\n  const data = getDurationData(consentType)\n\n  // Clear error if unlimited is selected\n  if (data.duration_unlimited) {\n    durationErrors[consentType] = null\n    return\n  }\n\n  const max = getMaxDuration(consentType)\n  const years = data.duration_years\n\n  // Validation rules\n  if (!years || years < 1) {\n    durationErrors[consentType] = 'Duration must be at least 1 year'\n  } else if (years > max) {\n    if (canBeUnlimited(consentType)) {\n      durationErrors[consentType] = `Maximum ${max} years, or select \"Unlimited\" (s.123 RMA)`\n    } else {\n      durationErrors[consentType] = `${consentType} cannot exceed ${max} years (s.123 RMA)`\n    }\n  } else {\n    durationErrors[consentType] = null\n  }\n}\n\n// Get validation CSS class\nconst getDurationValidationClass = (consentType) => {\n  if (!durationTouched[consentType]) {\n    return 'border border-gray-300 bg-white'\n  }\n  if (durationErrors[consentType]) {\n    return 'border-2 border-red-300 bg-red-50'\n  }\n  if (getDurationData(consentType).duration_years && !getDurationData(consentType).duration_unlimited) {\n    return 'border-2 border-green-300 bg-green-50'\n  }\n  return 'border border-gray-300 bg-white'\n}\n\n// Get validation error message\nconst getDurationError = (consentType) => {\n  return durationErrors[consentType]\n}\n\n// Handle unlimited checkbox toggle\nconst onUnlimitedToggle = (consentType) => {\n  validateDuration(consentType)\n}\n\n// Accessibility helper functions - Generate unique IDs for ARIA\nconst getDurationInputId = (consentType) => {\n  return `duration-${consentType.toLowerCase().replace(/\\s+/g, '-')}`\n}\n\nconst getDurationHelpId = (consentType) => {\n  return `duration-help-${consentType.toLowerCase().replace(/\\s+/g, '-')}`\n}\n\nconst getUnlimitedCheckboxId = (consentType) => {\n  return `unlimited-${consentType.toLowerCase().replace(/\\s+/g, '-')}`\n}\n\n// Watch duration data and sync to modelValue\nwatch(durationData, () => {\n  const durations = Object.values(durationData)\n  emit('update:modelValue', {\n    ...props.modelValue,\n    consent_type_durations: durations\n  })\n}, { deep: true })\n\n// Fast-track eligibility and availability\nconst eligibleForFastTrack = computed(() => {\n  const isControlled = props.modelValue.activity_status === 'Controlled'\n  const notSubdivision = !isSubdivision.value\n  return isControlled && notSubdivision\n})\n\n// Check if council has fast-track enabled (will be passed from parent)\nconst fastTrackAvailable = computed(() => {\n  // This will check against council's request type configuration\n  // For now, assume available if the feature exists\n  return true\n})\n\n// Local data\nconst localData = ref({\n  lapsing_period_years: props.modelValue.lapsing_period_years || 5,\n  consent_notice_required: props.modelValue.consent_notice_required || false,\n  consent_notice_details: props.modelValue.consent_notice_details || '',\n  coastal_occupation_charge_acknowledged: props.modelValue.coastal_occupation_charge_acknowledged || false,\n  request_fast_track: props.modelValue.request_fast_track || false\n})\n\n// Watch for external changes\nwatch(() => props.modelValue, (newVal) => {\n  localData.value.lapsing_period_years = newVal.lapsing_period_years || 5\n  localData.value.consent_notice_required = newVal.consent_notice_required || false\n  localData.value.consent_notice_details = newVal.consent_notice_details || ''\n  localData.value.coastal_occupation_charge_acknowledged = newVal.coastal_occupation_charge_acknowledged || false\n  localData.value.request_fast_track = newVal.request_fast_track || false\n}, { deep: true })\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    lapsing_period_years: newVal.lapsing_period_years,\n    consent_notice_required: newVal.consent_notice_required,\n    consent_notice_details: newVal.consent_notice_details,\n    coastal_occupation_charge_acknowledged: newVal.coastal_occupation_charge_acknowledged,\n    request_fast_track: newVal.request_fast_track\n  })\n}, { deep: true })\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Proposal Details</h2>\n    <p class=\"text-gray-600 mb-8\">Describe your proposed activity in detail</p>\n\n    <div class=\"space-y-6\">\n      <!-- Brief Description -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Brief Description *\n        </label>\n        <textarea\n          v-model=\"localData.brief_description\"\n          rows=\"2\"\n          maxlength=\"200\"\n          placeholder=\"Provide a short summary of your proposal (max 200 characters)\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          required\n        ></textarea>\n        <p class=\"mt-1 text-xs text-gray-500\">\n          {{ localData.brief_description?.length || 0 }}/200 characters\n        </p>\n      </div>\n\n      <!-- Detailed Description -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Detailed Description *\n        </label>\n        <textarea\n          v-model=\"localData.detailed_description\"\n          rows=\"6\"\n          placeholder=\"Provide a comprehensive description of your proposal including scope, materials, dimensions, environmental considerations, and any other relevant information for the planner's assessment\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          required\n        ></textarea>\n        <p class=\"mt-1 text-xs text-gray-500\">\n          Full description of the proposed work for planner assessment\n        </p>\n      </div>\n\n      <div class=\"border-t border-gray-200 pt-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Detailed Breakdown (Optional)</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Add specific details for different aspects of your proposal\n        </p>\n      </div>\n\n      <!-- Add Proposal Detail Button -->\n      <div class=\"flex justify-between items-center\">\n        <p class=\"text-sm text-gray-700\">\n          Add details about different aspects of your proposal (building, earthworks, traffic, etc.)\n        </p>\n        <button\n          @click=\"addProposalDetail\"\n          type=\"button\"\n          class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n          </svg>\n          Add Proposal Detail\n        </button>\n      </div>\n\n      <!-- Proposal Details List -->\n      <div v-if=\"modelValue.proposal_details && modelValue.proposal_details.length > 0\" class=\"space-y-4\">\n        <div\n          v-for=\"(detail, index) in modelValue.proposal_details\"\n          :key=\"index\"\n          class=\"border border-gray-200 rounded-lg p-6 bg-white shadow-sm\"\n        >\n          <div class=\"flex justify-between items-start mb-4\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ detail.detail_type || 'Proposal Detail' }} #{{ index + 1 }}\n            </h3>\n            <button\n              @click=\"removeProposalDetail(index)\"\n              type=\"button\"\n              class=\"text-red-600 hover:text-red-800 p-1\"\n              title=\"Remove\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n              </svg>\n            </button>\n          </div>\n\n          <!-- Detail Type Selector -->\n          <div class=\"mb-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Detail Type *\n            </label>\n            <select\n              v-model=\"detail.detail_type\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              required\n            >\n              <option value=\"\">Select type</option>\n              <option value=\"Building\">Building</option>\n              <option value=\"Earthworks\">Earthworks</option>\n              <option value=\"Traffic\">Traffic & Parking</option>\n              <option value=\"Operations\">Operations</option>\n              <option value=\"Subdivision\">Subdivision</option>\n              <option value=\"Discharge\">Discharge</option>\n              <option value=\"Water\">Water Take/Use</option>\n              <option value=\"Coastal\">Coastal Activity</option>\n            </select>\n          </div>\n\n          <!-- Building Details -->\n          <div v-if=\"detail.detail_type === 'Building'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h4 class=\"font-medium text-gray-900\">Building Details</h4>\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Building Height (m)</label>\n                <input\n                  v-model.number=\"detail.building_height_m\"\n                  type=\"number\"\n                  step=\"0.1\"\n                  placeholder=\"e.g., 8.5\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Total Floor Area (m²)</label>\n                <input\n                  v-model.number=\"detail.total_floor_area_m2\"\n                  type=\"number\"\n                  step=\"0.1\"\n                  placeholder=\"e.g., 250.5\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Earthworks Details -->\n          <div v-if=\"detail.detail_type === 'Earthworks'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h4 class=\"font-medium text-gray-900\">Earthworks Details</h4>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n              <textarea\n                v-model=\"detail.earthworks_description\"\n                rows=\"4\"\n                placeholder=\"Describe the earthworks proposed...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n          </div>\n\n          <!-- Traffic Details -->\n          <div v-if=\"detail.detail_type === 'Traffic'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h4 class=\"font-medium text-gray-900\">Traffic & Parking Details</h4>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n              <textarea\n                v-model=\"detail.traffic_description\"\n                rows=\"4\"\n                placeholder=\"Describe traffic generation, parking provision, access arrangements...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n          </div>\n\n          <!-- Operations Details -->\n          <div v-if=\"detail.detail_type === 'Operations'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h4 class=\"font-medium text-gray-900\">Operations Details</h4>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n              <textarea\n                v-model=\"detail.operations_description\"\n                rows=\"4\"\n                placeholder=\"Describe hours of operation, activities, processes...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n          </div>\n\n          <!-- Subdivision Details -->\n          <div v-if=\"detail.detail_type === 'Subdivision'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h4 class=\"font-medium text-gray-900\">Subdivision Details</h4>\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Number of Lots</label>\n                <input\n                  v-model.number=\"detail.subdivision_lots\"\n                  type=\"number\"\n                  placeholder=\"e.g., 5\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Lot Sizes</label>\n                <input\n                  v-model=\"detail.subdivision_lot_sizes\"\n                  type=\"text\"\n                  placeholder=\"e.g., 800m², 1000m², 1200m²\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Discharge Details -->\n          <div v-if=\"detail.detail_type === 'Discharge'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h4 class=\"font-medium text-gray-900\">Discharge Details</h4>\n            <div class=\"space-y-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Discharge Type</label>\n                <select\n                  v-model=\"detail.discharge_type\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select type</option>\n                  <option value=\"Stormwater\">Stormwater</option>\n                  <option value=\"Wastewater\">Wastewater</option>\n                  <option value=\"Air\">Air</option>\n                  <option value=\"Other\">Other</option>\n                </select>\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Receiving Environment</label>\n                <input\n                  v-model=\"detail.discharge_receiver\"\n                  type=\"text\"\n                  placeholder=\"e.g., Reticulated network, stream, land\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Treatment System</label>\n                <textarea\n                  v-model=\"detail.discharge_treatment\"\n                  rows=\"3\"\n                  placeholder=\"Describe treatment systems and methods...\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                ></textarea>\n              </div>\n            </div>\n          </div>\n\n          <!-- Water Details -->\n          <div v-if=\"detail.detail_type === 'Water'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h4 class=\"font-medium text-gray-900\">Water Take/Use Details</h4>\n            <div class=\"space-y-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Water Source</label>\n                <input\n                  v-model=\"detail.water_source\"\n                  type=\"text\"\n                  placeholder=\"e.g., River, bore, stream\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Maximum Take (m³/day)</label>\n                  <input\n                    v-model.number=\"detail.water_max_take_m3\"\n                    type=\"number\"\n                    step=\"0.1\"\n                    placeholder=\"e.g., 50\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">Rate</label>\n                  <input\n                    v-model=\"detail.water_rate\"\n                    type=\"text\"\n                    placeholder=\"e.g., 2 L/s\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Coastal Details -->\n          <div v-if=\"detail.detail_type === 'Coastal'\" class=\"space-y-4 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <h4 class=\"font-medium text-gray-900\">Coastal Activity Details</h4>\n            <div class=\"space-y-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Structure Type</label>\n                <input\n                  v-model=\"detail.coastal_structure_type\"\n                  type=\"text\"\n                  placeholder=\"e.g., Jetty, mooring, seawall\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Navigation Effects</label>\n                <textarea\n                  v-model=\"detail.coastal_navigation_effects\"\n                  rows=\"3\"\n                  placeholder=\"Describe potential effects on navigation...\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                ></textarea>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-else class=\"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n        <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n        </svg>\n        <p class=\"mt-2 text-sm text-gray-600\">No proposal details added yet</p>\n        <p class=\"text-xs text-gray-500 mt-1\">Click \"Add Proposal Detail\" to describe your proposed activity</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Local data for brief and detailed descriptions\nconst localData = ref({\n  brief_description: props.modelValue.brief_description || '',\n  detailed_description: props.modelValue.detailed_description || ''\n})\n\n// Watch for external changes\nwatch(() => [props.modelValue.brief_description, props.modelValue.detailed_description],\n  ([newBrief, newDetailed]) => {\n    localData.value.brief_description = newBrief || ''\n    localData.value.detailed_description = newDetailed || ''\n  }\n)\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    brief_description: newVal.brief_description,\n    detailed_description: newVal.detailed_description\n  })\n}, { deep: true })\n\nconst addProposalDetail = () => {\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.proposal_details) {\n    updatedData.proposal_details = []\n  }\n  updatedData.proposal_details.push({\n    detail_type: '',\n    building_height_m: null,\n    total_floor_area_m2: null,\n    earthworks_description: '',\n    traffic_description: '',\n    operations_description: '',\n    subdivision_lots: null,\n    subdivision_lot_sizes: '',\n    discharge_type: '',\n    discharge_receiver: '',\n    discharge_treatment: '',\n    water_source: '',\n    water_max_take_m3: null,\n    water_rate: '',\n    coastal_structure_type: '',\n    coastal_navigation_effects: ''\n  })\n  emit('update:modelValue', updatedData)\n}\n\nconst removeProposalDetail = (index) => {\n  if (confirm('Remove this proposal detail?')) {\n    const updatedData = { ...props.modelValue }\n    updatedData.proposal_details.splice(index, 1)\n    emit('update:modelValue', updatedData)\n  }\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Site & Environment</h2>\n    <p class=\"text-gray-600 mb-8\">Describe the site and existing environment</p>\n\n    <div class=\"space-y-6\">\n      <!-- Site Information -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Site Information</h3>\n        <div class=\"grid md:grid-cols-2 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Site Area (m²)</label>\n            <input\n              v-model.number=\"localData.site_area_m2\"\n              type=\"number\"\n              step=\"0.1\"\n              placeholder=\"e.g., 800\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Current Use</label>\n            <input\n              v-model=\"localData.current_use\"\n              type=\"text\"\n              placeholder=\"e.g., Residential dwelling\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- Planning Context -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Planning Context</h3>\n        <div class=\"grid md:grid-cols-2 gap-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Zoning</label>\n            <input\n              v-model=\"localData.zoning\"\n              type=\"text\"\n              placeholder=\"e.g., Residential, Rural, Mixed Use\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Overlays</label>\n            <textarea\n              v-model=\"localData.overlays\"\n              rows=\"2\"\n              placeholder=\"e.g., Heritage overlay, flood zone, outstanding natural landscape\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n            <p class=\"mt-1 text-xs text-gray-500\">List any planning overlays that apply to the site</p>\n          </div>\n        </div>\n        <div class=\"mt-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Designations</label>\n          <textarea\n            v-model=\"localData.designations\"\n            rows=\"2\"\n            placeholder=\"e.g., Road designation, network utilities\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          ></textarea>\n          <p class=\"mt-1 text-xs text-gray-500\">List any designations affecting the property</p>\n        </div>\n      </div>\n\n      <!-- Site Description -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Site Description</h3>\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Site Topography</label>\n            <textarea\n              v-model=\"localData.site_topography\"\n              rows=\"4\"\n              placeholder=\"Describe the topography (flat, sloping, rolling, steep), aspect, elevation changes...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Existing Vegetation</label>\n            <textarea\n              v-model=\"localData.existing_vegetation\"\n              rows=\"4\"\n              placeholder=\"Describe vegetation on the site (lawns, gardens, mature trees, bush, etc.)\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n\n          <div class=\"flex items-start\">\n            <input\n              type=\"checkbox\"\n              v-model=\"localData.significant_vegetation\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <label class=\"ml-3 text-sm font-medium text-gray-700\">\n              Significant Indigenous Vegetation Present\n              <p class=\"text-xs text-gray-500 font-normal mt-1\">Check if the site contains significant indigenous vegetation or habitats</p>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <!-- Watercourses / Wetlands -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Watercourses / Wetlands</h3>\n        <div class=\"space-y-4\">\n          <div class=\"flex items-start\">\n            <input\n              type=\"checkbox\"\n              v-model=\"localData.watercourses_present\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <label class=\"ml-3 text-sm font-medium text-gray-700\">\n              Watercourses or Wetlands Present\n              <p class=\"text-xs text-gray-500 font-normal mt-1\">Check if there are streams, rivers, wetlands, or water bodies on or adjacent to the site</p>\n            </label>\n          </div>\n\n          <div v-if=\"localData.watercourses_present\" class=\"pl-7\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\n            <textarea\n              v-model=\"localData.watercourses_description\"\n              rows=\"4\"\n              placeholder=\"Describe the watercourse/wetland (type, location, size, condition, flow characteristics)...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n        </div>\n      </div>\n\n      <!-- HAIL Contamination Status -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">HAIL Contamination Status</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Hazardous Activities and Industries List (HAIL) - indicate if the site has been used for activities that may have caused contamination\n        </p>\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">HAIL Status *</label>\n            <select\n              v-model=\"localData.hail_status\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select status</option>\n              <option value=\"Not Applicable\">Not Applicable - Site never used for HAIL activities</option>\n              <option value=\"No Known Contamination\">No Known Contamination - HAIL use but no evidence of contamination</option>\n              <option value=\"Potential\">Potential Contamination - HAIL use, contamination possible</option>\n              <option value=\"Confirmed\">Confirmed Contamination - Contamination identified</option>\n            </select>\n          </div>\n\n          <div v-if=\"localData.hail_status === 'Potential' || localData.hail_status === 'Confirmed'\" class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n            <div class=\"flex items-start\">\n              <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n              </svg>\n              <div>\n                <h5 class=\"font-semibold text-yellow-900 text-sm\">Contaminated Site Notice</h5>\n                <p class=\"text-yellow-800 text-sm mt-1\">\n                  You may need a Preliminary or Detailed Site Investigation (PSI/DSI) by a qualified contaminated land specialist. Consult the council's environmental health team.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Existing Infrastructure -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Existing Infrastructure</h3>\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Infrastructure Description</label>\n          <textarea\n            v-model=\"localData.existing_infrastructure\"\n            rows=\"4\"\n            placeholder=\"Describe existing infrastructure on the site (buildings, driveways, fences, services - water, wastewater, stormwater, power, telecommunications)...\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          ></textarea>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Create a computed property for local data that syncs with parent\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">National Environmental Standards & Natural Hazards</h2>\n    <p class=\"text-gray-600 mb-8\">Assess compliance with NES and identify natural hazards</p>\n\n    <div class=\"space-y-8\">\n      <!-- National Environmental Standards -->\n      <div>\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">National Environmental Standards (NES)</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Indicate which NES may apply to your proposal and confirm compliance\n        </p>\n\n        <div class=\"space-y-3\">\n          <div\n            v-for=\"nes in nesTypes\"\n            :key=\"nes.value\"\n            role=\"checkbox\"\n            :aria-checked=\"getNESData(nes.value).applies\"\n            :aria-label=\"`${nes.label} - Click to toggle applicability`\"\n            :tabindex=\"0\"\n            class=\"border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md focus:ring-2 focus:ring-blue-500 focus:outline-none\"\n            :class=\"getNESData(nes.value).applies ? 'border-blue-600 bg-blue-50' : 'border-gray-200'\"\n            @click=\"toggleNES(nes.value)\"\n            @keydown.space.prevent=\"toggleNES(nes.value)\"\n            @keydown.enter.prevent=\"toggleNES(nes.value)\"\n          >\n            <div class=\"flex items-start\">\n              <input\n                type=\"checkbox\"\n                :checked=\"getNESData(nes.value).applies\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded pointer-events-none\"\n                readonly\n                aria-hidden=\"true\"\n              />\n              <div class=\"ml-3 flex-1\">\n                <h4 class=\"text-base font-semibold text-gray-900\">{{ nes.label }}</h4>\n\n                <!-- Expandable details when checked -->\n                <div v-if=\"getNESData(nes.value).applies\" class=\"mt-3 space-y-3\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Description / Compliance Status</label>\n                    <textarea\n                      v-model=\"getNESData(nes.value).description\"\n                      @click.stop\n                      rows=\"3\"\n                      placeholder=\"Describe how this NES applies and how you will comply...\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                    ></textarea>\n                  </div>\n\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Compliance Notes</label>\n                    <textarea\n                      v-model=\"getNESData(nes.value).compliance_notes\"\n                      @click.stop\n                      rows=\"2\"\n                      placeholder=\"Additional compliance notes or assessment...\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                    ></textarea>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Natural Hazards (RMA s104 & s106) -->\n      <div class=\"border-t border-gray-200 pt-8\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Natural Hazards (RMA s.104 & s.106)</h3>\n\n        <!-- Conditional importance notice for LUC/SC -->\n        <div v-if=\"requiresHazardsAssessment\" class=\"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg\">\n          <div class=\"flex items-start\">\n            <svg class=\"w-5 h-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n            </svg>\n            <div>\n              <h5 class=\"font-semibold text-amber-900 text-sm\">Critical Assessment Required - s.106 RMA</h5>\n              <p class=\"text-amber-800 text-sm mt-1\">\n                <strong>Important:</strong> Under s.106 RMA, councils <strong>must refuse</strong> Land Use and Subdivision consents if building on land subject to certain natural hazards would:\n              </p>\n              <ul class=\"text-amber-800 text-sm mt-2 ml-4 list-disc\">\n                <li>Accelerate, worsen, or result in material damage</li>\n                <li>Create or worsen a natural hazard on the property or other property</li>\n              </ul>\n              <p class=\"text-amber-800 text-sm mt-2\">\n                Please carefully identify all natural hazards affecting the site and detail mitigation measures.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Under s.104(1)(c) RMA, councils must consider the risk of natural hazards. Identify any hazards that may affect the site.\n        </p>\n\n        <!-- \"No hazards\" confirmation checkbox for LUC/SC -->\n        <div v-if=\"requiresHazardsAssessment && (!localData.natural_hazards || localData.natural_hazards.length === 0)\" class=\"mb-4\">\n          <label for=\"no-hazards-confirmation\" class=\"flex items-start p-3 border-2 rounded-lg cursor-pointer bg-white transition-colors\"\n            :class=\"localData.no_natural_hazards_confirmed ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n          >\n            <input\n              id=\"no-hazards-confirmation\"\n              v-model=\"localData.no_natural_hazards_confirmed\"\n              type=\"checkbox\"\n              aria-describedby=\"no-hazards-description\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3\">\n              <span class=\"font-medium text-gray-900\">I confirm there are no natural hazards affecting this site</span>\n              <p id=\"no-hazards-description\" class=\"text-xs text-gray-600 mt-1\">\n                By checking this box, I confirm that I have considered all potential natural hazards (flooding, erosion, landslip, earthquake, tsunami, etc.) and none are applicable to this site.\n              </p>\n            </div>\n          </label>\n        </div>\n\n        <!-- Add Hazard Button -->\n        <div class=\"flex justify-between items-center mb-4\">\n          <p class=\"text-sm text-gray-700\">\n            Select hazard types that may affect your site and describe mitigation measures\n          </p>\n          <button\n            @click=\"addHazard\"\n            type=\"button\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n            </svg>\n            Add Natural Hazard\n          </button>\n        </div>\n\n        <!-- Hazards List -->\n        <div v-if=\"localData.natural_hazards && localData.natural_hazards.length > 0\" class=\"space-y-4\">\n          <div\n            v-for=\"(hazard, index) in localData.natural_hazards\"\n            :key=\"index\"\n            class=\"border border-gray-200 rounded-lg p-4 bg-white\"\n          >\n            <div class=\"flex justify-between items-start mb-4\">\n              <h4 class=\"text-base font-semibold text-gray-900\">\n                Hazard #{{ index + 1 }}\n              </h4>\n              <button\n                @click=\"removeHazard(index)\"\n                type=\"button\"\n                class=\"text-red-600 hover:text-red-800 p-1\"\n                title=\"Remove\"\n              >\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              </button>\n            </div>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Hazard Type *</label>\n                <select\n                  v-model=\"hazard.hazard_type\"\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select hazard type</option>\n                  <option value=\"Earthquake\">Earthquake</option>\n                  <option value=\"Fire\">Fire</option>\n                  <option value=\"Tsunami\">Tsunami</option>\n                  <option value=\"Erosion\">Erosion</option>\n                  <option value=\"Volcanic\">Volcanic & Geothermal</option>\n                  <option value=\"Flood\">Flood</option>\n                  <option value=\"Sedimentation\">Sedimentation</option>\n                  <option value=\"Subsidence\">Subsidence</option>\n                  <option value=\"Wind\">Wind</option>\n                  <option value=\"Landslip\">Landslip</option>\n                  <option value=\"Drought\">Drought</option>\n                </select>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Risk Level</label>\n                <select\n                  v-model=\"hazard.risk_level\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select risk level</option>\n                  <option value=\"Low\">Low</option>\n                  <option value=\"Medium\">Medium</option>\n                  <option value=\"High\">High</option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"mt-4\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Mitigation Measures</label>\n              <textarea\n                v-model=\"hazard.mitigation_measures\"\n                rows=\"3\"\n                placeholder=\"Describe mitigation measures to address this hazard (design features, engineering solutions, management plans)...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              ></textarea>\n            </div>\n          </div>\n        </div>\n\n        <!-- Empty State -->\n        <div v-else class=\"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50\">\n          <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n          <p class=\"mt-2 text-sm text-gray-600\">No natural hazards identified</p>\n          <p class=\"text-xs text-gray-500 mt-1\">Click \"Add Natural Hazard\" if any hazards may affect the site</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, computed, reactive, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Add consent type checks\nconst hasConsentType = (type) => {\n  return props.modelValue.consent_types?.some(ct => ct.consent_type === type) || false\n}\n\nconst requiresHazardsAssessment = computed(() => {\n  return hasConsentType('Land Use') || hasConsentType('Subdivision')\n})\n\n// Add no_natural_hazards_confirmed field handling\nwatch(() => localData.value.no_natural_hazards_confirmed, (newVal) => {\n  if (newVal && requiresHazardsAssessment.value) {\n    // Clear any hazards if user confirms none\n    const updatedData = { ...props.modelValue }\n    updatedData.natural_hazards = []\n    updatedData.no_natural_hazards_confirmed = true\n    emit('update:modelValue', updatedData)\n  }\n})\n\n// NES Types matching backend schema\nconst nesTypes = [\n  { value: 'Contaminated Soil (HAIL)', label: 'NES for Assessing and Managing Contaminants in Soil (HAIL)' },\n  { value: 'Air Quality', label: 'NES for Air Quality' },\n  { value: 'Drinking Water', label: 'NES for Sources of Human Drinking Water' },\n  { value: 'Freshwater', label: 'NES for Freshwater Management' },\n  { value: 'Plantation Forestry', label: 'NES for Plantation Forestry' },\n  { value: 'Electricity Transmission', label: 'NES for Electricity Transmission Activities' },\n  { value: 'Telecommunications', label: 'NES for Telecommunication Facilities' },\n  { value: 'Other', label: 'Other NES' }\n]\n\n// Initialize NES data structure if not exists\nif (!localData.value.nes_items) {\n  const updatedData = { ...props.modelValue }\n  updatedData.nes_items = []\n  emit('update:modelValue', updatedData)\n}\n\n// Reactive NES data storage\nconst nesData = reactive({})\n\nconst getNESData = (nesType) => {\n  if (!nesData[nesType]) {\n    // Check if data exists in modelValue\n    const existing = localData.value.nes_items?.find(item => item.nes_type === nesType)\n    if (existing) {\n      nesData[nesType] = { ...existing }\n    } else {\n      nesData[nesType] = {\n        nes_type: nesType,\n        applies: false,\n        description: '',\n        compliance_notes: ''\n      }\n    }\n  }\n  return nesData[nesType]\n}\n\nconst toggleNES = (nesType) => {\n  const data = getNESData(nesType)\n  data.applies = !data.applies\n\n  // Sync to modelValue\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.nes_items) updatedData.nes_items = []\n\n  const existingIndex = updatedData.nes_items.findIndex(item => item.nes_type === nesType)\n\n  if (data.applies) {\n    if (existingIndex >= 0) {\n      updatedData.nes_items[existingIndex] = { ...data }\n    } else {\n      updatedData.nes_items.push({ ...data })\n    }\n  } else {\n    if (existingIndex >= 0) {\n      updatedData.nes_items.splice(existingIndex, 1)\n    }\n  }\n\n  emit('update:modelValue', updatedData)\n}\n\nconst addHazard = () => {\n  const updatedData = { ...props.modelValue }\n  if (!updatedData.natural_hazards) {\n    updatedData.natural_hazards = []\n  }\n  updatedData.natural_hazards.push({\n    hazard_type: '',\n    risk_level: '',\n    mitigation_measures: ''\n  })\n  emit('update:modelValue', updatedData)\n}\n\nconst removeHazard = (index) => {\n  if (confirm('Remove this natural hazard?')) {\n    const updatedData = { ...props.modelValue }\n    updatedData.natural_hazards.splice(index, 1)\n    emit('update:modelValue', updatedData)\n  }\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Assessment of Environmental Effects (AEE)</h2>\n    <p class=\"text-gray-600 mb-8\">Assess the actual and potential effects of your proposal on the environment</p>\n\n    <div class=\"space-y-8\">\n      <!-- Info Box -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-blue-900 text-sm\">Schedule 4 RMA Requirements</h5>\n            <p class=\"text-blue-800 text-sm mt-1\">\n              Your AEE must address the matters in Schedule 4 of the RMA, scaled to the nature and scale of the proposal.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- 1. Activity Description -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">1. Description of Activity *</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">Describe the proposed activity including its location, design, and how it will be carried out</p>\n        <textarea\n          v-model=\"localData.aee_activity_description\"\n          rows=\"6\"\n          required\n          placeholder=\"Provide a detailed description of what you're proposing to do, where it will be located, and how it will be undertaken...\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        ></textarea>\n      </div>\n\n      <!-- 2. Existing Environment -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">2. Description of Existing Environment *</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">Describe the current state of the site and surrounding environment</p>\n        <textarea\n          v-model=\"localData.aee_existing_environment\"\n          rows=\"6\"\n          required\n          placeholder=\"Describe the site's current characteristics, land use, vegetation, topography, nearby activities, surrounding development...\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        ></textarea>\n      </div>\n\n      <!-- 3. Assessment of Effects -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">3. Assessment of Actual and Potential Effects *</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          Identify and assess the actual and potential effects on the environment, including positive and negative effects, temporary and permanent effects\n        </p>\n\n        <div class=\"space-y-6\">\n          <!-- Main Assessment -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Overall Effects Assessment *</label>\n            <textarea\n              v-model=\"localData.assessment_of_effects\"\n              rows=\"10\"\n              required\n              placeholder=\"Address effects on:\n• Physical environment (land, water, air, noise, vibration)\n• Ecological environment (vegetation, wildlife, habitats)\n• Social and cultural environment (amenity, heritage, iwi values)\n• Economic environment\n• Cumulative effects\n• Risk of natural hazards\n\nInclude consideration of:\n• Magnitude and scale of effects\n• Duration (temporary vs permanent)\n• Reversibility\n• Mitigation measures proposed\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n\n          <!-- Part 2 RMA Matters -->\n          <div class=\"border-t border-gray-200 pt-6\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Part 2 RMA Assessment (s5-s8)\n            </label>\n            <p class=\"text-xs text-gray-500 mb-3\">\n              Consider: sustainable management (s5), matters of national importance (s6), other matters (s7), Treaty of Waitangi (s8)\n            </p>\n            <textarea\n              v-model=\"localData.aee_part2_assessment\"\n              rows=\"6\"\n              placeholder=\"Assess how your proposal aligns with Part 2 principles of the RMA...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n\n          <!-- Consultation Summary -->\n          <div class=\"border-t border-gray-200 pt-6\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Consultation Undertaken\n            </label>\n            <p class=\"text-xs text-gray-500 mb-3\">\n              Summarize consultation with affected parties, iwi, and other stakeholders\n            </p>\n            <textarea\n              v-model=\"localData.aee_consultation_summary\"\n              rows=\"4\"\n              placeholder=\"Describe who you've consulted with, feedback received, and how you've addressed concerns...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n        </div>\n      </div>\n\n      <!-- 4. AEE Document Upload (Optional) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">4. AEE Document (Optional)</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          For complex proposals, you may upload a comprehensive AEE document prepared by a qualified expert\n        </p>\n\n        <div>\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">Upload AEE Report</label>\n          <input\n            type=\"file\"\n            @change=\"handleAEEDocumentUpload\"\n            accept=\".pdf,.doc,.docx\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n          />\n          <p class=\"mt-1 text-xs text-gray-500\">PDF or Word document, max 50MB</p>\n\n          <div v-if=\"localData.aee_document\" class=\"mt-3 flex items-center gap-2 text-sm text-green-600\">\n            <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n            </svg>\n            <span>{{ typeof localData.aee_document === 'object' ? localData.aee_document.name : 'Document attached' }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Help Section -->\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-yellow-900 text-sm\">Need Help?</h5>\n            <p class=\"text-yellow-800 text-sm mt-1\">\n              For complex proposals or activities with significant effects, consider engaging a qualified environmental consultant to prepare your AEE.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Create a computed property for local data that syncs with parent\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\nconst handleAEEDocumentUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (50MB max)\n    if (file.size > 50 * 1024 * 1024) {\n      alert('File size must be less than 50MB')\n      event.target.value = ''\n      return\n    }\n\n    const updatedData = { ...props.modelValue }\n    updatedData.aee_document = file\n    emit('update:modelValue', updatedData)\n  }\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Plan Assessment</h2>\n    <p class=\"text-gray-600 mb-8\">Identify relevant district/regional plan rules and assess compliance</p>\n\n    <div class=\"space-y-6\">\n      <!-- Plan Rules Section -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"font-semibold text-gray-900\">District/Regional Plan Rules</h3>\n            <button\n              @click=\"addPlanRule\"\n              type=\"button\"\n              class=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              + Add Plan Rule\n            </button>\n          </div>\n        </div>\n\n        <div class=\"p-6\">\n          <div v-if=\"localData.plan_rules && localData.plan_rules.length > 0\" class=\"space-y-4\">\n            <div\n              v-for=\"(rule, index) in localData.plan_rules\"\n              :key=\"index\"\n              class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\"\n            >\n              <div class=\"flex justify-between items-start mb-4\">\n                <h4 class=\"font-medium text-gray-900\">Plan Rule {{ index + 1 }}</h4>\n                <button\n                  @click=\"removePlanRule(index)\"\n                  type=\"button\"\n                  class=\"text-red-600 hover:text-red-800 text-sm font-medium\"\n                >\n                  Remove\n                </button>\n              </div>\n\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <!-- Plan Type -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Plan Type <span class=\"text-red-500\">*</span>\n                  </label>\n                  <select\n                    v-model=\"rule.plan_type\"\n                    required\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"\">Select plan type...</option>\n                    <option value=\"District Plan\">District Plan</option>\n                    <option value=\"Regional Plan\">Regional Plan</option>\n                    <option value=\"Proposed Plan\">Proposed Plan</option>\n                    <option value=\"Plan Change\">Plan Change</option>\n                    <option value=\"National Policy Statement\">National Policy Statement</option>\n                    <option value=\"National Environmental Standard\">National Environmental Standard</option>\n                  </select>\n                </div>\n\n                <!-- Rule Reference -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Rule Reference <span class=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    v-model=\"rule.rule_reference\"\n                    type=\"text\"\n                    required\n                    placeholder=\"e.g., Rule 14.2.3.1\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n              </div>\n\n              <!-- Rule Description -->\n              <div class=\"mt-4\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Rule Description <span class=\"text-red-500\">*</span>\n                </label>\n                <textarea\n                  v-model=\"rule.description\"\n                  required\n                  rows=\"3\"\n                  placeholder=\"Describe what the rule requires or controls...\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                ></textarea>\n              </div>\n\n              <!-- Compliance Status -->\n              <div class=\"mt-4\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Compliance Status <span class=\"text-red-500\">*</span>\n                </label>\n                <div class=\"flex gap-4\">\n                  <label class=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      :value=\"true\"\n                      v-model=\"rule.compliant\"\n                      class=\"mr-2\"\n                    />\n                    <span class=\"text-sm\">Complies</span>\n                  </label>\n                  <label class=\"flex items-center\">\n                    <input\n                      type=\"radio\"\n                      :value=\"false\"\n                      v-model=\"rule.compliant\"\n                      class=\"mr-2\"\n                    />\n                    <span class=\"text-sm\">Does Not Comply</span>\n                  </label>\n                </div>\n              </div>\n\n              <!-- Assessment Notes -->\n              <div class=\"mt-4\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Assessment Notes\n                </label>\n                <textarea\n                  v-model=\"rule.notes\"\n                  rows=\"3\"\n                  placeholder=\"Explain how your proposal complies or why consent is required...\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                ></textarea>\n              </div>\n            </div>\n          </div>\n\n          <div v-else class=\"text-center py-8\">\n            <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n            </svg>\n            <p class=\"mt-2 text-sm text-gray-500\">No plan rules added yet</p>\n            <p class=\"text-sm text-gray-500\">Click \"Add Plan Rule\" to identify relevant planning rules</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Help Text -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-blue-900 text-sm\">Planning Assessment Guidance</h5>\n            <ul class=\"text-blue-800 text-sm mt-2 space-y-1 list-disc list-inside\">\n              <li>Identify all relevant district and regional plan rules that apply to your proposal</li>\n              <li>Check zone rules, overlays, designations, and any relevant standards</li>\n              <li>Assess whether your proposal complies with permitted activity standards</li>\n              <li>If non-compliant, explain why consent is required and the nature of the breach</li>\n              <li>Consider relevant objectives, policies, and assessment criteria</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Create local copy of data\nconst localData = ref({\n  plan_rules: props.modelValue.plan_rules || []\n})\n\n// Watch for external changes\nwatch(() => props.modelValue.plan_rules, (newVal) => {\n  if (newVal !== localData.value.plan_rules) {\n    localData.value.plan_rules = newVal || []\n  }\n}, { deep: true })\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    plan_rules: newVal.plan_rules\n  })\n}, { deep: true })\n\nconst addPlanRule = () => {\n  localData.value.plan_rules.push({\n    plan_type: '',\n    rule_reference: '',\n    description: '',\n    compliant: null,\n    notes: ''\n  })\n}\n\nconst removePlanRule = (index) => {\n  localData.value.plan_rules.splice(index, 1)\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Affected Parties</h2>\n    <p class=\"text-gray-600 mb-8\">Identify parties potentially affected by your proposal and any written approvals obtained</p>\n\n    <div class=\"space-y-6\">\n      <!-- Affected Parties Note -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-blue-900 text-sm\">About Affected Parties</h5>\n            <p class=\"text-blue-800 text-sm mt-1\">\n              List all parties (neighbors, landowners, infrastructure providers, etc.) who may be affected by your proposal.\n              If you have obtained written approvals, upload them as supporting documents.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Affected Parties List -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Identified Affected Parties</h3>\n        </div>\n\n        <div class=\"p-6\">\n          <p class=\"text-sm text-gray-600 mb-4\">\n            This functionality uses the Affected Parties section you may have already filled in earlier.\n            Use the main form's affected parties section to manage this list.\n          </p>\n\n          <div v-if=\"modelValue.affected_parties && modelValue.affected_parties.length > 0\" class=\"space-y-3\">\n            <div\n              v-for=\"(party, index) in modelValue.affected_parties\"\n              :key=\"index\"\n              class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\"\n            >\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <span class=\"text-sm text-gray-500\">Name:</span>\n                  <p class=\"font-medium\">{{ party.party_name || 'Not specified' }}</p>\n                </div>\n                <div>\n                  <span class=\"text-sm text-gray-500\">Relationship:</span>\n                  <p class=\"font-medium\">{{ party.relationship || 'Not specified' }}</p>\n                </div>\n                <div>\n                  <span class=\"text-sm text-gray-500\">Address:</span>\n                  <p class=\"font-medium\">{{ party.address || 'Not specified' }}</p>\n                </div>\n                <div>\n                  <span class=\"text-sm text-gray-500\">Written Approval:</span>\n                  <p class=\"font-medium\">\n                    <span v-if=\"party.written_approval\" class=\"text-green-600\">✓ Obtained</span>\n                    <span v-else class=\"text-gray-500\">Not obtained</span>\n                  </p>\n                </div>\n              </div>\n              <div v-if=\"party.effects\" class=\"mt-3\">\n                <span class=\"text-sm text-gray-500\">Effects:</span>\n                <p class=\"text-sm mt-1\">{{ party.effects }}</p>\n              </div>\n            </div>\n          </div>\n\n          <div v-else class=\"text-center py-8\">\n            <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n            </svg>\n            <p class=\"mt-2 text-sm text-gray-500\">No affected parties identified yet</p>\n            <p class=\"text-sm text-gray-500\">Add affected parties in the Delivery & Payment step (Step 6)</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Written Approvals Section -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Written Approvals Summary</h3>\n        </div>\n\n        <div class=\"p-6\">\n          <div v-if=\"writtenApprovals.length > 0\">\n            <p class=\"text-sm text-gray-600 mb-4\">\n              You have obtained written approvals from {{ writtenApprovals.length }} affected {{ writtenApprovals.length === 1 ? 'party' : 'parties' }}.\n            </p>\n            <div class=\"space-y-2\">\n              <div\n                v-for=\"party in writtenApprovals\"\n                :key=\"party.party_name\"\n                class=\"flex items-center text-sm\"\n              >\n                <svg class=\"w-4 h-4 text-green-600 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                </svg>\n                <span>{{ party.party_name }} ({{ party.relationship }})</span>\n              </div>\n            </div>\n            <div class=\"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg\">\n              <p class=\"text-sm text-green-800\">\n                Remember to upload written approval documents in the supporting documents section.\n              </p>\n            </div>\n          </div>\n\n          <div v-else>\n            <p class=\"text-sm text-gray-600\">\n              No written approvals have been obtained yet. If you obtain written approvals from affected parties,\n              this can reduce notification requirements and processing timeframes.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Consultation Notes -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Consultation Summary</h3>\n        </div>\n\n        <div class=\"p-6\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Describe any consultation you have undertaken with affected parties\n          </label>\n          <textarea\n            v-model=\"localData.aee_consultation_summary\"\n            rows=\"6\"\n            placeholder=\"Describe who you consulted with, when, how, and the outcomes of consultation. Include any mitigation measures agreed to address concerns...\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          ></textarea>\n          <p class=\"text-sm text-gray-500 mt-2\">\n            Documenting consultation efforts can demonstrate good faith engagement and help the council understand community views.\n          </p>\n        </div>\n      </div>\n\n      <!-- Guidance -->\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-yellow-900 text-sm\">Affected Parties Guidance</h5>\n            <ul class=\"text-yellow-800 text-sm mt-2 space-y-1 list-disc list-inside\">\n              <li>Consider immediate neighbors, landowners with shared boundaries</li>\n              <li>Infrastructure providers (e.g., power, water, telecommunications)</li>\n              <li>Parties with interests over the land (e.g., easements, covenants)</li>\n              <li>Anyone who may experience effects from your proposal</li>\n              <li>Written approvals can help reduce notification and costs</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Create local copy of data\nconst localData = ref({\n  aee_consultation_summary: props.modelValue.aee_consultation_summary || ''\n})\n\n// Computed property for parties with written approvals\nconst writtenApprovals = computed(() => {\n  if (!props.modelValue.affected_parties) return []\n  return props.modelValue.affected_parties.filter(party => party.written_approval === true)\n})\n\n// Watch for external changes\nwatch(() => props.modelValue.aee_consultation_summary, (newVal) => {\n  if (newVal !== localData.value.aee_consultation_summary) {\n    localData.value.aee_consultation_summary = newVal || ''\n  }\n})\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    aee_consultation_summary: newVal.aee_consultation_summary\n  })\n}, { deep: true })\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Specialist Reports</h2>\n    <p class=\"text-gray-600 mb-8\">Upload any specialist reports or assessments supporting your application</p>\n\n    <div class=\"space-y-6\">\n      <!-- Info Box -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-blue-900 text-sm\">About Specialist Reports</h5>\n            <p class=\"text-blue-800 text-sm mt-1\">\n              Upload any specialist assessments, technical reports, or expert opinions that support your application.\n              These might include traffic assessments, acoustic reports, ecological surveys, geotechnical reports, etc.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Specialist Reports List -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Uploaded Specialist Reports</h3>\n        </div>\n\n        <div class=\"p-6\">\n          <p class=\"text-sm text-gray-600 mb-4\">\n            Use the Attachments section in the main application form to upload specialist reports.\n            Reports will automatically appear here once uploaded with the appropriate category.\n          </p>\n\n          <div v-if=\"specialistReports.length > 0\" class=\"space-y-3\">\n            <div\n              v-for=\"(report, index) in specialistReports\"\n              :key=\"index\"\n              class=\"border border-gray-200 rounded-lg p-4 bg-gray-50 flex items-start\"\n            >\n              <svg class=\"w-6 h-6 text-blue-600 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n              </svg>\n              <div class=\"flex-1\">\n                <div class=\"flex items-start justify-between\">\n                  <div>\n                    <p class=\"font-medium text-gray-900\">{{ report.document_type || 'Specialist Report' }}</p>\n                    <p v-if=\"report.description\" class=\"text-sm text-gray-600 mt-1\">{{ report.description }}</p>\n                    <p v-if=\"report.file\" class=\"text-xs text-gray-500 mt-1\">{{ report.file.name }}</p>\n                  </div>\n                  <span class=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded\">\n                    {{ report.document_category }}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div v-else class=\"text-center py-8\">\n            <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n            </svg>\n            <p class=\"mt-2 text-sm text-gray-500\">No specialist reports uploaded yet</p>\n            <p class=\"text-sm text-gray-500\">Add reports in the Attachments section if required</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Common Report Types -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Common Specialist Report Types</h3>\n        </div>\n\n        <div class=\"p-6\">\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <div class=\"flex items-start space-x-3\">\n              <div class=\"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2\"></div>\n              <div>\n                <p class=\"font-medium text-sm text-gray-900\">Traffic & Transportation</p>\n                <p class=\"text-xs text-gray-600\">Traffic impact assessments, parking demand studies</p>\n              </div>\n            </div>\n\n            <div class=\"flex items-start space-x-3\">\n              <div class=\"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2\"></div>\n              <div>\n                <p class=\"font-medium text-sm text-gray-900\">Acoustic Reports</p>\n                <p class=\"text-xs text-gray-600\">Noise assessments, sound insulation reports</p>\n              </div>\n            </div>\n\n            <div class=\"flex items-start space-x-3\">\n              <div class=\"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2\"></div>\n              <div>\n                <p class=\"font-medium text-sm text-gray-900\">Ecological Assessments</p>\n                <p class=\"text-xs text-gray-600\">Biodiversity surveys, vegetation reports</p>\n              </div>\n            </div>\n\n            <div class=\"flex items-start space-x-3\">\n              <div class=\"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2\"></div>\n              <div>\n                <p class=\"font-medium text-sm text-gray-900\">Geotechnical Reports</p>\n                <p class=\"text-xs text-gray-600\">Soil investigations, slope stability assessments</p>\n              </div>\n            </div>\n\n            <div class=\"flex items-start space-x-3\">\n              <div class=\"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2\"></div>\n              <div>\n                <p class=\"font-medium text-sm text-gray-900\">Landscape & Visual</p>\n                <p class=\"text-xs text-gray-600\">Visual impact assessments, landscape plans</p>\n              </div>\n            </div>\n\n            <div class=\"flex items-start space-x-3\">\n              <div class=\"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2\"></div>\n              <div>\n                <p class=\"font-medium text-sm text-gray-900\">Engineering Reports</p>\n                <p class=\"text-xs text-gray-600\">Structural, civil, stormwater assessments</p>\n              </div>\n            </div>\n\n            <div class=\"flex items-start space-x-3\">\n              <div class=\"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2\"></div>\n              <div>\n                <p class=\"font-medium text-sm text-gray-900\">Archaeological Surveys</p>\n                <p class=\"text-xs text-gray-600\">Heritage assessments, archaeological reports</p>\n              </div>\n            </div>\n\n            <div class=\"flex items-start space-x-3\">\n              <div class=\"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2\"></div>\n              <div>\n                <p class=\"font-medium text-sm text-gray-900\">Economic Assessments</p>\n                <p class=\"text-xs text-gray-600\">Economic impact analyses, cost-benefit studies</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Guidance -->\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-yellow-900 text-sm\">When Are Specialist Reports Required?</h5>\n            <ul class=\"text-yellow-800 text-sm mt-2 space-y-1 list-disc list-inside\">\n              <li>Council may request specific reports based on the nature and scale of your proposal</li>\n              <li>Check the district/regional plan for assessment requirements</li>\n              <li>Reports should be prepared by qualified professionals</li>\n              <li>Ensure reports address the specific effects of your proposal</li>\n              <li>Consider pre-application advice to confirm what reports may be needed</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\n// Filter attachments that are specialist reports\nconst specialistReports = computed(() => {\n  if (!props.modelValue.attachments) return []\n\n  const reportCategories = [\n    'Specialist Report',\n    'Technical Report',\n    'Assessment Report',\n    'Engineering Report',\n    'Environmental Report'\n  ]\n\n  return props.modelValue.attachments.filter(att =>\n    reportCategories.some(category =>\n      att.document_category?.includes(category) ||\n      att.document_type?.includes('Report') ||\n      att.document_type?.includes('Assessment')\n    )\n  )\n})\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Proposed Conditions</h2>\n    <p class=\"text-gray-600 mb-8\">Suggest conditions that could be imposed to address adverse effects</p>\n\n    <div class=\"space-y-6\">\n      <!-- Info Box -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-blue-900 text-sm\">About Proposed Conditions</h5>\n            <p class=\"text-blue-800 text-sm mt-1\">\n              Proposing consent conditions demonstrates a proactive approach to managing effects.\n              Conditions should be specific, measurable, achievable, and directly related to managing adverse effects.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Template Selection (Optional) -->\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <div>\n            <h3 class=\"text-lg font-semibold text-gray-900\">Select from Standard Conditions</h3>\n            <p class=\"text-sm text-gray-600 mt-1\">Choose from pre-approved condition templates or create your own</p>\n          </div>\n          <button\n            @click=\"showTemplates = !showTemplates\"\n            type=\"button\"\n            class=\"px-4 py-2 text-blue-600 hover:text-blue-700 font-medium text-sm border border-blue-600 rounded-lg hover:bg-blue-50\"\n          >\n            {{ showTemplates ? 'Hide Templates' : 'Browse Templates' }}\n          </button>\n        </div>\n\n        <!-- Template Browser -->\n        <div v-if=\"showTemplates\" class=\"mt-4 border-t border-gray-200 pt-4\">\n          <div class=\"mb-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Filter by Category</label>\n            <select\n              v-model=\"selectedCategory\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"All\">All Categories</option>\n              <option value=\"General\">General</option>\n              <option value=\"Timing\">Timing</option>\n              <option value=\"Lapse\">Lapse</option>\n              <option value=\"Environmental Management\">Environmental Management</option>\n              <option value=\"Construction\">Construction</option>\n              <option value=\"Operation\">Operation</option>\n              <option value=\"Landscape\">Landscape</option>\n              <option value=\"Ecology\">Ecology</option>\n              <option value=\"Traffic\">Traffic</option>\n              <option value=\"Noise\">Noise</option>\n              <option value=\"Discharge\">Discharge</option>\n              <option value=\"Earthworks\">Earthworks</option>\n              <option value=\"Water\">Water</option>\n              <option value=\"Coastal\">Coastal</option>\n            </select>\n          </div>\n\n          <!-- Template List -->\n          <div v-if=\"loadingTemplates\" class=\"text-center py-8\">\n            <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2\"></div>\n            <p class=\"text-sm text-gray-600\">Loading templates...</p>\n          </div>\n\n          <div v-else-if=\"filteredTemplates.length === 0\" class=\"text-center py-8 text-gray-500\">\n            <p class=\"text-sm\">No templates found for this category</p>\n          </div>\n\n          <div v-else class=\"space-y-2 max-h-96 overflow-y-auto\">\n            <div\n              v-for=\"template in filteredTemplates\"\n              :key=\"template.name\"\n              @click=\"addConditionFromTemplate(template)\"\n              class=\"border border-gray-200 rounded-lg p-4 hover:border-blue-600 hover:bg-blue-50 cursor-pointer transition-all\"\n            >\n              <div class=\"flex items-start justify-between\">\n                <div class=\"flex-1\">\n                  <div class=\"flex items-center gap-2 mb-1\">\n                    <h4 class=\"font-medium text-gray-900\">{{ template.template_name }}</h4>\n                    <span v-if=\"template.condition_code\" class=\"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded\">\n                      {{ template.condition_code }}\n                    </span>\n                    <span class=\"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded\">\n                      {{ template.condition_category }}\n                    </span>\n                  </div>\n                  <p class=\"text-sm text-gray-700\">{{ template.condition_text }}</p>\n                  <p v-if=\"template.timing\" class=\"text-xs text-gray-500 mt-1\">\n                    ⏱ Timing: {{ template.timing }}\n                  </p>\n                </div>\n                <button\n                  class=\"ml-4 text-blue-600 hover:text-blue-700 text-sm font-medium whitespace-nowrap\"\n                >\n                  + Add\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Proposed Conditions Section -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"font-semibold text-gray-900\">Your Proposed Conditions</h3>\n            <button\n              @click=\"addCondition\"\n              type=\"button\"\n              class=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              + Add Custom Condition\n            </button>\n          </div>\n        </div>\n\n        <div class=\"p-6\">\n          <div v-if=\"localData.proposed_conditions && localData.proposed_conditions.length > 0\" class=\"space-y-4\">\n            <div\n              v-for=\"(condition, index) in localData.proposed_conditions\"\n              :key=\"index\"\n              class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\"\n            >\n              <div class=\"flex justify-between items-start mb-4\">\n                <h4 class=\"font-medium text-gray-900\">Condition {{ index + 1 }}</h4>\n                <button\n                  @click=\"removeCondition(index)\"\n                  type=\"button\"\n                  class=\"text-red-600 hover:text-red-800 text-sm font-medium\"\n                >\n                  Remove\n                </button>\n              </div>\n\n              <div class=\"grid md:grid-cols-2 gap-4 mb-4\">\n                <!-- Condition Category -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Condition Category\n                  </label>\n                  <select\n                    v-model=\"condition.category\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"\">Select category...</option>\n                    <option value=\"General\">General</option>\n                    <option value=\"Construction\">Construction Management</option>\n                    <option value=\"Operational\">Operational</option>\n                    <option value=\"Landscaping\">Landscaping</option>\n                    <option value=\"Servicing\">Servicing & Infrastructure</option>\n                    <option value=\"Traffic\">Traffic & Parking</option>\n                    <option value=\"Noise\">Noise</option>\n                    <option value=\"Stormwater\">Stormwater</option>\n                    <option value=\"Contamination\">Contamination</option>\n                    <option value=\"Heritage\">Heritage</option>\n                    <option value=\"Ecology\">Ecology & Biodiversity</option>\n                    <option value=\"Monitoring\">Monitoring & Reporting</option>\n                    <option value=\"Other\">Other</option>\n                  </select>\n                </div>\n\n                <!-- Timing -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Timing\n                  </label>\n                  <select\n                    v-model=\"condition.timing\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"\">Select timing...</option>\n                    <option value=\"Prior to Commencement\">Prior to Commencement</option>\n                    <option value=\"During Construction\">During Construction</option>\n                    <option value=\"Prior to Occupation\">Prior to Occupation</option>\n                    <option value=\"Ongoing\">Ongoing</option>\n                    <option value=\"On Completion\">On Completion</option>\n                    <option value=\"Other\">Other</option>\n                  </select>\n                </div>\n              </div>\n\n              <!-- Condition Text -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Condition Wording <span class=\"text-red-500\">*</span>\n                </label>\n                <textarea\n                  v-model=\"condition.condition_text\"\n                  required\n                  rows=\"4\"\n                  placeholder=\"Write the proposed condition in clear, enforceable language...\n\nExample: 'All construction activities shall be limited to the hours of 7:00am to 7:00pm Monday to Saturday, with no work permitted on Sundays or public holidays.'\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                ></textarea>\n              </div>\n\n              <!-- Rationale -->\n              <div class=\"mt-4\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Rationale\n                </label>\n                <textarea\n                  v-model=\"condition.rationale\"\n                  rows=\"3\"\n                  placeholder=\"Explain the purpose of this condition and how it addresses adverse effects...\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                ></textarea>\n              </div>\n            </div>\n          </div>\n\n          <div v-else class=\"text-center py-8\">\n            <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\" />\n            </svg>\n            <p class=\"mt-2 text-sm text-gray-500\">No conditions proposed yet</p>\n            <p class=\"text-sm text-gray-500\">Click \"Add Condition\" to propose consent conditions</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Example Conditions -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Example Condition Types</h3>\n        </div>\n\n        <div class=\"p-6 space-y-3\">\n          <div class=\"border-l-4 border-blue-600 pl-4 py-2 bg-blue-50\">\n            <p class=\"font-medium text-sm text-gray-900\">Construction Hours</p>\n            <p class=\"text-xs text-gray-600 mt-1\">Limiting construction activities to specific hours to manage noise effects</p>\n          </div>\n\n          <div class=\"border-l-4 border-blue-600 pl-4 py-2 bg-blue-50\">\n            <p class=\"font-medium text-sm text-gray-900\">Landscaping</p>\n            <p class=\"text-xs text-gray-600 mt-1\">Requiring planting to screen development or enhance visual amenity</p>\n          </div>\n\n          <div class=\"border-l-4 border-blue-600 pl-4 py-2 bg-blue-50\">\n            <p class=\"font-medium text-sm text-gray-900\">Traffic Management</p>\n            <p class=\"text-xs text-gray-600 mt-1\">Requiring traffic management plans or parking arrangements</p>\n          </div>\n\n          <div class=\"border-l-4 border-blue-600 pl-4 py-2 bg-blue-50\">\n            <p class=\"font-medium text-sm text-gray-900\">Stormwater</p>\n            <p class=\"text-xs text-gray-600 mt-1\">Requiring stormwater management devices or erosion control measures</p>\n          </div>\n\n          <div class=\"border-l-4 border-blue-600 pl-4 py-2 bg-blue-50\">\n            <p class=\"font-medium text-sm text-gray-900\">Monitoring</p>\n            <p class=\"text-xs text-gray-600 mt-1\">Requiring monitoring and reporting of environmental effects</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Guidance -->\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-yellow-900 text-sm\">Writing Good Conditions</h5>\n            <ul class=\"text-yellow-800 text-sm mt-2 space-y-1 list-disc list-inside\">\n              <li><strong>Clear:</strong> Unambiguous and easy to understand</li>\n              <li><strong>Enforceable:</strong> Able to be monitored and enforced by the council</li>\n              <li><strong>Necessary:</strong> Directly related to managing an identified adverse effect</li>\n              <li><strong>Reasonable:</strong> Practical and achievable to implement</li>\n              <li><strong>Specific:</strong> Include measurable standards, timeframes, or thresholds</li>\n              <li>Note: The council may modify, add, or remove conditions during processing</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch, computed, onMounted } from 'vue'\nimport { call } from 'frappe-ui'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Template state\nconst showTemplates = ref(false)\nconst loadingTemplates = ref(false)\nconst availableTemplates = ref([])\nconst selectedCategory = ref('All')\n\n// Create local copy of data\nconst localData = ref({\n  proposed_conditions: props.modelValue.proposed_conditions || []\n})\n\n// Watch for external changes\nwatch(() => props.modelValue.proposed_conditions, (newVal) => {\n  if (newVal !== localData.value.proposed_conditions) {\n    localData.value.proposed_conditions = newVal || []\n  }\n}, { deep: true })\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    proposed_conditions: newVal.proposed_conditions\n  })\n}, { deep: true })\n\n// Filtered templates based on category and consent types\nconst filteredTemplates = computed(() => {\n  let templates = availableTemplates.value\n\n  // Filter by category\n  if (selectedCategory.value !== 'All') {\n    templates = templates.filter(t => t.condition_category === selectedCategory.value)\n  }\n\n  // Filter by consent types (if selected)\n  const consentTypes = props.modelValue.consent_types?.map(ct => ct.consent_type) || []\n  if (consentTypes.length > 0) {\n    templates = templates.filter(t => {\n      // Include if template applies to 'All' or matches one of the selected consent types\n      return t.applies_to_consent_types === 'All' ||\n             consentTypes.includes(t.applies_to_consent_types)\n    })\n  }\n\n  return templates\n})\n\n// Load templates when component mounts or when templates section is shown\nwatch(showTemplates, async (isShown) => {\n  if (isShown && availableTemplates.value.length === 0) {\n    await loadTemplates()\n  }\n})\n\nconst loadTemplates = async () => {\n  loadingTemplates.value = true\n  try {\n    const result = await call('frappe.client.get_list', {\n      doctype: 'Consent Condition Template',\n      fields: ['name', 'template_name', 'condition_code', 'condition_category',\n               'condition_text', 'timing', 'applies_to_consent_types', 'is_standard'],\n      filters: {\n        is_active: 1\n      },\n      limit_page_length: 100,\n      order_by: 'condition_category asc, template_name asc'\n    })\n    availableTemplates.value = result || []\n  } catch (error) {\n    console.error('[Step15] Error loading templates:', error)\n    availableTemplates.value = []\n  } finally {\n    loadingTemplates.value = false\n  }\n}\n\nconst addConditionFromTemplate = (template) => {\n  localData.value.proposed_conditions.push({\n    category: template.condition_category,\n    timing: template.timing || '',\n    condition_text: template.condition_text,\n    rationale: template.is_standard ? 'Standard condition template' : '',\n    template_name: template.template_name,\n    condition_code: template.condition_code || ''\n  })\n}\n\nconst addCondition = () => {\n  localData.value.proposed_conditions.push({\n    category: '',\n    timing: '',\n    condition_text: '',\n    rationale: ''\n  })\n}\n\nconst removeCondition = (index) => {\n  localData.value.proposed_conditions.splice(index, 1)\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Statutory Declarations</h2>\n    <p class=\"text-gray-600 mb-8\">Confirm compliance with RMA requirements</p>\n\n    <div class=\"space-y-6\">\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-blue-900 text-sm\">Statutory Declarations Required</h5>\n            <p class=\"text-blue-800 text-sm mt-1\">\n              Under the Resource Management Act 1991, you must confirm the following declarations before submitting your application.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"space-y-4\">\n        <div class=\"border-2 rounded-lg p-4\" :class=\"localData.declaration_rma_compliance ? 'border-green-600 bg-green-50' : 'border-gray-200'\">\n          <label class=\"flex items-start cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              v-model=\"localData.declaration_rma_compliance\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3 flex-1\">\n              <span class=\"font-medium text-gray-900\">RMA Compliance Declaration *</span>\n              <p class=\"text-sm text-gray-600 mt-1\">\n                I confirm that this application complies with the requirements of Schedule 4 of the Resource Management Act 1991 and contains all required information for the council to process this application.\n              </p>\n            </div>\n          </label>\n        </div>\n\n        <div class=\"border-2 rounded-lg p-4\" :class=\"localData.declaration_public_information ? 'border-green-600 bg-green-50' : 'border-gray-200'\">\n          <label class=\"flex items-start cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              v-model=\"localData.declaration_public_information\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3 flex-1\">\n              <span class=\"font-medium text-gray-900\">Public Information Declaration *</span>\n              <p class=\"text-sm text-gray-600 mt-1\">\n                I understand that this application and supporting documents will become public information and may be made available to any person upon request under the Local Government Official Information and Meetings Act 1987.\n              </p>\n            </div>\n          </label>\n        </div>\n\n        <div class=\"border-2 rounded-lg p-4\" :class=\"localData.declaration_authorized ? 'border-green-600 bg-green-50' : 'border-gray-200'\">\n          <label class=\"flex items-start cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              v-model=\"localData.declaration_authorized\"\n              class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <div class=\"ml-3 flex-1\">\n              <span class=\"font-medium text-gray-900\">Authorization Declaration *</span>\n              <p class=\"text-sm text-gray-600 mt-1\">\n                I confirm that I am authorized to make this application on behalf of the applicant and that all information provided is true and correct to the best of my knowledge.\n              </p>\n            </div>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// Local data\nconst localData = ref({\n  declaration_rma_compliance: props.modelValue.declaration_rma_compliance || false,\n  declaration_public_information: props.modelValue.declaration_public_information || false,\n  declaration_authorized: props.modelValue.declaration_authorized || false\n})\n\n// Watch for external changes\nwatch(() => [\n  props.modelValue.declaration_rma_compliance,\n  props.modelValue.declaration_public_information,\n  props.modelValue.declaration_authorized\n], ([newRma, newPublic, newAuth]) => {\n  localData.value.declaration_rma_compliance = newRma || false\n  localData.value.declaration_public_information = newPublic || false\n  localData.value.declaration_authorized = newAuth || false\n})\n\n// Watch local changes and emit\nwatch(localData, (newVal) => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    declaration_rma_compliance: newVal.declaration_rma_compliance,\n    declaration_public_information: newVal.declaration_public_information,\n    declaration_authorized: newVal.declaration_authorized\n  })\n}, { deep: true })\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Review & Submit</h2>\n    <p class=\"text-gray-600 mb-8\">Review your application details before submitting</p>\n\n    <div class=\"space-y-6\">\n      <!-- Application Summary -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n        <div class=\"flex items-start justify-between\">\n          <div>\n            <h3 class=\"text-lg font-semibold text-blue-900\">{{ requestTypeName }}</h3>\n            <p class=\"text-sm text-blue-700 mt-1\">{{ councilName }}</p>\n          </div>\n          <div class=\"text-right\">\n            <div class=\"text-sm text-blue-600 font-medium\">Application Fee</div>\n            <div class=\"text-2xl font-bold text-blue-900\">{{ applicationFee }}</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Applicant Details -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Applicant Details</h3>\n        </div>\n        <div class=\"p-6 space-y-3\">\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <span class=\"text-sm text-gray-500\">Name:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_name || 'Not provided' }}</p>\n            </div>\n            <div>\n              <span class=\"text-sm text-gray-500\">Email:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_email || 'Not provided' }}</p>\n            </div>\n            <div>\n              <span class=\"text-sm text-gray-500\">Phone:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_phone || 'Not provided' }}</p>\n            </div>\n            <div v-if=\"modelValue.applicant_company\">\n              <span class=\"text-sm text-gray-500\">Company:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_company }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Property Details -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Property Details</h3>\n        </div>\n        <div class=\"p-6\">\n          <div v-if=\"modelValue.property_address\" class=\"space-y-2\">\n            <div>\n              <span class=\"text-sm text-gray-500\">Address:</span>\n              <p class=\"font-medium\">{{ modelValue.property_address }}</p>\n            </div>\n            <div v-if=\"modelValue.legal_description\">\n              <span class=\"text-sm text-gray-500\">Legal Description:</span>\n              <p class=\"font-medium\">{{ modelValue.legal_description }}</p>\n            </div>\n          </div>\n          <p v-else class=\"text-gray-500\">No property selected</p>\n        </div>\n      </div>\n\n      <!-- Delivery Preference -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900\">Delivery & Payment</h3>\n        </div>\n        <div class=\"p-6 space-y-3\">\n          <div>\n            <span class=\"text-sm text-gray-500\">Delivery Preference:</span>\n            <p class=\"font-medium\">{{ modelValue.delivery_preference || 'Not selected' }}</p>\n          </div>\n          <div>\n            <span class=\"text-sm text-gray-500\">Invoice To:</span>\n            <p class=\"font-medium\">{{ modelValue.invoice_to || 'Not specified' }}</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Resource Consent Specific Details -->\n      <template v-if=\"isResourceConsent\">\n        <!-- Consent Types -->\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900\">Consent Types & Activity Status</h3>\n          </div>\n          <div class=\"p-6\">\n            <div class=\"space-y-3\">\n              <div>\n                <span class=\"text-sm text-gray-500\">Consent Types:</span>\n                <div class=\"mt-2 flex flex-wrap gap-2\">\n                  <span\n                    v-for=\"type in (modelValue.consent_types || [])\"\n                    :key=\"type.consent_type\"\n                    class=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\"\n                  >\n                    {{ type.consent_type }}\n                  </span>\n                  <span v-if=\"!modelValue.consent_types || modelValue.consent_types.length === 0\" class=\"text-gray-500\">\n                    None selected\n                  </span>\n                </div>\n              </div>\n              <div>\n                <span class=\"text-sm text-gray-500\">Activity Status:</span>\n                <p class=\"font-medium\">{{ modelValue.activity_status || 'Not specified' }}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- AEE Summary -->\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900\">Assessment of Environmental Effects</h3>\n          </div>\n          <div class=\"p-6\">\n            <div class=\"space-y-4\">\n              <div v-if=\"modelValue.aee_activity_description\">\n                <span class=\"text-sm text-gray-500\">Activity Description:</span>\n                <p class=\"text-sm mt-1 line-clamp-3\">{{ modelValue.aee_activity_description }}</p>\n              </div>\n              <div v-if=\"modelValue.aee_existing_environment\">\n                <span class=\"text-sm text-gray-500\">Existing Environment:</span>\n                <p class=\"text-sm mt-1 line-clamp-3\">{{ modelValue.aee_existing_environment }}</p>\n              </div>\n              <div v-if=\"modelValue.assessment_of_effects\">\n                <span class=\"text-sm text-gray-500\">Effects Assessment:</span>\n                <p class=\"text-sm mt-1 line-clamp-3\">{{ modelValue.assessment_of_effects }}</p>\n              </div>\n              <div v-if=\"modelValue.aee_document\" class=\"flex items-center gap-2 text-sm text-green-600\">\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <span>AEE Document attached</span>\n              </div>\n              <p v-if=\"!hasAEEContent\" class=\"text-gray-500 text-sm\">\n                AEE not yet completed\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Statutory Declarations -->\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900\">Statutory Declarations</h3>\n          </div>\n          <div class=\"p-6\">\n            <div class=\"space-y-2\">\n              <div class=\"flex items-center gap-2\">\n                <svg\n                  class=\"w-5 h-5\"\n                  :class=\"modelValue.declaration_rma_compliance ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span :class=\"modelValue.declaration_rma_compliance ? 'text-gray-900' : 'text-gray-500'\">\n                  RMA Compliance Declaration\n                </span>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <svg\n                  class=\"w-5 h-5\"\n                  :class=\"modelValue.declaration_public_information ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span :class=\"modelValue.declaration_public_information ? 'text-gray-900' : 'text-gray-500'\">\n                  Public Information Declaration\n                </span>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <svg\n                  class=\"w-5 h-5\"\n                  :class=\"modelValue.declaration_authorized ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span :class=\"modelValue.declaration_authorized ? 'text-gray-900' : 'text-gray-500'\">\n                  Authorization Declaration\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <!-- Important Notice -->\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-6 h-6 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n          <div>\n            <h4 class=\"font-semibold text-yellow-900\">Before You Submit</h4>\n            <ul class=\"mt-2 text-sm text-yellow-800 space-y-1 list-disc list-inside\">\n              <li>Review all information carefully for accuracy and completeness</li>\n              <li>Ensure all required fields are completed</li>\n              <li>For Resource Consent applications, verify all statutory declarations are confirmed</li>\n              <li>Once submitted, you cannot edit the application (you may need to withdraw and resubmit)</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <!-- Completeness Check -->\n      <div v-if=\"!isComplete\" class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-red-900 text-sm\">Application Incomplete</h5>\n            <p class=\"text-red-800 text-sm mt-1\">\n              Please complete all required sections before submitting. Use the Previous button to go back and fill in missing information.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  councilName: {\n    type: String,\n    default: 'Council'\n  },\n  requestTypeName: {\n    type: String,\n    default: 'Application'\n  },\n  applicationFee: {\n    type: String,\n    default: 'TBD'\n  },\n  isResourceConsent: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst hasAEEContent = computed(() => {\n  return !!(\n    props.modelValue.aee_activity_description ||\n    props.modelValue.aee_existing_environment ||\n    props.modelValue.assessment_of_effects ||\n    props.modelValue.aee_document\n  )\n})\n\nconst isComplete = computed(() => {\n  // Basic required fields\n  const hasBasicInfo = !!(\n    props.modelValue.council &&\n    props.modelValue.request_type &&\n    props.modelValue.applicant_name &&\n    props.modelValue.applicant_email &&\n    props.modelValue.property_address &&\n    props.modelValue.delivery_preference\n  )\n\n  // If RC, check additional requirements\n  if (props.isResourceConsent) {\n    const hasRCRequirements = !!(\n      props.modelValue.consent_types && props.modelValue.consent_types.length > 0 &&\n      props.modelValue.activity_status &&\n      props.modelValue.aee_activity_description &&\n      props.modelValue.aee_existing_environment &&\n      props.modelValue.assessment_of_effects &&\n      props.modelValue.declaration_rma_compliance &&\n      props.modelValue.declaration_public_information &&\n      props.modelValue.declaration_authorized\n    )\n    return hasBasicInfo && hasRCRequirements\n  }\n\n  return hasBasicInfo\n})\n</script>\n\n<style scoped>\n.line-clamp-3 {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style>\n","<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <header class=\"bg-white shadow-sm border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex items-center justify-between py-4\">\n          <div class=\"flex items-center space-x-3\">\n            <button @click=\"goBack\" class=\"text-gray-500 hover:text-gray-700\">\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n              </svg>\n            </button>\n            <div>\n              <h1 class=\"text-xl font-bold text-gray-900\">New Application</h1>\n              <p class=\"text-sm text-gray-500\">Step {{ currentStep }} of {{ totalSteps }}</p>\n            </div>\n          </div>\n          <Button @click=\"saveDraft\" variant=\"outline\" theme=\"gray\" :loading=\"savingDraft\">\n            Save Draft\n          </Button>\n        </div>\n      </div>\n    </header>\n\n    <!-- Progress Bar -->\n    <div class=\"bg-white border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n        <div class=\"flex items-center justify-between mb-2\">\n          <div\n            v-for=\"(step, index) in steps\"\n            :key=\"index\"\n            class=\"flex items-center\"\n            :class=\"{ 'flex-1': index < steps.length - 1 }\"\n          >\n            <div class=\"flex flex-col items-center\">\n              <div\n                class=\"w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm\"\n                :class=\"getStepClass(index + 1)\"\n              >\n                <span v-if=\"index + 1 < currentStep\">✓</span>\n                <span v-else>{{ index + 1 }}</span>\n              </div>\n              <span\n                class=\"text-xs mt-2 text-center\"\n                :class=\"index + 1 === currentStep ? 'text-blue-600 font-medium' : 'text-gray-500'\"\n              >\n                {{ step.title }}\n              </span>\n            </div>\n            <div\n              v-if=\"index < steps.length - 1\"\n              class=\"flex-1 h-1 mx-4 rounded\"\n              :class=\"index + 1 < currentStep ? 'bg-blue-600' : 'bg-gray-200'\"\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n<main class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n        <div v-if=\"currentStep === 1\">\n            <Step1CouncilSelection\n                v-model=\"formData\"\n                @council-change=\"onCouncilChange\"\n            />\n        </div>\n\n        <div v-if=\"currentStep === 2\">\n            <Step2RequestType\n                v-model=\"formData\"\n                :request-types=\"requestTypes\"\n                @type-selected=\"selectRequestType\"\n            />\n        </div>\n\n        <div v-if=\"currentStep === 3\">\n            <Step3ProcessInfo\n                :request-type-details=\"selectedRequestTypeDetails\"\n                :council-name=\"getCouncilName()\"\n                @continue=\"currentStep++\"\n            />\n        </div>\n\n        <Step4ApplicantDetails\n          v-if=\"currentStep === 4\"\n          v-model=\"formData\"\n          :user-profile=\"userProfile\"\n          :user-company-account=\"userCompanyAccount\"\n        />\n\n        <Step5PropertyDetails\n          v-if=\"currentStep === 5\"\n          v-model=\"formData\"\n          :properties=\"properties\"\n          @property-select=\"onPropertySelect\"\n        />\n\n        <Step6DeliveryPayment\n          v-if=\"currentStep === 6\"\n          v-model=\"formData\"\n        />\n\n        <!-- Step 7: Consent Type & Activity Status (Resource Consent Only) -->\n        <!-- Step 7: Consent Type (Resource Consent Only) -->\n        <div v-if=\"currentStep === 7 && isResourceConsent\">\n            <Step7ConsentType v-model=\"formData\" />\n        </div>\n\n        <!-- Step 8: Consent Details (Resource Consent Only) - NEW STEP -->\n        <div v-if=\"currentStep === 8 && isResourceConsent\">\n            <Step7BConsentDetails v-model=\"formData\" />\n        </div>\n\n        <!-- Step 9: Proposal Details (was Step 8) -->\n        <div v-if=\"currentStep === 9 && isResourceConsent\">\n            <Step8ProposalDetails v-model=\"formData\" />\n        </div>\n\n        <!-- Step 10: Site & Environment (was Step 9) -->\n        <div v-if=\"currentStep === 10 && isResourceConsent\">\n            <Step9SiteEnvironment v-model=\"formData\" />\n        </div>\n\n        <!-- Step 11: NES & Hazards (was Step 10) -->\n        <div v-if=\"currentStep === 11 && isResourceConsent\">\n            <Step10NESHazards v-model=\"formData\" />\n        </div>\n\n        <!-- Step 12: AEE (was Step 11) -->\n        <div v-if=\"currentStep === 12 && isResourceConsent\">\n            <Step11AEE v-model=\"formData\" />\n        </div>\n\n        <!-- Step 13: Plan Assessment (was Step 12) -->\n        <div v-if=\"currentStep === 13 && isResourceConsent\">\n            <Step12PlanAssessment v-model=\"formData\" />\n        </div>\n\n        <!-- Step 14: Affected Parties (was Step 13) -->\n        <div v-if=\"currentStep === 14 && isResourceConsent\">\n            <Step13AffectedParties v-model=\"formData\" />\n        </div>\n\n        <!-- Step 15: Specialist Reports (was Step 14) -->\n        <div v-if=\"currentStep === 15 && isResourceConsent\">\n            <Step14SpecialistReports v-model=\"formData\" />\n        </div>\n\n        <!-- Step 16: Proposed Conditions (was Step 15) -->\n        <div v-if=\"currentStep === 16 && isResourceConsent\">\n            <Step15ProposedConditions v-model=\"formData\" />\n        </div>\n\n        <!-- Step 17: Declarations (was Step 16) -->\n        <div v-if=\"currentStep === 17 && isResourceConsent\">\n            <Step16Declarations v-model=\"formData\" />\n        </div>\n\n        <!-- Review Step (Final Step for all request types) -->\n        <div v-if=\"currentStep === totalSteps\">\n            <Step17Review\n                v-model=\"formData\"\n                :council-name=\"getCouncilName()\"\n                :request-type-name=\"getRequestTypeName()\"\n                :application-fee=\"getApplicationFee()\"\n                :is-resource-consent=\"isResourceConsent\"\n            />\n        </div>\n    </div>\n\n    <!-- Navigation Buttons -->\n        <div class=\"mt-8 flex justify-between items-center\">\n            <button\n                v-if=\"currentStep > 1\"\n                @click=\"currentStep--\"\n                class=\"px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors flex items-center\"\n            >\n                <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n                </svg>\n                Previous\n            </button>\n            <div v-else></div>\n\n            <button\n                v-if=\"currentStep < totalSteps\"\n                @click=\"handleNext\"\n                :disabled=\"!canProceed()\"\n                class=\"px-6 py-3 font-medium rounded-lg transition-colors flex items-center\"\n                :class=\"canProceed()\n                    ? 'bg-blue-600 text-white hover:bg-blue-700'\n                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'\"\n            >\n                Next\n                <svg class=\"w-5 h-5 ml-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                </svg>\n            </button>\n\n            <button\n                v-else\n                @click=\"handleSubmit\"\n                :disabled=\"!canSubmit || submitting\"\n                class=\"px-6 py-3 font-medium rounded-lg transition-colors\"\n                :class=\"canSubmit && !submitting\n                    ? 'bg-green-600 text-white hover:bg-green-700'\n                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'\"\n            >\n                <span v-if=\"submitting\">Submitting...</span>\n                <span v-else>Submit Application</span>\n            </button>\n        </div>\n</main>\n\n    <!-- Affected Party Modal -->\n    <div\n      v-if=\"showAffectedPartyModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelAffectedParty\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingPartyIndex !== null ? 'Edit' : 'Add' }} Affected Party\n            </h3>\n            <button\n              @click=\"cancelAffectedParty\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Party Name * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Party Name <span class=\"text-red-500\">*</span>\n            </label>\n            <input\n              v-model=\"affectedPartyForm.party_name\"\n              type=\"text\"\n              required\n              placeholder=\"e.g., John Smith\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n\n          <!-- Relationship * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Relationship <span class=\"text-red-500\">*</span>\n            </label>\n            <select\n              v-model=\"affectedPartyForm.relationship\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select relationship</option>\n              <option value=\"Adjacent Property Owner\">Adjacent Property Owner</option>\n              <option value=\"Neighbor\">Neighbor</option>\n              <option value=\"Iwi\">Iwi</option>\n              <option value=\"Infrastructure Provider\">Infrastructure Provider</option>\n              <option value=\"Other\">Other</option>\n            </select>\n          </div>\n\n          <!-- Contact Information -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Contact Information</h4>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Email</label>\n                <input\n                  v-model=\"affectedPartyForm.email\"\n                  type=\"email\"\n                  placeholder=\"email@example.com\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Phone</label>\n                <input\n                  v-model=\"affectedPartyForm.phone\"\n                  type=\"tel\"\n                  placeholder=\"021 123 4567\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Addresses -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Addresses</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Property Address</label>\n                <textarea\n                  v-model=\"affectedPartyForm.property_address\"\n                  rows=\"2\"\n                  placeholder=\"123 Main Street, Suburb, City\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">The property address affected by this proposal</p>\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Postal Address</label>\n                <textarea\n                  v-model=\"affectedPartyForm.postal_address\"\n                  rows=\"2\"\n                  placeholder=\"PO Box 123, Suburb, City\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">For correspondence (if different from property address)</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Approval -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Written Approval</h4>\n\n            <div class=\"flex items-start mb-3\">\n              <input\n                type=\"checkbox\"\n                v-model=\"affectedPartyForm.approval_obtained\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <label class=\"ml-3 text-sm text-gray-700\">\n                Written approval obtained from this party\n              </label>\n            </div>\n\n            <div v-if=\"affectedPartyForm.approval_obtained\" class=\"ml-7 space-y-3\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Date</label>\n                <input\n                  v-model=\"affectedPartyForm.approval_date\"\n                  type=\"date\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Document</label>\n                <input\n                  type=\"file\"\n                  @change=\"handleApprovalDocumentUpload\"\n                  accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Upload written approval (PDF, Word, or image, max 10MB)</p>\n                <div v-if=\"affectedPartyForm.approval_document\" class=\"mt-2 text-xs text-green-600 flex items-center gap-1\">\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  <span>{{ typeof affectedPartyForm.approval_document === 'object' ? affectedPartyForm.approval_document.name : 'Document attached' }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Comments -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Comments</label>\n            <textarea\n              v-model=\"affectedPartyForm.comments\"\n              rows=\"3\"\n              placeholder=\"Any additional notes about this party or their concerns...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n            ></textarea>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelAffectedParty\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveAffectedParty\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingPartyIndex !== null ? 'Update' : 'Add' }} Party\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Specialist Report Modal -->\n    <div\n      v-if=\"showSpecialistReportModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelSpecialistReport\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingReportIndex !== null ? 'Edit' : 'Add' }} Specialist Report\n            </h3>\n            <button\n              @click=\"cancelSpecialistReport\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Report Type * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Report Type <span class=\"text-red-500\">*</span>\n            </label>\n            <select\n              v-model=\"specialistReportForm.report_type\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select report type</option>\n              <option value=\"Traffic Impact Assessment\">Traffic Impact Assessment</option>\n              <option value=\"Acoustic Assessment\">Acoustic Assessment</option>\n              <option value=\"Geotechnical Report\">Geotechnical Report</option>\n              <option value=\"Ecological Assessment\">Ecological Assessment</option>\n              <option value=\"Archaeological Assessment\">Archaeological Assessment</option>\n              <option value=\"Landscape Assessment\">Landscape Assessment</option>\n              <option value=\"Contaminated Land Assessment\">Contaminated Land Assessment</option>\n              <option value=\"Flood Risk Assessment\">Flood Risk Assessment</option>\n              <option value=\"Other\">Other</option>\n            </select>\n          </div>\n\n          <!-- Consultant Details -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Consultant Details</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Specialist Name <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"specialistReportForm.specialist_name\"\n                  type=\"text\"\n                  required\n                  placeholder=\"e.g., Dr. Jane Smith\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Company/Organization</label>\n                <input\n                  v-model=\"specialistReportForm.specialist_company\"\n                  type=\"text\"\n                  placeholder=\"e.g., ABC Consultants Ltd\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Report Details -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Report Details</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Report Date <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"specialistReportForm.report_date\"\n                  type=\"date\"\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Date the report was prepared or finalized</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Document <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"file\"\n                  @change=\"handleReportDocumentUpload\"\n                  accept=\".pdf,.doc,.docx\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Upload the specialist report (PDF or Word, max 10MB)</p>\n                <div v-if=\"specialistReportForm.document\" class=\"mt-2 text-xs text-green-600 flex items-center gap-1\">\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  <span>{{ typeof specialistReportForm.document === 'object' ? specialistReportForm.document.name : 'Document attached' }}</span>\n                </div>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Summary</label>\n                <textarea\n                  v-model=\"specialistReportForm.summary\"\n                  rows=\"4\"\n                  placeholder=\"Brief summary of key findings and recommendations...\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">Optional: Provide a brief summary of the report's key findings</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelSpecialistReport\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveSpecialistReport\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingReportIndex !== null ? 'Update' : 'Add' }} Report\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- HAIL Activity Modal -->\n    <div\n      v-if=\"showHAILModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelHAIL\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingHAILIndex !== null ? 'Edit' : 'Add' }} HAIL Activity\n            </h3>\n            <button\n              @click=\"cancelHAIL\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Activity Description -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Activity Description <span class=\"text-red-500\">*</span>\n            </label>\n            <textarea\n              v-model=\"hailForm.activity_description\"\n              rows=\"3\"\n              required\n              placeholder=\"Describe the HAIL activity (e.g., Former service station, industrial site)...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n\n          <!-- HAIL Category -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              HAIL Category\n            </label>\n            <select\n              v-model=\"hailForm.hail_category\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select HAIL category</option>\n              <option value=\"Category A - Petroleum/Oil Storage\">Category A - Petroleum/Oil Storage</option>\n              <option value=\"Category B - Asbestos Products\">Category B - Asbestos Products</option>\n              <option value=\"Category C - Chemicals\">Category C - Chemicals</option>\n              <option value=\"Category D - Engineering Workshops\">Category D - Engineering Workshops</option>\n              <option value=\"Category E - Gasworks/Coke Works\">Category E - Gasworks/Coke Works</option>\n              <option value=\"Category F - Horticulture\">Category F - Horticulture</option>\n              <option value=\"Category G - Landfills/Waste Disposal\">Category G - Landfills/Waste Disposal</option>\n              <option value=\"Category H - Metal Treatment\">Category H - Metal Treatment</option>\n              <option value=\"Category I - Timber Treatment\">Category I - Timber Treatment</option>\n            </select>\n          </div>\n\n          <!-- Status Checkboxes -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Activity Status</h4>\n            <div class=\"grid md:grid-cols-3 gap-3\">\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-current\"\n                  v-model=\"hailForm.currently_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-current\" class=\"ml-2 text-sm text-gray-700\">Currently Being Undertaken</label>\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-previous\"\n                  v-model=\"hailForm.previously_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-previous\" class=\"ml-2 text-sm text-gray-700\">Previously Undertaken</label>\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-likely\"\n                  v-model=\"hailForm.likely_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-likely\" class=\"ml-2 text-sm text-gray-700\">Likely to Have Been Undertaken</label>\n              </div>\n            </div>\n          </div>\n\n          <!-- Investigation -->\n          <div class=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              id=\"hail-investigated\"\n              v-model=\"hailForm.preliminary_investigation_done\"\n              class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <label for=\"hail-investigated\" class=\"ml-2 text-sm text-gray-700\">Preliminary Investigation Completed</label>\n          </div>\n\n          <!-- Proposed Activities -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Proposed Activities</h4>\n            <div class=\"space-y-2 p-3 border border-gray-200 rounded bg-gray-50\">\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-fuel\"\n                  v-model=\"proposedActivities.fuel\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-fuel\" class=\"ml-2 text-sm text-gray-700\">Removing or replacing fuel storage system</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-disturb\"\n                  v-model=\"proposedActivities.disturb\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-disturb\" class=\"ml-2 text-sm text-gray-700\">Disturbing soil</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-sample\"\n                  v-model=\"proposedActivities.sample\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-sample\" class=\"ml-2 text-sm text-gray-700\">Sampling soil</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-subdivide\"\n                  v-model=\"proposedActivities.subdivide\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-subdivide\" class=\"ml-2 text-sm text-gray-700\">Subdividing land</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-change\"\n                  v-model=\"proposedActivities.change\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-change\" class=\"ml-2 text-sm text-gray-700\">Changing use of land</label>\n              </div>\n            </div>\n            <p class=\"text-xs text-gray-500 mt-2\">Select all proposed activities that apply</p>\n          </div>\n\n          <!-- Notes -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Additional Notes</label>\n            <textarea\n              v-model=\"hailForm.notes\"\n              rows=\"3\"\n              placeholder=\"Additional notes about the HAIL activity...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelHAIL\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveHAIL\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingHAILIndex !== null ? 'Update' : 'Add' }} Activity\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Proposed Conditions Modal -->\n    <div\n      v-if=\"showConditionsModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"showConditionsModal = false\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              Browse Condition Templates\n            </h3>\n            <button\n              @click=\"showConditionsModal = false\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"flex-1 overflow-y-auto\">\n          <div class=\"grid md:grid-cols-3 gap-6 p-6\">\n            <!-- Left Column: Template Browser (2/3 width) -->\n            <div class=\"md:col-span-2 space-y-4\">\n              <!-- Category Filter -->\n              <div class=\"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200\">\n                <label class=\"text-sm font-medium text-gray-700\">Filter by Category:</label>\n                <select\n                  v-model=\"selectedCategory\"\n                  class=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option v-for=\"category in conditionCategories\" :key=\"category\" :value=\"category\">\n                    {{ category }}\n                  </option>\n                </select>\n                <span class=\"ml-auto text-xs text-gray-500\">\n                  {{ filteredConditionTemplates.length }} template{{ filteredConditionTemplates.length !== 1 ? 's' : '' }}\n                </span>\n              </div>\n\n              <!-- Loading State -->\n              <div v-if=\"loadingTemplates\" class=\"text-center py-12\">\n                <svg class=\"animate-spin h-8 w-8 mx-auto text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                  <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                <p class=\"mt-2 text-sm text-gray-500\">Loading templates...</p>\n              </div>\n\n              <!-- Templates List -->\n              <div v-else-if=\"filteredConditionTemplates.length > 0\" class=\"space-y-3\">\n                <div\n                  v-for=\"template in filteredConditionTemplates\"\n                  :key=\"template.name\"\n                  class=\"p-4 bg-white border border-gray-300 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all\"\n                >\n                  <div class=\"flex items-start justify-between mb-2\">\n                    <div class=\"flex-1\">\n                      <div class=\"flex items-center gap-2 mb-1\">\n                        <h4 class=\"text-sm font-semibold text-gray-900\">{{ template.template_name }}</h4>\n                        <span v-if=\"template.condition_code\" class=\"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-mono rounded\">\n                          {{ template.condition_code }}\n                        </span>\n                      </div>\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <span class=\"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded\">\n                          {{ template.condition_category }}\n                        </span>\n                        <span v-if=\"template.timing\" class=\"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded\">\n                          {{ template.timing }}\n                        </span>\n                        <span v-if=\"template.monitoring_required\" class=\"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded\">\n                          Monitoring Required\n                        </span>\n                      </div>\n                      <div class=\"text-xs text-gray-700 line-clamp-3\" v-html=\"template.condition_text\"></div>\n                    </div>\n                    <button\n                      @click=\"addConditionFromTemplate(template)\"\n                      type=\"button\"\n                      class=\"ml-3 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 flex items-center gap-1 flex-shrink-0\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                      Add\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <!-- No Templates -->\n              <div v-else class=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <svg class=\"w-12 h-12 mx-auto text-gray-400 mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <p class=\"text-sm text-gray-500\">No templates found for selected category</p>\n              </div>\n\n              <!-- Add Custom Condition Button -->\n              <div class=\"pt-4 border-t border-gray-200\">\n                <button\n                  @click=\"addCustomCondition\"\n                  type=\"button\"\n                  class=\"w-full px-4 py-2.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                  </svg>\n                  Add Custom Condition\n                </button>\n              </div>\n            </div>\n\n            <!-- Right Column: Selected Conditions (1/3 width) -->\n            <div class=\"md:col-span-1 bg-gray-50 rounded-lg p-4 border border-gray-200\">\n              <h4 class=\"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between\">\n                <span>Selected Conditions</span>\n                <span class=\"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full\">\n                  {{ formData.proposed_conditions.length }}\n                </span>\n              </h4>\n\n              <div v-if=\"formData.proposed_conditions.length > 0\" class=\"space-y-2 max-h-[600px] overflow-y-auto\">\n                <div\n                  v-for=\"(condition, index) in formData.proposed_conditions\"\n                  :key=\"index\"\n                  class=\"p-2 bg-white rounded border border-gray-300 text-xs\"\n                >\n                  <div class=\"flex items-start justify-between mb-1\">\n                    <div class=\"flex items-center gap-1\">\n                      <span class=\"px-1.5 py-0.5 bg-gray-100 text-gray-700 font-mono text-xs rounded\">\n                        {{ condition.condition_number }}\n                      </span>\n                      <span class=\"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded\">\n                        {{ condition.condition_category }}\n                      </span>\n                    </div>\n                    <button\n                      @click=\"removeCondition(index)\"\n                      type=\"button\"\n                      class=\"text-red-600 hover:bg-red-50 rounded p-0.5\"\n                      title=\"Remove\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n                  <div class=\"text-gray-700 line-clamp-2\" v-html=\"condition.condition_text\"></div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-8 text-xs text-gray-500\">\n                <svg class=\"w-8 h-8 mx-auto text-gray-300 mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                No conditions selected\n              </div>\n            </div>\n          </div>\n\n          <!-- Custom Condition Editor (appears when editing) -->\n          <div v-if=\"editingConditionIndex !== null || conditionForm.condition_text || conditionForm.condition_category\" class=\"border-t border-gray-200 bg-gray-50 p-6\">\n            <h4 class=\"text-sm font-semibold text-gray-900 mb-4\">\n              {{ editingConditionIndex !== null ? 'Edit' : 'Add Custom' }} Condition\n            </h4>\n\n            <div class=\"grid md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                  Condition Number <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"conditionForm.condition_number\"\n                  type=\"text\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"e.g., 1\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                  Category <span class=\"text-red-500\">*</span>\n                </label>\n                <select\n                  v-model=\"conditionForm.condition_category\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select category</option>\n                  <option v-for=\"category in conditionCategories.filter(c => c !== 'All')\" :key=\"category\" :value=\"category\">\n                    {{ category }}\n                  </option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                Condition Text <span class=\"text-red-500\">*</span>\n              </label>\n              <textarea\n                v-model=\"conditionForm.condition_text\"\n                rows=\"4\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter the condition text...\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">Notes</label>\n              <textarea\n                v-model=\"conditionForm.compliance_notes\"\n                rows=\"2\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Optional notes about this condition...\"\n              ></textarea>\n            </div>\n\n            <div class=\"flex justify-end gap-2 mt-4\">\n              <button\n                @click=\"cancelConditionEdit\"\n                type=\"button\"\n                class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                @click=\"saveCondition\"\n                type=\"button\"\n                class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n              >\n                {{ editingConditionIndex !== null ? 'Update' : 'Add' }} Condition\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end\">\n          <button\n            @click=\"showConditionsModal = false\"\n            type=\"button\"\n            class=\"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            Done\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { createResource, Input, Button, call } from 'frappe-ui'\nimport CouncilSelector from '../components/CouncilSelector.vue'\nimport Step1CouncilSelection from '../components/request-steps/Step1CouncilSelection.vue'\nimport Step2RequestType from '../components/request-steps/Step2RequestType.vue'\nimport Step3ProcessInfo from '../components/request-steps/Step3ProcessInfo.vue'\nimport Step4ApplicantDetails from '../components/request-steps/Step4ApplicantDetails.vue'\nimport Step5PropertyDetails from '../components/request-steps/Step5PropertyDetails.vue'\nimport Step6DeliveryPayment from '../components/request-steps/Step6DeliveryPayment.vue'\nimport Step7ConsentType from '../components/request-steps/Step7ConsentType.vue'\nimport Step7BConsentDetails from '../components/request-steps/Step7BConsentDetails.vue'\nimport Step8ProposalDetails from '../components/request-steps/Step8ProposalDetails.vue'\nimport Step9SiteEnvironment from '../components/request-steps/Step9SiteEnvironment.vue'\nimport Step10NESHazards from '../components/request-steps/Step10NESHazards.vue'\nimport Step11AEE from '../components/request-steps/Step11AEE.vue'\nimport Step12PlanAssessment from '../components/request-steps/Step12PlanAssessment.vue'\nimport Step13AffectedParties from '../components/request-steps/Step13AffectedParties.vue'\nimport Step14SpecialistReports from '../components/request-steps/Step14SpecialistReports.vue'\nimport Step15ProposedConditions from '../components/request-steps/Step15ProposedConditions.vue'\nimport Step16Declarations from '../components/request-steps/Step16Declarations.vue'\nimport Step17Review from '../components/request-steps/Step17Review.vue'\nimport { useCouncilStore } from '../stores/councilStore'\nimport { session } from '../data/session'\nimport { useFormValidation } from '../composables/useFormValidation'\nimport { useStepNavigation } from '../composables/useStepNavigation'\nimport { formatFileSize } from '../utils/fileHelpers'\n\nconst router = useRouter()\nconst councilStore = useCouncilStore()\n\n// User profile data\nconst userProfile = ref(null)\nconst loadingProfile = ref(false)\nconst userCompanyAccount = ref(null)\n\n// Form state\nconst currentStep = ref(1)\nconst totalSteps = computed(() => steps.value.length)\nconst savingDraft = ref(false)\nconst submitting = ref(false)\nconst uploadedFiles = ref([])\nconst fileInput = ref(null)\nconst bookingMeeting = ref(false)\nconst requestingMeeting = ref(false)\nconst showActivityStatusHelp = ref(false)\n\n// Available consent types (managed configuration)\nconst availableConsentTypes = [\n  'Land Use',\n  'Subdivision',\n  'Discharge Permit',\n  'Water Permit',\n  'Coastal Permit'\n]\n\nconst steps = computed(() => {\n  const baseSteps = [\n    { title: 'Council', number: 1 },\n    { title: 'Type', number: 2 },\n    { title: 'Process Info', number: 3 },\n    { title: 'Applicant', number: 4 },\n    { title: 'Property', number: 5 },\n    { title: 'Delivery & Payment', number: 6 }\n  ]\n\n  // Add RC-specific steps (only for RC requests)\n  if (isResourceConsent.value) {\n    baseSteps.push({ title: 'Consent Type', number: 7 })\n    baseSteps.push({ title: 'Consent Details', number: 8 }) // NEW STEP\n    baseSteps.push({ title: 'Proposal', number: 9 })\n    baseSteps.push({ title: 'Site & Environment', number: 10 })\n    baseSteps.push({ title: 'NES & Hazards', number: 11 })\n    baseSteps.push({ title: 'AEE', number: 12 })\n    baseSteps.push({ title: 'Plan Assessment', number: 13 })\n    baseSteps.push({ title: 'Affected Parties', number: 14 })\n    baseSteps.push({ title: 'Reports', number: 15 })\n    baseSteps.push({ title: 'Conditions', number: 16 })\n    baseSteps.push({ title: 'Declarations', number: 17 })\n  }\n\n  // Review step is always last\n  baseSteps.push({ title: 'Review', number: baseSteps.length + 1 })\n\n  return baseSteps\n})\n\n// Form data\nconst formData = ref({\n  council: '',\n  request_type: '',\n  request_category: '', // Store the category of the selected request type\n  property: '',\n  property_address: '',\n  legal_description: '',\n  valuation_reference: '',\n  parcel_id: '',\n  ct_reference: '',\n  property_coordinates: '',\n  hazard_data: null,\n  zone: '',\n  activity_zone: '',\n  brief_description: '',\n  detailed_description: '',\n  estimated_value: null,\n  proposed_start_date: '',\n  terms_accepted: false,\n\n  // Required applicant fields\n  applicant_phone: '',\n  applicant_type: '',\n\n  // Company submission fields\n  submitted_on_behalf_of: 'Myself', // 'Myself' or 'Company'\n  company_account: null,\n\n  // Agent workflow fields\n  acting_on_behalf: false,\n  applicant_name: '',\n  applicant_email: '',\n\n  // Resource Consent specific fields\n  consent_types: [], // Array of consent type objects\n  activity_status: '',\n  applicant_reference_number: '',\n  delivery_preference: '',\n  pim_reference: '',\n\n  // Proposal Details\n  building_height: null,\n  building_floor_area: null,\n  earthworks_volume: null,\n  earthworks_vertical_alteration: null,\n  vehicle_movements_daily: null,\n  parking_spaces_provided: null,\n  hours_of_operation: '',\n  consent_term_requested: '',\n\n  // Site & Environment\n  site_topography: '',\n  existing_vegetation_description: '',\n  watercourses_present: false,\n  watercourse_description: '',\n  existing_infrastructure: '',\n  contamination_status_hail: '',\n\n  // Permitted Boundary Activity (RMA s87BA)\n  boundary_description: '',\n  boundary_activity_description: '',\n  boundary_owner_approval_obtained: false,\n  boundary_approval_date: '',\n  boundary_approval_document: null,\n\n  // Natural Hazards (structured)\n  natural_hazards: [],\n\n  // NES Assessments\n  nes_assessments: [],\n\n  // HAIL Activities\n  hail_activities: [],\n\n  // Confidential Information (RMA s42)\n  confidential_information_claimed: false,\n  confidential_information_reason: '',\n\n  // AEE Fields\n  assessment_of_effects: '',\n  effects_on_people: '',\n  physical_effects: '',\n  earthworks_effects: '',\n  discharge_contaminants_effects: '',\n  ecosystem_effects: '',\n  hazard_risk_assessment: '',\n  cultural_effects: '',\n\n  // NEW: Structured AEE fields + document upload\n  aee_document: null,\n  aee_activity_description: '',\n  aee_activity_status: '',\n  aee_existing_environment: '',\n  aee_site_area: null,\n  aee_current_use: '',\n  aee_zoning: '',\n  aee_overlays: '',\n  aee_designations: '',\n  aee_part2_assessment: '',\n\n  // NEW: AEE child tables\n  aee_plan_rules: [],\n  aee_compliance_standards: [],\n  aee_written_approvals: [],\n  aee_proposed_conditions: [],\n  aee_consultation_summary: '',\n\n  // Note: planning_assessment and rma_part2_assessment are back-office fields\n  // completed by council officers, not applicants\n  alternatives_considered: '',\n  mitigation_proposed: '',\n\n  // NEW: Owner/Occupier fields\n  applicant_is_not_owner: false,\n  owner_name: '',\n  owner_email: '',\n  owner_phone: '',\n  owner_address: '',\n\n  // NEW: Certificate of Title document\n  certificate_of_title_document: null,\n\n  // NEW: Statutory declarations\n  declaration_rma_compliance: false,\n  declaration_public_information: false,\n  declaration_authorized: false,\n\n  // NEW: Invoicing details\n  invoice_to: 'Applicant',\n  invoice_name: '',\n  invoice_email: '',\n  invoice_address: '',\n  purchase_order_number: '',\n\n  // NEW: Transfer deposit (RC-specific)\n  transfer_deposit_required: false,\n  transfer_deposit_consent_number: '',\n\n  // Affected Parties\n  affected_parties: [], // Array of affected parties\n  written_approvals_obtained: 0, // Count of approvals obtained\n\n  // Iwi Consultation\n  iwi_consultation_undertaken: false,\n  iwi_consulted: '',\n  cultural_impact_assessment: null, // CIA file upload\n  iwi_response_summary: '', // Summary of iwi consultation responses\n\n  // Specialist Reports & Conditions\n  specialist_reports: [], // Array of specialist reports\n  proposed_conditions: [], // Array of proposed conditions\n})\n\n// Property Search Autocomplete State\nconst propertySearchQuery = ref('')\nconst propertySearchResults = ref([])\nconst propertySearchLoading = ref(false)\nconst showPropertyDropdown = ref(false)\nlet propertySearchTimeout = null\n\n// Selected Request Type Details (with council-specific info)\nconst selectedRequestTypeDetails = ref(null)\n\n// Natural Hazards - RMA s104\nconst naturalHazardTypes = [\n  'Earthquake',\n  'Fire',\n  'Tsunami',\n  'Erosion',\n  'Volcanic and Geothermal',\n  'Flood',\n  'Sedimentation',\n  'Subsidence',\n  'Wind',\n  'Landslip',\n  'Drought'\n]\n\nconst selectedHazards = ref([])\nconst hazardData = ref({})\n\n// Get or create hazard data object\nconst getHazardData = (hazard) => {\n  if (!hazardData.value[hazard]) {\n    hazardData.value[hazard] = {\n      hazard_type: hazard,\n      present: true,\n      risk_level: '',\n      assessment_notes: '',\n      mitigation_required: false\n    }\n  }\n  return hazardData.value[hazard]\n}\n\n// Watch selectedHazards to update formData.natural_hazards\nwatch(selectedHazards, (newHazards) => {\n  formData.value.natural_hazards = newHazards.map(hazard => getHazardData(hazard))\n}, { deep: true })\n\n// Watch hazardData to update formData.natural_hazards\nwatch(hazardData, () => {\n  formData.value.natural_hazards = selectedHazards.value.map(hazard => getHazardData(hazard))\n}, { deep: true })\n\n// National Environmental Standards - Must match backend RC NES Item options exactly\nconst nesTypes = [\n  { value: 'Contaminated Soil (HAIL)', label: 'NES for Assessing and Managing Contaminants in Soil (HAIL)' },\n  { value: 'Air Quality', label: 'NES for Air Quality' },\n  { value: 'Drinking Water', label: 'NES for Sources of Human Drinking Water' },\n  { value: 'Freshwater', label: 'NES for Freshwater Management' },\n  { value: 'Plantation Forestry', label: 'NES for Plantation Forestry' },\n  { value: 'Electricity Transmission', label: 'NES for Electricity Transmission Activities' },\n  { value: 'Telecommunications', label: 'NES for Telecommunication Facilities' },\n  { value: 'Other', label: 'Other NES' }\n]\n\nconst nesData = ref({})\n\n// Get or create NES data object\nconst getNESData = (nesType) => {\n  if (!nesData.value[nesType]) {\n    nesData.value[nesType] = {\n      nes_type: nesType,\n      applies: false,\n      description: '',\n      compliance_notes: ''\n    }\n  }\n  return nesData.value[nesType]\n}\n\n// NES Document Upload Handling\nconst handleNESDocumentUpload = (event, nesType) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 10 * 1024 * 1024) {\n    alert('File size must be less than 10MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'image/jpeg', 'image/jpg', 'image/png']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF, Word documents, and images are allowed')\n    event.target.value = ''\n    return\n  }\n\n  // Add to attachments with NES category\n  formData.value.attachments.push({\n    document_category: 'NES Documentation',\n    document_type: 'NES Assessment',\n    file: file,\n    description: `NES Assessment for ${nesType}`,\n    nes_type: nesType  // Track which NES this belongs to\n  })\n\n  event.target.value = ''\n}\n\nconst getNESDocuments = (nesType) => {\n  return formData.value.attachments.filter(att =>\n    att.document_category === 'NES Documentation' && att.nes_type === nesType\n  )\n}\n\nconst removeNESDocument = (nesType, docIdx) => {\n  const nesDocuments = getNESDocuments(nesType)\n  const docToRemove = nesDocuments[docIdx]\n  const globalIdx = formData.value.attachments.indexOf(docToRemove)\n  if (globalIdx > -1) {\n    formData.value.attachments.splice(globalIdx, 1)\n  }\n}\n\n// Certificate of Title Upload Handler\nconst handleCTUpload = (event) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 10 * 1024 * 1024) {\n    alert('File size must be less than 10MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF and image files (JPG, PNG) are allowed for Certificate of Title')\n    event.target.value = ''\n    return\n  }\n\n  // Store the file reference\n  formData.value.certificate_of_title_document = file\n\n  event.target.value = ''\n}\n\n// AEE Document Upload Handler\nconst handleAEEUpload = (event) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 20 * 1024 * 1024) {\n    alert('File size must be less than 20MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF and Word documents (.doc, .docx) are allowed for AEE documents')\n    event.target.value = ''\n    return\n  }\n\n  // Store the file reference\n  formData.value.aee_document = file\n\n  event.target.value = ''\n}\n\n// Watch nesData to update formData.nes_assessments\nwatch(nesData, () => {\n  formData.value.nes_assessments = nesTypes\n    .filter(nes => getNESData(nes.value).applies)\n    .map(nes => getNESData(nes.value))\n}, { deep: true })\n\n// Computed: Check if NES Soils is selected (for conditional HAIL section)\nconst isNESSoilsSelected = computed(() => {\n  return formData.value.nes_assessments.some(\n    nes => nes.nes_type && nes.nes_type.includes('HAIL')\n  )\n})\n\n// HAIL Activities Management\n// HAIL Activity Modal\nconst showHAILModal = ref(false)\nconst editingHAILIndex = ref(null)\nconst hailForm = ref({\n  activity_description: '',\n  hail_category: '',\n  currently_undertaken: false,\n  previously_undertaken: false,\n  likely_undertaken: false,\n  preliminary_investigation_done: false,\n  proposed_activities: [],\n  notes: ''\n})\nconst proposedActivities = ref({\n  fuel: false,\n  disturb: false,\n  sample: false,\n  subdivide: false,\n  change: false\n})\n\nconst addHAILActivity = () => {\n  // Reset form\n  hailForm.value = {\n    activity_description: '',\n    hail_category: '',\n    currently_undertaken: false,\n    previously_undertaken: false,\n    likely_undertaken: false,\n    preliminary_investigation_done: false,\n    proposed_activities: [],\n    notes: ''\n  }\n  proposedActivities.value = {\n    fuel: false,\n    disturb: false,\n    sample: false,\n    subdivide: false,\n    change: false\n  }\n  editingHAILIndex.value = null\n  showHAILModal.value = true\n}\n\nconst editHAILActivity = (index) => {\n  const hail = formData.value.hail_activities[index]\n  hailForm.value = { ...hail }\n\n  // Convert proposed_activities array to checkbox states\n  proposedActivities.value = {\n    fuel: hail.proposed_activities?.some(a => a.activity_type === 'Removing or replacing fuel storage system') || false,\n    disturb: hail.proposed_activities?.some(a => a.activity_type === 'Disturbing soil') || false,\n    sample: hail.proposed_activities?.some(a => a.activity_type === 'Sampling soil') || false,\n    subdivide: hail.proposed_activities?.some(a => a.activity_type === 'Subdividing land') || false,\n    change: hail.proposed_activities?.some(a => a.activity_type === 'Changing use of land') || false\n  }\n\n  editingHAILIndex.value = index\n  showHAILModal.value = true\n}\n\nconst saveHAIL = () => {\n  if (!hailForm.value.activity_description) {\n    alert('Please enter activity description')\n    return\n  }\n\n  // Convert checkbox states back to proposed_activities array\n  const proposedActivitiesArray = []\n  if (proposedActivities.value.fuel) proposedActivitiesArray.push({ activity_type: 'Removing or replacing fuel storage system' })\n  if (proposedActivities.value.disturb) proposedActivitiesArray.push({ activity_type: 'Disturbing soil' })\n  if (proposedActivities.value.sample) proposedActivitiesArray.push({ activity_type: 'Sampling soil' })\n  if (proposedActivities.value.subdivide) proposedActivitiesArray.push({ activity_type: 'Subdividing land' })\n  if (proposedActivities.value.change) proposedActivitiesArray.push({ activity_type: 'Changing use of land' })\n\n  const hailData = {\n    ...hailForm.value,\n    proposed_activities: proposedActivitiesArray\n  }\n\n  if (editingHAILIndex.value !== null) {\n    // Edit existing\n    formData.value.hail_activities[editingHAILIndex.value] = hailData\n  } else {\n    // Add new\n    formData.value.hail_activities.push(hailData)\n  }\n\n  showHAILModal.value = false\n}\n\nconst cancelHAIL = () => {\n  showHAILModal.value = false\n}\n\nconst removeHAILActivity = (index) => {\n  if (confirm('Remove this HAIL activity?')) {\n    formData.value.hail_activities.splice(index, 1)\n  }\n}\n\n// HAIL Proposed Activity checkbox handlers\nconst toggleHAILProposedActivity = (hailIndex, activityType) => {\n  const hail = formData.value.hail_activities[hailIndex]\n  if (!hail.proposed_activities) {\n    hail.proposed_activities = []\n  }\n\n  const activityIndex = hail.proposed_activities.findIndex(a => a.activity_type === activityType)\n  if (activityIndex > -1) {\n    hail.proposed_activities.splice(activityIndex, 1)\n  } else {\n    hail.proposed_activities.push({ activity_type: activityType })\n  }\n}\n\nconst isHAILActivitySelected = (hailIndex, activityType) => {\n  const hail = formData.value.hail_activities[hailIndex]\n  if (!hail.proposed_activities) return false\n  return hail.proposed_activities.some(a => a.activity_type === activityType)\n}\n\n// Proposal Details Accordion State\nconst proposalAccordion = ref({\n  building: true,  // Start with first section open\n  earthworks: false,\n  traffic: false,\n  operations: false\n})\n\nconst toggleProposalSection = (section) => {\n  proposalAccordion.value[section] = !proposalAccordion.value[section]\n}\n\n// Boundary Approval Document Upload\nconst handleBoundaryApprovalUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    formData.value.boundary_approval_document = file\n  }\n}\n\n// Track initial form state to detect changes\nconst initialFormData = ref(JSON.parse(JSON.stringify(formData.value)))\n\n// Computed property to check if form has changes\n// Exclude terms_accepted from change detection since it's not actual application data\nconst hasFormChanges = computed(() => {\n  const currentCopy = { ...formData.value }\n  const initialCopy = { ...initialFormData.value }\n\n  // Remove terms_accepted from comparison\n  delete currentCopy.terms_accepted\n  delete initialCopy.terms_accepted\n\n  const current = JSON.stringify(currentCopy)\n  const initial = JSON.stringify(initialCopy)\n  return current !== initial\n})\n\n// Computed property to check if Resource Consent request\nconst isResourceConsent = computed(() => {\n  return formData.value.request_category === 'Resource Consent'\n})\n\n// Consent type helpers\nconst hasConsentType = (type) => {\n  return formData.value.consent_types?.some(ct => ct.consent_type === type) || false\n}\n\nconst isLandUse = computed(() => hasConsentType('Land Use'))\nconst isSubdivision = computed(() => hasConsentType('Subdivision'))\nconst isWaterPermit = computed(() => hasConsentType('Water Permit'))\nconst isDischargePermit = computed(() => hasConsentType('Discharge Permit'))\nconst isCoastalPermit = computed(() => hasConsentType('Coastal Permit'))\n\n// Combined checks for common requirements\nconst requiresNaturalHazardsAssessment = computed(() => {\n  return isLandUse.value || isSubdivision.value\n})\n\nconst eligibleForFastTrack = computed(() => {\n  // Fast-track available for all except Subdivision, and only if Controlled activity\n  const isControlled = formData.value.activity_status === 'Controlled'\n  const notSubdivision = !isSubdivision.value\n  return isControlled && notSubdivision && isResourceConsent.value\n})\n\nconst hasUnlimitedDuration = computed(() => {\n  // LUC and SC can have unlimited duration\n  return (isLandUse.value || isSubdivision.value) &&\n         !(isWaterPermit.value || isDischargePermit.value || isCoastalPermit.value)\n})\n\n// Activity status validation warning\nconst activityStatusWarning = computed(() => {\n  if (!formData.value.activity_status) return null\n\n  switch (formData.value.activity_status) {\n    case 'Non-Complying':\n      return '⚠️ Non-complying activities face higher scrutiny and longer processing times. Consider pre-application meeting.'\n    case 'Discretionary':\n      return 'ℹ️ Discretionary activities may require public notification depending on effects assessment.'\n    case 'Controlled':\n      return '✓ Controlled activities must be granted consent. Council will focus on appropriate conditions.'\n    default:\n      return null\n  }\n})\n\n// Show submit button only if there are changes or files uploaded\nconst canSubmit = computed(() => {\n  return hasFormChanges.value || uploadedFiles.value.length > 0\n})\n\n// Get request types (will be loaded based on council selection)\nconst requestTypes = ref({ data: [], loading: false, error: null })\n\n// Get user's properties\nconst properties = createResource({\n  url: 'frappe.client.get_list',\n  params: {\n    doctype: 'Property',\n    fields: ['name', 'property_id', 'street_address', 'suburb', 'city', 'legal_description', 'certificate_of_title'],\n    limit_page_length: 100,\n  },\n  auto: true,\n})\n\n// Methods\nconst onCouncilChange = async (councilCode) => {\n  if (!councilCode) {\n    requestTypes.value = { data: [], loading: false, error: null }\n    return\n  }\n\n  // Load request types for the selected council\n  requestTypes.value.loading = true\n  requestTypes.value.error = null\n\n  try {\n    await councilStore.loadRequestTypesForCouncil(councilCode)\n    requestTypes.value.data = councilStore.availableRequestTypes\n    console.log(`[NewRequest] Loaded ${requestTypes.value.data.length} request types for council ${councilCode}`)\n  } catch (error) {\n    requestTypes.value.error = error.message || 'Failed to load request types'\n    console.error('[NewRequest] Failed to load request types:', error)\n  } finally {\n    requestTypes.value.loading = false\n  }\n}\n\nconst goBack = () => {\n  if (confirm('Are you sure you want to leave? Any unsaved changes will be lost.')) {\n    router.push({ name: 'Dashboard' })\n  }\n}\n\nconst getStepClass = (stepNumber) => {\n  if (stepNumber < currentStep.value) {\n    return 'bg-blue-600 text-white'\n  } else if (stepNumber === currentStep.value) {\n    return 'bg-blue-600 text-white'\n  } else {\n    return 'bg-gray-200 text-gray-600'\n  }\n}\n\nconst selectRequestType = (type) => {\n  console.log('[NewRequest] Selecting Request Type:', type.name, type.type_name)\n  formData.value.request_type = type.name\n  formData.value.request_category = type.category || ''\n\n  // Store the full request type details for the Process Info step\n  selectedRequestTypeDetails.value = type\n\n  console.log('[NewRequest] Form data updated:', {\n    request_type: formData.value.request_type,\n    request_category: formData.value.request_category,\n    details: selectedRequestTypeDetails.value\n  })\n}\n\nconst onPropertySelect = () => {\n  if (formData.value.property) {\n    const selected = properties.data.find(p => p.name === formData.value.property)\n    if (selected) {\n      // Populate address\n      formData.value.property_address = `${selected.street_address}, ${selected.suburb}, ${selected.city}`\n\n      // Populate property details\n      formData.value.legal_description = selected.legal_description || ''\n      formData.value.ct_reference = selected.certificate_of_title || ''\n      formData.value.parcel_id = selected.property_id || ''\n      formData.value.zone = selected.zoning || ''\n\n      // Populate coordinates if available\n      if (selected.latitude && selected.longitude) {\n        formData.value.property_coordinates = `${selected.latitude},${selected.longitude}`\n      }\n\n      console.log('[NewRequest] Populated property details from existing property:', {\n        address: formData.value.property_address,\n        legal_description: formData.value.legal_description,\n        ct_reference: formData.value.ct_reference,\n        parcel_id: formData.value.parcel_id,\n        zone: formData.value.zone\n      })\n    }\n  }\n}\n\n// Property Search Autocomplete Handlers\nconst handlePropertySearch = () => {\n  // Clear existing timeout\n  if (propertySearchTimeout) {\n    clearTimeout(propertySearchTimeout)\n  }\n\n  const query = propertySearchQuery.value.trim()\n\n  // Only search if query is at least 3 characters\n  if (query.length < 3) {\n    propertySearchResults.value = []\n    return\n  }\n\n  // Debounce search\n  propertySearchTimeout = setTimeout(async () => {\n    propertySearchLoading.value = true\n    showPropertyDropdown.value = true\n\n    try {\n      const response = await fetch('/api/method/lodgeick.api.search_property_address', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: JSON.stringify({ query })\n      })\n\n      const data = await response.json()\n\n      if (data.message && data.message.results) {\n        propertySearchResults.value = data.message.results\n      } else {\n        propertySearchResults.value = []\n      }\n    } catch (error) {\n      console.error('[PropertySearch] Error searching properties:', error)\n      propertySearchResults.value = []\n    } finally {\n      propertySearchLoading.value = false\n    }\n  }, 300) // 300ms debounce\n}\n\nconst selectProperty = (result) => {\n  // Set the property address\n  formData.value.property_address = result.address\n  propertySearchQuery.value = result.address\n\n  // Set legal description if available\n  if (result.property?.legal_description) {\n    formData.value.legal_description = result.property.legal_description\n  }\n\n  // Set title number if available\n  if (result.property?.title_no) {\n    formData.value.ct_reference = result.property.title_no\n  }\n\n  // Set valuation reference if available\n  if (result.property?.valuation_reference) {\n    formData.value.valuation_reference = result.property.valuation_reference\n  }\n\n  // Set parcel ID if available\n  if (result.property?.parcel_id) {\n    formData.value.parcel_id = result.property.parcel_id\n  }\n\n  // Set property coordinates if available\n  if (result.projected_x && result.projected_y) {\n    formData.value.property_coordinates = `NZTM2000: ${result.projected_x.toFixed(2)}, ${result.projected_y.toFixed(2)}`\n  }\n\n  // Extract and set zoning from district plan hazards\n  if (result.hazards?.districtPlan && Array.isArray(result.hazards.districtPlan) && result.hazards.districtPlan.length > 0) {\n    const districtPlan = result.hazards.districtPlan[0]\n    if (districtPlan.attributes?.Zone_Code || districtPlan.attributes?.ZONE_CODE) {\n      formData.value.zone = districtPlan.attributes.Zone_Code || districtPlan.attributes.ZONE_CODE\n    } else if (districtPlan.attributes?.Zone_Name || districtPlan.attributes?.ZONE_NAME) {\n      formData.value.zone = districtPlan.attributes.Zone_Name || districtPlan.attributes.ZONE_NAME\n    }\n  }\n\n  // Store full hazard data for potential future use\n  formData.value.hazard_data = result.hazards\n\n  // Close dropdown\n  showPropertyDropdown.value = false\n  propertySearchResults.value = []\n\n  console.log('[PropertySearch] Selected property:', {\n    address: result.address,\n    legal_description: formData.value.legal_description,\n    title_no: formData.value.ct_reference,\n    zone: formData.value.zone,\n    hazards: result.hazards\n  })\n}\n\n// Close dropdown when clicking outside\nconst closePropertyDropdown = () => {\n  showPropertyDropdown.value = false\n}\n\n// Clear property address to allow new search\nconst clearPropertyAddress = () => {\n  formData.value.property_address = ''\n  formData.value.legal_description = ''\n  formData.value.ct_reference = ''\n  formData.value.valuation_reference = ''\n  formData.value.parcel_id = ''\n  formData.value.zone = ''\n  formData.value.property_coordinates = ''\n  formData.value.hazard_data = null\n  propertySearchQuery.value = ''\n  propertySearchResults.value = []\n  console.log('[PropertySearch] Cleared property data for new search')\n}\n\nconst canProceed = () => {\n  switch (currentStep.value) {\n    case 1:\n      // Step 1: Council selection\n      const canProceedStep1 = !!formData.value.council\n      console.log('[NewRequest] canProceed Step 1 (Council):', canProceedStep1, 'council:', formData.value.council)\n      return canProceedStep1\n\n    case 2:\n      // Step 2: Request type selection\n      const canProceedStep2 = !!formData.value.request_type\n      console.log('[NewRequest] canProceed Step 2 (Type):', canProceedStep2, 'request_type:', formData.value.request_type)\n      return canProceedStep2\n\n    case 3:\n      // Step 3: Process Info - always can proceed (just informational)\n      return true\n\n    case 4:\n      // Step 4: Applicant Details - Require applicant info\n      const hasApplicantInfo = formData.value.applicant_phone && formData.value.applicant_type && formData.value.applicant_name && formData.value.applicant_email\n\n      // Validate owner details if applicant is not the owner\n      const ownerDetailsValid = !formData.value.applicant_is_not_owner || (\n        formData.value.owner_name &&\n        formData.value.owner_email &&\n        formData.value.owner_phone &&\n        formData.value.owner_address\n      )\n\n      return !!(hasApplicantInfo && ownerDetailsValid)\n\n    case 5:\n      // Step 5: Property Details - REQUIRED: Must select a property\n      const hasProperty = formData.value.property || formData.value.property_address\n      console.log('[NewRequest] canProceed Step 5 (Property):', !!hasProperty, 'property:', formData.value.property, 'address:', formData.value.property_address)\n      return !!hasProperty\n\n    case 6:\n      // Step 6: Delivery & Payment - Validate delivery preference and invoice details\n      const hasDeliveryPreference = !!formData.value.delivery_preference\n\n      const hasInvoiceDetails = formData.value.invoice_to === 'Applicant' || (\n        formData.value.invoice_to === 'Other' &&\n        formData.value.invoice_name &&\n        formData.value.invoice_email &&\n        formData.value.invoice_address\n      )\n\n      const transferDepositValid = !formData.value.transfer_deposit_required ||\n        !!formData.value.transfer_deposit_consent_number\n\n      return !!(hasDeliveryPreference && hasInvoiceDetails && transferDepositValid)\n\n    case 7:\n      // Step 7: Consent Type & Activity Status (RC only)\n      if (isResourceConsent.value) {\n        const hasConsentTypes = formData.value.consent_types && formData.value.consent_types.length > 0\n        const hasActivityStatus = !!formData.value.activity_status\n        return !!(hasConsentTypes && hasActivityStatus)\n      }\n      return true\n\n    case 8:\n      // Step 8: Proposal Details (RC only) - Optional, always can proceed\n      return true\n\n    case 9:\n      // Step 9: Site & Environment (RC only) - Optional, always can proceed\n      return true\n\n    case 10:\n      // Step 10: NES & Natural Hazards (RC only) - Optional, always can proceed\n      return true\n\n    case 11:\n      // Step 11: Assessment of Environmental Effects (RC only) - REQUIRED core AEE fields\n      // TODO: Re-enable validation once Step 11 form is implemented\n      // if (isResourceConsent.value) {\n      //   const hasStructuredAEE = !!(\n      //     formData.value.aee_activity_description &&\n      //     formData.value.aee_existing_environment &&\n      //     formData.value.assessment_of_effects\n      //   )\n      //   return hasStructuredAEE\n      // }\n      return true  // Temporarily allow proceeding while step is placeholder\n\n    case 12:\n      // Step 12: Plan Assessment (RC only) - Optional, always can proceed\n      return true\n\n    case 13:\n      // Step 13: Affected Parties (RC only) - Optional, always can proceed\n      return true\n\n    case 14:\n      // Step 14: Specialist Reports (RC only) - Optional, always can proceed\n      return true\n\n    case 15:\n      // Step 15: Proposed Conditions (RC only) - Optional, always can proceed\n      return true\n\n    case 16:\n      // Step 16: Statutory Declarations (RC only) - REQUIRED all 3 declarations\n      if (isResourceConsent.value) {\n        const hasDeclarations = !!(\n          formData.value.declaration_rma_compliance &&\n          formData.value.declaration_public_information &&\n          formData.value.declaration_authorized\n        )\n        return hasDeclarations\n      }\n      return true\n\n    default:\n      // Review step and any other steps - always allow\n      return true\n  }\n}\n\nconst nextStep = () => {\n  const totalStepsValue = totalSteps.value\n  const currentStepValue = currentStep.value\n  const canProceedValue = canProceed()\n\n  console.log('[NewRequest] nextStep called', {\n    canProceed: canProceedValue,\n    currentStep: currentStepValue,\n    totalSteps: totalStepsValue,\n    steps: steps.value,\n    willProceed: canProceedValue && currentStepValue < totalStepsValue\n  })\n\n  if (canProceedValue && currentStepValue < totalStepsValue) {\n    currentStep.value++\n    console.log('[NewRequest] Moved to step:', currentStep.value)\n  } else {\n    console.warn('[NewRequest] Cannot proceed:', {\n      canProceed: canProceedValue,\n      currentStep: currentStepValue,\n      totalSteps: totalStepsValue,\n      reason: !canProceedValue ? 'canProceed returned false' : 'at last step'\n    })\n  }\n}\n\nconst previousStep = () => {\n  if (currentStep.value > 1) {\n    currentStep.value--\n  }\n}\n\nconst saveDraft = async () => {\n  savingDraft.value = true\n  try {\n    const response = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value\n      })\n    })\n\n    const result = await response.json()\n\n    if (result.message && result.message.success) {\n      alert(`Draft saved successfully! Request ID: ${result.message.request_number}`)\n      // Return the result for use by other functions\n      return result.message\n    } else {\n      throw new Error(result.message || 'Failed to save draft')\n    }\n  } catch (error) {\n    console.error('Error saving draft:', error)\n    alert('Failed to save draft. Please try again.')\n    return null\n  } finally {\n    savingDraft.value = false\n  }\n}\n\nconst triggerFileUpload = () => {\n  fileInput.value.click()\n}\n\nconst handleFileUpload = (event) => {\n  const files = Array.from(event.target.files)\n  uploadedFiles.value.push(...files)\n}\n\nconst removeFile = (index) => {\n  uploadedFiles.value.splice(index, 1)\n}\n\n// formatFileSize is now imported from utils/fileHelpers.js\n\nconst getCouncilName = () => {\n  const council = councilStore.councils?.find(c => c.council_code === formData.value.council)\n  return council?.council_name || 'Council'\n}\n\nconst getRequestTypeName = () => {\n  const type = requestTypes.data?.find(t => t.name === formData.value.request_type)\n  return type?.type_name || 'N/A'\n}\n\nconst getApplicationFee = () => {\n  const type = requestTypes.data?.find(t => t.name === formData.value.request_type)\n  return type?.base_fee ? `$${type.base_fee}` : 'TBD'\n}\n\n// Navigation handlers\nconst handleNext = () => {\n  if (canProceed()) {\n    currentStep.value++\n  }\n}\n\nconst handleSubmit = async () => {\n  await submitApplication()\n}\n\nconst submitApplication = async () => {\n  // NEW: Check statutory declarations instead of single terms_accepted\n  if (!formData.value.declaration_rma_compliance ||\n      !formData.value.declaration_public_information ||\n      !formData.value.declaration_authorized) {\n    alert('Please confirm all three statutory declarations before submitting your application')\n    return\n  }\n\n  submitting.value = true\n  try {\n    // Step 1: Create draft request\n    const createResponse = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value\n      })\n    })\n\n    const createResult = await createResponse.json()\n\n    if (!createResult.message || !createResult.message.success) {\n      throw new Error('Failed to create request')\n    }\n\n    const requestId = createResult.message.request_id\n\n    // Step 2: Upload files if any\n    if (uploadedFiles.value.length > 0) {\n      for (const file of uploadedFiles.value) {\n        const fileFormData = new FormData()\n        fileFormData.append('file', file)\n        fileFormData.append('doctype', 'Request')\n        fileFormData.append('docname', requestId)\n        fileFormData.append('is_private', 0)\n\n        await fetch('/api/method/upload_file', {\n          method: 'POST',\n          headers: {\n            'X-Frappe-CSRF-Token': window.csrf_token\n          },\n          body: fileFormData\n        })\n      }\n    }\n\n    // NEW: Upload Certificate of Title document if provided\n    if (formData.value.certificate_of_title_document) {\n      const ctFormData = new FormData()\n      ctFormData.append('file', formData.value.certificate_of_title_document)\n      ctFormData.append('doctype', 'Request')\n      ctFormData.append('docname', requestId)\n      ctFormData.append('fieldname', 'certificate_of_title_document')\n      ctFormData.append('is_private', 0)\n\n      await fetch('/api/method/upload_file', {\n        method: 'POST',\n        headers: {\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: ctFormData\n      })\n    }\n\n    // NEW: Upload AEE document if provided\n    if (formData.value.aee_document) {\n      const aeeFormData = new FormData()\n      aeeFormData.append('file', formData.value.aee_document)\n      aeeFormData.append('doctype', 'Resource Consent Application')\n      aeeFormData.append('docname', requestId)\n      aeeFormData.append('fieldname', 'aee_document')\n      aeeFormData.append('is_private', 0)\n\n      await fetch('/api/method/upload_file', {\n        method: 'POST',\n        headers: {\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: aeeFormData\n      })\n    }\n\n    // Step 3: Submit the request\n    const submitResponse = await fetch('/api/method/lodgeick.lodgeick.doctype.request.request.submit_application', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: requestId\n      })\n    })\n\n    const submitResult = await submitResponse.json()\n\n    if (submitResult.message && submitResult.message.success) {\n      alert(`Application submitted successfully! Request Number: ${submitResult.message.request_number}`)\n      router.push({ name: 'Dashboard' })\n    } else {\n      throw new Error('Failed to submit application')\n    }\n  } catch (error) {\n    console.error('Error submitting application:', error)\n    alert('Failed to submit application')\n  } finally {\n    submitting.value = false\n  }\n}\n\nconst bookPreApplicationMeeting = async () => {\n  if (!formData.value.request_type) {\n    alert('Please complete your application details first')\n    return\n  }\n\n  bookingMeeting.value = true\n  try {\n    // First, save as draft if not already saved\n    const draftResponse = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value\n      })\n    })\n\n    const draftResult = await draftResponse.json()\n\n    if (!draftResult.message || !draftResult.message.success) {\n      throw new Error('Failed to save application')\n    }\n\n    const requestId = draftResult.message.request_id\n\n    // Book the meeting via backend API\n    const meetingResponse = await fetch('/api/method/lodgeick.api.book_council_meeting', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: requestId,\n        meeting_type: 'Pre-Application Meeting'\n      })\n    })\n\n    const meetingResult = await meetingResponse.json()\n\n    if (meetingResult.message && meetingResult.message.success) {\n      alert(`Pre-Application Meeting request has been submitted! A council officer will contact you within 2 business days to schedule the meeting. Task ID: ${meetingResult.message.task_id}`)\n    } else {\n      throw new Error(meetingResult.message || 'Failed to book meeting')\n    }\n  } catch (error) {\n    console.error('Error booking meeting:', error)\n    alert('Failed to book pre-application meeting. Please try again.')\n  } finally {\n    bookingMeeting.value = false\n  }\n}\n\n// Resource Consent specific methods\nconst ciaFileInput = ref(null)\n\n// Affected Party Modal\nconst showAffectedPartyModal = ref(false)\nconst editingPartyIndex = ref(null)\nconst affectedPartyForm = ref({\n  party_name: '',\n  relationship: '',\n  property_address: '',\n  email: '',\n  phone: '',\n  postal_address: '',\n  approval_obtained: false,\n  approval_date: '',\n  approval_document: null,\n  comments: ''\n})\n\nconst addAffectedParty = () => {\n  // Reset form\n  affectedPartyForm.value = {\n    party_name: '',\n    relationship: '',\n    property_address: '',\n    email: '',\n    phone: '',\n    postal_address: '',\n    approval_obtained: false,\n    approval_date: '',\n    approval_document: null,\n    comments: ''\n  }\n  editingPartyIndex.value = null\n  showAffectedPartyModal.value = true\n}\n\nconst editAffectedParty = (index) => {\n  affectedPartyForm.value = { ...formData.value.affected_parties[index] }\n  editingPartyIndex.value = index\n  showAffectedPartyModal.value = true\n}\n\nconst saveAffectedParty = () => {\n  if (!affectedPartyForm.value.party_name || !affectedPartyForm.value.relationship) {\n    alert('Please enter party name and relationship')\n    return\n  }\n\n  if (editingPartyIndex.value !== null) {\n    // Edit existing\n    formData.value.affected_parties[editingPartyIndex.value] = { ...affectedPartyForm.value }\n  } else {\n    // Add new\n    formData.value.affected_parties.push({ ...affectedPartyForm.value })\n  }\n\n  showAffectedPartyModal.value = false\n}\n\nconst cancelAffectedParty = () => {\n  showAffectedPartyModal.value = false\n}\n\nconst removeAffectedParty = (index) => {\n  if (confirm('Remove this affected party?')) {\n    formData.value.affected_parties.splice(index, 1)\n  }\n}\n\nconst handleApprovalDocumentUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = [\n      'application/pdf',\n      'application/msword',\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n      'image/jpeg',\n      'image/jpg',\n      'image/png'\n    ]\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF, Word documents, and images (JPG, PNG) are allowed')\n      event.target.value = ''\n      return\n    }\n\n    affectedPartyForm.value.approval_document = file\n  }\n}\n\n// Specialist Report Modal\nconst showSpecialistReportModal = ref(false)\nconst editingReportIndex = ref(null)\nconst specialistReportForm = ref({\n  report_type: '',\n  specialist_name: '',\n  specialist_company: '',\n  report_date: '',\n  document: null,\n  summary: ''\n})\n\nconst addSpecialistReport = () => {\n  specialistReportForm.value = {\n    report_type: '',\n    specialist_name: '',\n    specialist_company: '',\n    report_date: '',\n    document: null,\n    summary: ''\n  }\n  editingReportIndex.value = null\n  showSpecialistReportModal.value = true\n}\n\nconst editSpecialistReport = (index) => {\n  specialistReportForm.value = { ...formData.value.specialist_reports[index] }\n  editingReportIndex.value = index\n  showSpecialistReportModal.value = true\n}\n\nconst saveSpecialistReport = () => {\n  if (!specialistReportForm.value.report_type || !specialistReportForm.value.specialist_name || !specialistReportForm.value.report_date) {\n    alert('Please enter report type, specialist name, and report date')\n    return\n  }\n\n  if (editingReportIndex.value !== null) {\n    formData.value.specialist_reports[editingReportIndex.value] = { ...specialistReportForm.value }\n  } else {\n    formData.value.specialist_reports.push({ ...specialistReportForm.value })\n  }\n  showSpecialistReportModal.value = false\n}\n\nconst cancelSpecialistReport = () => {\n  showSpecialistReportModal.value = false\n}\n\nconst removeSpecialistReport = (index) => {\n  if (confirm('Remove this specialist report?')) {\n    formData.value.specialist_reports.splice(index, 1)\n  }\n}\n\nconst handleReportDocumentUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF and Word documents are allowed')\n      event.target.value = ''\n      return\n    }\n\n    specialistReportForm.value.document = file\n  }\n}\n\nconst handleCIAUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF and Word documents are allowed')\n      event.target.value = ''\n      return\n    }\n\n    formData.value.cultural_impact_assessment = file\n  }\n}\n\n// ===== AEE Plan Assessment Handlers =====\n\n// Plan Rules\nconst addPlanRule = () => {\n  const rule = prompt('Enter plan rule reference (e.g., Rule 16.4.2.1)')\n  if (!rule) return\n\n  const activityStatus = prompt('Activity status (Permitted/Controlled/Restricted Discretionary/Discretionary/Non-Complying/Prohibited)')\n  if (!activityStatus) return\n\n  const description = prompt('Rule description (optional)', '')\n\n  formData.value.aee_plan_rules.push({\n    rule_reference: rule,\n    activity_status: activityStatus,\n    rule_description: description || ''\n  })\n}\n\nconst removePlanRule = (index) => {\n  if (confirm('Remove this plan rule?')) {\n    formData.value.aee_plan_rules.splice(index, 1)\n  }\n}\n\n// Compliance Standards\nconst addComplianceStandard = () => {\n  const standard = prompt('Enter standard reference (e.g., Building height: 8m maximum)')\n  if (!standard) return\n\n  const complies = confirm('Does the proposal comply with this standard?')\n  const analysis = prompt('Compliance analysis (optional)', '')\n\n  formData.value.aee_compliance_standards.push({\n    standard_reference: standard,\n    complies: complies,\n    compliance_analysis: analysis || '',\n    standard_description: ''\n  })\n}\n\nconst removeComplianceStandard = (index) => {\n  if (confirm('Remove this compliance standard?')) {\n    formData.value.aee_compliance_standards.splice(index, 1)\n  }\n}\n\n// Written Approvals\nconst addWrittenApproval = () => {\n  const name = prompt('Enter party name')\n  if (!name) return\n\n  const address = prompt('Party address (optional)', '')\n  const attached = confirm('Is the written approval attached?')\n\n  formData.value.aee_written_approvals.push({\n    party_name: name,\n    party_address: address || '',\n    approval_attached: attached,\n    approval_document: null\n  })\n}\n\nconst removeWrittenApproval = (index) => {\n  if (confirm('Remove this written approval?')) {\n    formData.value.aee_written_approvals.splice(index, 1)\n  }\n}\n\n// AEE Proposed Conditions\nconst addAEECondition = () => {\n  const text = prompt('Enter proposed condition')\n  if (!text) return\n\n  const number = formData.value.aee_proposed_conditions.length + 1\n\n  formData.value.aee_proposed_conditions.push({\n    condition_number: number,\n    condition_text: text\n  })\n}\n\nconst removeAEECondition = (index) => {\n  if (confirm('Remove this proposed condition?')) {\n    formData.value.aee_proposed_conditions.splice(index, 1)\n    // Renumber remaining conditions\n    formData.value.aee_proposed_conditions.forEach((cond, idx) => {\n      cond.condition_number = idx + 1\n    })\n  }\n}\n\n// Proposed Conditions Modal\nconst showConditionsModal = ref(false)\nconst editingConditionIndex = ref(null)\nconst availableConditionTemplates = ref([])\nconst loadingTemplates = ref(false)\nconst selectedCategory = ref('All')\n\nconst conditionForm = ref({\n  condition_number: '',\n  condition_category: '',\n  condition_text: '',\n  compliance_status: 'Not Started',\n  compliance_due_date: '',\n  compliance_notes: ''\n})\n\nconst conditionCategories = [\n  'All',\n  'General',\n  'Timing',\n  'Lapse',\n  'Review',\n  'Financial Contribution',\n  'Bonds',\n  'Monitoring',\n  'Environmental Management',\n  'Construction',\n  'Operation',\n  'Landscape',\n  'Ecology',\n  'Archaeology',\n  'Cultural',\n  'Traffic',\n  'Parking',\n  'Noise',\n  'Discharge',\n  'Earthworks',\n  'Heritage',\n  'Water',\n  'Coastal',\n  'Other'\n]\n\n// Fetch condition templates based on selected consent types\nconst fetchConditionTemplates = async () => {\n  loadingTemplates.value = true\n  try {\n    const selectedTypes = formData.value.consent_types.map(ct => ct.consent_type)\n\n    // Fetch templates from backend\n    const response = await fetch('/api/method/frappe.client.get_list', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        doctype: 'Consent Condition Template',\n        fields: ['name', 'template_name', 'condition_code', 'condition_category', 'condition_text', 'applies_to_consent_types', 'timing', 'monitoring_required'],\n        filters: {\n          is_active: 1\n        },\n        limit_page_length: 0\n      })\n    })\n\n    const data = await response.json()\n\n    if (data.message) {\n      // Filter templates that apply to selected consent types\n      availableConditionTemplates.value = data.message.filter(template => {\n        if (!template.applies_to_consent_types || template.applies_to_consent_types === 'All') {\n          return true\n        }\n        return selectedTypes.some(type => template.applies_to_consent_types.includes(type))\n      })\n    }\n  } catch (error) {\n    console.error('Error fetching condition templates:', error)\n    alert('Failed to load condition templates')\n  } finally {\n    loadingTemplates.value = false\n  }\n}\n\nconst filteredConditionTemplates = computed(() => {\n  if (selectedCategory.value === 'All') {\n    return availableConditionTemplates.value\n  }\n  return availableConditionTemplates.value.filter(t => t.condition_category === selectedCategory.value)\n})\n\nconst openConditionsModal = async () => {\n  if (!formData.value.consent_types || formData.value.consent_types.length === 0) {\n    alert('Please select at least one consent type first')\n    return\n  }\n\n  await fetchConditionTemplates()\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n  showConditionsModal.value = true\n}\n\nconst addConditionFromTemplate = (template) => {\n  // Generate a condition number\n  const conditionNum = (formData.value.proposed_conditions.length + 1).toString()\n\n  const newCondition = {\n    condition_number: conditionNum,\n    condition_category: template.condition_category,\n    condition_text: template.condition_text,\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n\n  formData.value.proposed_conditions.push(newCondition)\n}\n\nconst addCustomCondition = () => {\n  conditionForm.value = {\n    condition_number: (formData.value.proposed_conditions.length + 1).toString(),\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst editCondition = (index) => {\n  conditionForm.value = { ...formData.value.proposed_conditions[index] }\n  editingConditionIndex.value = index\n}\n\nconst saveCondition = () => {\n  if (!conditionForm.value.condition_category || !conditionForm.value.condition_text) {\n    alert('Please enter condition category and text')\n    return\n  }\n\n  if (editingConditionIndex.value !== null) {\n    formData.value.proposed_conditions[editingConditionIndex.value] = { ...conditionForm.value }\n  } else {\n    formData.value.proposed_conditions.push({ ...conditionForm.value })\n  }\n\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst cancelConditionEdit = () => {\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst removeCondition = (index) => {\n  if (confirm('Remove this condition?')) {\n    formData.value.proposed_conditions.splice(index, 1)\n    // Renumber remaining conditions\n    formData.value.proposed_conditions.forEach((cond, idx) => {\n      cond.condition_number = (idx + 1).toString()\n    })\n  }\n}\n\n// Pre-Application Meeting Request\nconst meetingResource = createResource({\n  url: 'lodgeick.api.book_council_meeting',\n  makeParams: (values) => values,\n  onSuccess: (data) => {\n    if (data && data.success) {\n      alert(`✅ Pre-Application Meeting Request Sent!\\n\\nTask #${data.task_id} has been created for the planning team.\\n\\nThey will contact you within 2 business days to schedule.`)\n    } else {\n      alert('Meeting request sent successfully! The planning team will contact you soon.')\n    }\n    requestingMeeting.value = false\n  },\n  onError: (error) => {\n    console.error('Error requesting meeting:', error)\n    alert('Failed to request pre-application meeting. Please try again or contact the planning team directly.')\n    requestingMeeting.value = false\n  }\n})\n\nconst requestPreAppMeeting = async () => {\n  if (!formData.value.request_type || !formData.value.property_address) {\n    alert('Please complete the Request Type and Property Details first.')\n    return\n  }\n\n  if (!confirm('Request a pre-application meeting? A planning officer will contact you within 2 business days to schedule.\\n\\nNote: You should save your application as a draft first.')) {\n    return\n  }\n\n  try {\n    requestingMeeting.value = true\n\n    // First, save the draft\n    const draftResult = await saveDraft()\n\n    if (!draftResult || !draftResult.request_id) {\n      alert('Please save your draft application first.')\n      requestingMeeting.value = false\n      return\n    }\n\n    // Then request the meeting\n    meetingResource.submit({\n      request_id: draftResult.request_id,\n      meeting_type: 'Pre-Application Meeting'\n    })\n  } catch (error) {\n    console.error('Error in meeting request:', error)\n    alert('Failed to request pre-application meeting. Please try again.')\n    requestingMeeting.value = false\n  }\n}\n\n// Initialize on mount\n// Load user profile and auto-populate fields\nconst loadUserProfile = async () => {\n  try {\n    loadingProfile.value = true\n    const profile = await call('lodgeick.api.get_user_profile')\n    userProfile.value = profile\n\n    // Auto-populate applicant type from profile default\n    if (profile.applicant_type && !formData.value.applicant_type) {\n      formData.value.applicant_type = profile.applicant_type\n    }\n\n    // Auto-populate phone if not acting on behalf\n    if (profile.phone && !formData.value.applicant_phone && !formData.value.acting_on_behalf) {\n      formData.value.applicant_phone = profile.phone\n    }\n\n    // Auto-populate applicant name and email when not acting on behalf\n    if (!formData.value.acting_on_behalf) {\n      formData.value.applicant_name = `${profile.first_name || ''} ${profile.last_name || ''}`.trim() || profile.email\n      formData.value.applicant_email = profile.email\n    }\n  } catch (error) {\n    console.error('Error loading user profile:', error)\n  } finally {\n    loadingProfile.value = false\n  }\n}\n\nconst loadCompanyAccount = async () => {\n  try {\n    const companyAccount = await call('lodgeick.api.get_user_company_account')\n    if (companyAccount) {\n      userCompanyAccount.value = companyAccount\n    }\n  } catch (error) {\n    console.error('Error loading company account:', error)\n  }\n}\n\n// Watch submitted_on_behalf_of to set company_account\nwatch(() => formData.value.submitted_on_behalf_of, (submittedAs) => {\n  if (submittedAs === 'Company' && userCompanyAccount.value) {\n    formData.value.company_account = userCompanyAccount.value.name\n  } else {\n    formData.value.company_account = null\n  }\n})\n\n// Watch acting_on_behalf to auto-populate or clear applicant details\nwatch(() => formData.value.acting_on_behalf, (actingOnBehalf) => {\n  if (!actingOnBehalf && userProfile.value) {\n    // Auto-populate from profile\n    formData.value.applicant_name = `${userProfile.value.first_name || ''} ${userProfile.value.last_name || ''}`.trim() || userProfile.value.email\n    formData.value.applicant_email = userProfile.value.email\n    if (userProfile.value.phone) {\n      formData.value.applicant_phone = userProfile.value.phone\n    }\n    if (userProfile.value.applicant_type) {\n      formData.value.applicant_type = userProfile.value.applicant_type\n    }\n  } else if (actingOnBehalf) {\n    // Clear fields for agent to fill in client details\n    formData.value.applicant_name = ''\n    formData.value.applicant_email = ''\n    formData.value.applicant_phone = ''\n    // Keep applicant_type as it might be different for the client\n  }\n})\n\n// Watch phone number to save back to profile when user updates it (and not acting on behalf)\nwatch(() => formData.value.applicant_phone, async (newPhone, oldPhone) => {\n  // Only save if:\n  // 1. Not acting on behalf (it's their own application)\n  // 2. Profile is loaded\n  // 3. Phone has actually changed\n  // 4. New phone is not empty\n  if (!formData.value.acting_on_behalf && userProfile.value && newPhone && newPhone !== oldPhone && newPhone !== userProfile.value.phone) {\n    try {\n      await call('lodgeick.api.update_user_profile', {\n        phone: newPhone\n      })\n      // Update local profile copy\n      userProfile.value.phone = newPhone\n      console.log('[NewRequest] Phone number saved to profile:', newPhone)\n    } catch (error) {\n      console.error('[NewRequest] Error saving phone to profile:', error)\n      // Don't show error to user - this is a background operation\n    }\n  }\n})\n\nonMounted(async () => {\n  // Load user profile first\n  await loadUserProfile()\n\n  // Load company account if user has one\n  await loadCompanyAccount()\n\n  // Check if council was preselected via URL or user default\n  if (councilStore.preselectedFromUrl) {\n    formData.value.council = councilStore.preselectedFromUrl\n    await onCouncilChange(councilStore.preselectedFromUrl)\n  } else {\n    // Try to load user's default council\n    const userCouncils = await councilStore.getUserCouncils()\n    if (userCouncils.default_council) {\n      formData.value.council = userCouncils.default_council\n      await onCouncilChange(userCouncils.default_council)\n    }\n  }\n})\n</script>\n"],"names":["props","__props","emit","__emit","updateCouncil","council","__spreadProps","__spreadValues","_createElementBlock","_cache","_createElementVNode","_createVNode","CouncilSelector","selectType","type","_openBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","$event","_normalizeClass","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_3","_hoisted_7","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","localData","ref","watch","newVal","_vModelRadio","_vModelText","_hoisted_17","_hoisted_19","_hoisted_20","_hoisted_21","_vModelSelect","_hoisted_22","_hoisted_23","_vModelCheckbox","_hoisted_24","_hoisted_25","_hoisted_27","propertySearchQuery","propertySearchResults","propertySearchLoading","showPropertyDropdown","searchTimeout","handlePropertySelect","handlePropertySearch","__async","query","results","call","error","selectProperty","result","_a","_b","_c","_d","_e","clearPropertyAddress","handleCTUpload","event","file","prop","index","_hoisted_18","availableConsentTypes","activityStatuses","newConsentTypes","newActivityStatus","toggleConsentType","consentType","ct","isConsentTypeSelected","status","hasConsentType","isSubdivision","computed","isCoastalPermit","canBeUnlimited","getMaxDuration","getDurationHelpText","durationData","reactive","getDurationData","existing","d","durationTouched","durationErrors","validateDuration","data","max","years","getDurationValidationClass","getDurationError","onUnlimitedToggle","getDurationInputId","getDurationHelpId","getUnlimitedCheckboxId","durations","eligibleForFastTrack","isControlled","notSubdivision","fastTrackAvailable","_createTextVNode","newBrief","newDetailed","addProposalDetail","updatedData","removeProposalDetail","detail","_hoisted_28","_hoisted_29","_hoisted_31","_hoisted_34","_hoisted_35","_hoisted_38","value","requiresHazardsAssessment","nesTypes","nesData","getNESData","nesType","item","toggleNES","existingIndex","addHazard","removeHazard","nes","hazard","handleAEEDocumentUpload","addPlanRule","removePlanRule","rule","writtenApprovals","party","specialistReports","reportCategories","att","category","report","showTemplates","loadingTemplates","availableTemplates","selectedCategory","filteredTemplates","templates","t","consentTypes","isShown","loadTemplates","addConditionFromTemplate","template","addCondition","removeCondition","condition","_hoisted_30","newRma","newPublic","newAuth","hasAEEContent","isComplete","hasBasicInfo","hasRCRequirements","_hoisted_26","_hoisted_32","_hoisted_33","_hoisted_36","_hoisted_37","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","router","useRouter","councilStore","useCouncilStore","userProfile","loadingProfile","userCompanyAccount","currentStep","totalSteps","steps","savingDraft","submitting","uploadedFiles","requestingMeeting","baseSteps","isResourceConsent","formData","selectedRequestTypeDetails","selectedHazards","hazardData","getHazardData","newHazards","showHAILModal","editingHAILIndex","hailForm","proposedActivities","saveHAIL","proposedActivitiesArray","hailData","cancelHAIL","initialFormData","hasFormChanges","currentCopy","initialCopy","current","initial","isLandUse","isWaterPermit","isDischargePermit","canSubmit","requestTypes","properties","createResource","onCouncilChange","councilCode","goBack","getStepClass","stepNumber","selectRequestType","onPropertySelect","selected","p","canProceed","canProceedStep1","canProceedStep2","hasApplicantInfo","ownerDetailsValid","hasProperty","hasDeliveryPreference","hasInvoiceDetails","transferDepositValid","hasConsentTypes","hasActivityStatus","saveDraft","getCouncilName","c","getRequestTypeName","getApplicationFee","handleNext","handleSubmit","submitApplication","createResult","requestId","fileFormData","ctFormData","aeeFormData","submitResult","showAffectedPartyModal","editingPartyIndex","affectedPartyForm","saveAffectedParty","cancelAffectedParty","handleApprovalDocumentUpload","showSpecialistReportModal","editingReportIndex","specialistReportForm","saveSpecialistReport","cancelSpecialistReport","handleReportDocumentUpload","showConditionsModal","editingConditionIndex","availableConditionTemplates","conditionForm","conditionCategories","filteredConditionTemplates","newCondition","addCustomCondition","saveCondition","cancelConditionEdit","cond","idx","values","loadUserProfile","profile","loadCompanyAccount","companyAccount","submittedAs","actingOnBehalf","newPhone","oldPhone","onMounted","userCouncils","_unref","Button","step","Step1CouncilSelection","Step2RequestType","Step3ProcessInfo","_createBlock","Step4ApplicantDetails","Step5PropertyDetails","Step6DeliveryPayment","Step7ConsentType","Step7BConsentDetails","Step8ProposalDetails","Step9SiteEnvironment","Step10NESHazards","Step11AEE","Step12PlanAssessment","Step13AffectedParties","Step14SpecialistReports","Step15ProposedConditions","Step16Declarations","Step17Review","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_120"],"mappings":"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"}