{"version":3,"file":"CompanyRegistration-DTSUL2Mj.js","sources":["../../../../frontend/src/pages/CompanyRegistration.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-4\">\n    <div class=\"w-full max-w-4xl\">\n      <!-- Logo & Header -->\n      <div class=\"text-center mb-8\">\n        <div class=\"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4 shadow-lg\">\n          <svg class=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n          </svg>\n        </div>\n        <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Register as Agent</h1>\n        <p class=\"text-gray-600\">Planning consultants who assist applicants with resource consent applications</p>\n      </div>\n\n      <!-- Info Banner -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div class=\"text-sm text-blue-800\">\n            <p class=\"font-medium\">You are registering as an Agent</p>\n            <p class=\"mt-1\">Agents are planning consultants who assist applicants with resource consent applications. You can be a sole trader or represent a company.</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Progress Steps -->\n      <div class=\"mb-8\">\n        <div class=\"flex items-center justify-between\">\n          <div v-for=\"(step, index) in steps\" :key=\"index\" class=\"flex-1\">\n            <div class=\"flex items-center\">\n              <div class=\"flex items-center flex-col flex-1\">\n                <div\n                  :class=\"[\n                    'w-10 h-10 rounded-full flex items-center justify-center border-2 transition',\n                    currentStep > index\n                      ? 'bg-blue-600 border-blue-600 text-white'\n                      : currentStep === index\n                      ? 'border-blue-600 bg-white text-blue-600'\n                      : 'border-gray-300 bg-white text-gray-400'\n                  ]\"\n                >\n                  <svg v-if=\"currentStep > index\" class=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\n                  </svg>\n                  <span v-else class=\"text-sm font-semibold\">{{ index + 1 }}</span>\n                </div>\n                <span\n                  :class=\"[\n                    'text-xs mt-2 font-medium text-center',\n                    currentStep >= index ? 'text-blue-600' : 'text-gray-400'\n                  ]\"\n                >\n                  {{ step.label }}\n                </span>\n              </div>\n              <div\n                v-if=\"index < steps.length - 1\"\n                :class=\"[\n                  'h-0.5 flex-1 -mt-8',\n                  currentStep > index ? 'bg-blue-600' : 'bg-gray-300'\n                ]\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Registration Card -->\n      <div class=\"bg-white rounded-2xl shadow-xl p-8 border border-gray-100\">\n        <form @submit.prevent=\"handleSubmit\">\n          <!-- Step 1: Agent Type & Personal Details -->\n          <div v-show=\"currentStep === 0\" class=\"space-y-6\">\n            <h2 class=\"text-xl font-semibold text-gray-900 mb-4\">Agent Type & Your Details</h2>\n\n            <!-- Agent Business Type -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-3\">\n                Agent Type <span class=\"text-red-500\">*</span>\n              </label>\n              <div class=\"grid grid-cols-2 gap-4\">\n                <button\n                  type=\"button\"\n                  @click=\"formData.agent_type = 'Sole Trader'\"\n                  :class=\"[\n                    'p-4 border-2 rounded-lg text-center transition',\n                    formData.agent_type === 'Sole Trader'\n                      ? 'border-blue-600 bg-blue-50'\n                      : 'border-gray-200 hover:border-gray-300'\n                  ]\"\n                >\n                  <svg class=\"w-8 h-8 mx-auto mb-2\" :class=\"formData.agent_type === 'Sole Trader' ? 'text-blue-600' : 'text-gray-400'\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                  </svg>\n                  <div class=\"text-sm font-medium\" :class=\"formData.agent_type === 'Sole Trader' ? 'text-blue-900' : 'text-gray-700'\">\n                    Sole Trader\n                  </div>\n                  <div class=\"text-xs text-gray-500 mt-1\">Individual consultant</div>\n                </button>\n                <button\n                  type=\"button\"\n                  @click=\"formData.agent_type = 'Company'\"\n                  :class=\"[\n                    'p-4 border-2 rounded-lg text-center transition',\n                    formData.agent_type === 'Company'\n                      ? 'border-blue-600 bg-blue-50'\n                      : 'border-gray-200 hover:border-gray-300'\n                  ]\"\n                >\n                  <svg class=\"w-8 h-8 mx-auto mb-2\" :class=\"formData.agent_type === 'Company' ? 'text-blue-600' : 'text-gray-400'\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                  </svg>\n                  <div class=\"text-sm font-medium\" :class=\"formData.agent_type === 'Company' ? 'text-blue-900' : 'text-gray-700'\">\n                    Company\n                  </div>\n                  <div class=\"text-xs text-gray-500 mt-1\">Consulting firm</div>\n                </button>\n              </div>\n            </div>\n\n            <!-- Personal Information -->\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label for=\"first_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  First Name <span class=\"text-red-500\">*</span>\n                </label>\n                <Input\n                  id=\"first_name\"\n                  v-model=\"formData.first_name\"\n                  type=\"text\"\n                  required\n                  placeholder=\"John\"\n                  class=\"w-full\"\n                />\n              </div>\n              <div>\n                <label for=\"last_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Last Name <span class=\"text-red-500\">*</span>\n                </label>\n                <Input\n                  id=\"last_name\"\n                  v-model=\"formData.last_name\"\n                  type=\"text\"\n                  required\n                  placeholder=\"Doe\"\n                  class=\"w-full\"\n                />\n              </div>\n            </div>\n\n            <!-- Contact Information -->\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label for=\"email\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Email Address <span class=\"text-red-500\">*</span>\n                </label>\n                <Input\n                  id=\"email\"\n                  v-model=\"formData.email\"\n                  type=\"email\"\n                  required\n                  placeholder=\"you@example.com\"\n                  class=\"w-full\"\n                  @blur=\"validateEmailField\"\n                />\n                <p v-if=\"emailError\" class=\"mt-1 text-xs text-red-600\">{{ emailError }}</p>\n              </div>\n              <div>\n                <label for=\"phone\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Phone Number <span class=\"text-red-500\">*</span>\n                </label>\n                <Input\n                  id=\"phone\"\n                  v-model=\"formData.phone\"\n                  type=\"tel\"\n                  required\n                  placeholder=\"021 234 5678\"\n                  class=\"w-full\"\n                  @blur=\"validatePhoneField\"\n                />\n                <p v-if=\"phoneError\" class=\"mt-1 text-xs text-red-600\">{{ phoneError }}</p>\n                <p v-else class=\"mt-1 text-xs text-gray-500\">NZ mobile (02x) or landline (03-09)</p>\n              </div>\n            </div>\n\n            <!-- Password -->\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label for=\"password\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Password <span class=\"text-red-500\">*</span>\n                </label>\n                <Input\n                  id=\"password\"\n                  v-model=\"formData.password\"\n                  type=\"password\"\n                  required\n                  placeholder=\"Min. 8 characters\"\n                  class=\"w-full\"\n                  @input=\"validatePasswordField\"\n                />\n                <p v-if=\"passwordError\" class=\"mt-1 text-xs text-red-600\">{{ passwordError }}</p>\n                <p v-else-if=\"passwordStrength\" class=\"mt-1 text-xs\" :class=\"passwordStrengthClass\">\n                  Password strength: {{ passwordStrength }}\n                </p>\n              </div>\n              <div>\n                <label for=\"confirm_password\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Confirm Password <span class=\"text-red-500\">*</span>\n                </label>\n                <Input\n                  id=\"confirm_password\"\n                  v-model=\"formData.confirm_password\"\n                  type=\"password\"\n                  required\n                  placeholder=\"Repeat password\"\n                  class=\"w-full\"\n                  @blur=\"validatePasswordMatch\"\n                />\n                <p v-if=\"confirmPasswordError\" class=\"mt-1 text-xs text-red-600\">{{ confirmPasswordError }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Step 2: Business Details (if Company) -->\n          <div v-show=\"currentStep === 1\" class=\"space-y-6\">\n            <h2 class=\"text-xl font-semibold text-gray-900 mb-4\">\n              {{ formData.agent_type === 'Company' ? 'Company Details' : 'Business Details' }}\n            </h2>\n\n            <div v-if=\"formData.agent_type === 'Company'\" class=\"space-y-4\">\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <label for=\"company_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Company Name <span class=\"text-red-500\">*</span>\n                  </label>\n                  <Input\n                    id=\"company_name\"\n                    v-model=\"formData.company_name\"\n                    type=\"text\"\n                    :required=\"formData.agent_type === 'Company'\"\n                    placeholder=\"ABC Planning Consultants Ltd\"\n                    class=\"w-full\"\n                  />\n                </div>\n                <div>\n                  <label for=\"company_number\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Company Number (Optional)\n                  </label>\n                  <Input\n                    id=\"company_number\"\n                    v-model=\"formData.company_number\"\n                    type=\"text\"\n                    placeholder=\"1234567\"\n                    class=\"w-full\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label for=\"nzbn\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  NZBN (Optional)\n                </label>\n                <Input\n                  id=\"nzbn\"\n                  v-model=\"formData.nzbn\"\n                  type=\"text\"\n                  maxlength=\"13\"\n                  placeholder=\"1234567890123\"\n                  class=\"w-full\"\n                  @blur=\"validateNZBNField\"\n                />\n                <p v-if=\"nzbnError\" class=\"mt-1 text-xs text-red-600\">{{ nzbnError }}</p>\n                <p v-else class=\"mt-1 text-xs text-gray-500\">New Zealand Business Number (13 digits)</p>\n              </div>\n            </div>\n\n            <div v-else>\n              <div>\n                <label for=\"trading_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Trading Name (Optional)\n                </label>\n                <Input\n                  id=\"trading_name\"\n                  v-model=\"formData.trading_name\"\n                  type=\"text\"\n                  placeholder=\"e.g., Smith Planning Services\"\n                  class=\"w-full\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">If you trade under a business name</p>\n              </div>\n            </div>\n\n            <!-- Business Address -->\n            <div>\n              <AddressLookup\n                v-model=\"selectedBusinessAddress\"\n                id=\"business_address\"\n                label=\"Business Address\"\n                placeholder=\"Start typing your business address...\"\n                description=\"Your business/office address\"\n                :required=\"false\"\n                @address-selected=\"handleBusinessAddressSelected\"\n              />\n            </div>\n          </div>\n\n          <!-- Step 3: Default Settings -->\n          <div v-show=\"currentStep === 2\" class=\"space-y-6\">\n            <h2 class=\"text-xl font-semibold text-gray-900 mb-4\">Default Settings</h2>\n\n            <div>\n              <CouncilSelector\n                v-model=\"formData.default_council\"\n                label=\"Default Council (Optional)\"\n                description=\"Select your primary council for applications. You can work with multiple councils.\"\n                display-mode=\"dropdown\"\n                :required=\"false\"\n                :show-clear-button=\"true\"\n              />\n            </div>\n\n            <div class=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <h3 class=\"text-sm font-medium text-blue-900 mb-2\">Agent Permissions</h3>\n              <ul class=\"text-sm text-blue-800 space-y-1\">\n                <li class=\"flex items-start\">\n                  <svg class=\"w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n                  </svg>\n                  Create and submit applications on behalf of clients\n                </li>\n                <li class=\"flex items-start\">\n                  <svg class=\"w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n                  </svg>\n                  Manage multiple client applications\n                </li>\n                <li class=\"flex items-start\">\n                  <svg class=\"w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n                  </svg>\n                  Receive notifications on application progress\n                </li>\n                <li class=\"flex items-start\">\n                  <svg class=\"w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n                  </svg>\n                  Professional dashboard for tracking all applications\n                </li>\n              </ul>\n            </div>\n\n            <!-- Terms and Conditions -->\n            <div class=\"flex items-start\">\n              <input\n                id=\"terms\"\n                v-model=\"formData.terms\"\n                type=\"checkbox\"\n                required\n                class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1\"\n              />\n              <label for=\"terms\" class=\"ml-2 block text-sm text-gray-700\">\n                I agree to the\n                <a href=\"#\" class=\"text-blue-600 hover:text-blue-700 font-medium\">Terms of Service</a>\n                and\n                <a href=\"#\" class=\"text-blue-600 hover:text-blue-700 font-medium\">Privacy Policy</a>\n              </label>\n            </div>\n          </div>\n\n          <!-- Error Message -->\n          <div v-if=\"errorMessage\" class=\"mt-6 p-3 bg-red-50 border border-red-200 rounded-lg\">\n            <div class=\"flex items-start\">\n              <svg class=\"w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <p class=\"text-sm text-red-700\">{{ errorMessage }}</p>\n            </div>\n          </div>\n\n          <!-- Navigation Buttons -->\n          <div class=\"flex items-center justify-between mt-8 pt-6 border-t border-gray-200\">\n            <Button\n              v-if=\"currentStep > 0\"\n              type=\"button\"\n              @click=\"previousStep\"\n              variant=\"outline\"\n              class=\"px-6 py-2\"\n            >\n              <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n              </svg>\n              Previous\n            </Button>\n            <div v-else></div>\n\n            <Button\n              v-if=\"currentStep < steps.length - 1\"\n              type=\"button\"\n              @click=\"nextStep\"\n              variant=\"solid\"\n              class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2\"\n            >\n              Next\n              <svg class=\"w-4 h-4 ml-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n              </svg>\n            </Button>\n            <Button\n              v-else\n              type=\"submit\"\n              :loading=\"isLoading\"\n              variant=\"solid\"\n              class=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2\"\n            >\n              <template v-if=\"!isLoading\">\n                Create Agent Account\n              </template>\n              <template v-else>\n                Creating...\n              </template>\n            </Button>\n          </div>\n        </form>\n      </div>\n\n      <!-- Back to Register -->\n      <div class=\"text-center mt-6\">\n        <p class=\"text-sm text-gray-600\">\n          Want to register as an applicant instead?\n          <router-link :to=\"{ name: 'Register' }\" class=\"font-medium text-blue-600 hover:text-blue-700\">\n            Register as applicant\n          </router-link>\n        </p>\n      </div>\n\n      <!-- Back to Home -->\n      <div class=\"text-center mt-4\">\n        <router-link to=\"/\" class=\"text-sm text-gray-500 hover:text-gray-700 inline-flex items-center\">\n          <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n          </svg>\n          Back to home\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from \"vue\"\nimport { useRouter } from \"vue-router\"\nimport { Input, Button } from \"frappe-ui\"\nimport CouncilSelector from \"../components/CouncilSelector.vue\"\nimport AddressLookup from \"../components/AddressLookup.vue\"\nimport { validateNZPhoneNumber, validateEmail, validatePassword, validateNZBN } from \"../utils/validation\"\n\nconst router = useRouter()\n\nconst steps = [\n  { label: 'Your Details' },\n  { label: 'Business Info' },\n  { label: 'Settings' }\n]\n\nconst currentStep = ref(0)\nconst isLoading = ref(false)\nconst errorMessage = ref('')\nconst selectedBusinessAddress = ref(null)\n\nconst formData = ref({\n  agent_type: 'Sole Trader', // Sole Trader or Company\n  first_name: '',\n  last_name: '',\n  email: '',\n  phone: '',\n  password: '',\n  confirm_password: '',\n  company_name: '',\n  company_number: '',\n  nzbn: '',\n  trading_name: '',\n  default_council: null,\n  terms: false\n})\n\n// Validation errors\nconst phoneError = ref('')\nconst emailError = ref('')\nconst passwordError = ref('')\nconst confirmPasswordError = ref('')\nconst nzbnError = ref('')\nconst passwordStrength = ref('')\n\nconst passwordStrengthClass = computed(() => {\n  if (passwordStrength.value === 'strong') return 'text-green-600'\n  if (passwordStrength.value === 'medium') return 'text-yellow-600'\n  return 'text-red-600'\n})\n\n// Validation functions\nconst validatePhoneField = () => {\n  const validation = validateNZPhoneNumber(formData.value.phone)\n  if (!validation.isValid) {\n    phoneError.value = validation.message\n  } else {\n    phoneError.value = ''\n    formData.value.phone = validation.formatted\n  }\n  return validation.isValid\n}\n\nconst validateEmailField = () => {\n  const validation = validateEmail(formData.value.email)\n  if (!validation.isValid) {\n    emailError.value = validation.message\n  } else {\n    emailError.value = ''\n  }\n  return validation.isValid\n}\n\nconst validatePasswordField = () => {\n  const validation = validatePassword(formData.value.password)\n  if (!validation.isValid) {\n    passwordError.value = validation.message\n    passwordStrength.value = ''\n  } else {\n    passwordError.value = ''\n    passwordStrength.value = validation.strength\n  }\n  return validation.isValid\n}\n\nconst validatePasswordMatch = () => {\n  if (formData.value.password !== formData.value.confirm_password) {\n    confirmPasswordError.value = 'Passwords do not match'\n    return false\n  }\n  confirmPasswordError.value = ''\n  return true\n}\n\nconst validateNZBNField = () => {\n  const validation = validateNZBN(formData.value.nzbn)\n  if (!validation.isValid) {\n    nzbnError.value = validation.message\n  } else {\n    nzbnError.value = ''\n  }\n  return validation.isValid\n}\n\nconst handleBusinessAddressSelected = (address) => {\n  selectedBusinessAddress.value = address\n}\n\nfunction nextStep() {\n  // Validate current step before proceeding\n  if (currentStep.value === 0) {\n    // Validate personal details\n    const isPhoneValid = validatePhoneField()\n    const isEmailValid = validateEmailField()\n    const isPasswordValid = validatePasswordField()\n    const isPasswordMatch = validatePasswordMatch()\n\n    if (!formData.value.first_name || !formData.value.last_name) {\n      errorMessage.value = 'Please fill in all required fields'\n      return\n    }\n\n    if (!isPhoneValid || !isEmailValid || !isPasswordValid || !isPasswordMatch) {\n      errorMessage.value = 'Please correct the errors above'\n      return\n    }\n  } else if (currentStep.value === 1) {\n    // Validate business details\n    if (formData.value.agent_type === 'Company' && !formData.value.company_name) {\n      errorMessage.value = 'Company name is required'\n      return\n    }\n    if (formData.value.nzbn && !validateNZBNField()) {\n      return\n    }\n  }\n\n  errorMessage.value = ''\n  currentStep.value++\n}\n\nfunction previousStep() {\n  errorMessage.value = ''\n  currentStep.value--\n}\n\nfunction handleSubmit() {\n  // Final validation\n  if (!formData.value.terms) {\n    errorMessage.value = 'You must agree to the Terms of Service and Privacy Policy'\n    return\n  }\n\n  errorMessage.value = ''\n  isLoading.value = true\n\n  // Prepare agent data for API\n  const userData = {\n    email: formData.value.email,\n    first_name: formData.value.first_name,\n    last_name: formData.value.last_name,\n    phone: formData.value.phone,\n    password: formData.value.password,\n    user_role: 'agent', // This is an AGENT registration\n    agent_type: formData.value.agent_type, // Sole Trader or Company\n  }\n\n  // Add business data\n  if (formData.value.agent_type === 'Company') {\n    userData.company_name = formData.value.company_name\n    userData.company_number = formData.value.company_number\n    userData.nzbn = formData.value.nzbn\n  } else {\n    userData.trading_name = formData.value.trading_name\n  }\n\n  // Add business address if selected\n  if (selectedBusinessAddress.value) {\n    userData.business_address = selectedBusinessAddress.value.full_address\n    userData.business_street = selectedBusinessAddress.value.street_address\n    userData.business_suburb = selectedBusinessAddress.value.suburb\n    userData.business_city = selectedBusinessAddress.value.city\n    userData.business_postcode = selectedBusinessAddress.value.postcode\n  }\n\n  // Add default council if selected\n  if (formData.value.default_council) {\n    userData.council_code = formData.value.default_council\n  }\n\n  // Call registration API\n  fetch('/api/method/lodgeick.api.register_agent', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Frappe-CSRF-Token': window.csrf_token\n    },\n    body: JSON.stringify(userData)\n  })\n  .then(response => response.json())\n  .then(data => {\n    isLoading.value = false\n\n    if (data.message && data.message.success) {\n      // Success - redirect to login\n      router.push({\n        name: 'Login',\n        query: { registered: 'true', type: 'agent' }\n      })\n    } else if (data.exc || data._server_messages) {\n      const serverMessages = data._server_messages ? JSON.parse(data._server_messages) : []\n      const errorMsg = serverMessages.length > 0\n        ? JSON.parse(serverMessages[0]).message\n        : 'Registration failed. Please try again.'\n      errorMessage.value = errorMsg\n      console.error('Agent registration error:', data.exc || data._server_messages)\n    } else {\n      errorMessage.value = 'Registration failed. Please try again.'\n    }\n  })\n  .catch(error => {\n    isLoading.value = false\n    errorMessage.value = 'Network error. Please check your connection and try again.'\n    console.error('Agent registration error:', error)\n  })\n}\n</script>\n"],"names":["router","useRouter","steps","currentStep","ref","isLoading","errorMessage","selectedBusinessAddress","formData","phoneError","emailError","passwordError","confirmPasswordError","nzbnError","passwordStrength","passwordStrengthClass","computed","validatePhoneField","validation","validateNZPhoneNumber","validateEmailField","validateEmail","validatePasswordField","validatePassword","validatePasswordMatch","validateNZBNField","validateNZBN","handleBusinessAddressSelected","address","nextStep","isPhoneValid","isEmailValid","isPasswordValid","isPasswordMatch","previousStep","handleSubmit","userData","response","data","serverMessages","errorMsg","error","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","step","index","_hoisted_5","_hoisted_6","_normalizeClass","_hoisted_7","_cache","_hoisted_8","_toDisplayString","_hoisted_9","_withDirectives","_hoisted_10","_hoisted_11","$event","_hoisted_12","_createVNode","_unref","Input","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","AddressLookup","_hoisted_27","CouncilSelector","_hoisted_28","_vModelCheckbox","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_createBlock","Button","_hoisted_33","_hoisted_34","_hoisted_35","_component_router_link","_hoisted_36"],"mappings":"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"}