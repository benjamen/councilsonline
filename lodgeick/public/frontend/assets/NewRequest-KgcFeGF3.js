var Qt=Object.defineProperty,Kt=Object.defineProperties;var eo=Object.getOwnPropertyDescriptors;var $e=Object.getOwnPropertySymbols;var to=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable;var We=(T,V,x)=>V in T?Qt(T,V,{enumerable:!0,configurable:!0,writable:!0,value:x}):T[V]=x,q=(T,V)=>{for(var x in V||(V={}))to.call(V,x)&&We(T,x,V[x]);if($e)for(var x of $e(V))oo.call(V,x)&&We(T,x,V[x]);return T},Je=(T,V)=>Kt(T,eo(V));var E=(T,V,x)=>new Promise((U,de)=>{var G=H=>{try{Y(x.next(H))}catch(Q){de(Q)}},f=H=>{try{Y(x.throw(H))}catch(Q){de(Q)}},Y=H=>H.done?U(H.value):Promise.resolve(H.value).then(G,f);Y((x=x.apply(T,V)).next())});import{f as so,q as lo,r as b,j as X,x as ne,k as Ge,y as De,z as ro,c as a,o as r,a as t,d as u,b as j,t as i,w as y,h as c,u as M,i as N,F as k,m as C,A as z,g as F,l as n,B as ie,C as p,v as I,E as w,G as Ee,n as Ce}from"./index-3DtI7LzT.js";import{C as ao}from"./CouncilSelector-p-K5ISXc.js";const no={class:"min-h-screen bg-gray-50"},io={class:"bg-white shadow-sm border-b border-gray-200"},uo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},po={class:"flex items-center justify-between py-4"},mo={class:"flex items-center space-x-3"},co={class:"text-sm text-gray-500"},bo={class:"bg-white border-b border-gray-200"},vo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},go={class:"flex items-center justify-between mb-2"},yo={class:"flex flex-col items-center"},fo={key:0},xo={key:1},_o={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},wo={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},ho={key:0},ko={key:1},Co={key:0,class:"text-center py-12"},Ao={key:1,class:"grid md:grid-cols-2 gap-4"},So=["onClick"],Po={class:"flex items-start justify-between"},Mo={class:"flex-1"},Vo={class:"text-lg font-semibold text-gray-900 mb-2"},Uo=["innerHTML"],Ro={class:"mt-4 flex items-center space-x-4 text-xs text-gray-500"},No={key:0},qo={key:1},jo={key:2,class:"px-2 py-1 bg-gray-100 rounded"},Do={key:0,class:"ml-4"},Eo={key:2},Io={class:"text-gray-600 mb-6"},To={key:0,class:"space-y-6"},zo={class:"bg-white border border-gray-200 rounded-lg p-6"},Ho={class:"flex items-start justify-between mb-4"},Lo={class:"text-xl font-semibold text-gray-900"},Bo={key:0,class:"text-sm text-gray-500 mt-1"},Fo={class:"grid md:grid-cols-3 gap-4 mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},Oo={class:"text-2xl font-bold text-blue-900 mt-1"},$o={class:"text-2xl font-bold text-blue-900 mt-1"},Wo={class:"text-2xl font-bold text-blue-900 mt-1"},Jo={key:0,class:"bg-white border border-gray-200 rounded-lg p-6"},Go=["innerHTML"],Zo={key:1,class:"bg-white border border-gray-200 rounded-lg p-6"},Xo={class:"text-gray-700"},Yo={class:"flex justify-center pt-4"},Qo={key:1,class:"text-center py-12"},Ko={key:3},es={class:"space-y-6"},ts={key:0},os={class:"mb-6"},ss={class:"space-y-3"},ls={class:"flex-1"},rs={class:"font-medium text-gray-900"},as={class:"text-xs text-blue-600 mt-1"},ns={class:"border-t border-gray-200 pt-6 mt-6"},is={class:"mb-6"},ds={class:"space-y-3"},us={class:"flex items-start space-x-3 cursor-pointer"},ps={class:"flex items-start space-x-3 cursor-pointer"},ms={class:"text-sm font-semibold text-gray-900 mb-4"},cs={class:"space-y-4"},bs={class:"grid md:grid-cols-2 gap-4"},vs=["disabled"],gs={key:0,class:"mt-1 text-xs text-gray-500"},ys=["disabled"],fs={key:0,class:"mt-1 text-xs text-gray-500"},xs={class:"grid md:grid-cols-2 gap-4"},_s={class:"mt-1 text-xs text-gray-500"},ws={class:"mt-6 border-t border-gray-200 pt-6"},hs={class:"flex items-start mb-4"},ks={key:0,class:"space-y-4 pl-7"},Cs={class:"grid md:grid-cols-2 gap-4"},As=["required"],Ss={class:"grid md:grid-cols-2 gap-4"},Ps={key:4},Ms={class:"space-y-6"},Vs=["value"],Us={class:"space-y-4"},Rs={key:0,class:"relative"},Ns={class:"flex gap-2"},qs={key:1,class:"relative"},js={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto"},Ds={key:0,class:"p-4 text-center text-gray-500"},Es={key:1},Is=["onClick"],Ts={class:"font-medium text-gray-900"},zs={class:"text-sm text-gray-600 mt-1"},Hs={key:0,class:"text-xs text-gray-500 mt-1"},Ls={key:2,class:"p-4 text-center text-gray-500"},Bs={class:"grid md:grid-cols-2 gap-4"},Fs={key:0,class:"mt-1 text-xs text-green-600"},Os={key:0,class:"mt-1 text-xs text-green-600"},$s={key:0,class:"text-xs text-green-600 mt-1"},Ws={class:"grid md:grid-cols-2 gap-4"},Js={key:0,class:"mt-1 text-xs text-green-600"},Gs={key:1,class:"mt-1 text-xs text-gray-500"},Zs={key:0,class:"mt-1 text-xs text-green-600"},Xs={class:"grid md:grid-cols-1 gap-4"},Ys={key:0,class:"mt-1 text-xs text-green-600"},Qs={key:1,class:"mt-1 text-xs text-gray-500"},Ks={key:5},el={class:"space-y-6"},tl={class:"grid md:grid-cols-3 gap-4 mb-4"},ol={class:"border-t border-gray-200 pt-6 mt-6 mb-6"},sl={class:"flex items-start mb-4"},ll={key:0,class:"pl-7"},rl=["required"],al={class:"grid md:grid-cols-2 gap-4"},nl={class:"space-y-2 p-3 border border-gray-300 rounded-lg"},il=["value","onChange","checked"],dl={class:"ml-2 text-sm text-gray-700"},ul={class:"block text-sm font-medium text-gray-700 mb-2"},pl={key:0,class:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-900"},ml={key:1,class:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800"},cl={key:0,class:"border-t border-gray-200 pt-6 mt-6"},bl={class:"space-y-4"},vl={class:"grid md:grid-cols-2 gap-4"},gl={class:"flex items-start mb-2"},yl={key:0},fl={key:0},xl={key:0,class:"text-xs text-blue-600 mt-1"},_l={class:"border-t border-gray-200 pt-6 mt-6"},wl={class:"space-y-3"},hl={class:"border border-gray-300 rounded-lg overflow-hidden"},kl={key:0,class:"p-4 bg-white"},Cl={class:"grid md:grid-cols-2 gap-4"},Al={class:"border border-gray-300 rounded-lg overflow-hidden"},Sl={key:0,class:"p-4 bg-white"},Pl={class:"grid md:grid-cols-2 gap-4"},Ml={class:"border border-gray-300 rounded-lg overflow-hidden"},Vl={key:0,class:"p-4 bg-white"},Ul={class:"space-y-3"},Rl={class:"border border-gray-300 rounded-lg overflow-hidden"},Nl={key:0,class:"p-4 bg-white"},ql={class:"space-y-3"},jl={class:"border-t border-gray-200 pt-6 mt-6"},Dl={class:"space-y-4"},El={class:"grid md:grid-cols-2 gap-4"},Il={class:"flex items-start mb-2"},Tl={key:0},zl={class:"border border-blue-200 rounded-lg p-4 bg-blue-50"},Hl={class:"space-y-2 mb-3"},Ll=["id","value"],Bl=["for"],Fl={key:0,class:"border-t border-blue-300 pt-3 mt-3"},Ol={class:"text-xs font-semibold text-blue-900 mb-2"},$l={class:"grid md:grid-cols-2 gap-3"},Wl=["onUpdate:modelValue"],Jl={class:"flex items-end"},Gl={class:"flex items-center mb-1"},Zl=["id","onUpdate:modelValue"],Xl=["for"],Yl={class:"mt-2"},Ql=["onUpdate:modelValue"],Kl={class:"border-t border-gray-200 pt-6 mt-6"},er={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4"},tr={class:"grid md:grid-cols-2 gap-3 text-xs"},or={class:"text-blue-700 ml-1"},sr={class:"text-blue-700 ml-1"},lr={class:"text-blue-700 ml-1"},rr={class:"text-blue-700 ml-1"},ar={class:"space-y-3"},nr={class:"flex items-start mb-2"},ir=["id","onUpdate:modelValue"],dr=["for"],ur={key:0,class:"ml-7 mt-3 space-y-3 border-l-2 border-blue-300 pl-3"},pr={key:0},mr=["onUpdate:modelValue"],cr=["onUpdate:modelValue"],br=["onUpdate:modelValue"],vr={class:"flex items-center gap-2"},gr=["onChange"],yr={key:0,class:"mt-2 space-y-1"},fr={class:"text-gray-700"},xr=["onClick"],_r={key:1,class:"border-t border-gray-200 pt-6 mt-6"},wr={key:0,class:"space-y-3"},hr={class:"flex items-start justify-between"},kr={class:"flex-1"},Cr={class:"flex items-center gap-2 mb-2"},Ar={class:"text-sm font-semibold text-gray-900"},Sr={key:0,class:"px-2 py-0.5 text-xs font-medium bg-purple-100 text-purple-700 rounded"},Pr={key:1,class:"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded"},Mr={class:"text-sm text-gray-700 mb-2"},Vr={class:"flex flex-wrap gap-2 mb-2"},Ur={key:0,class:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded"},Rr={key:1,class:"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded"},Nr={key:2,class:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded"},qr={key:0,class:"text-xs text-gray-600"},jr={key:1,class:"text-xs text-gray-600 mt-2 italic"},Dr={class:"flex gap-2 ml-4"},Er=["onClick"],Ir=["onClick"],Tr={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},zr={class:"border-t border-gray-200 pt-6 mt-6 mb-6"},Hr={class:"space-y-6"},Lr={class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},Br={class:"grid md:grid-cols-2 gap-4"},Fr={class:"md:col-span-2"},Or={class:"space-y-4 pl-4"},$r={class:"border-t border-gray-200 pt-6 mt-6 mb-6"},Wr={class:"mb-6"},Jr={class:"flex items-center justify-between mb-3"},Gr={key:0,class:"space-y-3 mb-3"},Zr={class:"flex items-start justify-between"},Xr={class:"flex-1"},Yr={class:"flex items-center gap-2 mb-2"},Qr={class:"text-sm font-semibold text-gray-900"},Kr={class:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded"},ea={key:0,class:"text-xs text-gray-600"},ta={key:1,class:"text-xs text-gray-500 italic"},oa={class:"mb-6"},sa={class:"flex items-center justify-between mb-3"},la={key:0,class:"space-y-3 mb-3"},ra={class:"flex items-start justify-between"},aa={class:"flex-1"},na={class:"flex items-center gap-2 mb-2"},ia={class:"text-sm font-semibold text-gray-900"},da={key:0,class:"text-xs text-gray-600"},ua={key:1,class:"text-xs text-gray-500 italic"},pa={class:"mb-6"},ma={class:"flex items-center justify-between mb-3"},ca={key:0,class:"space-y-3 mb-3"},ba={class:"flex items-start justify-between"},va={class:"flex-1"},ga={class:"flex items-center gap-2 mb-1"},ya={class:"text-sm font-semibold text-gray-900"},fa={key:0,class:"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded"},xa={key:0,class:"text-xs text-gray-600"},_a={key:1,class:"text-xs text-gray-500 italic"},wa={class:"mb-6"},ha={class:"flex items-center justify-between mb-3"},ka={key:0,class:"space-y-3 mb-3"},Ca={class:"flex items-start justify-between"},Aa={class:"flex-1"},Sa={class:"flex items-center gap-2 mb-1"},Pa={class:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-700 rounded"},Ma={class:"text-sm text-gray-900"},Va={key:1,class:"text-xs text-gray-500 italic"},Ua={class:"border-t border-gray-200 pt-4"},Ra={class:"flex items-center justify-between mb-3"},Na={key:0,class:"space-y-3 mb-3"},qa={class:"flex items-start justify-between"},ja={class:"flex-1"},Da={class:"flex items-center gap-2 mb-2"},Ea={class:"text-sm font-semibold text-gray-900"},Ia={class:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded"},Ta={class:"grid md:grid-cols-2 gap-x-6 gap-y-1 text-xs text-gray-600"},za={key:0,class:"flex items-start gap-1"},Ha={key:1,class:"flex items-center gap-1"},La=["href"],Ba={key:2,class:"flex items-center gap-1"},Fa=["href"],Oa={key:3,class:"flex items-start gap-1"},$a={key:0,class:"mt-2 flex items-center gap-2"},Wa={key:0,class:"text-xs text-gray-500"},Ja={key:1,class:"mt-2 text-xs text-gray-600 italic"},Ga={class:"flex gap-1 ml-3"},Za=["onClick"],Xa=["onClick"],Ya={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Qa={key:2,class:"mt-3"},Ka=["max"],en={class:"mt-1 text-xs text-gray-500"},tn={class:"mt-6"},on={class:"border-t border-gray-200 pt-4"},sn={class:"space-y-4"},ln={class:"flex items-center"},rn={key:0},an={key:1},nn={class:"border-t border-gray-200 pt-4"},dn={class:"flex items-center justify-between mb-3"},un={key:0,class:"space-y-3 mb-3"},pn={class:"flex items-start justify-between mb-2"},mn={class:"flex items-center gap-2"},cn={class:"text-sm font-semibold text-gray-900"},bn={class:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded font-medium"},vn={class:"space-y-2 text-xs text-gray-600 mb-3"},gn={class:"flex items-center gap-2"},yn={class:"font-medium"},fn={key:0,class:"text-gray-400"},xn={key:0,class:"flex items-center gap-2 text-blue-600"},_n={key:1,class:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-700"},wn={class:"flex gap-2"},hn=["onClick"],kn=["onClick"],Cn={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},An={key:0,class:"space-y-3 mt-3"},Sn={class:"flex items-start justify-between mb-2"},Pn={class:"flex items-center gap-2"},Mn={class:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-mono rounded"},Vn={class:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded"},Un={class:"flex gap-1"},Rn=["onClick"],Nn=["onClick"],qn=["innerHTML"],jn={key:0,class:"mt-2 text-xs text-gray-500 italic"},Dn={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},En={class:"border-t border-gray-200 pt-6 mt-6"},In={class:"space-y-4"},Tn={class:"flex items-start"},zn={key:0,class:"ml-7 border-l-2 border-yellow-300 pl-4 bg-yellow-50 p-4 rounded-r-lg"},Hn={class:"border-t border-gray-200 pt-6 mt-6"},Ln={class:"space-y-4"},Bn={class:"space-y-2"},Fn={class:"flex items-center"},On={class:"flex items-center"},$n={key:0,class:"pl-6 border-l-2 border-blue-300 space-y-4"},Wn=["required"],Jn=["required"],Gn=["required"],Zn={class:"border-t border-gray-200 pt-6 mt-6"},Xn={class:"space-y-4 bg-gray-50 border border-gray-300 rounded-lg p-4"},Yn={class:"flex items-start"},Qn={class:"flex items-start"},Kn={class:"flex items-start"},ei={class:"border-t border-gray-200 pt-6 mt-6"},ti={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},oi={class:"flex items-start"},si={class:"ml-3 flex-1"},li={key:8},ri={class:"space-y-6"},ai={class:"border border-gray-200 rounded-lg p-6"},ni={class:"grid md:grid-cols-2 gap-4 text-sm"},ii={class:"font-medium text-gray-900 mt-1"},di={class:"font-medium text-gray-900 mt-1"},ui={class:"font-medium text-gray-900 mt-1"},pi={class:"font-medium text-gray-900 mt-1"},mi={class:"font-medium text-gray-900 mt-1"},ci={class:"bg-gray-50 border border-gray-200 rounded-lg p-6"},bi={class:"flex items-start"},vi={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},gi={class:"space-y-2 text-sm"},yi={class:"flex justify-between"},fi={class:"font-medium text-blue-900"},xi={class:"flex justify-between pt-2 border-t border-blue-200"},_i={class:"text-lg font-bold text-blue-900"},wi={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-6"},hi={class:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200"},ki={key:1},Ci={class:"flex space-x-3"},Ai={key:2,class:"text-sm text-gray-500"},Si={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Pi={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},Mi={class:"flex items-center justify-between"},Vi={class:"text-lg font-semibold text-gray-900"},Ui={class:"px-6 py-4 space-y-4"},Ri={class:"border-t border-gray-200 pt-4"},Ni={class:"grid md:grid-cols-2 gap-4"},qi={class:"border-t border-gray-200 pt-4"},ji={class:"space-y-3"},Di={class:"border-t border-gray-200 pt-4"},Ei={class:"flex items-start mb-3"},Ii={key:0,class:"ml-7 space-y-3"},Ti={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},zi={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},Hi={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Li={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},Bi={class:"flex items-center justify-between"},Fi={class:"text-lg font-semibold text-gray-900"},Oi={class:"px-6 py-4 space-y-4"},$i={class:"border-t border-gray-200 pt-4"},Wi={class:"space-y-3"},Ji={class:"border-t border-gray-200 pt-4"},Gi={class:"space-y-3"},Zi={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},Xi={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},Yi={class:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto"},Qi={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},Ki={class:"flex items-center justify-between"},ed={class:"text-lg font-semibold text-gray-900"},td={class:"px-6 py-4 space-y-4"},od={class:"border-t border-gray-200 pt-4"},sd={class:"grid md:grid-cols-3 gap-3"},ld={class:"flex items-center"},rd={class:"flex items-center"},ad={class:"flex items-center"},nd={class:"flex items-center"},id={class:"border-t border-gray-200 pt-4"},dd={class:"space-y-2 p-3 border border-gray-200 rounded bg-gray-50"},ud={class:"flex items-center"},pd={class:"flex items-center"},md={class:"flex items-center"},cd={class:"flex items-center"},bd={class:"flex items-center"},vd={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},gd={class:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col"},yd={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},fd={class:"flex items-center justify-between"},xd={class:"flex-1 overflow-y-auto"},_d={class:"grid md:grid-cols-3 gap-6 p-6"},wd={class:"md:col-span-2 space-y-4"},hd={class:"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200"},kd=["value"],Cd={class:"ml-auto text-xs text-gray-500"},Ad={key:0,class:"text-center py-12"},Sd={key:1,class:"space-y-3"},Pd={class:"flex items-start justify-between mb-2"},Md={class:"flex-1"},Vd={class:"flex items-center gap-2 mb-1"},Ud={class:"text-sm font-semibold text-gray-900"},Rd={key:0,class:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-mono rounded"},Nd={class:"flex items-center gap-2 mb-2"},qd={class:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded"},jd={key:0,class:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded"},Dd={key:1,class:"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded"},Ed=["innerHTML"],Id=["onClick"],Td={key:2,class:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},zd={class:"md:col-span-1 bg-gray-50 rounded-lg p-4 border border-gray-200"},Hd={class:"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between"},Ld={class:"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full"},Bd={key:0,class:"space-y-2 max-h-[600px] overflow-y-auto"},Fd={class:"flex items-start justify-between mb-1"},Od={class:"flex items-center gap-1"},$d={class:"px-1.5 py-0.5 bg-gray-100 text-gray-700 font-mono text-xs rounded"},Wd={class:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded"},Jd=["onClick"],Gd=["innerHTML"],Zd={key:1,class:"text-center py-8 text-xs text-gray-500"},Xd={key:0,class:"border-t border-gray-200 bg-gray-50 p-6"},Yd={class:"text-sm font-semibold text-gray-900 mb-4"},Qd={class:"grid md:grid-cols-2 gap-4 mb-4"},Kd=["value"],eu={class:"mb-4"},tu={class:"flex justify-end gap-2 mt-4"},ou={class:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end"},au={__name:"NewRequest",setup(T){const V=so(),x=lo(),U=b(null),de=b(!1),G=b(null),f=b(1),Y=X(()=>K.value.length),H=b(!1),Q=b(!1),ve=b([]);b(null);const Ae=b(!1),ee=b(!1),Se=b(!1),Ze=["Land Use","Subdivision","Discharge Permit","Water Permit","Coastal Permit"],Xe=l=>{const e=s.value.consent_types.findIndex(m=>m.consent_type===l);e>-1?s.value.consent_types.splice(e,1):s.value.consent_types.push({consent_type:l})},Ye=l=>s.value.consent_types.some(e=>e.consent_type===l),K=X(()=>{const l=[{title:"Council",number:1},{title:"Type",number:2},{title:"Process Info",number:3},{title:"Applicant",number:4},{title:"Property",number:5}];return _e.value&&l.push({title:"RC Details",number:6}),l.push({title:"Review",number:l.length+1}),l}),s=b({council:"",request_type:"",request_category:"",property:"",property_address:"",legal_description:"",valuation_reference:"",parcel_id:"",ct_reference:"",property_coordinates:"",hazard_data:null,zone:"",activity_zone:"",brief_description:"",detailed_description:"",estimated_value:null,proposed_start_date:"",terms_accepted:!1,applicant_phone:"",applicant_type:"",submitted_on_behalf_of:"Myself",company_account:null,acting_on_behalf:!1,applicant_name:"",applicant_email:"",consent_types:[],activity_status:"",applicant_reference_number:"",delivery_preference:"",pim_reference:"",building_height:null,building_floor_area:null,earthworks_volume:null,earthworks_vertical_alteration:null,vehicle_movements_daily:null,parking_spaces_provided:null,hours_of_operation:"",consent_term_requested:"",site_topography:"",existing_vegetation_description:"",watercourses_present:!1,watercourse_description:"",existing_infrastructure:"",contamination_status_hail:"",boundary_description:"",boundary_activity_description:"",boundary_owner_approval_obtained:!1,boundary_approval_date:"",boundary_approval_document:null,natural_hazards:[],nes_assessments:[],hail_activities:[],confidential_information_claimed:!1,confidential_information_reason:"",assessment_of_effects:"",effects_on_people:"",physical_effects:"",earthworks_effects:"",discharge_contaminants_effects:"",ecosystem_effects:"",hazard_risk_assessment:"",cultural_effects:"",aee_document:null,aee_activity_description:"",aee_activity_status:"",aee_existing_environment:"",aee_site_area:null,aee_current_use:"",aee_zoning:"",aee_overlays:"",aee_designations:"",aee_part2_assessment:"",aee_plan_rules:[],aee_compliance_standards:[],aee_written_approvals:[],aee_proposed_conditions:[],aee_consultation_summary:"",alternatives_considered:"",mitigation_proposed:"",applicant_is_not_owner:!1,owner_name:"",owner_email:"",owner_phone:"",owner_address:"",certificate_of_title_document:null,declaration_rma_compliance:!1,declaration_public_information:!1,declaration_authorized:!1,invoice_to:"Applicant",invoice_name:"",invoice_email:"",invoice_address:"",purchase_order_number:"",transfer_deposit_required:!1,transfer_deposit_consent_number:"",affected_parties:[],written_approvals_obtained:0,iwi_consultation_undertaken:!1,iwi_consulted:"",cultural_impact_assessment:null,iwi_response_summary:"",specialist_reports:[],proposed_conditions:[]}),te=b(""),J=b([]),ue=b(!1),ge=b(!1);let Pe=null;const D=b(null),Qe=["Earthquake","Fire","Tsunami","Erosion","Volcanic and Geothermal","Flood","Sedimentation","Subsidence","Wind","Landslip","Drought"],oe=b([]),ye=b({}),Z=l=>(ye.value[l]||(ye.value[l]={hazard_type:l,present:!0,risk_level:"",assessment_notes:"",mitigation_required:!1}),ye.value[l]);ne(oe,l=>{s.value.natural_hazards=l.map(e=>Z(e))},{deep:!0}),ne(ye,()=>{s.value.natural_hazards=oe.value.map(l=>Z(l))},{deep:!0});const Ie=[{value:"NES for Assessing and Managing Contaminants in Soil (HAIL)",label:"NES for Assessing and Managing Contaminants in Soil (HAIL)"},{value:"NES for Air Quality",label:"NES for Air Quality"},{value:"NES for Sources of Human Drinking Water",label:"NES for Sources of Human Drinking Water"},{value:"NES for Freshwater Management",label:"NES for Freshwater Management"},{value:"NES for Plantation Forestry",label:"NES for Plantation Forestry"},{value:"NES for Electricity Transmission Activities",label:"NES for Electricity Transmission Activities"},{value:"NES for Telecommunication Facilities",label:"NES for Telecommunication Facilities"},{value:"Other",label:"Other NES"}],fe=b({}),L=l=>(fe.value[l]||(fe.value[l]={nes_type:l,applies:!1,compliance_status:"",assessment_notes:"",other_nes_description:""}),fe.value[l]),Ke=(l,e)=>{const m=l.target.files[0];if(!m)return;if(m.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"].includes(m.type)){alert("Only PDF, Word documents, and images are allowed"),l.target.value="";return}s.value.attachments.push({document_category:"NES Documentation",document_type:"NES Assessment",file:m,description:`NES Assessment for ${e}`,nes_type:e}),l.target.value=""},Me=l=>s.value.attachments.filter(e=>e.document_category==="NES Documentation"&&e.nes_type===l),et=(l,e)=>{const _=Me(l)[e],o=s.value.attachments.indexOf(_);o>-1&&s.value.attachments.splice(o,1)},tt=l=>{const e=l.target.files[0];if(!e)return;if(e.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(e.type)){alert("Only PDF and image files (JPG, PNG) are allowed for Certificate of Title"),l.target.value="";return}s.value.certificate_of_title_document=e,l.target.value=""};ne(fe,()=>{s.value.nes_assessments=Ie.filter(l=>L(l.value).applies).map(l=>L(l.value))},{deep:!0});const ot=X(()=>s.value.nes_assessments.some(l=>l.nes_type&&l.nes_type.includes("HAIL"))),pe=b(!1),se=b(null),P=b({activity_description:"",hail_category:"",currently_undertaken:!1,previously_undertaken:!1,likely_undertaken:!1,preliminary_investigation_done:!1,proposed_activities:[],notes:""}),R=b({fuel:!1,disturb:!1,sample:!1,subdivide:!1,change:!1}),st=()=>{P.value={activity_description:"",hail_category:"",currently_undertaken:!1,previously_undertaken:!1,likely_undertaken:!1,preliminary_investigation_done:!1,proposed_activities:[],notes:""},R.value={fuel:!1,disturb:!1,sample:!1,subdivide:!1,change:!1},se.value=null,pe.value=!0},lt=l=>{var m,_,o,d,v;const e=s.value.hail_activities[l];P.value=q({},e),R.value={fuel:((m=e.proposed_activities)==null?void 0:m.some(A=>A.activity_type==="Removing or replacing fuel storage system"))||!1,disturb:((_=e.proposed_activities)==null?void 0:_.some(A=>A.activity_type==="Disturbing soil"))||!1,sample:((o=e.proposed_activities)==null?void 0:o.some(A=>A.activity_type==="Sampling soil"))||!1,subdivide:((d=e.proposed_activities)==null?void 0:d.some(A=>A.activity_type==="Subdividing land"))||!1,change:((v=e.proposed_activities)==null?void 0:v.some(A=>A.activity_type==="Changing use of land"))||!1},se.value=l,pe.value=!0},rt=()=>{if(!P.value.activity_description){alert("Please enter activity description");return}const l=[];R.value.fuel&&l.push({activity_type:"Removing or replacing fuel storage system"}),R.value.disturb&&l.push({activity_type:"Disturbing soil"}),R.value.sample&&l.push({activity_type:"Sampling soil"}),R.value.subdivide&&l.push({activity_type:"Subdividing land"}),R.value.change&&l.push({activity_type:"Changing use of land"});const e=Je(q({},P.value),{proposed_activities:l});se.value!==null?s.value.hail_activities[se.value]=e:s.value.hail_activities.push(e),pe.value=!1},Ve=()=>{pe.value=!1},at=l=>{confirm("Remove this HAIL activity?")&&s.value.hail_activities.splice(l,1)},O=b({building:!0,earthworks:!1,traffic:!1,operations:!1}),xe=l=>{O.value[l]=!O.value[l]},nt=l=>{const e=l.target.files[0];e&&(s.value.boundary_approval_document=e)},it=b(JSON.parse(JSON.stringify(s.value))),dt=X(()=>{const l=q({},s.value),e=q({},it.value);delete l.terms_accepted,delete e.terms_accepted;const m=JSON.stringify(l),_=JSON.stringify(e);return m!==_}),_e=X(()=>s.value.request_category==="Resource Consent"),Te=X(()=>{if(!s.value.activity_status)return null;switch(s.value.activity_status){case"Non-Complying":return"⚠️ Non-complying activities face higher scrutiny and longer processing times. Consider pre-application meeting.";case"Discretionary":return"ℹ️ Discretionary activities may require public notification depending on effects assessment.";case"Controlled":return"✓ Controlled activities must be granted consent. Council will focus on appropriate conditions.";default:return null}}),ut=X(()=>dt.value||ve.value.length>0),B=b({data:[],loading:!1,error:null}),ze=Ge({url:"frappe.client.get_list",params:{doctype:"Property",fields:["name","property_id","street_address","suburb","city","legal_description","certificate_of_title"],limit_page_length:100},auto:!0}),Ue=l=>E(this,null,function*(){if(!l){B.value={data:[],loading:!1,error:null};return}B.value.loading=!0,B.value.error=null;try{yield x.loadRequestTypesForCouncil(l),B.value.data=x.availableRequestTypes,console.log(`[NewRequest] Loaded ${B.value.data.length} request types for council ${l}`)}catch(e){B.value.error=e.message||"Failed to load request types",console.error("[NewRequest] Failed to load request types:",e)}finally{B.value.loading=!1}}),pt=()=>{confirm("Are you sure you want to leave? Any unsaved changes will be lost.")&&V.push({name:"Dashboard"})},mt=l=>l<f.value||l===f.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-600",ct=l=>{console.log("[NewRequest] Selecting Request Type:",l.name,l.type_name),s.value.request_type=l.name,s.value.request_category=l.category||"",D.value=l,console.log("[NewRequest] Form data updated:",{request_type:s.value.request_type,request_category:s.value.request_category,details:D.value})},bt=()=>{if(s.value.property){const l=ze.data.find(e=>e.name===s.value.property);l&&(s.value.property_address=`${l.street_address}, ${l.suburb}, ${l.city}`,s.value.legal_description=l.legal_description||"",s.value.ct_reference=l.certificate_of_title||"",s.value.parcel_id=l.property_id||"",s.value.zone=l.zoning||"",l.latitude&&l.longitude&&(s.value.property_coordinates=`${l.latitude},${l.longitude}`),console.log("[NewRequest] Populated property details from existing property:",{address:s.value.property_address,legal_description:s.value.legal_description,ct_reference:s.value.ct_reference,parcel_id:s.value.parcel_id,zone:s.value.zone}))}},vt=()=>{Pe&&clearTimeout(Pe);const l=te.value.trim();if(l.length<3){J.value=[];return}Pe=setTimeout(()=>E(this,null,function*(){ue.value=!0,ge.value=!0;try{const m=yield(yield fetch("/api/method/lodgeick.api.search_property_address",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({query:l})})).json();m.message&&m.message.results?J.value=m.message.results:J.value=[]}catch(e){console.error("[PropertySearch] Error searching properties:",e),J.value=[]}finally{ue.value=!1}}),300)},gt=l=>{var e,m,_,o,d,v,A,ae,ke;if(s.value.property_address=l.address,te.value=l.address,(e=l.property)!=null&&e.legal_description&&(s.value.legal_description=l.property.legal_description),(m=l.property)!=null&&m.title_no&&(s.value.ct_reference=l.property.title_no),(_=l.property)!=null&&_.valuation_reference&&(s.value.valuation_reference=l.property.valuation_reference),(o=l.property)!=null&&o.parcel_id&&(s.value.parcel_id=l.property.parcel_id),l.projected_x&&l.projected_y&&(s.value.property_coordinates=`NZTM2000: ${l.projected_x.toFixed(2)}, ${l.projected_y.toFixed(2)}`),(d=l.hazards)!=null&&d.districtPlan&&Array.isArray(l.hazards.districtPlan)&&l.hazards.districtPlan.length>0){const W=l.hazards.districtPlan[0];(v=W.attributes)!=null&&v.Zone_Code||(A=W.attributes)!=null&&A.ZONE_CODE?s.value.zone=W.attributes.Zone_Code||W.attributes.ZONE_CODE:((ae=W.attributes)!=null&&ae.Zone_Name||(ke=W.attributes)!=null&&ke.ZONE_NAME)&&(s.value.zone=W.attributes.Zone_Name||W.attributes.ZONE_NAME)}s.value.hazard_data=l.hazards,ge.value=!1,J.value=[],console.log("[PropertySearch] Selected property:",{address:l.address,legal_description:s.value.legal_description,title_no:s.value.ct_reference,zone:s.value.zone,hazards:l.hazards})},yt=()=>{s.value.property_address="",s.value.legal_description="",s.value.ct_reference="",s.value.valuation_reference="",s.value.parcel_id="",s.value.zone="",s.value.property_coordinates="",s.value.hazard_data=null,te.value="",J.value=[],console.log("[PropertySearch] Cleared property data for new search")},He=()=>{switch(f.value){case 1:const l=!!s.value.council;return console.log("[NewRequest] canProceed Step 1 (Council):",l,"council:",s.value.council),l;case 2:const e=!!s.value.request_type;return console.log("[NewRequest] canProceed Step 2 (Type):",e,"request_type:",s.value.request_type),e;case 3:return!0;case 4:const m=s.value.applicant_phone&&s.value.applicant_type&&s.value.applicant_name&&s.value.applicant_email,_=!s.value.applicant_is_not_owner||s.value.owner_name&&s.value.owner_email&&s.value.owner_phone&&s.value.owner_address;return!!(m&&_);case 5:return!!(s.value.property||s.value.property_address);case 6:if(_e.value){const d=!!(s.value.consent_types&&s.value.consent_types.length>0&&s.value.activity_status),A=!!(s.value.aee_activity_description&&s.value.aee_existing_environment&&s.value.assessment_of_effects),ae=s.value.invoice_to==="Applicant"||s.value.invoice_to==="Other"&&s.value.invoice_name&&s.value.invoice_email&&s.value.invoice_address,ke=!!(s.value.declaration_rma_compliance&&s.value.declaration_public_information&&s.value.declaration_authorized),W=!s.value.transfer_deposit_required||!!s.value.transfer_deposit_consent_number;return!!(d&&A&&ae&&ke&&W)}else return!0;case 7:return!0;default:return!0}},ft=()=>{const l=Y.value,e=f.value,m=He();console.log("[NewRequest] nextStep called",{canProceed:m,currentStep:e,totalSteps:l,steps:K.value,willProceed:m&&e<l}),m&&e<l?(f.value++,console.log("[NewRequest] Moved to step:",f.value)):console.warn("[NewRequest] Cannot proceed:",{canProceed:m,currentStep:e,totalSteps:l,reason:m?"at last step":"canProceed returned false"})},xt=()=>{f.value>1&&f.value--},Le=()=>E(this,null,function*(){H.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:s.value})})).json();if(e.message&&e.message.success)return alert(`Draft saved successfully! Request ID: ${e.message.request_number}`),e.message;throw new Error(e.message||"Failed to save draft")}catch(l){return console.error("Error saving draft:",l),alert("Failed to save draft. Please try again."),null}finally{H.value=!1}}),_t=()=>{var e;const l=(e=B.data)==null?void 0:e.find(m=>m.name===s.value.request_type);return(l==null?void 0:l.type_name)||"N/A"},Be=()=>{var e;const l=(e=B.data)==null?void 0:e.find(m=>m.name===s.value.request_type);return l!=null&&l.base_fee?`$${l.base_fee}`:"TBD"},wt=()=>E(this,null,function*(){if(!s.value.declaration_rma_compliance||!s.value.declaration_public_information||!s.value.declaration_authorized){alert("Please confirm all three statutory declarations before submitting your application");return}Q.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:s.value})})).json();if(!e.message||!e.message.success)throw new Error("Failed to create request");const m=e.message.request_id;if(ve.value.length>0)for(const d of ve.value){const v=new FormData;v.append("file",d),v.append("doctype","Request"),v.append("docname",m),v.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:v})}if(s.value.certificate_of_title_document){const d=new FormData;d.append("file",s.value.certificate_of_title_document),d.append("doctype","Request"),d.append("docname",m),d.append("fieldname","certificate_of_title_document"),d.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:d})}if(s.value.aee_document){const d=new FormData;d.append("file",s.value.aee_document),d.append("doctype","Resource Consent Application"),d.append("docname",m),d.append("fieldname","aee_document"),d.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:d})}const o=yield(yield fetch("/api/method/lodgeick.lodgeick.doctype.request.request.submit_application",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:m})})).json();if(o.message&&o.message.success)alert(`Application submitted successfully! Request Number: ${o.message.request_number}`),V.push({name:"Dashboard"});else throw new Error("Failed to submit application")}catch(l){console.error("Error submitting application:",l),alert("Failed to submit application")}finally{Q.value=!1}}),ht=()=>E(this,null,function*(){if(!s.value.request_type){alert("Please complete your application details first");return}Ae.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:s.value})})).json();if(!e.message||!e.message.success)throw new Error("Failed to save application");const m=e.message.request_id,o=yield(yield fetch("/api/method/lodgeick.api.book_council_meeting",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:m,meeting_type:"Pre-Application Meeting"})})).json();if(o.message&&o.message.success)alert(`Pre-Application Meeting request has been submitted! A council officer will contact you within 2 business days to schedule the meeting. Task ID: ${o.message.task_id}`);else throw new Error(o.message||"Failed to book meeting")}catch(l){console.error("Error booking meeting:",l),alert("Failed to book pre-application meeting. Please try again.")}finally{Ae.value=!1}});b(null);const me=b(!1),le=b(null),g=b({party_name:"",relationship:"",property_address:"",email:"",phone:"",postal_address:"",approval_obtained:!1,approval_date:"",approval_document:null,comments:""}),kt=()=>{g.value={party_name:"",relationship:"",property_address:"",email:"",phone:"",postal_address:"",approval_obtained:!1,approval_date:"",approval_document:null,comments:""},le.value=null,me.value=!0},Ct=l=>{g.value=q({},s.value.affected_parties[l]),le.value=l,me.value=!0},At=()=>{if(!g.value.party_name||!g.value.relationship){alert("Please enter party name and relationship");return}le.value!==null?s.value.affected_parties[le.value]=q({},g.value):s.value.affected_parties.push(q({},g.value)),me.value=!1},Re=()=>{me.value=!1},St=l=>{confirm("Remove this affected party?")&&s.value.affected_parties.splice(l,1)},Pt=l=>{const e=l.target.files[0];if(e){if(e.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"].includes(e.type)){alert("Only PDF, Word documents, and images (JPG, PNG) are allowed"),l.target.value="";return}g.value.approval_document=e}},ce=b(!1),re=b(null),h=b({report_type:"",specialist_name:"",specialist_company:"",report_date:"",document:null,summary:""}),Mt=()=>{h.value={report_type:"",specialist_name:"",specialist_company:"",report_date:"",document:null,summary:""},re.value=null,ce.value=!0},Vt=l=>{h.value=q({},s.value.specialist_reports[l]),re.value=l,ce.value=!0},Ut=()=>{if(!h.value.report_type||!h.value.specialist_name||!h.value.report_date){alert("Please enter report type, specialist name, and report date");return}re.value!==null?s.value.specialist_reports[re.value]=q({},h.value):s.value.specialist_reports.push(q({},h.value)),ce.value=!1},Ne=()=>{ce.value=!1},Rt=l=>{confirm("Remove this specialist report?")&&s.value.specialist_reports.splice(l,1)},Nt=l=>{const e=l.target.files[0];if(e){if(e.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type)){alert("Only PDF and Word documents are allowed"),l.target.value="";return}h.value.document=e}},qt=()=>{const l=prompt("Enter plan rule reference (e.g., Rule 16.4.2.1)");if(!l)return;const e=prompt("Activity status (Permitted/Controlled/Restricted Discretionary/Discretionary/Non-Complying/Prohibited)");if(!e)return;const m=prompt("Rule description (optional)","");s.value.aee_plan_rules.push({rule_reference:l,activity_status:e,rule_description:m||""})},jt=l=>{confirm("Remove this plan rule?")&&s.value.aee_plan_rules.splice(l,1)},Dt=()=>{const l=prompt("Enter standard reference (e.g., Building height: 8m maximum)");if(!l)return;const e=confirm("Does the proposal comply with this standard?"),m=prompt("Compliance analysis (optional)","");s.value.aee_compliance_standards.push({standard_reference:l,complies:e,compliance_analysis:m||"",standard_description:""})},Et=l=>{confirm("Remove this compliance standard?")&&s.value.aee_compliance_standards.splice(l,1)},It=()=>{const l=prompt("Enter party name");if(!l)return;const e=prompt("Party address (optional)",""),m=confirm("Is the written approval attached?");s.value.aee_written_approvals.push({party_name:l,party_address:e||"",approval_attached:m,approval_document:null})},Tt=l=>{confirm("Remove this written approval?")&&s.value.aee_written_approvals.splice(l,1)},zt=()=>{const l=prompt("Enter proposed condition");if(!l)return;const e=s.value.aee_proposed_conditions.length+1;s.value.aee_proposed_conditions.push({condition_number:e,condition_text:l})},Ht=l=>{confirm("Remove this proposed condition?")&&(s.value.aee_proposed_conditions.splice(l,1),s.value.aee_proposed_conditions.forEach((e,m)=>{e.condition_number=m+1}))},be=b(!1),$=b(null),qe=b([]),je=b(!1),we=b("All"),S=b({condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""}),Fe=["All","General","Timing","Lapse","Review","Financial Contribution","Bonds","Monitoring","Environmental Management","Construction","Operation","Landscape","Ecology","Archaeology","Cultural","Traffic","Parking","Noise","Discharge","Earthworks","Heritage","Water","Coastal","Other"],Lt=()=>E(this,null,function*(){je.value=!0;try{const l=s.value.consent_types.map(_=>_.consent_type),m=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({doctype:"Consent Condition Template",fields:["name","template_name","condition_code","condition_category","condition_text","applies_to_consent_types","timing","monitoring_required"],filters:{is_active:1},limit_page_length:0})})).json();m.message&&(qe.value=m.message.filter(_=>!_.applies_to_consent_types||_.applies_to_consent_types==="All"?!0:l.some(o=>_.applies_to_consent_types.includes(o))))}catch(l){console.error("Error fetching condition templates:",l),alert("Failed to load condition templates")}finally{je.value=!1}}),he=X(()=>we.value==="All"?qe.value:qe.value.filter(l=>l.condition_category===we.value)),Bt=()=>E(this,null,function*(){if(!s.value.consent_types||s.value.consent_types.length===0){alert("Please select at least one consent type first");return}yield Lt(),S.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},$.value=null,be.value=!0}),Ft=l=>{const m={condition_number:(s.value.proposed_conditions.length+1).toString(),condition_category:l.condition_category,condition_text:l.condition_text,compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""};s.value.proposed_conditions.push(m)},Ot=()=>{S.value={condition_number:(s.value.proposed_conditions.length+1).toString(),condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},$.value=null},$t=l=>{S.value=q({},s.value.proposed_conditions[l]),$.value=l},Wt=()=>{if(!S.value.condition_category||!S.value.condition_text){alert("Please enter condition category and text");return}$.value!==null?s.value.proposed_conditions[$.value]=q({},S.value):s.value.proposed_conditions.push(q({},S.value)),S.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},$.value=null},Jt=()=>{S.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},$.value=null},Oe=l=>{confirm("Remove this condition?")&&(s.value.proposed_conditions.splice(l,1),s.value.proposed_conditions.forEach((e,m)=>{e.condition_number=(m+1).toString()}))},Gt=Ge({url:"lodgeick.api.book_council_meeting",makeParams:l=>l,onSuccess:l=>{l&&l.success?alert(`✅ Pre-Application Meeting Request Sent!

Task #${l.task_id} has been created for the planning team.

They will contact you within 2 business days to schedule.`):alert("Meeting request sent successfully! The planning team will contact you soon."),ee.value=!1},onError:l=>{console.error("Error requesting meeting:",l),alert("Failed to request pre-application meeting. Please try again or contact the planning team directly."),ee.value=!1}}),Zt=()=>E(this,null,function*(){if(!s.value.request_type||!s.value.property_address){alert("Please complete the Request Type and Property Details first.");return}if(confirm(`Request a pre-application meeting? A planning officer will contact you within 2 business days to schedule.

Note: You should save your application as a draft first.`))try{ee.value=!0;const l=yield Le();if(!l||!l.request_id){alert("Please save your draft application first."),ee.value=!1;return}Gt.submit({request_id:l.request_id,meeting_type:"Pre-Application Meeting"})}catch(l){console.error("Error in meeting request:",l),alert("Failed to request pre-application meeting. Please try again."),ee.value=!1}}),Xt=()=>E(this,null,function*(){try{de.value=!0;const l=yield De("lodgeick.api.get_user_profile");U.value=l,l.applicant_type&&!s.value.applicant_type&&(s.value.applicant_type=l.applicant_type),l.phone&&!s.value.applicant_phone&&!s.value.acting_on_behalf&&(s.value.applicant_phone=l.phone),s.value.acting_on_behalf||(s.value.applicant_name=`${l.first_name||""} ${l.last_name||""}`.trim()||l.email,s.value.applicant_email=l.email)}catch(l){console.error("Error loading user profile:",l)}finally{de.value=!1}}),Yt=()=>E(this,null,function*(){try{const l=yield De("lodgeick.api.get_user_company_account");l&&(G.value=l)}catch(l){console.error("Error loading company account:",l)}});return ne(()=>s.value.submitted_on_behalf_of,l=>{l==="Company"&&G.value?s.value.company_account=G.value.name:s.value.company_account=null}),ne(()=>s.value.acting_on_behalf,l=>{!l&&U.value?(s.value.applicant_name=`${U.value.first_name||""} ${U.value.last_name||""}`.trim()||U.value.email,s.value.applicant_email=U.value.email,U.value.phone&&(s.value.applicant_phone=U.value.phone),U.value.applicant_type&&(s.value.applicant_type=U.value.applicant_type)):l&&(s.value.applicant_name="",s.value.applicant_email="",s.value.applicant_phone="")}),ne(()=>s.value.applicant_phone,(l,e)=>E(this,null,function*(){if(!s.value.acting_on_behalf&&U.value&&l&&l!==e&&l!==U.value.phone)try{yield De("lodgeick.api.update_user_profile",{phone:l}),U.value.phone=l,console.log("[NewRequest] Phone number saved to profile:",l)}catch(m){console.error("[NewRequest] Error saving phone to profile:",m)}})),ro(()=>E(this,null,function*(){if(yield Xt(),yield Yt(),x.preselectedFromUrl)s.value.council=x.preselectedFromUrl,yield Ue(x.preselectedFromUrl);else{const l=yield x.getUserCouncils();l.default_council&&(s.value.council=l.default_council,yield Ue(l.default_council))}})),(l,e)=>{var m,_;return r(),a("div",no,[t("header",io,[t("div",uo,[t("div",po,[t("div",mo,[t("button",{onClick:pt,class:"text-gray-500 hover:text-gray-700"},[...e[178]||(e[178]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),t("div",null,[e[179]||(e[179]=t("h1",{class:"text-xl font-bold text-gray-900"},"New Application",-1)),t("p",co,"Step "+i(f.value)+" of "+i(Y.value),1)])]),j(M(N),{onClick:Le,variant:"outline",theme:"gray",loading:H.value},{default:y(()=>[...e[180]||(e[180]=[c(" Save Draft ",-1)])]),_:1},8,["loading"])])])]),t("div",bo,[t("div",vo,[t("div",go,[(r(!0),a(k,null,C(K.value,(o,d)=>(r(),a("div",{key:d,class:z(["flex items-center",{"flex-1":d<K.value.length-1}])},[t("div",yo,[t("div",{class:z(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",mt(d+1)])},[d+1<f.value?(r(),a("span",fo,"✓")):(r(),a("span",xo,i(d+1),1))],2),t("span",{class:z(["text-xs mt-2 text-center",d+1===f.value?"text-blue-600 font-medium":"text-gray-500"])},i(o.title),3)]),d<K.value.length-1?(r(),a("div",{key:0,class:z(["flex-1 h-1 mx-4 rounded",d+1<f.value?"bg-blue-600":"bg-gray-200"])},null,2)):u("",!0)],2))),128))])])]),t("main",_o,[t("div",wo,[f.value===1?(r(),a("div",ho,[e[181]||(e[181]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Council",-1)),e[182]||(e[182]=t("p",{class:"text-gray-600 mb-8"},"Choose the council that will process your application",-1)),j(ao,{modelValue:s.value.council,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.council=o),onChange:Ue,"display-mode":"cards",required:!0,"show-selected-info":!0,label:"","show-label":!1},null,8,["modelValue"])])):u("",!0),f.value===2?(r(),a("div",ko,[e[185]||(e[185]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Application Type",-1)),e[186]||(e[186]=t("p",{class:"text-gray-600 mb-8"},"Choose the type of consent you wish to apply for",-1)),B.value.loading?(r(),a("div",Co,[...e[183]||(e[183]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):(r(),a("div",Ao,[(r(!0),a(k,null,C(B.value.data,o=>(r(),a("div",{key:o.name,onClick:d=>ct(o),class:z(["border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md",s.value.request_type===o.name?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[t("div",Po,[t("div",Mo,[t("h3",Vo,i(o.type_name),1),t("p",{class:"text-sm text-gray-600",innerHTML:o.description||"No description available"},null,8,Uo),t("div",Ro,[o.base_fee?(r(),a("span",No,"Fee: $"+i(o.base_fee),1)):u("",!0),o.processing_sla_days?(r(),a("span",qo,i(o.processing_sla_days)+" days",1)):u("",!0),o.category?(r(),a("span",jo,i(o.category),1)):u("",!0)])]),s.value.request_type===o.name?(r(),a("div",Do,[...e[184]||(e[184]=[t("div",{class:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):u("",!0)])],10,So))),128))]))])):u("",!0),f.value===3?(r(),a("div",Eo,[e[198]||(e[198]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Council Process Information",-1)),t("p",Io,"Understanding "+i((_=(m=M(x).councils)==null?void 0:m.find(o=>o.council_code===s.value.council))==null?void 0:_.council_name)+"'s process for this application",1),D.value?(r(),a("div",To,[t("div",zo,[t("div",Ho,[t("div",null,[t("h3",Lo,i(D.value.request_type_name),1),D.value.category?(r(),a("p",Bo,i(D.value.category),1)):u("",!0)])]),t("div",Fo,[t("div",null,[e[187]||(e[187]=t("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Application Fee",-1)),t("div",Oo," $"+i(D.value.base_fee||"0"),1),e[188]||(e[188]=t("div",{class:"text-xs text-blue-600 mt-1"},"Plus any additional costs",-1))]),t("div",null,[e[190]||(e[190]=t("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Processing Time",-1)),t("div",$o,[c(i(D.value.sla_days||"N/A")+" ",1),e[189]||(e[189]=t("span",{class:"text-base"},"days",-1))]),e[191]||(e[191]=t("div",{class:"text-xs text-blue-600 mt-1"},"Standard timeframe",-1))]),t("div",null,[e[192]||(e[192]=t("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Payment Required",-1)),t("div",Wo,i(D.value.requires_payment?"Yes":"No"),1),e[193]||(e[193]=t("div",{class:"text-xs text-blue-600 mt-1"},"Before processing",-1))])])]),D.value.process_description?(r(),a("div",Jo,[e[194]||(e[194]=t("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"How This Works",-1)),t("div",{class:"prose prose-sm max-w-none text-gray-700",innerHTML:D.value.process_description},null,8,Go)])):D.value.description?(r(),a("div",Zo,[e[195]||(e[195]=t("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"About This Application",-1)),t("p",Xo,i(D.value.description),1)])):u("",!0),e[196]||(e[196]=F('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4"><div class="flex items-start"><svg class="w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><div><h5 class="font-semibold text-yellow-900 text-sm">Before You Continue</h5><p class="text-yellow-800 text-sm mt-1"> Please review this information carefully. Make sure you understand the process, fees, and timeframes before proceeding with your application. </p></div></div></div>',1)),t("div",Yo,[t("button",{onClick:e[1]||(e[1]=o=>f.value++),class:"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors"}," I Understand - Continue to Application ")])])):(r(),a("div",Qo,[...e[197]||(e[197]=[t("p",{class:"text-gray-500"},"No request type selected. Please go back and select a request type.",-1)])]))])):u("",!0),f.value===4?(r(),a("div",Ko,[e[217]||(e[217]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Who is this application for?",-1)),e[218]||(e[218]=t("p",{class:"text-gray-600 mb-8"},"Provide applicant and property owner information",-1)),t("div",es,[G.value?(r(),a("div",ts,[t("div",os,[e[201]||(e[201]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Submitting As",-1)),t("div",ss,[t("label",{class:z(["flex items-start space-x-3 cursor-pointer p-4 border-2 rounded-lg transition-colors",s.value.submitted_on_behalf_of==="Myself"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[n(t("input",{type:"radio",value:"Myself","onUpdate:modelValue":e[2]||(e[2]=o=>s.value.submitted_on_behalf_of=o),class:"mt-1"},null,512),[[ie,s.value.submitted_on_behalf_of]]),e[199]||(e[199]=t("div",{class:"flex-1"},[t("div",{class:"font-medium text-gray-900"},"Individual - Submit for Myself"),t("div",{class:"text-sm text-gray-500"},"This application is submitted as an individual")],-1))],2),t("label",{class:z(["flex items-start space-x-3 cursor-pointer p-4 border-2 rounded-lg transition-colors",s.value.submitted_on_behalf_of==="Company"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[n(t("input",{type:"radio",value:"Company","onUpdate:modelValue":e[3]||(e[3]=o=>s.value.submitted_on_behalf_of=o),class:"mt-1"},null,512),[[ie,s.value.submitted_on_behalf_of]]),t("div",ls,[t("div",rs,"Company - "+i(G.value.company_name),1),e[200]||(e[200]=t("div",{class:"text-sm text-gray-500"},"Submit on behalf of your company account",-1)),t("div",as,"You are logged in as: "+i(G.value.user_role),1)])],2)])])])):u("",!0),t("div",ns,[t("div",is,[e[204]||(e[204]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Who is this application for?",-1)),t("div",ds,[t("label",us,[n(t("input",{type:"radio",value:!1,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.acting_on_behalf=o),class:"mt-1"},null,512),[[ie,s.value.acting_on_behalf]]),e[202]||(e[202]=t("div",null,[t("div",{class:"font-medium text-gray-900"},"This application is for myself"),t("div",{class:"text-sm text-gray-500"},"I am the applicant submitting this request")],-1))]),t("label",ps,[n(t("input",{type:"radio",value:!0,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value.acting_on_behalf=o),class:"mt-1"},null,512),[[ie,s.value.acting_on_behalf]]),e[203]||(e[203]=t("div",null,[t("div",{class:"font-medium text-gray-900"},"I am acting on behalf of a client"),t("div",{class:"text-sm text-gray-500"},"I am an agent submitting this request for someone else")],-1))])])]),t("div",null,[t("h3",ms,i(s.value.acting_on_behalf?"Client Information *":"Applicant Contact Information *"),1),t("div",cs,[t("div",bs,[t("div",null,[e[205]||(e[205]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Full Name *",-1)),n(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>s.value.applicant_name=o),type:"text",placeholder:"John Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!s.value.acting_on_behalf&&U.value,required:""},null,8,vs),[[p,s.value.applicant_name]]),s.value.acting_on_behalf?u("",!0):(r(),a("p",gs,"Auto-populated from your profile"))]),t("div",null,[e[206]||(e[206]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email Address *",-1)),n(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>s.value.applicant_email=o),type:"email",placeholder:"john@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!s.value.acting_on_behalf&&U.value,required:""},null,8,ys),[[p,s.value.applicant_email]]),s.value.acting_on_behalf?u("",!0):(r(),a("p",fs,"Auto-populated from your profile"))])]),t("div",xs,[t("div",null,[e[207]||(e[207]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Contact Phone *",-1)),n(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>s.value.applicant_phone=o),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[p,s.value.applicant_phone]]),t("p",_s,i(s.value.acting_on_behalf?"Required for application processing":"Will be saved to your profile for future applications"),1)]),t("div",null,[e[209]||(e[209]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Applicant Type *",-1)),n(t("select",{"onUpdate:modelValue":e[9]||(e[9]=o=>s.value.applicant_type=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...e[208]||(e[208]=[F('<option value="">Select applicant type</option><option value="Individual">Individual</option><option value="Company">Company</option><option value="Trust">Trust</option><option value="Partnership">Partnership</option><option value="Other">Other</option>',6)])],512),[[I,s.value.applicant_type]]),e[210]||(e[210]=t("p",{class:"mt-1 text-xs text-gray-500"},"Type of entity making this application",-1))])])])]),t("div",ws,[t("div",hs,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=o=>s.value.applicant_is_not_owner=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,s.value.applicant_is_not_owner]]),e[211]||(e[211]=t("label",{class:"ml-3 text-sm font-medium text-gray-700"}," I am not the property owner ",-1))]),s.value.applicant_is_not_owner?(r(),a("div",ks,[e[216]||(e[216]=t("p",{class:"text-xs text-gray-600 mb-4"}," Under Section 88 of the RMA, you must provide the property owner's contact details. ",-1)),t("div",Cs,[t("div",null,[e[212]||(e[212]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Owner Name *",-1)),n(t("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>s.value.owner_name=o),type:"text",placeholder:"Property owner's full name",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:s.value.applicant_is_not_owner},null,8,As),[[p,s.value.owner_name]])]),t("div",null,[e[213]||(e[213]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Owner Email",-1)),n(t("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>s.value.owner_email=o),type:"email",placeholder:"owner@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.owner_email]])])]),t("div",Ss,[t("div",null,[e[214]||(e[214]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Owner Phone",-1)),n(t("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>s.value.owner_phone=o),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.owner_phone]])]),t("div",null,[e[215]||(e[215]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Owner Address",-1)),n(t("textarea",{"onUpdate:modelValue":e[14]||(e[14]=o=>s.value.owner_address=o),rows:"3",placeholder:"Owner's postal address",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.owner_address]])])])])):u("",!0)])])])])):u("",!0),f.value===5?(r(),a("div",Ps,[e[234]||(e[234]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Property Details",-1)),e[235]||(e[235]=t("p",{class:"text-gray-600 mb-8"},"Provide details about the property for this application",-1)),t("div",Ms,[t("div",null,[e[220]||(e[220]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Existing Property or Enter New ",-1)),n(t("select",{"onUpdate:modelValue":e[15]||(e[15]=o=>s.value.property=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:bt},[e[219]||(e[219]=t("option",{value:""},"-- Select a property or enter new --",-1)),(r(!0),a(k,null,C(M(ze).data,o=>(r(),a("option",{key:o.name,value:o.name},i(o.street_address)+", "+i(o.suburb)+i(o.legal_description?" - "+o.legal_description:""),9,Vs))),128))],544),[[I,s.value.property]])]),t("div",Us,[s.value.property_address?(r(),a("div",Rs,[e[221]||(e[221]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Property Address *",-1)),t("div",Ns,[n(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>s.value.property_address=o),type:"text",readonly:"",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-900"},null,512),[[p,s.value.property_address]]),t("button",{onClick:yt,type:"button",class:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 border border-blue-600 rounded-lg hover:bg-blue-50"}," Change ")]),e[222]||(e[222]=t("p",{class:"mt-1 text-xs text-green-600"},"✓ Address selected from LINZ database",-1))])):(r(),a("div",qs,[e[225]||(e[225]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search Property Address *",-1)),n(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>te.value=o),onInput:vt,onFocus:e[18]||(e[18]=o=>ge.value=!0),type:"text",placeholder:"Start typing address... e.g., 123 Main Street",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autocomplete:"off"},null,544),[[p,te.value]]),e[226]||(e[226]=t("p",{class:"mt-1 text-xs text-gray-500"},"Type to search LINZ property database",-1)),ge.value&&(J.value.length>0||ue.value)?(r(),a("div",js,[ue.value?(r(),a("div",Ds,[...e[223]||(e[223]=[t("div",{class:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mb-2"},null,-1),t("p",{class:"text-sm"},"Searching properties...",-1)])])):(r(),a("div",Es,[(r(!0),a(k,null,C(J.value,(o,d)=>{var v,A;return r(),a("button",{key:d,onClick:ae=>gt(o),type:"button",class:"w-full text-left px-4 py-3 hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors focus:outline-none focus:bg-blue-50"},[t("div",Ts,i(o.address),1),t("div",zs,i(((v=o.property)==null?void 0:v.legal_description)||"Legal description not available"),1),(A=o.property)!=null&&A.title_no?(r(),a("div",Hs," Title: "+i(o.property.title_no),1)):u("",!0)],8,Is)}),128))])),!ue.value&&J.value.length===0&&te.value.length>=3?(r(),a("div",Ls,[...e[224]||(e[224]=[t("p",{class:"text-sm"},"No properties found. Try a different search.",-1)])])):u("",!0)])):u("",!0)])),t("div",Bs,[t("div",null,[e[227]||(e[227]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Legal Description",-1)),n(t("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>s.value.legal_description=o),type:"text",placeholder:"Lot 1 DP 12345",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readonly:""},null,512),[[p,s.value.legal_description]]),s.value.legal_description?(r(),a("p",Fs," ✓ Auto-populated from LINZ ")):u("",!0)]),t("div",null,[e[228]||(e[228]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Certificate of Title",-1)),n(t("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>s.value.ct_reference=o),type:"text",placeholder:"WN123/456",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readonly:""},null,512),[[p,s.value.ct_reference]]),s.value.ct_reference?(r(),a("p",Os," ✓ Auto-populated from LINZ ")):u("",!0)])]),t("div",null,[e[229]||(e[229]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Upload Certificate of Title (Optional) ",-1)),t("input",{type:"file",onChange:tt,accept:".pdf,.jpg,.jpeg,.png",class:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"},null,32),s.value.certificate_of_title_document?(r(),a("p",$s," ✓ Document uploaded ")):u("",!0),e[230]||(e[230]=t("p",{class:"mt-1 text-xs text-gray-500"},"Upload a copy of the Certificate of Title if available",-1))]),t("div",Ws,[t("div",null,[e[231]||(e[231]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Valuation Reference",-1)),n(t("input",{"onUpdate:modelValue":e[21]||(e[21]=o=>s.value.valuation_reference=o),type:"text",placeholder:"Auto-populated",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readonly:""},null,512),[[p,s.value.valuation_reference]]),s.value.valuation_reference?(r(),a("p",Js," ✓ Valuation Reference ")):(r(),a("p",Gs," Will be populated when address is selected "))]),t("div",null,[e[232]||(e[232]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Parcel ID",-1)),n(t("input",{"onUpdate:modelValue":e[22]||(e[22]=o=>s.value.parcel_id=o),type:"text",placeholder:"Auto-populated",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readonly:""},null,512),[[p,s.value.parcel_id]]),s.value.parcel_id?(r(),a("p",Zs," ✓ LINZ Parcel ID ")):u("",!0)])]),t("div",Xs,[t("div",null,[e[233]||(e[233]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Zone",-1)),n(t("input",{"onUpdate:modelValue":e[23]||(e[23]=o=>s.value.zone=o),type:"text",placeholder:"Auto-populated from District Plan",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readonly:""},null,512),[[p,s.value.zone]]),s.value.zone?(r(),a("p",Ys," ✓ District Plan zone ")):(r(),a("p",Qs," Will be populated when address is selected "))])])])])])):u("",!0),f.value===6&&_e.value?(r(),a("div",Ks,[e[434]||(e[434]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Resource Consent Details",-1)),e[435]||(e[435]=t("p",{class:"text-gray-600 mb-8"},"Provide Resource Management Act (RMA) specific information",-1)),t("div",el,[t("div",tl,[t("div",null,[e[236]||(e[236]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Applicant Reference Number ",-1)),n(t("input",{"onUpdate:modelValue":e[24]||(e[24]=o=>s.value.applicant_reference_number=o),type:"text",placeholder:"e.g., PROJ-2025-001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.applicant_reference_number]]),e[237]||(e[237]=t("p",{class:"mt-1 text-xs text-gray-500"},"Your internal project/file reference (optional)",-1))]),t("div",null,[e[238]||(e[238]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," PIM Reference ",-1)),n(t("input",{"onUpdate:modelValue":e[25]||(e[25]=o=>s.value.pim_reference=o),type:"text",placeholder:"e.g., PIM-2024-12345",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.pim_reference]]),e[239]||(e[239]=t("p",{class:"mt-1 text-xs text-gray-500"},"Property Information Memorandum number (if applicable)",-1))]),t("div",null,[e[241]||(e[241]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Delivery Preference ",-1)),n(t("select",{"onUpdate:modelValue":e[26]||(e[26]=o=>s.value.delivery_preference=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...e[240]||(e[240]=[t("option",{value:""},"Select preference",-1),t("option",{value:"Email"},"Email",-1),t("option",{value:"Postal Mail"},"Postal Mail",-1),t("option",{value:"Both Email and Postal"},"Both Email and Postal",-1)])],512),[[I,s.value.delivery_preference]]),e[242]||(e[242]=t("p",{class:"mt-1 text-xs text-gray-500"},"How to receive correspondence",-1))])]),t("div",ol,[t("div",sl,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[27]||(e[27]=o=>s.value.transfer_deposit_required=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,s.value.transfer_deposit_required]]),e[243]||(e[243]=t("label",{class:"ml-3 text-sm font-medium text-gray-700"}," Transfer deposit from existing consent ",-1))]),s.value.transfer_deposit_required?(r(),a("div",ll,[e[244]||(e[244]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Existing Consent Number * ",-1)),n(t("input",{"onUpdate:modelValue":e[28]||(e[28]=o=>s.value.transfer_deposit_consent_number=o),type:"text",placeholder:"e.g., RC123456",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:s.value.transfer_deposit_required},null,8,rl),[[p,s.value.transfer_deposit_consent_number]]),e[245]||(e[245]=t("p",{class:"mt-1 text-xs text-gray-500"}," Enter the consent number from which the deposit should be transferred ",-1))])):u("",!0)]),t("div",al,[t("div",null,[e[246]||(e[246]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Consent Type(s) * ",-1)),t("div",nl,[(r(),a(k,null,C(Ze,o=>t("label",{key:o,class:"flex items-center"},[t("input",{type:"checkbox",value:o,onChange:d=>Xe(o),checked:Ye(o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,il),t("span",dl,i(o),1)])),64))]),e[247]||(e[247]=t("p",{class:"mt-1 text-xs text-gray-500"},"Select all consent types required (multiple allowed)",-1))]),t("div",null,[t("label",ul,[e[249]||(e[249]=c(" Activity Status * ",-1)),t("button",{type:"button",onClick:e[29]||(e[29]=o=>Se.value=!Se.value),class:"ml-1 text-blue-600 hover:text-blue-800",title:"Click for help"},[...e[248]||(e[248]=[t("svg",{class:"w-4 h-4 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])]),Se.value?(r(),a("div",pl,[...e[250]||(e[250]=[F('<p class="font-semibold mb-2">RMA Activity Status Guide:</p><ul class="space-y-1 ml-4 list-disc"><li><strong>Permitted:</strong> Allowed without consent (no application needed)</li><li><strong>Controlled:</strong> Consent must be granted; council sets conditions</li><li><strong>Restricted Discretionary:</strong> Council has limited grounds to decline</li><li><strong>Discretionary:</strong> Council has full discretion to grant or decline</li><li><strong>Non-Complying:</strong> Does not comply with plan; requires special justification</li><li><strong>Prohibited:</strong> Cannot be consented under any circumstances</li></ul><p class="mt-2 text-xs text-blue-700">Check your district plan zone rules to determine status</p>',3)])])):u("",!0),n(t("select",{"onUpdate:modelValue":e[30]||(e[30]=o=>s.value.activity_status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...e[251]||(e[251]=[F('<option value="">Select activity status</option><option value="Controlled">Controlled</option><option value="Restricted Discretionary">Restricted Discretionary</option><option value="Discretionary">Discretionary</option><option value="Non-Complying">Non-Complying</option><option value="Permitted Boundary Activity">Permitted Boundary Activity</option>',6)])],512),[[I,s.value.activity_status]]),e[252]||(e[252]=t("p",{class:"mt-1 text-xs text-gray-500"},"Activity classification under district plan",-1)),Te.value?(r(),a("div",ml,i(Te.value),1)):u("",!0)])]),s.value.activity_status==="Permitted Boundary Activity"?(r(),a("div",cl,[e[258]||(e[258]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Permitted Boundary Activity (RMA s87BA)",-1)),e[259]||(e[259]=t("p",{class:"text-xs text-gray-500 mb-4"},"This is a special consent type for boundary infringements under section 87BA of the Resource Management Act",-1)),t("div",bl,[t("div",null,[e[253]||(e[253]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Boundary Description",-1)),n(t("input",{"onUpdate:modelValue":e[31]||(e[31]=o=>s.value.boundary_description=o),type:"text",placeholder:"e.g., Side boundary with 123 Main Street",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,s.value.boundary_description]])]),t("div",null,[e[254]||(e[254]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Description of Boundary Activity",-1)),n(t("textarea",{"onUpdate:modelValue":e[32]||(e[32]=o=>s.value.boundary_activity_description=o),rows:"3",placeholder:"Describe how the activity infringes the boundary setback requirements...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,s.value.boundary_activity_description]])]),t("div",vl,[t("div",null,[t("div",gl,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[33]||(e[33]=o=>s.value.boundary_owner_approval_obtained=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,s.value.boundary_owner_approval_obtained]]),e[255]||(e[255]=t("label",{class:"ml-3 text-xs font-medium text-gray-700"}," Affected boundary owner approval obtained ",-1))])]),s.value.boundary_owner_approval_obtained?(r(),a("div",yl,[e[256]||(e[256]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Date",-1)),n(t("input",{"onUpdate:modelValue":e[34]||(e[34]=o=>s.value.boundary_approval_date=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,s.value.boundary_approval_date]])])):u("",!0)]),s.value.boundary_owner_approval_obtained?(r(),a("div",fl,[e[257]||(e[257]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Documentation",-1)),t("input",{type:"file",onChange:nt,accept:".pdf,.doc,.docx,.jpg,.png",class:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"},null,32),s.value.boundary_approval_document?(r(),a("p",xl," ✓ Document uploaded ")):u("",!0)])):u("",!0)])])):u("",!0),t("div",_l,[e[276]||(e[276]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Proposal Details",-1)),e[277]||(e[277]=t("p",{class:"text-xs text-gray-500 mb-4"},"Provide details about your proposed development (all fields optional)",-1)),t("div",wl,[t("div",hl,[t("button",{onClick:e[35]||(e[35]=o=>xe("building")),type:"button",class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors"},[e[261]||(e[261]=t("span",{class:"text-sm font-medium text-gray-900"},"Building/Structure Dimensions",-1)),(r(),a("svg",{class:z([{"rotate-180":O.value.building},"w-5 h-5 text-gray-600 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[260]||(e[260]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),O.value.building?(r(),a("div",kl,[t("div",Cl,[t("div",null,[e[262]||(e[262]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Building Height (metres)",-1)),n(t("input",{"onUpdate:modelValue":e[36]||(e[36]=o=>s.value.building_height=o),type:"number",placeholder:"e.g., 8.5",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.building_height]])]),t("div",null,[e[263]||(e[263]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Total Floor Area (m²)",-1)),n(t("input",{"onUpdate:modelValue":e[37]||(e[37]=o=>s.value.building_floor_area=o),type:"number",placeholder:"e.g., 250",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.building_floor_area]])])])])):u("",!0)]),t("div",Al,[t("button",{onClick:e[38]||(e[38]=o=>xe("earthworks")),type:"button",class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors"},[e[265]||(e[265]=t("span",{class:"text-sm font-medium text-gray-900"},"Earthworks",-1)),(r(),a("svg",{class:z([{"rotate-180":O.value.earthworks},"w-5 h-5 text-gray-600 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[264]||(e[264]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),O.value.earthworks?(r(),a("div",Sl,[t("div",Pl,[t("div",null,[e[266]||(e[266]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Earthworks Volume (m³)",-1)),n(t("input",{"onUpdate:modelValue":e[39]||(e[39]=o=>s.value.earthworks_volume=o),type:"number",placeholder:"e.g., 150",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.earthworks_volume]])]),t("div",null,[e[267]||(e[267]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Maximum Vertical Alteration (metres)",-1)),n(t("input",{"onUpdate:modelValue":e[40]||(e[40]=o=>s.value.earthworks_vertical_alteration=o),type:"number",placeholder:"e.g., 2.5",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.earthworks_vertical_alteration]])])])])):u("",!0)]),t("div",Ml,[t("button",{onClick:e[41]||(e[41]=o=>xe("traffic")),type:"button",class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors"},[e[269]||(e[269]=t("span",{class:"text-sm font-medium text-gray-900"},"Traffic & Parking",-1)),(r(),a("svg",{class:z([{"rotate-180":O.value.traffic},"w-5 h-5 text-gray-600 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[268]||(e[268]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),O.value.traffic?(r(),a("div",Vl,[t("div",Ul,[t("div",null,[e[270]||(e[270]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Additional Vehicle Movements/Day",-1)),n(t("input",{"onUpdate:modelValue":e[42]||(e[42]=o=>s.value.vehicle_movements_daily=o),type:"number",placeholder:"e.g., 20",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.vehicle_movements_daily]])]),t("div",null,[e[271]||(e[271]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Parking Spaces Provided",-1)),n(t("input",{"onUpdate:modelValue":e[43]||(e[43]=o=>s.value.parking_spaces_provided=o),type:"number",placeholder:"e.g., 4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.parking_spaces_provided]])])])])):u("",!0)]),t("div",Rl,[t("button",{onClick:e[44]||(e[44]=o=>xe("operations")),type:"button",class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors"},[e[273]||(e[273]=t("span",{class:"text-sm font-medium text-gray-900"},"Operations",-1)),(r(),a("svg",{class:z([{"rotate-180":O.value.operations},"w-5 h-5 text-gray-600 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[272]||(e[272]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),O.value.operations?(r(),a("div",Nl,[t("div",ql,[t("div",null,[e[274]||(e[274]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Hours of Operation",-1)),n(t("input",{"onUpdate:modelValue":e[45]||(e[45]=o=>s.value.hours_of_operation=o),type:"text",placeholder:"e.g., Mon-Fri 8am-6pm",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.hours_of_operation]])]),t("div",null,[e[275]||(e[275]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Consent Term Requested",-1)),n(t("input",{"onUpdate:modelValue":e[46]||(e[46]=o=>s.value.consent_term_requested=o),type:"text",placeholder:"e.g., 5 years, Unlimited",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.consent_term_requested]])])])])):u("",!0)])])]),t("div",jl,[e[289]||(e[289]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Site & Environment",-1)),e[290]||(e[290]=t("p",{class:"text-xs text-gray-500 mb-4"},"Describe existing site conditions and environmental features (all fields optional)",-1)),t("div",Dl,[t("div",null,[e[278]||(e[278]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Site Topography",-1)),n(t("textarea",{"onUpdate:modelValue":e[47]||(e[47]=o=>s.value.site_topography=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Generally flat with gentle slope to north, approximately 10m elevation..."},null,512),[[p,s.value.site_topography]])]),t("div",null,[e[279]||(e[279]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Existing Vegetation",-1)),n(t("textarea",{"onUpdate:modelValue":e[48]||(e[48]=o=>s.value.existing_vegetation_description=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe existing trees, shrubs, native vegetation, notable specimens..."},null,512),[[p,s.value.existing_vegetation_description]])]),t("div",El,[t("div",null,[t("div",Il,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[49]||(e[49]=o=>s.value.watercourses_present=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,s.value.watercourses_present]]),e[280]||(e[280]=t("label",{class:"ml-3 text-xs font-medium text-gray-700"}," Watercourses/Wetlands Present on Site ",-1))]),s.value.watercourses_present?(r(),a("div",Tl,[n(t("textarea",{"onUpdate:modelValue":e[50]||(e[50]=o=>s.value.watercourse_description=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe watercourses, streams, wetlands..."},null,512),[[p,s.value.watercourse_description]])])):u("",!0)]),t("div",null,[e[282]||(e[282]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"HAIL Contamination Status",-1)),n(t("select",{"onUpdate:modelValue":e[51]||(e[51]=o=>s.value.contamination_status_hail=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"},[...e[281]||(e[281]=[F('<option value="">Select contamination status</option><option value="Not Assessed">Not Assessed</option><option value="Not HAIL">Not HAIL (Hazardous Activities and Industries List)</option><option value="HAIL - Not Investigated">HAIL - Not Investigated</option><option value="HAIL - Investigated (Clean)">HAIL - Investigated (Clean)</option><option value="HAIL - Contaminated">HAIL - Contaminated</option>',6)])],512),[[I,s.value.contamination_status_hail]])])]),t("div",zl,[e[286]||(e[286]=t("h4",{class:"text-sm font-semibold text-blue-900 mb-3"},"Natural Hazards Assessment (RMA s104)",-1)),e[287]||(e[287]=t("p",{class:"text-xs text-blue-700 mb-3"},"Indicate which natural hazards are present on or near the site",-1)),t("div",Hl,[(r(),a(k,null,C(Qe,o=>t("div",{key:o,class:"flex items-center"},[n(t("input",{type:"checkbox",id:"hazard-"+o,value:o,"onUpdate:modelValue":e[52]||(e[52]=d=>oe.value=d),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ll),[[w,oe.value]]),t("label",{for:"hazard-"+o,class:"ml-2 text-sm text-gray-700"},i(o),9,Bl)])),64))]),oe.value.length>0?(r(),a("div",Fl,[(r(!0),a(k,null,C(oe.value,o=>(r(),a("div",{key:o,class:"mb-4 last:mb-0"},[t("h5",Ol,i(o),1),t("div",$l,[t("div",null,[e[284]||(e[284]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Risk Level",-1)),n(t("select",{"onUpdate:modelValue":d=>Z(o).risk_level=d,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...e[283]||(e[283]=[F('<option value="">Select risk level</option><option value="Low">Low</option><option value="Medium">Medium</option><option value="High">High</option><option value="Extreme">Extreme</option>',5)])],8,Wl),[[I,Z(o).risk_level]])]),t("div",Jl,[t("div",Gl,[n(t("input",{type:"checkbox",id:"mitigation-"+o,"onUpdate:modelValue":d=>Z(o).mitigation_required=d,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Zl),[[w,Z(o).mitigation_required]]),t("label",{for:"mitigation-"+o,class:"ml-2 text-xs text-gray-700"},"Mitigation Required",8,Xl)])])]),t("div",Yl,[e[285]||(e[285]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Assessment Notes",-1)),n(t("textarea",{"onUpdate:modelValue":d=>Z(o).assessment_notes=d,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Describe the hazard and its potential impact..."},null,8,Ql),[[p,Z(o).assessment_notes]])])]))),128))])):u("",!0)]),t("div",null,[e[288]||(e[288]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Existing Infrastructure",-1)),n(t("textarea",{"onUpdate:modelValue":e[53]||(e[53]=o=>s.value.existing_infrastructure=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Wastewater, stormwater, electricity connections..."},null,512),[[p,s.value.existing_infrastructure]])])])]),t("div",Kl,[e[302]||(e[302]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"National Environmental Standards (NES) Assessment",-1)),e[303]||(e[303]=t("p",{class:"text-xs text-gray-500 mb-4"},"Indicate which National Environmental Standards apply to this proposal",-1)),t("div",er,[e[295]||(e[295]=t("h4",{class:"text-sm font-semibold text-blue-900 mb-2"},"Application Context",-1)),t("div",tr,[t("div",null,[e[291]||(e[291]=t("span",{class:"font-medium text-blue-800"},"Applicant:",-1)),t("span",or,i(s.value.applicant_name||"Not provided"),1)]),t("div",null,[e[292]||(e[292]=t("span",{class:"font-medium text-blue-800"},"Location:",-1)),t("span",sr,i(s.value.property_address||"Not provided"),1)]),t("div",null,[e[293]||(e[293]=t("span",{class:"font-medium text-blue-800"},"Consent Type(s):",-1)),t("span",lr,i(s.value.consent_types.map(o=>o.consent_type).join(", ")||"Not selected"),1)]),t("div",null,[e[294]||(e[294]=t("span",{class:"font-medium text-blue-800"},"Activity Status:",-1)),t("span",rr,i(s.value.activity_status||"Not selected"),1)])])]),t("div",ar,[(r(),a(k,null,C(Ie,o=>t("div",{key:o.value,class:"border border-gray-200 rounded-lg p-3 bg-gray-50"},[t("div",nr,[n(t("input",{type:"checkbox",id:"nes-"+o.value,"onUpdate:modelValue":d=>L(o.value).applies=d,class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,ir),[[w,L(o.value).applies]]),t("label",{for:"nes-"+o.value,class:"ml-3 text-sm font-medium text-gray-900"},i(o.label),9,dr)]),L(o.value).applies?(r(),a("div",ur,[o.value==="Other"?(r(),a("div",pr,[e[296]||(e[296]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Other NES Description *",-1)),n(t("input",{"onUpdate:modelValue":d=>L(o.value).other_nes_description=d,type:"text",required:"",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Please specify the NES type..."},null,8,mr),[[p,L(o.value).other_nes_description]])])):u("",!0),t("div",null,[e[298]||(e[298]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Compliance Status",-1)),n(t("select",{"onUpdate:modelValue":d=>L(o.value).compliance_status=d,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...e[297]||(e[297]=[t("option",{value:""},"Select compliance status",-1),t("option",{value:"Permitted Activity"},"Permitted Activity",-1),t("option",{value:"Requires Consent"},"Requires Consent",-1),t("option",{value:"Non-Complying Activity"},"Non-Complying Activity",-1)])],8,cr),[[I,L(o.value).compliance_status]])]),t("div",null,[e[299]||(e[299]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Assessment Notes",-1)),n(t("textarea",{"onUpdate:modelValue":d=>L(o.value).assessment_notes=d,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Provide details on how the NES applies..."},null,8,br),[[p,L(o.value).assessment_notes]])]),t("div",null,[e[300]||(e[300]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Upload NES Assessment Document",-1)),t("div",vr,[t("input",{type:"file",onChange:d=>Ke(d,o.value),accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",class:"text-xs file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,40,gr)]),e[301]||(e[301]=t("p",{class:"text-xs text-gray-500 mt-1"},"PDF, Word documents, or images (max 10MB)",-1)),Me(o.value).length>0?(r(),a("div",yr,[(r(!0),a(k,null,C(Me(o.value),(d,v)=>{var A;return r(),a("div",{key:v,class:"flex items-center justify-between text-xs bg-gray-50 p-2 rounded"},[t("span",fr,i(d.document_type)+" - "+i(((A=d.file)==null?void 0:A.name)||"Uploaded"),1),t("button",{onClick:ae=>et(o.value,v),type:"button",class:"text-red-600 hover:text-red-800"}," Remove ",8,xr)])}),128))])):u("",!0)])])):u("",!0)])),64))])]),ot.value?(r(),a("div",_r,[e[309]||(e[309]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"HAIL Activities (Hazardous Activities and Industries List)",-1)),e[310]||(e[310]=t("p",{class:"text-xs text-gray-500 mb-4"},"For sites with potential soil contamination under the NES for Assessing and Managing Contaminants in Soil",-1)),t("div",{class:"flex items-center justify-between mb-3"},[e[304]||(e[304]=t("p",{class:"text-xs text-gray-600"},"List any HAIL activities on the site (past, current, or likely)",-1)),t("button",{onClick:st,type:"button",class:"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200"}," + Add HAIL Activity ")]),s.value.hail_activities.length>0?(r(),a("div",wr,[(r(!0),a(k,null,C(s.value.hail_activities,(o,d)=>(r(),a("div",{key:d,class:"border border-gray-300 rounded-lg p-4 bg-white hover:shadow-md transition-shadow"},[t("div",hr,[t("div",kr,[t("div",Cr,[t("h4",Ar,"HAIL Activity #"+i(d+1),1),o.hail_category?(r(),a("span",Sr,i(o.hail_category),1)):u("",!0),o.preliminary_investigation_done?(r(),a("span",Pr," ✓ Investigated ")):u("",!0)]),t("p",Mr,i(o.activity_description||"No description provided"),1),t("div",Vr,[o.currently_undertaken?(r(),a("span",Ur,"Currently Undertaken")):u("",!0),o.previously_undertaken?(r(),a("span",Rr,"Previously Undertaken")):u("",!0),o.likely_undertaken?(r(),a("span",Nr,"Likely Undertaken")):u("",!0)]),o.proposed_activities&&o.proposed_activities.length>0?(r(),a("div",qr,[e[305]||(e[305]=t("strong",null,"Proposed:",-1)),c(" "+i(o.proposed_activities.map(v=>v.activity_type).join(", ")),1)])):u("",!0),o.notes?(r(),a("p",jr,i(o.notes),1)):u("",!0)]),t("div",Dr,[t("button",{onClick:v=>lt(d),type:"button",class:"text-blue-600 hover:text-blue-800",title:"Edit activity"},[...e[306]||(e[306]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Er),t("button",{onClick:v=>at(d),type:"button",class:"text-red-600 hover:text-red-800",title:"Remove activity"},[...e[307]||(e[307]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ir)])])]))),128))])):(r(),a("div",Tr,[...e[308]||(e[308]=[t("p",{class:"text-sm text-gray-500"},"No HAIL activities added yet",-1),t("p",{class:"text-xs text-gray-400 mt-1"},'Click "Add HAIL Activity" to document contaminated land activities',-1)])]))])):u("",!0),t("div",zr,[e[341]||(e[341]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Assessment of Environmental Effects (AEE)",-1)),e[342]||(e[342]=t("p",{class:"text-sm text-gray-600 mb-4"}," Under Schedule 4 of the RMA, you must assess the actual and potential effects of your proposed activity on the environment. Complete all required sections below to provide a comprehensive assessment. ",-1)),t("div",Hr,[t("div",null,[e[311]||(e[311]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 1. Description of Activity and Purpose * ",-1)),n(t("textarea",{"onUpdate:modelValue":e[54]||(e[54]=o=>s.value.aee_activity_description=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe what you propose to do and why. Include the scale, duration, and key features of the activity...",required:""},null,512),[[p,s.value.aee_activity_description]]),e[312]||(e[312]=t("p",{class:"mt-1 text-xs text-gray-500"},"What is the activity and why is it proposed?",-1))]),t("div",null,[e[314]||(e[314]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Activity Status under District/Unitary Plan ",-1)),n(t("select",{"onUpdate:modelValue":e[55]||(e[55]=o=>s.value.aee_activity_status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...e[313]||(e[313]=[F('<option value="">Select activity status...</option><option value="Permitted">Permitted</option><option value="Controlled">Controlled</option><option value="Restricted Discretionary">Restricted Discretionary</option><option value="Discretionary">Discretionary</option><option value="Non-Complying">Non-Complying</option><option value="Prohibited">Prohibited</option>',7)])],512),[[I,s.value.aee_activity_status]]),e[315]||(e[315]=t("p",{class:"mt-1 text-xs text-gray-500"},"Overall classification of the proposed activity",-1))]),t("div",null,[e[316]||(e[316]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 2. Description of Existing Environment * ",-1)),n(t("textarea",{"onUpdate:modelValue":e[56]||(e[56]=o=>s.value.aee_existing_environment=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the current state of the site and surrounding area. Include topography, vegetation, neighboring uses, zoning, existing infrastructure...",required:""},null,512),[[p,s.value.aee_existing_environment]]),e[317]||(e[317]=t("p",{class:"mt-1 text-xs text-gray-500"},"What is the current state of the site and surrounding environment?",-1))]),t("div",Lr,[e[323]||(e[323]=t("h4",{class:"text-sm font-medium text-gray-800 mb-3"},"Site Details (Optional)",-1)),t("div",Br,[t("div",null,[e[318]||(e[318]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Site Area (m²)",-1)),n(t("input",{"onUpdate:modelValue":e[57]||(e[57]=o=>s.value.aee_site_area=o),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., 800"},null,512),[[p,s.value.aee_site_area,void 0,{number:!0}]])]),t("div",null,[e[319]||(e[319]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Current Use",-1)),n(t("input",{"onUpdate:modelValue":e[58]||(e[58]=o=>s.value.aee_current_use=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Residential dwelling"},null,512),[[p,s.value.aee_current_use]])]),t("div",null,[e[320]||(e[320]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Zoning",-1)),n(t("input",{"onUpdate:modelValue":e[59]||(e[59]=o=>s.value.aee_zoning=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Residential Medium Density"},null,512),[[p,s.value.aee_zoning]])]),t("div",null,[e[321]||(e[321]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Overlays",-1)),n(t("textarea",{"onUpdate:modelValue":e[60]||(e[60]=o=>s.value.aee_overlays=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Flood Hazard, Heritage"},null,512),[[p,s.value.aee_overlays]])]),t("div",Fr,[e[322]||(e[322]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Designations",-1)),n(t("textarea",{"onUpdate:modelValue":e[61]||(e[61]=o=>s.value.aee_designations=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Future road corridor"},null,512),[[p,s.value.aee_designations]])])])]),t("div",null,[e[331]||(e[331]=t("label",{class:"block text-sm font-medium text-gray-700 mb-3"}," 3. Actual and Potential Effects on the Environment * ",-1)),e[332]||(e[332]=t("p",{class:"text-xs text-gray-600 mb-3"}," Assess effects across the following categories. Complete all that are relevant to your proposal: ",-1)),t("div",Or,[t("div",null,[e[324]||(e[324]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"a) Effects on People",-1)),n(t("textarea",{"onUpdate:modelValue":e[62]||(e[62]=o=>s.value.effects_on_people=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Privacy, sunlight access, visual amenity, noise impacts, safety, community wellbeing..."},null,512),[[p,s.value.effects_on_people]])]),t("div",null,[e[325]||(e[325]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"b) Physical Effects",-1)),n(t("textarea",{"onUpdate:modelValue":e[63]||(e[63]=o=>s.value.physical_effects=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Traffic, parking, stormwater, wastewater, infrastructure impacts, building scale..."},null,512),[[p,s.value.physical_effects]])]),t("div",null,[e[326]||(e[326]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"c) Earthworks and Land Disturbance",-1)),n(t("textarea",{"onUpdate:modelValue":e[64]||(e[64]=o=>s.value.earthworks_effects=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Soil disturbance, erosion, sediment control, slope stability, construction impacts..."},null,512),[[p,s.value.earthworks_effects]])]),t("div",null,[e[327]||(e[327]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"d) Discharges and Contaminants",-1)),n(t("textarea",{"onUpdate:modelValue":e[65]||(e[65]=o=>s.value.discharge_contaminants_effects=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Stormwater discharge, wastewater, air quality, dust, odour, contaminant management..."},null,512),[[p,s.value.discharge_contaminants_effects]])]),t("div",null,[e[328]||(e[328]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"e) Effects on Ecosystems and Biodiversity",-1)),n(t("textarea",{"onUpdate:modelValue":e[66]||(e[66]=o=>s.value.ecosystem_effects=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Indigenous vegetation, habitat values, watercourses, wetlands, biodiversity..."},null,512),[[p,s.value.ecosystem_effects]])]),t("div",null,[e[329]||(e[329]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"f) Natural Hazard Risks",-1)),n(t("textarea",{"onUpdate:modelValue":e[67]||(e[67]=o=>s.value.hazard_risk_assessment=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Flood risk, liquefaction, slope instability, coastal hazards, seismic risk..."},null,512),[[p,s.value.hazard_risk_assessment]])]),t("div",null,[e[330]||(e[330]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"g) Cultural and Heritage Effects",-1)),n(t("textarea",{"onUpdate:modelValue":e[68]||(e[68]=o=>s.value.cultural_effects=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Heritage values, sites of significance to Māori, archaeological sites, Treaty considerations..."},null,512),[[p,s.value.cultural_effects]])])])]),t("div",null,[e[333]||(e[333]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 4. Measures to Avoid, Remedy, or Mitigate Adverse Effects ",-1)),n(t("textarea",{"onUpdate:modelValue":e[69]||(e[69]=o=>s.value.mitigation_proposed=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe measures you will implement to manage adverse effects. Include design features, construction methods, operational controls, conditions you're willing to accept..."},null,512),[[p,s.value.mitigation_proposed]]),e[334]||(e[334]=t("p",{class:"mt-1 text-xs text-gray-500"},"How will you avoid, remedy, or mitigate adverse effects?",-1))]),t("div",null,[e[335]||(e[335]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 5. Alternative Locations, Methods, or Designs Considered ",-1)),n(t("textarea",{"onUpdate:modelValue":e[70]||(e[70]=o=>s.value.alternatives_considered=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"What alternative designs, locations, methods, or approaches were considered? Why was this proposal selected?..."},null,512),[[p,s.value.alternatives_considered]]),e[336]||(e[336]=t("p",{class:"mt-1 text-xs text-gray-500"},"What alternatives did you consider?",-1))]),t("div",null,[e[337]||(e[337]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 6. Assessment Against RMA Part 2 Matters ",-1)),n(t("textarea",{"onUpdate:modelValue":e[71]||(e[71]=o=>s.value.aee_part2_assessment=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Address sustainable management (s5), matters of national importance (s6), other matters (s7), Treaty of Waitangi (s8)..."},null,512),[[p,s.value.aee_part2_assessment]]),e[338]||(e[338]=t("p",{class:"mt-1 text-xs text-gray-500"},"How does your proposal align with the purpose and principles of the RMA?",-1))]),t("div",null,[e[339]||(e[339]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," 7. Overall Summary of Environmental Effects * ",-1)),n(t("textarea",{"onUpdate:modelValue":e[72]||(e[72]=o=>s.value.assessment_of_effects=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Provide a concise summary of the overall environmental effects. Will effects be minor, more than minor, or significant? What is your overall conclusion?...",required:""},null,512),[[p,s.value.assessment_of_effects]]),e[340]||(e[340]=t("p",{class:"mt-1 text-xs text-gray-500"},"Summarize the overall environmental effects of your proposal",-1))])]),e[343]||(e[343]=t("div",{class:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600"},[t("strong",null,"Note:"),c(" Questions 1, 2, and 7 are required as a minimum. Questions 3-6 and all supporting sections are recommended for comprehensive applications. ")],-1))]),t("div",$r,[e[364]||(e[364]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Plan Assessment",-1)),e[365]||(e[365]=t("p",{class:"text-sm text-gray-600 mb-4"}," Identify the plan rules that apply to your proposal and assess compliance with plan standards. ",-1)),t("div",Wr,[t("div",Jr,[e[346]||(e[346]=t("h4",{class:"text-sm font-semibold text-gray-900"},"Plan Rules",-1)),j(M(N),{onClick:qt,variant:"outline",theme:"blue",size:"sm"},{prefix:y(()=>[...e[344]||(e[344]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:y(()=>[e[345]||(e[345]=c(" Add Rule ",-1))]),_:1})]),e[348]||(e[348]=t("p",{class:"text-xs text-gray-500 mb-3"}," List the specific plan rules that trigger the need for resource consent ",-1)),s.value.aee_plan_rules.length>0?(r(),a("div",Gr,[(r(!0),a(k,null,C(s.value.aee_plan_rules,(o,d)=>(r(),a("div",{key:d,class:"p-4 bg-white rounded-lg border border-gray-300"},[t("div",Zr,[t("div",Xr,[t("div",Yr,[t("h5",Qr,i(o.rule_reference),1),t("span",Kr,i(o.activity_status),1)]),o.rule_description?(r(),a("p",ea,i(o.rule_description),1)):u("",!0)]),j(M(N),{onClick:v=>jt(d),variant:"ghost",theme:"red",size:"sm"},{prefix:y(()=>[...e[347]||(e[347]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),_:1},8,["onClick"])])]))),128))])):(r(),a("p",ta,"No plan rules added yet"))]),t("div",oa,[t("div",sa,[e[351]||(e[351]=t("h4",{class:"text-sm font-semibold text-gray-900"},"Compliance Standards",-1)),j(M(N),{onClick:Dt,variant:"outline",theme:"blue",size:"sm"},{prefix:y(()=>[...e[349]||(e[349]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:y(()=>[e[350]||(e[350]=c(" Add Standard ",-1))]),_:1})]),e[353]||(e[353]=t("p",{class:"text-xs text-gray-500 mb-3"}," Assess compliance with plan standards (e.g., height, setbacks, car parking) ",-1)),s.value.aee_compliance_standards.length>0?(r(),a("div",la,[(r(!0),a(k,null,C(s.value.aee_compliance_standards,(o,d)=>(r(),a("div",{key:d,class:"p-4 bg-white rounded-lg border border-gray-300"},[t("div",ra,[t("div",aa,[t("div",na,[t("h5",ia,i(o.standard_reference),1),t("span",{class:z(["px-2 py-0.5 text-xs font-medium rounded",o.complies?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},i(o.complies?"Complies":"Non-Complying"),3)]),o.compliance_analysis?(r(),a("p",da,i(o.compliance_analysis),1)):u("",!0)]),j(M(N),{onClick:v=>Et(d),variant:"ghost",theme:"red",size:"sm"},{prefix:y(()=>[...e[352]||(e[352]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),_:1},8,["onClick"])])]))),128))])):(r(),a("p",ua,"No compliance standards added yet"))]),t("div",pa,[t("div",ma,[e[356]||(e[356]=t("h4",{class:"text-sm font-semibold text-gray-900"},"Written Approvals",-1)),j(M(N),{onClick:It,variant:"outline",theme:"blue",size:"sm"},{prefix:y(()=>[...e[354]||(e[354]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:y(()=>[e[355]||(e[355]=c(" Add Approval ",-1))]),_:1})]),e[358]||(e[358]=t("p",{class:"text-xs text-gray-500 mb-3"}," Written approvals obtained from affected parties under RMA s104(3)(a)(ii) ",-1)),s.value.aee_written_approvals.length>0?(r(),a("div",ca,[(r(!0),a(k,null,C(s.value.aee_written_approvals,(o,d)=>(r(),a("div",{key:d,class:"p-4 bg-white rounded-lg border border-gray-300"},[t("div",ba,[t("div",va,[t("div",ga,[t("h5",ya,i(o.party_name),1),o.approval_attached?(r(),a("span",fa," ✓ Attached ")):u("",!0)]),o.party_address?(r(),a("p",xa,i(o.party_address),1)):u("",!0)]),j(M(N),{onClick:v=>Tt(d),variant:"ghost",theme:"red",size:"sm"},{prefix:y(()=>[...e[357]||(e[357]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),_:1},8,["onClick"])])]))),128))])):(r(),a("p",_a,"No written approvals added yet"))]),t("div",wa,[t("div",ha,[e[361]||(e[361]=t("h4",{class:"text-sm font-semibold text-gray-900"},"Proposed Conditions",-1)),j(M(N),{onClick:zt,variant:"outline",theme:"blue",size:"sm"},{prefix:y(()=>[...e[359]||(e[359]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:y(()=>[e[360]||(e[360]=c(" Add Condition ",-1))]),_:1})]),e[363]||(e[363]=t("p",{class:"text-xs text-gray-500 mb-3"}," Conditions you propose to accept as part of the consent ",-1)),s.value.aee_proposed_conditions.length>0?(r(),a("div",ka,[(r(!0),a(k,null,C(s.value.aee_proposed_conditions,(o,d)=>(r(),a("div",{key:d,class:"p-4 bg-white rounded-lg border border-gray-300"},[t("div",Ca,[t("div",Aa,[t("div",Sa,[t("span",Pa," Condition "+i(o.condition_number),1)]),t("p",Ma,i(o.condition_text),1)]),j(M(N),{onClick:v=>Ht(d),variant:"ghost",theme:"red",size:"sm"},{prefix:y(()=>[...e[362]||(e[362]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),_:1},8,["onClick"])])]))),128))])):(r(),a("p",Va,"No proposed conditions added yet"))])]),t("div",Ua,[t("div",Ra,[e[368]||(e[368]=t("h3",{class:"text-sm font-semibold text-gray-900"},"Affected Parties",-1)),j(M(N),{onClick:kt,variant:"outline",theme:"blue",size:"sm"},{prefix:y(()=>[...e[366]||(e[366]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:y(()=>[e[367]||(e[367]=c(" Add Party ",-1))]),_:1})]),e[380]||(e[380]=t("p",{class:"text-xs text-gray-500 mb-3"}," List any parties (neighbors, landowners, etc.) who may be adversely affected by the proposal ",-1)),s.value.affected_parties.length>0?(r(),a("div",Na,[(r(!0),a(k,null,C(s.value.affected_parties,(o,d)=>(r(),a("div",{key:d,class:"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[t("div",qa,[t("div",ja,[t("div",Da,[t("h4",Ea,i(o.party_name),1),t("span",Ia,i(o.relationship),1)]),t("div",Ta,[o.property_address?(r(),a("div",za,[e[369]||(e[369]=t("svg",{class:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),t("span",null,i(o.property_address),1)])):u("",!0),o.email?(r(),a("div",Ha,[e[370]||(e[370]=t("svg",{class:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),t("a",{href:"mailto:"+o.email,class:"text-blue-600 hover:underline"},i(o.email),9,La)])):u("",!0),o.phone?(r(),a("div",Ba,[e[371]||(e[371]=t("svg",{class:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),t("a",{href:"tel:"+o.phone,class:"text-blue-600 hover:underline"},i(o.phone),9,Fa)])):u("",!0),o.postal_address?(r(),a("div",Oa,[e[372]||(e[372]=t("svg",{class:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"})],-1)),t("span",null,"Postal: "+i(o.postal_address),1)])):u("",!0)]),o.approval_obtained?(r(),a("div",$a,[e[373]||(e[373]=t("span",{class:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded"},[t("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),c(" Written approval obtained ")],-1)),o.approval_date?(r(),a("span",Wa,i(o.approval_date),1)):u("",!0)])):u("",!0),o.comments?(r(),a("p",Ja,i(o.comments),1)):u("",!0)]),t("div",Ga,[t("button",{onClick:v=>Ct(d),class:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit party"},[...e[374]||(e[374]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Za),t("button",{onClick:v=>St(d),class:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove party"},[...e[375]||(e[375]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Xa)])])]))),128))])):(r(),a("div",Ya,[...e[376]||(e[376]=[t("p",{class:"text-sm text-gray-500"},"No affected parties added yet",-1)])])),s.value.affected_parties.length>0?(r(),a("div",Qa,[e[377]||(e[377]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Number of Written Approvals Obtained ",-1)),n(t("input",{"onUpdate:modelValue":e[73]||(e[73]=o=>s.value.written_approvals_obtained=o),type:"number",min:"0",max:s.value.affected_parties.length,class:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,Ka),[[p,s.value.written_approvals_obtained,void 0,{number:!0}]]),t("p",en," How many of the "+i(s.value.affected_parties.length)+" affected parties have provided written approval? ",1)])):u("",!0),t("div",tn,[e[378]||(e[378]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Consultation Summary (Optional) ",-1)),n(t("textarea",{"onUpdate:modelValue":e[74]||(e[74]=o=>s.value.aee_consultation_summary=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Summarize consultation undertaken with affected parties, including methods used, responses received, and how concerns have been addressed..."},null,512),[[p,s.value.aee_consultation_summary]]),e[379]||(e[379]=t("p",{class:"mt-1 text-xs text-gray-500"},"Provide a summary of consultation efforts with affected parties",-1))]),e[381]||(e[381]=F('<div class="mt-4 p-3 bg-green-50 border border-green-200 rounded-lg"><div class="flex items-start gap-2"><svg class="w-5 h-5 text-green-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h4 class="text-sm font-semibold text-green-900">Treaty of Waitangi Obligations</h4><p class="text-xs text-green-700 mt-1"> To record iwi/hapū consultation, add them as affected parties above using the relationship type &quot;Iwi&quot;. Include their response in the comments field. Upload any Cultural Impact Assessment (CIA) as a specialist report. </p></div></div></div>',1))]),t("div",on,[e[386]||(e[386]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Iwi Consultation",-1)),e[387]||(e[387]=t("p",{class:"text-xs text-gray-500 mb-4"}," Details of consultation with iwi and hapū under RMA s8 (Treaty of Waitangi) ",-1)),t("div",sn,[t("div",ln,[n(t("input",{"onUpdate:modelValue":e[75]||(e[75]=o=>s.value.iwi_consultation_undertaken=o),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[w,s.value.iwi_consultation_undertaken]]),e[382]||(e[382]=t("label",{class:"ml-2 text-sm text-gray-700"}," Iwi/Hapū consultation has been undertaken ",-1))]),s.value.iwi_consultation_undertaken?(r(),a("div",rn,[e[383]||(e[383]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Iwi/Hapū Consulted ",-1)),n(t("textarea",{"onUpdate:modelValue":e[76]||(e[76]=o=>s.value.iwi_consulted=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"List the iwi and hapū groups that were consulted..."},null,512),[[p,s.value.iwi_consulted]])])):u("",!0),s.value.iwi_consultation_undertaken?(r(),a("div",an,[e[384]||(e[384]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Response Summary ",-1)),n(t("textarea",{"onUpdate:modelValue":e[77]||(e[77]=o=>s.value.iwi_response_summary=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Summarize the responses received from iwi/hapū, including any concerns raised and how they are addressed..."},null,512),[[p,s.value.iwi_response_summary]]),e[385]||(e[385]=t("p",{class:"mt-1 text-xs text-gray-500"}," Summary of feedback and responses from consulted iwi/hapū ",-1))])):u("",!0)])]),t("div",nn,[t("div",dn,[e[390]||(e[390]=t("h3",{class:"text-sm font-semibold text-gray-900"},"Specialist Reports",-1)),j(M(N),{onClick:Mt,variant:"outline",theme:"blue",size:"sm"},{prefix:y(()=>[...e[388]||(e[388]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:y(()=>[e[389]||(e[389]=c(" Add Report ",-1))]),_:1})]),e[398]||(e[398]=t("p",{class:"text-xs text-gray-500 mb-3"}," Add any specialist technical reports (traffic, geotechnical, acoustic, ecological, etc.) ",-1)),s.value.specialist_reports.length>0?(r(),a("div",un,[(r(!0),a(k,null,C(s.value.specialist_reports,(o,d)=>(r(),a("div",{key:d,class:"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[t("div",pn,[t("div",mn,[e[391]||(e[391]=t("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("h4",cn,i(o.report_type),1)]),t("span",bn,i(o.report_date),1)]),t("div",vn,[t("div",gn,[e[392]||(e[392]=t("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),t("span",yn,i(o.specialist_name),1),o.specialist_company?(r(),a("span",fn,"• "+i(o.specialist_company),1)):u("",!0)]),o.document?(r(),a("div",xn,[e[393]||(e[393]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),t("span",null,i(typeof o.document=="object"?o.document.name:"Document attached"),1)])):u("",!0),o.summary?(r(),a("div",_n,[e[394]||(e[394]=t("span",{class:"font-medium"},"Summary: ",-1)),c(i(o.summary),1)])):u("",!0)]),t("div",wn,[t("button",{onClick:v=>Vt(d),class:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded transition-colors"},[...e[395]||(e[395]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),c(" Edit ",-1)])],8,hn),t("button",{onClick:v=>Rt(d),class:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded transition-colors"},[...e[396]||(e[396]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c(" Remove ",-1)])],8,kn)])]))),128))])):(r(),a("div",Cn,[...e[397]||(e[397]=[t("p",{class:"text-sm text-gray-500"},"No specialist reports added yet",-1),t("p",{class:"text-xs text-gray-400 mt-1"},"Upload report files in the Documents step",-1)])]))]),t("div",null,[t("div",{class:"flex items-center justify-between mb-2"},[e[400]||(e[400]=t("div",null,[t("label",{class:"block text-sm font-medium text-gray-700"}," Proposed Conditions (Optional) "),t("p",{class:"mt-1 text-xs text-gray-500"},"Select from standard templates or propose custom conditions")],-1)),t("button",{type:"button",onClick:Bt,class:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 flex items-center gap-1.5"},[...e[399]||(e[399]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Browse Templates ",-1)])])]),s.value.proposed_conditions&&s.value.proposed_conditions.length>0?(r(),a("div",An,[(r(!0),a(k,null,C(s.value.proposed_conditions,(o,d)=>(r(),a("div",{key:d,class:"p-3 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[t("div",Sn,[t("div",Pn,[t("span",Mn,i(o.condition_number),1),t("span",Vn,i(o.condition_category),1)]),t("div",Un,[t("button",{type:"button",onClick:v=>$t(d),class:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit condition"},[...e[401]||(e[401]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Rn),t("button",{type:"button",onClick:v=>Oe(d),class:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove condition"},[...e[402]||(e[402]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Nn)])]),t("div",{class:"text-xs text-gray-700",innerHTML:o.condition_text},null,8,qn),o.compliance_notes?(r(),a("div",jn,i(o.compliance_notes),1)):u("",!0)]))),128))])):(r(),a("div",Dn,[...e[403]||(e[403]=[t("svg",{class:"w-10 h-10 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",{class:"text-sm text-gray-500"},"No conditions proposed yet",-1),t("p",{class:"text-xs text-gray-400 mt-1"},'Click "Browse Templates" to select standard conditions',-1)])])),e[404]||(e[404]=t("p",{class:"mt-2 text-xs text-gray-500"},[t("svg",{class:"w-3.5 h-3.5 inline mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),c(" The council will determine final consent conditions based on the assessment ")],-1))]),t("div",En,[e[409]||(e[409]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Confidential Information (RMA s42)",-1)),e[410]||(e[410]=t("p",{class:"text-xs text-gray-500 mb-4"},"Under section 42 of the RMA, you may request that certain information be kept confidential if it contains trade secrets or is commercially sensitive",-1)),t("div",In,[t("div",Tn,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[78]||(e[78]=o=>s.value.confidential_information_claimed=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,s.value.confidential_information_claimed]]),e[405]||(e[405]=t("label",{class:"ml-3 text-sm font-medium text-gray-700"}," This application contains confidential information that should be withheld from public notification ",-1))]),s.value.confidential_information_claimed?(r(),a("div",zn,[e[406]||(e[406]=t("label",{class:"block text-sm font-medium text-gray-900 mb-2"}," Justification for Confidentiality * ",-1)),e[407]||(e[407]=t("p",{class:"text-xs text-gray-600 mb-3"}," Explain why this information should be withheld under s42 of the RMA. You must demonstrate that the information is a trade secret or that making it public would unreasonably prejudice your commercial position. ",-1)),n(t("textarea",{"onUpdate:modelValue":e[79]||(e[79]=o=>s.value.confidential_information_reason=o),rows:"4",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white",placeholder:"Provide detailed justification for why this information should be kept confidential. Include references to specific documents or sections that contain confidential material..."},null,512),[[p,s.value.confidential_information_reason]]),e[408]||(e[408]=t("p",{class:"mt-2 text-xs text-yellow-700"}," ⚠ Note: The consent authority will determine whether your justification meets the requirements of s42. Confidentiality is not guaranteed. ",-1))])):u("",!0)])]),t("div",Hn,[e[419]||(e[419]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Invoicing Details",-1)),e[420]||(e[420]=t("p",{class:"text-sm text-gray-600 mb-4"}," Specify where the invoice for this application should be sent. ",-1)),t("div",Ln,[t("div",null,[e[413]||(e[413]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Send Invoice To * ",-1)),t("div",Bn,[t("label",Fn,[n(t("input",{type:"radio","onUpdate:modelValue":e[80]||(e[80]=o=>s.value.invoice_to=o),value:"Applicant",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[ie,s.value.invoice_to]]),e[411]||(e[411]=t("span",{class:"ml-2 text-sm text-gray-700"},"Applicant (use contact details from Step 1)",-1))]),t("label",On,[n(t("input",{type:"radio","onUpdate:modelValue":e[81]||(e[81]=o=>s.value.invoice_to=o),value:"Other",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[ie,s.value.invoice_to]]),e[412]||(e[412]=t("span",{class:"ml-2 text-sm text-gray-700"},"Other (specify below)",-1))])])]),s.value.invoice_to==="Other"?(r(),a("div",$n,[t("div",null,[e[414]||(e[414]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Invoice Contact Name * ",-1)),n(t("input",{"onUpdate:modelValue":e[82]||(e[82]=o=>s.value.invoice_name=o),type:"text",placeholder:"Full name",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:s.value.invoice_to==="Other"},null,8,Wn),[[p,s.value.invoice_name]])]),t("div",null,[e[415]||(e[415]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Invoice Email * ",-1)),n(t("input",{"onUpdate:modelValue":e[83]||(e[83]=o=>s.value.invoice_email=o),type:"email",placeholder:"email@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:s.value.invoice_to==="Other"},null,8,Jn),[[p,s.value.invoice_email]])]),t("div",null,[e[416]||(e[416]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Invoice Postal Address * ",-1)),n(t("textarea",{"onUpdate:modelValue":e[84]||(e[84]=o=>s.value.invoice_address=o),rows:"3",placeholder:"Full postal address",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:s.value.invoice_to==="Other"},null,8,Gn),[[p,s.value.invoice_address]])])])):u("",!0),t("div",null,[e[417]||(e[417]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Purchase Order Number (Optional) ",-1)),n(t("input",{"onUpdate:modelValue":e[85]||(e[85]=o=>s.value.purchase_order_number=o),type:"text",placeholder:"e.g., PO-2024-12345",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.purchase_order_number]]),e[418]||(e[418]=t("p",{class:"mt-1 text-xs text-gray-500"},"If your organization uses purchase orders, enter the PO number here",-1))])])]),t("div",Zn,[e[424]||(e[424]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"Statutory Declarations",-1)),e[425]||(e[425]=t("p",{class:"text-sm text-gray-600 mb-4"}," Before submitting your application, you must confirm the following declarations under the Resource Management Act 1991. ",-1)),t("div",Xn,[t("div",Yn,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[86]||(e[86]=o=>s.value.declaration_rma_compliance=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",required:""},null,512),[[w,s.value.declaration_rma_compliance]]),e[421]||(e[421]=t("label",{class:"ml-3 text-sm text-gray-700"},[t("span",{class:"font-medium"},"RMA Compliance:"),c(" I declare that, to the best of my knowledge, the information provided in this application is true and correct. I understand that providing false or misleading information is an offense under section 43 of the Resource Management Act 1991. * ")],-1))]),t("div",Qn,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[87]||(e[87]=o=>s.value.declaration_public_information=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",required:""},null,512),[[w,s.value.declaration_public_information]]),e[422]||(e[422]=t("label",{class:"ml-3 text-sm text-gray-700"},[t("span",{class:"font-medium"},"Public Information:"),c(" I understand that this application and supporting documents (except information claimed as confidential under s42) will be made publicly available and may be subject to public notification under the RMA. * ")],-1))]),t("div",Kn,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[88]||(e[88]=o=>s.value.declaration_authorized=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",required:""},null,512),[[w,s.value.declaration_authorized]]),e[423]||(e[423]=t("label",{class:"ml-3 text-sm text-gray-700"},[t("span",{class:"font-medium"},"Authorization:"),c(" I confirm that I am authorized to submit this application on behalf of the applicant, and that I have obtained all necessary consents from property owners, affected parties, and other relevant stakeholders as required by the RMA. * ")],-1))])]),e[426]||(e[426]=t("p",{class:"mt-3 text-xs text-gray-600"},[t("svg",{class:"w-4 h-4 inline mr-1 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),c(" All three declarations are required to submit your application. ")],-1))]),t("div",ei,[t("div",ti,[t("div",oi,[e[433]||(e[433]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t("div",si,[e[429]||(e[429]=t("h3",{class:"text-sm font-semibold text-blue-900 mb-2"}," Need Help with Your Application? ",-1)),e[430]||(e[430]=t("p",{class:"text-sm text-blue-800 mb-3"},[c(" For "),t("strong",null,"discretionary"),c(" or "),t("strong",null,"non-complying"),c(" activities, we recommend booking a pre-application meeting with our planning team. This can help: ")],-1)),e[431]||(e[431]=t("ul",{class:"text-sm text-blue-800 space-y-1 ml-4 list-disc mb-4"},[t("li",null,"Clarify district plan requirements"),t("li",null,"Identify potential issues early"),t("li",null,"Understand what information you'll need"),t("li",null,"Get preliminary feedback on your proposal")],-1)),j(M(N),{onClick:Zt,variant:"solid",theme:"blue",size:"sm",loading:ee.value},{prefix:y(()=>[...e[427]||(e[427]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:y(()=>[e[428]||(e[428]=c(" Request Pre-Application Meeting ",-1))]),_:1},8,["loading"]),e[432]||(e[432]=t("p",{class:"text-xs text-blue-700 mt-2"}," A planning officer will contact you within 2 business days to schedule. ",-1))])])])])])])):u("",!0),u("",!0),u("",!0),f.value===K.value[K.value.length-1].number?(r(),a("div",li,[e[641]||(e[641]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Review & Submit",-1)),e[642]||(e[642]=t("p",{class:"text-gray-600 mb-8"},"Please review your application before submission",-1)),t("div",ri,[t("div",ai,[e[631]||(e[631]=t("h3",{class:"font-semibold text-gray-900 mb-4"},"Application Summary",-1)),t("dl",ni,[t("div",null,[e[626]||(e[626]=t("dt",{class:"text-gray-600"},"Application Type",-1)),t("dd",ii,i(_t()),1)]),t("div",null,[e[627]||(e[627]=t("dt",{class:"text-gray-600"},"Property Address",-1)),t("dd",di,i(s.value.property_address||"N/A"),1)]),t("div",null,[e[628]||(e[628]=t("dt",{class:"text-gray-600"},"Brief Description",-1)),t("dd",ui,i(s.value.brief_description||"N/A"),1)]),t("div",null,[e[629]||(e[629]=t("dt",{class:"text-gray-600"},"Estimated Value",-1)),t("dd",pi,i(s.value.estimated_value?`$${s.value.estimated_value}`:"N/A"),1)]),t("div",null,[e[630]||(e[630]=t("dt",{class:"text-gray-600"},"Documents Uploaded",-1)),t("dd",mi,i(ve.value.length)+" files",1)])])]),t("div",ci,[t("div",bi,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[143]||(e[143]=o=>s.value.terms_accepted=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,s.value.terms_accepted]]),e[632]||(e[632]=t("label",{class:"ml-3 text-sm text-gray-700"},[c(" I confirm that the information provided in this application is true and accurate to the best of my knowledge. I understand that providing false or misleading information may result in the application being declined or consent being revoked. I have read and agree to the "),t("a",{href:"#",class:"text-blue-600 hover:text-blue-800"},"terms and conditions"),c(". ")],-1))])]),t("div",vi,[e[635]||(e[635]=t("h4",{class:"font-medium text-blue-900 mb-3"},"Fee Summary",-1)),t("div",gi,[t("div",yi,[e[633]||(e[633]=t("span",{class:"text-blue-800"},"Application Fee",-1)),t("span",fi,i(Be()),1)]),t("div",xi,[e[634]||(e[634]=t("span",{class:"font-medium text-blue-900"},"Total Due",-1)),t("span",_i,i(Be()),1)])]),e[636]||(e[636]=t("p",{class:"text-xs text-blue-700 mt-3"}," Payment will be processed after submission. You will receive an invoice via email. ",-1))]),_e.value?(r(),a("div",wi,[e[639]||(e[639]=t("h4",{class:"font-medium text-green-900 mb-2"},"Pre-Application Meeting",-1)),e[640]||(e[640]=t("p",{class:"text-sm text-green-700 mb-4"}," For Resource Consent applications, we strongly recommend booking a pre-application meeting with our planning team. This helps ensure your application meets all requirements and can speed up the approval process. ",-1)),j(M(N),{onClick:ht,variant:"solid",theme:"green",loading:Ae.value},{prefix:y(()=>[...e[637]||(e[637]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:y(()=>[e[638]||(e[638]=c(" Book Pre-Application Meeting ",-1))]),_:1},8,["loading"])])):u("",!0)])])):u("",!0),t("div",hi,[f.value>1?(r(),Ee(M(N),{key:0,onClick:xt,variant:"outline",theme:"gray"},{prefix:y(()=>[...e[643]||(e[643]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),default:y(()=>[e[644]||(e[644]=c(" Previous ",-1))]),_:1})):(r(),a("div",ki)),t("div",Ci,[f.value<Y.value?(r(),Ee(M(N),{key:0,onClick:ft,variant:"solid",theme:"blue",disabled:!He()},{suffix:y(()=>[...e[645]||(e[645]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),default:y(()=>[e[646]||(e[646]=c(" Next ",-1))]),_:1},8,["disabled"])):ut.value?(r(),Ee(M(N),{key:1,onClick:wt,variant:"solid",theme:"blue",loading:Q.value,disabled:!s.value.terms_accepted},{default:y(()=>[...e[647]||(e[647]=[c(" Submit Application ",-1)])]),_:1},8,["loading","disabled"])):(r(),a("div",Ai," Make changes to your application to enable submission "))])])])]),me.value?(r(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:Ce(Re,["self"])},[t("div",Si,[t("div",Pi,[t("div",Mi,[t("h3",Vi,i(le.value!==null?"Edit":"Add")+" Affected Party ",1),t("button",{onClick:Re,class:"text-gray-400 hover:text-gray-600"},[...e[648]||(e[648]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",Ui,[t("div",null,[e[649]||(e[649]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[c(" Party Name "),t("span",{class:"text-red-500"},"*")],-1)),n(t("input",{"onUpdate:modelValue":e[144]||(e[144]=o=>g.value.party_name=o),type:"text",required:"",placeholder:"e.g., John Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,g.value.party_name]])]),t("div",null,[e[651]||(e[651]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[c(" Relationship "),t("span",{class:"text-red-500"},"*")],-1)),n(t("select",{"onUpdate:modelValue":e[145]||(e[145]=o=>g.value.relationship=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...e[650]||(e[650]=[F('<option value="">Select relationship</option><option value="Adjacent Property Owner">Adjacent Property Owner</option><option value="Neighbor">Neighbor</option><option value="Iwi">Iwi</option><option value="Infrastructure Provider">Infrastructure Provider</option><option value="Other">Other</option>',6)])],512),[[I,g.value.relationship]])]),t("div",Ri,[e[654]||(e[654]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Contact Information",-1)),t("div",Ni,[t("div",null,[e[652]||(e[652]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Email",-1)),n(t("input",{"onUpdate:modelValue":e[146]||(e[146]=o=>g.value.email=o),type:"email",placeholder:"email@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,g.value.email]])]),t("div",null,[e[653]||(e[653]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Phone",-1)),n(t("input",{"onUpdate:modelValue":e[147]||(e[147]=o=>g.value.phone=o),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,g.value.phone]])])])]),t("div",qi,[e[659]||(e[659]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Addresses",-1)),t("div",ji,[t("div",null,[e[655]||(e[655]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Property Address",-1)),n(t("textarea",{"onUpdate:modelValue":e[148]||(e[148]=o=>g.value.property_address=o),rows:"2",placeholder:"123 Main Street, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,g.value.property_address]]),e[656]||(e[656]=t("p",{class:"mt-1 text-xs text-gray-500"},"The property address affected by this proposal",-1))]),t("div",null,[e[657]||(e[657]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Postal Address",-1)),n(t("textarea",{"onUpdate:modelValue":e[149]||(e[149]=o=>g.value.postal_address=o),rows:"2",placeholder:"PO Box 123, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,g.value.postal_address]]),e[658]||(e[658]=t("p",{class:"mt-1 text-xs text-gray-500"},"For correspondence (if different from property address)",-1))])])]),t("div",Di,[e[665]||(e[665]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Written Approval",-1)),t("div",Ei,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[150]||(e[150]=o=>g.value.approval_obtained=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,g.value.approval_obtained]]),e[660]||(e[660]=t("label",{class:"ml-3 text-sm text-gray-700"}," Written approval obtained from this party ",-1))]),g.value.approval_obtained?(r(),a("div",Ii,[t("div",null,[e[661]||(e[661]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Date",-1)),n(t("input",{"onUpdate:modelValue":e[151]||(e[151]=o=>g.value.approval_date=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,g.value.approval_date]])]),t("div",null,[e[663]||(e[663]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Document",-1)),t("input",{type:"file",onChange:Pt,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),e[664]||(e[664]=t("p",{class:"mt-1 text-xs text-gray-500"},"Upload written approval (PDF, Word, or image, max 10MB)",-1)),g.value.approval_document?(r(),a("div",Ti,[e[662]||(e[662]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),t("span",null,i(typeof g.value.approval_document=="object"?g.value.approval_document.name:"Document attached"),1)])):u("",!0)])])):u("",!0)]),t("div",null,[e[666]||(e[666]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Comments",-1)),n(t("textarea",{"onUpdate:modelValue":e[152]||(e[152]=o=>g.value.comments=o),rows:"3",placeholder:"Any additional notes about this party or their concerns...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,g.value.comments]])])]),t("div",zi,[t("button",{onClick:Re,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),t("button",{onClick:At,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},i(le.value!==null?"Update":"Add")+" Party ",1)])])])):u("",!0),ce.value?(r(),a("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:Ce(Ne,["self"])},[t("div",Hi,[t("div",Li,[t("div",Bi,[t("h3",Fi,i(re.value!==null?"Edit":"Add")+" Specialist Report ",1),t("button",{onClick:Ne,class:"text-gray-400 hover:text-gray-600"},[...e[667]||(e[667]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",Oi,[t("div",null,[e[669]||(e[669]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[c(" Report Type "),t("span",{class:"text-red-500"},"*")],-1)),n(t("select",{"onUpdate:modelValue":e[153]||(e[153]=o=>h.value.report_type=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...e[668]||(e[668]=[F('<option value="">Select report type</option><option value="Traffic Impact Assessment">Traffic Impact Assessment</option><option value="Acoustic Assessment">Acoustic Assessment</option><option value="Geotechnical Report">Geotechnical Report</option><option value="Ecological Assessment">Ecological Assessment</option><option value="Archaeological Assessment">Archaeological Assessment</option><option value="Landscape Assessment">Landscape Assessment</option><option value="Contaminated Land Assessment">Contaminated Land Assessment</option><option value="Flood Risk Assessment">Flood Risk Assessment</option><option value="Other">Other</option>',10)])],512),[[I,h.value.report_type]])]),t("div",$i,[e[672]||(e[672]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Consultant Details",-1)),t("div",Wi,[t("div",null,[e[670]||(e[670]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[c(" Specialist Name "),t("span",{class:"text-red-500"},"*")],-1)),n(t("input",{"onUpdate:modelValue":e[154]||(e[154]=o=>h.value.specialist_name=o),type:"text",required:"",placeholder:"e.g., Dr. Jane Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,h.value.specialist_name]])]),t("div",null,[e[671]||(e[671]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Company/Organization",-1)),n(t("input",{"onUpdate:modelValue":e[155]||(e[155]=o=>h.value.specialist_company=o),type:"text",placeholder:"e.g., ABC Consultants Ltd",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,h.value.specialist_company]])])])]),t("div",Ji,[e[680]||(e[680]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Report Details",-1)),t("div",Gi,[t("div",null,[e[673]||(e[673]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[c(" Report Date "),t("span",{class:"text-red-500"},"*")],-1)),n(t("input",{"onUpdate:modelValue":e[156]||(e[156]=o=>h.value.report_date=o),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,h.value.report_date]]),e[674]||(e[674]=t("p",{class:"mt-1 text-xs text-gray-500"},"Date the report was prepared or finalized",-1))]),t("div",null,[e[676]||(e[676]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[c(" Document "),t("span",{class:"text-red-500"},"*")],-1)),t("input",{type:"file",onChange:Nt,accept:".pdf,.doc,.docx",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),e[677]||(e[677]=t("p",{class:"mt-1 text-xs text-gray-500"},"Upload the specialist report (PDF or Word, max 10MB)",-1)),h.value.document?(r(),a("div",Zi,[e[675]||(e[675]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),t("span",null,i(typeof h.value.document=="object"?h.value.document.name:"Document attached"),1)])):u("",!0)]),t("div",null,[e[678]||(e[678]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Summary",-1)),n(t("textarea",{"onUpdate:modelValue":e[157]||(e[157]=o=>h.value.summary=o),rows:"4",placeholder:"Brief summary of key findings and recommendations...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,h.value.summary]]),e[679]||(e[679]=t("p",{class:"mt-1 text-xs text-gray-500"},"Optional: Provide a brief summary of the report's key findings",-1))])])])]),t("div",Xi,[t("button",{onClick:Ne,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),t("button",{onClick:Ut,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},i(re.value!==null?"Update":"Add")+" Report ",1)])])])):u("",!0),pe.value?(r(),a("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:Ce(Ve,["self"])},[t("div",Yi,[t("div",Qi,[t("div",Ki,[t("h3",ed,i(se.value!==null?"Edit":"Add")+" HAIL Activity ",1),t("button",{onClick:Ve,class:"text-gray-400 hover:text-gray-600"},[...e[681]||(e[681]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",td,[t("div",null,[e[682]||(e[682]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[c(" Activity Description "),t("span",{class:"text-red-500"},"*")],-1)),n(t("textarea",{"onUpdate:modelValue":e[158]||(e[158]=o=>P.value.activity_description=o),rows:"3",required:"",placeholder:"Describe the HAIL activity (e.g., Former service station, industrial site)...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,P.value.activity_description]])]),t("div",null,[e[684]||(e[684]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," HAIL Category ",-1)),n(t("select",{"onUpdate:modelValue":e[159]||(e[159]=o=>P.value.hail_category=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...e[683]||(e[683]=[F('<option value="">Select HAIL category</option><option value="Category A - Petroleum/Oil Storage">Category A - Petroleum/Oil Storage</option><option value="Category B - Asbestos Products">Category B - Asbestos Products</option><option value="Category C - Chemicals">Category C - Chemicals</option><option value="Category D - Engineering Workshops">Category D - Engineering Workshops</option><option value="Category E - Gasworks/Coke Works">Category E - Gasworks/Coke Works</option><option value="Category F - Horticulture">Category F - Horticulture</option><option value="Category G - Landfills/Waste Disposal">Category G - Landfills/Waste Disposal</option><option value="Category H - Metal Treatment">Category H - Metal Treatment</option><option value="Category I - Timber Treatment">Category I - Timber Treatment</option>',10)])],512),[[I,P.value.hail_category]])]),t("div",od,[e[688]||(e[688]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Activity Status",-1)),t("div",sd,[t("div",ld,[n(t("input",{type:"checkbox",id:"hail-current","onUpdate:modelValue":e[160]||(e[160]=o=>P.value.currently_undertaken=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,P.value.currently_undertaken]]),e[685]||(e[685]=t("label",{for:"hail-current",class:"ml-2 text-sm text-gray-700"},"Currently Being Undertaken",-1))]),t("div",rd,[n(t("input",{type:"checkbox",id:"hail-previous","onUpdate:modelValue":e[161]||(e[161]=o=>P.value.previously_undertaken=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,P.value.previously_undertaken]]),e[686]||(e[686]=t("label",{for:"hail-previous",class:"ml-2 text-sm text-gray-700"},"Previously Undertaken",-1))]),t("div",ad,[n(t("input",{type:"checkbox",id:"hail-likely","onUpdate:modelValue":e[162]||(e[162]=o=>P.value.likely_undertaken=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,P.value.likely_undertaken]]),e[687]||(e[687]=t("label",{for:"hail-likely",class:"ml-2 text-sm text-gray-700"},"Likely to Have Been Undertaken",-1))])])]),t("div",nd,[n(t("input",{type:"checkbox",id:"hail-investigated","onUpdate:modelValue":e[163]||(e[163]=o=>P.value.preliminary_investigation_done=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,P.value.preliminary_investigation_done]]),e[689]||(e[689]=t("label",{for:"hail-investigated",class:"ml-2 text-sm text-gray-700"},"Preliminary Investigation Completed",-1))]),t("div",id,[e[695]||(e[695]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Proposed Activities",-1)),t("div",dd,[t("div",ud,[n(t("input",{type:"checkbox",id:"hail-activity-fuel","onUpdate:modelValue":e[164]||(e[164]=o=>R.value.fuel=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,R.value.fuel]]),e[690]||(e[690]=t("label",{for:"hail-activity-fuel",class:"ml-2 text-sm text-gray-700"},"Removing or replacing fuel storage system",-1))]),t("div",pd,[n(t("input",{type:"checkbox",id:"hail-activity-disturb","onUpdate:modelValue":e[165]||(e[165]=o=>R.value.disturb=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,R.value.disturb]]),e[691]||(e[691]=t("label",{for:"hail-activity-disturb",class:"ml-2 text-sm text-gray-700"},"Disturbing soil",-1))]),t("div",md,[n(t("input",{type:"checkbox",id:"hail-activity-sample","onUpdate:modelValue":e[166]||(e[166]=o=>R.value.sample=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,R.value.sample]]),e[692]||(e[692]=t("label",{for:"hail-activity-sample",class:"ml-2 text-sm text-gray-700"},"Sampling soil",-1))]),t("div",cd,[n(t("input",{type:"checkbox",id:"hail-activity-subdivide","onUpdate:modelValue":e[167]||(e[167]=o=>R.value.subdivide=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,R.value.subdivide]]),e[693]||(e[693]=t("label",{for:"hail-activity-subdivide",class:"ml-2 text-sm text-gray-700"},"Subdividing land",-1))]),t("div",bd,[n(t("input",{type:"checkbox",id:"hail-activity-change","onUpdate:modelValue":e[168]||(e[168]=o=>R.value.change=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[w,R.value.change]]),e[694]||(e[694]=t("label",{for:"hail-activity-change",class:"ml-2 text-sm text-gray-700"},"Changing use of land",-1))])]),e[696]||(e[696]=t("p",{class:"text-xs text-gray-500 mt-2"},"Select all proposed activities that apply",-1))]),t("div",null,[e[697]||(e[697]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Additional Notes",-1)),n(t("textarea",{"onUpdate:modelValue":e[169]||(e[169]=o=>P.value.notes=o),rows:"3",placeholder:"Additional notes about the HAIL activity...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,P.value.notes]])])]),t("div",vd,[t("button",{onClick:Ve,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),t("button",{onClick:rt,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},i(se.value!==null?"Update":"Add")+" Activity ",1)])])])):u("",!0),be.value?(r(),a("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e[177]||(e[177]=Ce(o=>be.value=!1,["self"]))},[t("div",gd,[t("div",yd,[t("div",fd,[e[699]||(e[699]=t("h3",{class:"text-lg font-semibold text-gray-900"}," Browse Condition Templates ",-1)),t("button",{onClick:e[170]||(e[170]=o=>be.value=!1),class:"text-gray-400 hover:text-gray-600"},[...e[698]||(e[698]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t("div",xd,[t("div",_d,[t("div",wd,[t("div",hd,[e[700]||(e[700]=t("label",{class:"text-sm font-medium text-gray-700"},"Filter by Category:",-1)),n(t("select",{"onUpdate:modelValue":e[171]||(e[171]=o=>we.value=o),class:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(r(),a(k,null,C(Fe,o=>t("option",{key:o,value:o},i(o),9,kd)),64))],512),[[I,we.value]]),t("span",Cd,i(he.value.length)+" template"+i(he.value.length!==1?"s":""),1)]),je.value?(r(),a("div",Ad,[...e[701]||(e[701]=[t("svg",{class:"animate-spin h-8 w-8 mx-auto text-blue-600",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),t("p",{class:"mt-2 text-sm text-gray-500"},"Loading templates...",-1)])])):he.value.length>0?(r(),a("div",Sd,[(r(!0),a(k,null,C(he.value,o=>(r(),a("div",{key:o.name,class:"p-4 bg-white border border-gray-300 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all"},[t("div",Pd,[t("div",Md,[t("div",Vd,[t("h4",Ud,i(o.template_name),1),o.condition_code?(r(),a("span",Rd,i(o.condition_code),1)):u("",!0)]),t("div",Nd,[t("span",qd,i(o.condition_category),1),o.timing?(r(),a("span",jd,i(o.timing),1)):u("",!0),o.monitoring_required?(r(),a("span",Dd," Monitoring Required ")):u("",!0)]),t("div",{class:"text-xs text-gray-700 line-clamp-3",innerHTML:o.condition_text},null,8,Ed)]),t("button",{onClick:d=>Ft(o),type:"button",class:"ml-3 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 flex items-center gap-1 flex-shrink-0"},[...e[702]||(e[702]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Add ",-1)])],8,Id)])]))),128))])):(r(),a("div",Td,[...e[703]||(e[703]=[t("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",{class:"text-sm text-gray-500"},"No templates found for selected category",-1)])])),t("div",{class:"pt-4 border-t border-gray-200"},[t("button",{onClick:Ot,type:"button",class:"w-full px-4 py-2.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300"},[...e[704]||(e[704]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" Add Custom Condition ",-1)])])])]),t("div",zd,[t("h4",Hd,[e[705]||(e[705]=t("span",null,"Selected Conditions",-1)),t("span",Ld,i(s.value.proposed_conditions.length),1)]),s.value.proposed_conditions.length>0?(r(),a("div",Bd,[(r(!0),a(k,null,C(s.value.proposed_conditions,(o,d)=>(r(),a("div",{key:d,class:"p-2 bg-white rounded border border-gray-300 text-xs"},[t("div",Fd,[t("div",Od,[t("span",$d,i(o.condition_number),1),t("span",Wd,i(o.condition_category),1)]),t("button",{onClick:v=>Oe(d),type:"button",class:"text-red-600 hover:bg-red-50 rounded p-0.5",title:"Remove"},[...e[706]||(e[706]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Jd)]),t("div",{class:"text-gray-700 line-clamp-2",innerHTML:o.condition_text},null,8,Gd)]))),128))])):(r(),a("div",Zd,[...e[707]||(e[707]=[t("svg",{class:"w-8 h-8 mx-auto text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),c(" No conditions selected ",-1)])]))])]),$.value!==null||S.value.condition_text||S.value.condition_category?(r(),a("div",Xd,[t("h4",Yd,i($.value!==null?"Edit":"Add Custom")+" Condition ",1),t("div",Qd,[t("div",null,[e[708]||(e[708]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[c(" Condition Number "),t("span",{class:"text-red-500"},"*")],-1)),n(t("input",{"onUpdate:modelValue":e[172]||(e[172]=o=>S.value.condition_number=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1"},null,512),[[p,S.value.condition_number]])]),t("div",null,[e[710]||(e[710]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[c(" Category "),t("span",{class:"text-red-500"},"*")],-1)),n(t("select",{"onUpdate:modelValue":e[173]||(e[173]=o=>S.value.condition_category=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[e[709]||(e[709]=t("option",{value:""},"Select category",-1)),(r(!0),a(k,null,C(Fe.filter(o=>o!=="All"),o=>(r(),a("option",{key:o,value:o},i(o),9,Kd))),128))],512),[[I,S.value.condition_category]])])]),t("div",eu,[e[711]||(e[711]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[c(" Condition Text "),t("span",{class:"text-red-500"},"*")],-1)),n(t("textarea",{"onUpdate:modelValue":e[174]||(e[174]=o=>S.value.condition_text=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter the condition text..."},null,512),[[p,S.value.condition_text]])]),t("div",null,[e[712]||(e[712]=t("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Notes",-1)),n(t("textarea",{"onUpdate:modelValue":e[175]||(e[175]=o=>S.value.compliance_notes=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional notes about this condition..."},null,512),[[p,S.value.compliance_notes]])]),t("div",tu,[t("button",{onClick:Jt,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),t("button",{onClick:Wt,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},i($.value!==null?"Update":"Add")+" Condition ",1)])])):u("",!0)]),t("div",ou,[t("button",{onClick:e[176]||(e[176]=o=>be.value=!1),type:"button",class:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Done ")])])])):u("",!0)])}}};export{au as default};
//# sourceMappingURL=NewRequest-KgcFeGF3.js.map
