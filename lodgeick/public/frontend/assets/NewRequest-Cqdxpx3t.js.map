{"version":3,"file":"NewRequest-Cqdxpx3t.js","sources":["../../../../frontend/node_modules/@headlessui/vue/dist/hooks/use-resolve-button-type.js","../../../../frontend/node_modules/@headlessui/vue/dist/components/disclosure/disclosure.js","../../../../frontend/node_modules/@headlessui/vue/dist/internal/focus-sentinel.js","../../../../frontend/node_modules/@headlessui/vue/dist/components/tabs/tabs.js","../../../../frontend/src/components/request-steps/Step1CouncilSelection.vue","../../../../frontend/src/components/request-steps/Step2RequestType.vue","../../../../frontend/src/components/request-steps/Step3ProcessInfo.vue","../../../../frontend/src/components/request-steps/Step17Review.vue","../../../../frontend/node_modules/@heroicons/vue/20/solid/esm/ChevronUpIcon.js","../../../../frontend/src/components/CameraUpload.vue","../../../../frontend/src/components/PhilippinesAddressInput.vue","../../../../frontend/src/components/Tooltip.vue","../../../../frontend/src/utils/conditionalLogic.js","../../../../frontend/src/utils/fieldValidation.js","../../../../frontend/src/components/DynamicFieldRenderer.vue","../../../../frontend/src/components/DynamicStepRenderer.vue","../../../../frontend/src/pages/NewRequest.vue"],"sourcesContent":["import{onMounted as i,ref as f,watchEffect as l}from\"vue\";import{dom as o}from'../utils/dom.js';function r(t,e){if(t)return t;let n=e!=null?e:\"button\";if(typeof n==\"string\"&&n.toLowerCase()===\"button\")return\"button\"}function s(t,e){let n=f(r(t.value.type,t.value.as));return i(()=>{n.value=r(t.value.type,t.value.as)}),l(()=>{var u;n.value||o(e)&&o(e)instanceof HTMLButtonElement&&!((u=o(e))!=null&&u.hasAttribute(\"type\"))&&(n.value=\"button\")}),n}export{s as useResolveButtonType};\n","import{computed as m,defineComponent as b,inject as I,onMounted as P,onUnmounted as h,provide as R,ref as d,watchEffect as w}from\"vue\";import{useId as E}from'../../hooks/use-id.js';import{useResolveButtonType as H}from'../../hooks/use-resolve-button-type.js';import{State as y,useOpenClosed as L,useOpenClosedProvider as j}from'../../internal/open-closed.js';import{Keys as f}from'../../keyboard.js';import{dom as p}from'../../utils/dom.js';import{match as x}from'../../utils/match.js';import{Features as B,render as g}from'../../utils/render.js';var $=(o=>(o[o.Open=0]=\"Open\",o[o.Closed=1]=\"Closed\",o))($||{});let T=Symbol(\"DisclosureContext\");function O(t){let r=I(T,null);if(r===null){let o=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,O),o}return r}let k=Symbol(\"DisclosurePanelContext\");function U(){return I(k,null)}let N=b({name:\"Disclosure\",props:{as:{type:[Object,String],default:\"template\"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:r,attrs:o}){let s=d(t.defaultOpen?0:1),e=d(null),i=d(null),n={buttonId:d(`headlessui-disclosure-button-${E()}`),panelId:d(`headlessui-disclosure-panel-${E()}`),disclosureState:s,panel:e,button:i,toggleDisclosure(){s.value=x(s.value,{[0]:1,[1]:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(l){n.closeDisclosure();let a=(()=>l?l instanceof HTMLElement?l:l.value instanceof HTMLElement?p(l):p(n.button):p(n.button))();a==null||a.focus()}};return R(T,n),j(m(()=>x(s.value,{[0]:y.Open,[1]:y.Closed}))),()=>{let{defaultOpen:l,...a}=t,c={open:s.value===0,close:n.close};return g({theirProps:a,ourProps:{},slot:c,slots:r,attrs:o,name:\"Disclosure\"})}}}),Q=b({name:\"DisclosureButton\",props:{as:{type:[Object,String],default:\"button\"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:r,slots:o,expose:s}){let e=O(\"DisclosureButton\"),i=U(),n=m(()=>i===null?!1:i.value===e.panelId.value);P(()=>{n.value||t.id!==null&&(e.buttonId.value=t.id)}),h(()=>{n.value||(e.buttonId.value=null)});let l=d(null);s({el:l,$el:l}),n.value||w(()=>{e.button.value=l.value});let a=H(m(()=>({as:t.as,type:r.type})),l);function c(){var u;t.disabled||(n.value?(e.toggleDisclosure(),(u=p(e.button))==null||u.focus()):e.toggleDisclosure())}function D(u){var S;if(!t.disabled)if(n.value)switch(u.key){case f.Space:case f.Enter:u.preventDefault(),u.stopPropagation(),e.toggleDisclosure(),(S=p(e.button))==null||S.focus();break}else switch(u.key){case f.Space:case f.Enter:u.preventDefault(),u.stopPropagation(),e.toggleDisclosure();break}}function v(u){switch(u.key){case f.Space:u.preventDefault();break}}return()=>{var C;let u={open:e.disclosureState.value===0},{id:S,...K}=t,M=n.value?{ref:l,type:a.value,onClick:c,onKeydown:D}:{id:(C=e.buttonId.value)!=null?C:S,ref:l,type:a.value,\"aria-expanded\":e.disclosureState.value===0,\"aria-controls\":e.disclosureState.value===0||p(e.panel)?e.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:c,onKeydown:D,onKeyup:v};return g({ourProps:M,theirProps:K,slot:u,attrs:r,slots:o,name:\"DisclosureButton\"})}}}),V=b({name:\"DisclosurePanel\",props:{as:{type:[Object,String],default:\"div\"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:r,slots:o,expose:s}){let e=O(\"DisclosurePanel\");P(()=>{t.id!==null&&(e.panelId.value=t.id)}),h(()=>{e.panelId.value=null}),s({el:e.panel,$el:e.panel}),R(k,e.panelId);let i=L(),n=m(()=>i!==null?(i.value&y.Open)===y.Open:e.disclosureState.value===0);return()=>{var v;let l={open:e.disclosureState.value===0,close:e.close},{id:a,...c}=t,D={id:(v=e.panelId.value)!=null?v:a,ref:e.panel};return g({ourProps:D,theirProps:c,slot:l,attrs:r,slots:o,features:B.RenderStrategy|B.Static,visible:n.value,name:\"DisclosurePanel\"})}}});export{N as Disclosure,Q as DisclosureButton,V as DisclosurePanel};\n","import{defineComponent as i,h as m,ref as f}from\"vue\";import{Features as l,Hidden as F}from'./hidden.js';let d=i({props:{onFocus:{type:Function,required:!0}},setup(t){let n=f(!0);return()=>n.value?m(F,{as:\"button\",type:\"button\",features:l.Focusable,onFocus(o){o.preventDefault();let e,a=50;function r(){var u;if(a--<=0){e&&cancelAnimationFrame(e);return}if((u=t.onFocus)!=null&&u.call(t)){n.value=!1,cancelAnimationFrame(e);return}e=requestAnimationFrame(r)}e=requestAnimationFrame(r)}}):null}});export{d as FocusSentinel};\n","import{computed as v,defineComponent as L,Fragment as z,h as A,inject as j,onMounted as F,onUnmounted as K,provide as N,ref as P,watch as _,watchEffect as J}from\"vue\";import{useId as $}from'../../hooks/use-id.js';import{useResolveButtonType as Q}from'../../hooks/use-resolve-button-type.js';import{FocusSentinel as V}from'../../internal/focus-sentinel.js';import{Hidden as X}from'../../internal/hidden.js';import{Keys as S}from'../../keyboard.js';import{dom as f}from'../../utils/dom.js';import{Focus as g,focusIn as D,FocusResult as B,sortByDomNode as k}from'../../utils/focus-management.js';import{match as H}from'../../utils/match.js';import{microTask as Y}from'../../utils/micro-task.js';import{getOwnerDocument as Z}from'../../utils/owner.js';import{Features as q,omit as ee,render as M}from'../../utils/render.js';var te=(s=>(s[s.Forwards=0]=\"Forwards\",s[s.Backwards=1]=\"Backwards\",s))(te||{}),le=(d=>(d[d.Less=-1]=\"Less\",d[d.Equal=0]=\"Equal\",d[d.Greater=1]=\"Greater\",d))(le||{});let U=Symbol(\"TabsContext\");function C(a){let b=j(U,null);if(b===null){let s=new Error(`<${a} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,C),s}return b}let G=Symbol(\"TabsSSRContext\"),me=L({name:\"TabGroup\",emits:{change:a=>!0},props:{as:{type:[Object,String],default:\"template\"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(a,{slots:b,attrs:s,emit:d}){var E;let i=P((E=a.selectedIndex)!=null?E:a.defaultIndex),l=P([]),r=P([]),p=v(()=>a.selectedIndex!==null),R=v(()=>p.value?a.selectedIndex:i.value);function y(t){var c;let n=k(u.tabs.value,f),o=k(u.panels.value,f),e=n.filter(I=>{var m;return!((m=f(I))!=null&&m.hasAttribute(\"disabled\"))});if(t<0||t>n.length-1){let I=H(i.value===null?0:Math.sign(t-i.value),{[-1]:()=>1,[0]:()=>H(Math.sign(t),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0}),m=H(I,{[0]:()=>n.indexOf(e[0]),[1]:()=>n.indexOf(e[e.length-1])});m!==-1&&(i.value=m),u.tabs.value=n,u.panels.value=o}else{let I=n.slice(0,t),h=[...n.slice(t),...I].find(W=>e.includes(W));if(!h)return;let O=(c=n.indexOf(h))!=null?c:u.selectedIndex.value;O===-1&&(O=u.selectedIndex.value),i.value=O,u.tabs.value=n,u.panels.value=o}}let u={selectedIndex:v(()=>{var t,n;return(n=(t=i.value)!=null?t:a.defaultIndex)!=null?n:null}),orientation:v(()=>a.vertical?\"vertical\":\"horizontal\"),activation:v(()=>a.manual?\"manual\":\"auto\"),tabs:l,panels:r,setSelectedIndex(t){R.value!==t&&d(\"change\",t),p.value||y(t)},registerTab(t){var o;if(l.value.includes(t))return;let n=l.value[i.value];if(l.value.push(t),l.value=k(l.value,f),!p.value){let e=(o=l.value.indexOf(n))!=null?o:i.value;e!==-1&&(i.value=e)}},unregisterTab(t){let n=l.value.indexOf(t);n!==-1&&l.value.splice(n,1)},registerPanel(t){r.value.includes(t)||(r.value.push(t),r.value=k(r.value,f))},unregisterPanel(t){let n=r.value.indexOf(t);n!==-1&&r.value.splice(n,1)}};N(U,u);let T=P({tabs:[],panels:[]}),x=P(!1);F(()=>{x.value=!0}),N(G,v(()=>x.value?null:T.value));let w=v(()=>a.selectedIndex);return F(()=>{_([w],()=>{var t;return y((t=a.selectedIndex)!=null?t:a.defaultIndex)},{immediate:!0})}),J(()=>{if(!p.value||R.value==null||u.tabs.value.length<=0)return;let t=k(u.tabs.value,f);t.some((o,e)=>f(u.tabs.value[e])!==f(o))&&u.setSelectedIndex(t.findIndex(o=>f(o)===f(u.tabs.value[R.value])))}),()=>{let t={selectedIndex:i.value};return A(z,[l.value.length<=0&&A(V,{onFocus:()=>{for(let n of l.value){let o=f(n);if((o==null?void 0:o.tabIndex)===0)return o.focus(),!0}return!1}}),M({theirProps:{...s,...ee(a,[\"selectedIndex\",\"defaultIndex\",\"manual\",\"vertical\",\"onChange\"])},ourProps:{},slot:t,slots:b,attrs:s,name:\"TabGroup\"})])}}}),pe=L({name:\"TabList\",props:{as:{type:[Object,String],default:\"div\"}},setup(a,{attrs:b,slots:s}){let d=C(\"TabList\");return()=>{let i={selectedIndex:d.selectedIndex.value},l={role:\"tablist\",\"aria-orientation\":d.orientation.value};return M({ourProps:l,theirProps:a,slot:i,attrs:b,slots:s,name:\"TabList\"})}}}),xe=L({name:\"Tab\",props:{as:{type:[Object,String],default:\"button\"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(a,{attrs:b,slots:s,expose:d}){var o;let i=(o=a.id)!=null?o:`headlessui-tabs-tab-${$()}`,l=C(\"Tab\"),r=P(null);d({el:r,$el:r}),F(()=>l.registerTab(r)),K(()=>l.unregisterTab(r));let p=j(G),R=v(()=>{if(p.value){let e=p.value.tabs.indexOf(i);return e===-1?p.value.tabs.push(i)-1:e}return-1}),y=v(()=>{let e=l.tabs.value.indexOf(r);return e===-1?R.value:e}),u=v(()=>y.value===l.selectedIndex.value);function T(e){var I;let c=e();if(c===B.Success&&l.activation.value===\"auto\"){let m=(I=Z(r))==null?void 0:I.activeElement,h=l.tabs.value.findIndex(O=>f(O)===m);h!==-1&&l.setSelectedIndex(h)}return c}function x(e){let c=l.tabs.value.map(m=>f(m)).filter(Boolean);if(e.key===S.Space||e.key===S.Enter){e.preventDefault(),e.stopPropagation(),l.setSelectedIndex(y.value);return}switch(e.key){case S.Home:case S.PageUp:return e.preventDefault(),e.stopPropagation(),T(()=>D(c,g.First));case S.End:case S.PageDown:return e.preventDefault(),e.stopPropagation(),T(()=>D(c,g.Last))}if(T(()=>H(l.orientation.value,{vertical(){return e.key===S.ArrowUp?D(c,g.Previous|g.WrapAround):e.key===S.ArrowDown?D(c,g.Next|g.WrapAround):B.Error},horizontal(){return e.key===S.ArrowLeft?D(c,g.Previous|g.WrapAround):e.key===S.ArrowRight?D(c,g.Next|g.WrapAround):B.Error}}))===B.Success)return e.preventDefault()}let w=P(!1);function E(){var e;w.value||(w.value=!0,!a.disabled&&((e=f(r))==null||e.focus({preventScroll:!0}),l.setSelectedIndex(y.value),Y(()=>{w.value=!1})))}function t(e){e.preventDefault()}let n=Q(v(()=>({as:a.as,type:b.type})),r);return()=>{var m,h;let e={selected:u.value,disabled:(m=a.disabled)!=null?m:!1},{...c}=a,I={ref:r,onKeydown:x,onMousedown:t,onClick:E,id:i,role:\"tab\",type:n.value,\"aria-controls\":(h=f(l.panels.value[y.value]))==null?void 0:h.id,\"aria-selected\":u.value,tabIndex:u.value?0:-1,disabled:a.disabled?!0:void 0};return M({ourProps:I,theirProps:c,slot:e,attrs:b,slots:s,name:\"Tab\"})}}}),Ie=L({name:\"TabPanels\",props:{as:{type:[Object,String],default:\"div\"}},setup(a,{slots:b,attrs:s}){let d=C(\"TabPanels\");return()=>{let i={selectedIndex:d.selectedIndex.value};return M({theirProps:a,ourProps:{},slot:i,attrs:s,slots:b,name:\"TabPanels\"})}}}),ye=L({name:\"TabPanel\",props:{as:{type:[Object,String],default:\"div\"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(a,{attrs:b,slots:s,expose:d}){var T;let i=(T=a.id)!=null?T:`headlessui-tabs-panel-${$()}`,l=C(\"TabPanel\"),r=P(null);d({el:r,$el:r}),F(()=>l.registerPanel(r)),K(()=>l.unregisterPanel(r));let p=j(G),R=v(()=>{if(p.value){let x=p.value.panels.indexOf(i);return x===-1?p.value.panels.push(i)-1:x}return-1}),y=v(()=>{let x=l.panels.value.indexOf(r);return x===-1?R.value:x}),u=v(()=>y.value===l.selectedIndex.value);return()=>{var n;let x={selected:u.value},{tabIndex:w,...E}=a,t={ref:r,id:i,role:\"tabpanel\",\"aria-labelledby\":(n=f(l.tabs.value[y.value]))==null?void 0:n.id,tabIndex:u.value?w:-1};return!u.value&&a.unmount&&!a.static?A(X,{as:\"span\",\"aria-hidden\":!0,...t}):M({ourProps:t,theirProps:E,slot:x,attrs:b,slots:s,features:q.Static|q.RenderStrategy,visible:u.value,name:\"TabPanel\"})}}});export{xe as Tab,me as TabGroup,pe as TabList,ye as TabPanel,Ie as TabPanels};\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Select Council</h2>\n    <p class=\"text-gray-600 mb-8\">Choose the council that will process your application</p>\n\n    <CouncilSelector\n      :model-value=\"modelValue.council\"\n      @update:model-value=\"updateCouncil\"\n      display-mode=\"cards\"\n      :required=\"true\"\n      :show-selected-info=\"true\"\n      label=\"\"\n      :show-label=\"false\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits } from 'vue'\nimport CouncilSelector from '../CouncilSelector.vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'council-change'])\n\nconst updateCouncil = (council) => {\n  console.log('[Step1CouncilSelection] updateCouncil called with:', council)\n  console.log('[Step1CouncilSelection] Current modelValue:', props.modelValue)\n\n  emit('update:modelValue', {\n    ...props.modelValue,\n    council: council\n  })\n  emit('council-change', council)\n\n  console.log('[Step1CouncilSelection] Emitted events')\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Select Application Type</h2>\n    <p class=\"text-gray-600 mb-8\">Choose the type of consent you wish to apply for</p>\n\n    <div v-if=\"requestTypes.loading\" class=\"text-center py-12\">\n      <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n    </div>\n\n    <div v-else class=\"grid md:grid-cols-2 gap-4\">\n      <div\n        v-for=\"type in requestTypes.data\"\n        :key=\"type.name\"\n        @click=\"selectType(type)\"\n        class=\"border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md\"\n        :class=\"modelValue.request_type === type.name ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n      >\n        <div class=\"flex items-start justify-between\">\n          <div class=\"flex-1\">\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">{{ type.type_name }}</h3>\n            <p class=\"text-sm text-gray-600\" v-html=\"type.description || 'No description available'\"></p>\n            <div class=\"mt-4 flex items-center space-x-4 text-xs text-gray-500\">\n              <span v-if=\"type.base_fee\">Fee: ${{ type.base_fee }}</span>\n              <span v-if=\"type.processing_sla_days\">{{ type.processing_sla_days }} days</span>\n              <span v-if=\"type.category\" class=\"px-2 py-1 bg-gray-100 rounded\">{{ type.category }}</span>\n            </div>\n          </div>\n          <div v-if=\"modelValue.request_type === type.name\" class=\"ml-4\">\n            <div class=\"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center\">\n              <svg class=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  requestTypes: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'type-selected'])\n\nconst selectType = (type) => {\n  console.log('[Step2RequestType] selectType called with:', type.name)\n  console.log('[Step2RequestType] props.modelValue:', props.modelValue)\n  console.log('[Step2RequestType] props.modelValue.council:', props.modelValue.council)\n\n  const updatedValue = {\n    ...props.modelValue,\n    request_type: type.name\n  }\n\n  console.log('[Step2RequestType] Emitting updatedValue:', updatedValue)\n  emit('update:modelValue', updatedValue)\n  emit('type-selected', type)\n}\n</script>\n","<template>\n  <div>\n    <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Council Process Information</h2>\n    <p class=\"text-gray-600 mb-6\">Understanding {{ councilName }}'s process for this application</p>\n\n    <div v-if=\"requestTypeDetails\" class=\"space-y-6\">\n\n      <!-- Council Meeting Section (if enabled) -->\n      <div v-if=\"requestTypeDetails.council_meeting_available\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h3 class=\"text-xl font-semibold text-gray-900 mb-4\">Council Meeting</h3>\n        <p class=\"text-sm text-gray-600 mb-4\">\n          You may schedule a Council Meeting with the Council to seek further clarifications in respect of your application before proceeding.\n        </p>\n\n        <div class=\"flex items-center gap-4 mb-4\">\n          <label class=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              v-model=\"preAppMeetingNotRequired\"\n              class=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n            />\n            <span class=\"ml-2 text-sm text-gray-700\">I do not require a council meeting</span>\n          </label>\n        </div>\n\n        <button\n          v-if=\"!preAppMeetingNotRequired\"\n          @click=\"openPreAppMeetingModal\"\n          type=\"button\"\n          class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          Request Council Meeting\n        </button>\n\n        <!-- Council Meeting List -->\n        <div v-if=\"preAppMeetings && preAppMeetings.length > 0\" class=\"mt-4\">\n          <h4 class=\"text-sm font-semibold text-gray-700 mb-2\">Requested Meetings</h4>\n          <div class=\"space-y-2\">\n            <div\n              v-for=\"(meeting, index) in preAppMeetings\"\n              :key=\"index\"\n              class=\"p-3 bg-gray-50 border border-gray-200 rounded-lg flex items-start justify-between\"\n            >\n              <div class=\"flex-1\">\n                <span class=\"text-sm font-medium text-gray-900\">{{ meeting.meeting_type || 'Council Meeting' }}</span>\n                <p class=\"text-xs text-gray-600 mt-1\">{{ meeting.meeting_format }}</p>\n                <p v-if=\"meeting.preferred_time_slot_1_start\" class=\"text-xs text-gray-500 mt-1\">\n                  Preferred: {{ formatDate(meeting.preferred_time_slot_1_start) }}\n                </p>\n              </div>\n              <button\n                @click=\"removePreAppMeeting(index)\"\n                type=\"button\"\n                class=\"text-red-600 hover:text-red-800 text-sm ml-4\"\n              >\n                Remove\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <div class=\"flex items-start justify-between mb-4\">\n          <div>\n            <h3 class=\"text-xl font-semibold text-gray-900\">{{ requestTypeDetails.request_type_name }}</h3>\n            <p v-if=\"requestTypeDetails.category\" class=\"text-sm text-gray-500 mt-1\">\n              {{ requestTypeDetails.category }}\n            </p>\n          </div>\n        </div>\n\n        <div class=\"grid md:grid-cols-3 gap-4 mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <div>\n            <div class=\"text-xs text-blue-600 font-medium uppercase\">Application Fee</div>\n            <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n              ${{ requestTypeDetails.base_fee || '0' }}\n            </div>\n            <div class=\"text-xs text-blue-600 mt-1\">Plus any additional costs</div>\n          </div>\n          <div>\n            <div class=\"text-xs text-blue-600 font-medium uppercase\">Processing Time</div>\n            <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n              {{ requestTypeDetails.sla_days || 'N/A' }} <span class=\"text-base\">days</span>\n            </div>\n            <div class=\"text-xs text-blue-600 mt-1\">Standard timeframe</div>\n          </div>\n          <div>\n            <div class=\"text-xs text-blue-600 font-medium uppercase\">Payment Required</div>\n            <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n              {{ requestTypeDetails.requires_payment ? 'Yes' : 'No' }}\n            </div>\n            <div class=\"text-xs text-blue-600 mt-1\">Before processing</div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"requestTypeDetails.process_description\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">How This Works</h4>\n        <div class=\"prose prose-sm max-w-none text-gray-700\" v-html=\"requestTypeDetails.process_description\"></div>\n      </div>\n\n      <div v-else-if=\"requestTypeDetails.description\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">About This Application</h4>\n        <div class=\"prose prose-sm max-w-none text-gray-700\" v-html=\"requestTypeDetails.description\"></div>\n      </div>\n\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n        <div class=\"flex items-start\">\n          <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-yellow-900 text-sm\">Before You Continue</h5>\n            <p class=\"text-yellow-800 text-sm mt-1\">\n              Please review this information carefully. Make sure you understand the process, fees, and timeframes before proceeding with your application.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex justify-center pt-4\">\n        <button\n          type=\"button\"\n          @click=\"handleContinue\"\n          class=\"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          I Understand - Continue to Application\n        </button>\n      </div>\n    </div>\n\n    <div v-else class=\"text-center py-12\">\n      <p class=\"text-gray-500\">No request type selected. Please go back and select a request type.</p>\n    </div>\n\n    <!-- Council Meeting Modal (Simple Version) -->\n    <div\n      v-if=\"showPreAppMeetingModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"closePreAppMeetingModal\"\n    >\n      <div class=\"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n          <h3 class=\"text-xl font-bold text-gray-900\">Request Council Meeting</h3>\n          <button\n            @click=\"closePreAppMeetingModal\"\n            class=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div class=\"overflow-y-auto max-h-[calc(90vh-140px)] px-6 py-4\">\n          <div class=\"space-y-4\">\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n              <p class=\"text-sm text-blue-900\">\n                A council meeting allows you to discuss your proposal with council planners before formally submitting your application.\n              </p>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Meeting Format *</label>\n              <select\n                v-model=\"currentPreAppMeeting.meeting_format\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                required\n              >\n                <option value=\"In Person\">In Person</option>\n                <option value=\"Video Call\">Video Call</option>\n                <option value=\"Phone Call\">Phone Call</option>\n              </select>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Meeting Purpose *</label>\n              <textarea\n                v-model=\"currentPreAppMeeting.meeting_purpose\"\n                rows=\"4\"\n                placeholder=\"Describe what you'd like to discuss in this meeting...\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                required\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Preferred Date & Time</label>\n              <input\n                v-model=\"currentPreAppMeeting.preferred_time_slot_1_start\"\n                type=\"datetime-local\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n              <p class=\"text-xs text-gray-500 mt-1\">Select your preferred date and time. The council will confirm or propose an alternative.</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t border-gray-200\">\n          <button\n            @click=\"closePreAppMeetingModal\"\n            type=\"button\"\n            class=\"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"savePreAppMeeting\"\n            type=\"button\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            :disabled=\"!currentPreAppMeeting.meeting_purpose\"\n          >\n            Request Meeting\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue'\nimport { session } from '@/data/session'\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\n\nconst props = defineProps({\n  requestTypeDetails: {\n    type: Object,\n    default: null\n  },\n  councilName: {\n    type: String,\n    default: ''\n  },\n  modelValue: {\n    type: Object,\n    default: () => ({})\n  }\n})\n\nconst emit = defineEmits(['continue', 'update:modelValue'])\n\n// Pre-app meeting state\nconst preAppMeetingNotRequired = ref(props.modelValue?.pre_app_meeting_not_required || false)\nconst preAppMeetings = ref(props.modelValue?.pre_app_meetings || [])\nconst showPreAppMeetingModal = ref(false)\nconst currentPreAppMeeting = ref({\n  meeting_type: 'Council Meeting',\n  meeting_format: 'In Person',\n  meeting_purpose: '',\n  preferred_time_slot_1_start: null\n})\n\n// Watch for changes in pre-app meeting data and emit to parent\nwatch([preAppMeetingNotRequired, preAppMeetings], () => {\n  emit('update:modelValue', {\n    ...props.modelValue,\n    pre_app_meeting_not_required: preAppMeetingNotRequired.value,\n    pre_app_meetings: preAppMeetings.value\n  })\n}, { deep: true })\n\nconst openPreAppMeetingModal = () => {\n  currentPreAppMeeting.value = {\n    meeting_type: 'Council Meeting',\n    meeting_format: 'In Person',\n    meeting_purpose: '',\n    preferred_time_slot_1_start: null\n  }\n  showPreAppMeetingModal.value = true\n}\n\nconst closePreAppMeetingModal = () => {\n  showPreAppMeetingModal.value = false\n}\n\nconst savePreAppMeeting = () => {\n  preAppMeetings.value.push({ ...currentPreAppMeeting.value })\n  closePreAppMeetingModal()\n}\n\nconst removePreAppMeeting = (index) => {\n  if (confirm('Remove this council meeting request?')) {\n    preAppMeetings.value.splice(index, 1)\n  }\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return ''\n  const date = new Date(dateString)\n  return date.toLocaleString('en-NZ', {\n    dateStyle: 'medium',\n    timeStyle: 'short'\n  })\n}\n\nconst handleContinue = () => {\n  // Check if user is logged in before allowing them to continue\n  if (!session.isLoggedIn) {\n    // Save current URL to redirect back after login\n    const currentPath = window.location.pathname + window.location.search\n    router.push({\n      name: 'Login',\n      query: { redirect: currentPath }\n    })\n    return\n  }\n\n  // User is logged in, proceed normally\n  emit('continue')\n}\n</script>\n","<template>\n  <div class=\"px-4 sm:px-0\">\n    <h2 class=\"text-xl sm:text-2xl font-bold text-gray-900 mb-2\">Review & Submit</h2>\n    <p class=\"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8\">Review your application details before submitting</p>\n\n    <div class=\"space-y-4 sm:space-y-6\">\n      <!-- Application Summary -->\n      <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6\">\n        <div class=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-0\">\n          <div>\n            <h3 class=\"text-base sm:text-lg font-semibold text-blue-900\">{{ requestTypeName }}</h3>\n            <p class=\"text-xs sm:text-sm text-blue-700 mt-1\">{{ councilName }}</p>\n          </div>\n          <div class=\"sm:text-right\">\n            <div class=\"text-xs sm:text-sm text-blue-600 font-medium\">Application Fee</div>\n            <div class=\"text-xl sm:text-2xl font-bold text-blue-900\">{{ applicationFee }}</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Applicant Details -->\n      <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Applicant Details</h3>\n        </div>\n        <div class=\"p-4 sm:p-6 space-y-3\">\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <span class=\"text-sm text-gray-500\">Name:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_name || 'Not provided' }}</p>\n            </div>\n            <div>\n              <span class=\"text-sm text-gray-500\">Email:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_email || 'Not provided' }}</p>\n            </div>\n            <div>\n              <span class=\"text-sm text-gray-500\">Phone:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_phone || 'Not provided' }}</p>\n            </div>\n            <div v-if=\"modelValue.applicant_company\">\n              <span class=\"text-sm text-gray-500\">Company:</span>\n              <p class=\"font-medium\">{{ modelValue.applicant_company }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Property Details (only show if request type has property information) -->\n      <div v-if=\"hasPropertyDetails\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Property Details</h3>\n        </div>\n        <div class=\"p-4 sm:p-6\">\n          <div v-if=\"modelValue.property_address\" class=\"space-y-2\">\n            <div>\n              <span class=\"text-sm text-gray-500\">Address:</span>\n              <p class=\"font-medium\">{{ modelValue.property_address }}</p>\n            </div>\n            <div v-if=\"modelValue.legal_description\">\n              <span class=\"text-sm text-gray-500\">Legal Description:</span>\n              <p class=\"font-medium\">{{ modelValue.legal_description }}</p>\n            </div>\n          </div>\n          <p v-else class=\"text-gray-500\">No property selected</p>\n        </div>\n      </div>\n\n      <!-- Delivery Preference (only show if request type collects payment) -->\n      <div v-if=\"requestTypeDetails?.collect_payment\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n        <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n          <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Delivery & Payment</h3>\n        </div>\n        <div class=\"p-4 sm:p-6 space-y-3\">\n          <div>\n            <span class=\"text-sm text-gray-500\">Delivery Preference:</span>\n            <p class=\"font-medium\">{{ modelValue.delivery_preference || 'Not selected' }}</p>\n          </div>\n          <div>\n            <span class=\"text-sm text-gray-500\">Invoice To:</span>\n            <p class=\"font-medium\">{{ modelValue.invoice_to || 'Not specified' }}</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Dynamic Review Sections (for configured request types) -->\n      <template v-if=\"usesConfigurableSteps && reviewSections.length > 0\">\n        <div\n          v-for=\"step in reviewSections\"\n          :key=\"step.step_code\"\n          class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\"\n        >\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">{{ step.step_title }}</h3>\n          </div>\n          <div class=\"p-4 sm:p-6 space-y-4\">\n            <div\n              v-for=\"section in step.sections.filter(s => s.show_on_review)\"\n              :key=\"section.section_code\"\n            >\n              <h4 v-if=\"section.section_title\" class=\"text-sm font-medium text-gray-700 mb-2\">\n                {{ section.section_title }}\n              </h4>\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div\n                  v-for=\"field in section.fields.filter(f => f.show_on_review)\"\n                  :key=\"field.field_name\"\n                >\n                  <span class=\"text-sm text-gray-500\">{{ field.review_label || field.field_label }}:</span>\n                  <p class=\"font-medium\">{{ formatFieldValue(field, modelValue[field.field_name]) }}</p>\n                </div>\n              </div>\n            </div>\n            <p v-if=\"!hasReviewContent(step)\" class=\"text-gray-500 text-sm\">\n              No information to display for review\n            </p>\n          </div>\n        </div>\n      </template>\n\n      <!-- Resource Consent Specific Details -->\n      <template v-if=\"isResourceConsent\">\n        <!-- Consent Types -->\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Consent Types & Activity Status</h3>\n          </div>\n          <div class=\"p-4 sm:p-6\">\n            <div class=\"space-y-3\">\n              <div>\n                <span class=\"text-sm text-gray-500\">Consent Types:</span>\n                <div class=\"mt-2 flex flex-wrap gap-2\">\n                  <span\n                    v-if=\"modelValue.consent_type_land_use\"\n                    class=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\"\n                  >\n                    Land Use Consent\n                  </span>\n                  <span\n                    v-if=\"modelValue.consent_type_subdivision\"\n                    class=\"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium\"\n                  >\n                    Subdivision Consent\n                  </span>\n                  <span\n                    v-if=\"modelValue.consent_type_discharge\"\n                    class=\"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium\"\n                  >\n                    Discharge Permit\n                  </span>\n                  <span\n                    v-if=\"modelValue.consent_type_water\"\n                    class=\"px-3 py-1 bg-cyan-100 text-cyan-800 rounded-full text-sm font-medium\"\n                  >\n                    Water Permit\n                  </span>\n                  <span\n                    v-if=\"modelValue.consent_type_coastal\"\n                    class=\"px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm font-medium\"\n                  >\n                    Coastal Permit\n                  </span>\n                  <span v-if=\"!hasAnyConsentType\" class=\"text-gray-500\">\n                    None selected\n                  </span>\n                </div>\n              </div>\n              <div>\n                <span class=\"text-sm text-gray-500\">Activity Status:</span>\n                <div class=\"mt-1 inline-flex items-center\">\n                  <span\n                    class=\"px-3 py-1 rounded-full text-sm font-medium\"\n                    :class=\"activityStatusClass\"\n                  >\n                    {{ modelValue.activity_status_type || 'Not specified' }}\n                  </span>\n                </div>\n              </div>\n              <div v-if=\"modelValue.activity_title\">\n                <span class=\"text-sm text-gray-500\">Activity Title:</span>\n                <p class=\"font-medium break-words\">{{ modelValue.activity_title }}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Natural Hazards -->\n        <div v-if=\"hasNaturalHazards\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Natural Hazards</h3>\n          </div>\n          <div class=\"p-4 sm:p-6\">\n            <div class=\"flex flex-wrap gap-2\">\n              <span\n                v-if=\"modelValue.hazard_flooding\"\n                class=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium inline-flex items-center gap-1\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707\" />\n                </svg>\n                Flood Hazard\n              </span>\n              <span\n                v-if=\"modelValue.hazard_earthquake\"\n                class=\"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium inline-flex items-center gap-1\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                </svg>\n                Earthquake/Fault Line\n              </span>\n              <span\n                v-if=\"modelValue.hazard_landslip\"\n                class=\"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium inline-flex items-center gap-1\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                </svg>\n                Landslip/Slope Instability\n              </span>\n              <span\n                v-if=\"modelValue.hazard_coastal\"\n                class=\"px-3 py-1 bg-cyan-100 text-cyan-800 rounded-full text-sm font-medium inline-flex items-center gap-1\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5\" />\n                </svg>\n                Coastal Hazard\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Consultation & Affected Parties -->\n        <div v-if=\"hasConsultation\" class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Consultation & Affected Parties</h3>\n          </div>\n          <div class=\"p-4 sm:p-6\">\n            <div class=\"space-y-3\">\n              <div>\n                <span class=\"text-sm text-gray-500\">Consultation Undertaken:</span>\n                <p class=\"font-medium\">{{ modelValue.consultation_undertaken || 'Not specified' }}</p>\n              </div>\n              <div v-if=\"modelValue.consultation_summary\">\n                <span class=\"text-sm text-gray-500\">Consultation Summary:</span>\n                <p class=\"text-sm mt-1 line-clamp-3\">{{ modelValue.consultation_summary }}</p>\n              </div>\n              <div v-if=\"modelValue.affected_parties_details\">\n                <span class=\"text-sm text-gray-500\">Affected Parties:</span>\n                <p class=\"text-sm mt-1 line-clamp-3\">{{ stripHtml(modelValue.affected_parties_details) }}</p>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <svg\n                  class=\"w-5 h-5\"\n                  :class=\"modelValue.written_approvals_obtained ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span :class=\"modelValue.written_approvals_obtained ? 'text-gray-900' : 'text-gray-500'\">\n                  Written Approvals {{ modelValue.written_approvals_obtained ? 'Obtained' : 'Not Obtained' }}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- AEE Summary -->\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Assessment of Environmental Effects</h3>\n          </div>\n          <div class=\"p-4 sm:p-6\">\n            <div class=\"space-y-4\">\n              <div v-if=\"modelValue.activity_description\">\n                <span class=\"text-sm text-gray-500\">Activity Description:</span>\n                <div class=\"text-sm mt-1 line-clamp-3\" v-html=\"modelValue.activity_description\"></div>\n              </div>\n              <div v-if=\"modelValue.aee_full_assessment\">\n                <span class=\"text-sm text-gray-500\">Full Assessment:</span>\n                <div class=\"text-sm mt-1 line-clamp-3\" v-html=\"modelValue.aee_full_assessment\"></div>\n              </div>\n              <div v-if=\"modelValue.positive_effects_description\">\n                <span class=\"text-sm text-gray-500\">Positive Effects:</span>\n                <p class=\"text-sm mt-1 line-clamp-3\">{{ modelValue.positive_effects_description }}</p>\n              </div>\n              <div v-if=\"modelValue.effects_visual_amenity || modelValue.effects_traffic_parking || modelValue.effects_noise\">\n                <span class=\"text-sm text-gray-500\">Adverse Effects Summary:</span>\n                <ul class=\"text-sm mt-1 space-y-1 list-disc list-inside\">\n                  <li v-if=\"modelValue.effects_visual_amenity\">Visual/Amenity: {{ truncate(modelValue.effects_visual_amenity, 50) }}</li>\n                  <li v-if=\"modelValue.effects_traffic_parking\">Traffic/Parking: {{ truncate(modelValue.effects_traffic_parking, 50) }}</li>\n                  <li v-if=\"modelValue.effects_noise\">Noise: {{ truncate(modelValue.effects_noise, 50) }}</li>\n                </ul>\n              </div>\n              <div v-if=\"modelValue.mitigation_measures\">\n                <span class=\"text-sm text-gray-500\">Mitigation Measures:</span>\n                <div class=\"text-sm mt-1 line-clamp-3\" v-html=\"modelValue.mitigation_measures\"></div>\n              </div>\n              <p v-if=\"!hasAEEContent\" class=\"text-gray-500 text-sm\">\n                AEE not yet completed\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Statutory Declarations -->\n        <div class=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div class=\"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <h3 class=\"font-semibold text-gray-900 text-sm sm:text-base\">Statutory Declarations</h3>\n          </div>\n          <div class=\"p-4 sm:p-6\">\n            <div class=\"space-y-2\">\n              <div class=\"flex items-start gap-2\">\n                <svg\n                  class=\"w-5 h-5 flex-shrink-0 mt-0.5\"\n                  :class=\"(modelValue.declaration_accuracy || modelValue.declaration_rma_compliance) ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span class=\"text-sm\" :class=\"(modelValue.declaration_accuracy || modelValue.declaration_rma_compliance) ? 'text-gray-900' : 'text-gray-500'\">\n                  Declaration of Accuracy & RMA Compliance\n                </span>\n              </div>\n              <div class=\"flex items-start gap-2\">\n                <svg\n                  class=\"w-5 h-5 flex-shrink-0 mt-0.5\"\n                  :class=\"(modelValue.declaration_authority || modelValue.declaration_authorized) ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span class=\"text-sm\" :class=\"(modelValue.declaration_authority || modelValue.declaration_authorized) ? 'text-gray-900' : 'text-gray-500'\">\n                  Declaration of Authority to Apply\n                </span>\n              </div>\n              <div class=\"flex items-start gap-2\">\n                <svg\n                  class=\"w-5 h-5 flex-shrink-0 mt-0.5\"\n                  :class=\"(modelValue.declaration_acknowledgment || modelValue.declaration_public_information) ? 'text-green-600' : 'text-gray-400'\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span class=\"text-sm\" :class=\"(modelValue.declaration_acknowledgment || modelValue.declaration_public_information) ? 'text-gray-900' : 'text-gray-500'\">\n                  Public Information & Privacy Acknowledgment\n                </span>\n              </div>\n              <div v-if=\"modelValue.applicant_signature\" class=\"mt-4 pt-4 border-t border-gray-200\">\n                <span class=\"text-sm text-gray-500\">Signed by:</span>\n                <p class=\"font-medium\">{{ modelValue.applicant_signature }}</p>\n                <p v-if=\"modelValue.signature_date\" class=\"text-sm text-gray-500\">\n                  Date: {{ formatSignatureDate(modelValue.signature_date) }}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <!-- Important Notice -->\n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 sm:p-6\">\n        <div class=\"flex items-start gap-2 sm:gap-3\">\n          <svg class=\"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n          <div>\n            <h4 class=\"font-semibold text-yellow-900 text-sm sm:text-base\">Before You Submit</h4>\n            <ul class=\"mt-2 text-xs sm:text-sm text-yellow-800 space-y-1 list-disc list-inside\">\n              <li>Review all information carefully for accuracy and completeness</li>\n              <li>Ensure all required fields are completed</li>\n              <li>For Resource Consent applications, verify all statutory declarations are confirmed</li>\n              <li>Once submitted, you cannot edit the application (you may need to withdraw and resubmit)</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <!-- Completeness Check -->\n      <div v-if=\"!isComplete\" class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <div class=\"flex items-start gap-2 sm:gap-3\">\n          <svg class=\"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h5 class=\"font-semibold text-red-900 text-xs sm:text-sm\">Application Incomplete</h5>\n            <p class=\"text-red-800 text-xs sm:text-sm mt-1\">\n              Please complete all required sections before submitting. Use the Previous button to go back and fill in missing information.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  councilName: {\n    type: String,\n    default: 'Council'\n  },\n  requestTypeName: {\n    type: String,\n    default: 'Application'\n  },\n  applicationFee: {\n    type: String,\n    default: 'TBD'\n  },\n  isResourceConsent: {\n    type: Boolean,\n    default: false\n  },\n  stepConfigs: {\n    type: Array,\n    default: () => []\n  },\n  usesConfigurableSteps: {\n    type: Boolean,\n    default: false\n  },\n  requestTypeDetails: {\n    type: Object,\n    default: null\n  }\n})\n\n// Filter steps that should show on review\nconst reviewSections = computed(() => {\n  if (!props.usesConfigurableSteps || !props.stepConfigs) {\n    return []\n  }\n\n  return props.stepConfigs.filter(step => step.show_on_review)\n})\n\n// Check if property details should be displayed\nconst hasPropertyDetails = computed(() => {\n  // Always show for resource consent\n  if (props.isResourceConsent) {\n    return true\n  }\n\n  // Check if property data actually exists in the request\n  return !!(props.modelValue.property || props.modelValue.property_address)\n})\n\n// Check if a step has any content to show on review\nconst hasReviewContent = (step) => {\n  if (!step.sections) return false\n\n  for (const section of step.sections) {\n    if (!section.show_on_review) continue\n\n    for (const field of section.fields) {\n      if (field.show_on_review && props.modelValue[field.field_name]) {\n        return true\n      }\n    }\n  }\n\n  return false\n}\n\n// Format field value for display\nconst formatFieldValue = (field, value) => {\n  if (value === undefined || value === null || value === '') {\n    return 'Not provided'\n  }\n\n  // Check field type\n  if (field.field_type === 'Check') {\n    return value ? 'Yes' : 'No'\n  }\n\n  if (field.field_type === 'Date' && value) {\n    // Format date nicely\n    try {\n      return new Date(value).toLocaleDateString('en-NZ', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })\n    } catch (e) {\n      return value\n    }\n  }\n\n  if (field.field_type === 'Currency' && value) {\n    return `${Number(value).toLocaleString('en-PH', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`\n  }\n\n  if (field.field_type === 'Select') {\n    return value\n  }\n\n  if (field.field_type === 'Attach' || field.field_type === 'Attach Image') {\n    return value ? ' File attached' : 'Not provided'\n  }\n\n  return value\n}\n\n// RC-specific computed properties\nconst hasAnyConsentType = computed(() => {\n  return !!(\n    props.modelValue.consent_type_land_use ||\n    props.modelValue.consent_type_subdivision ||\n    props.modelValue.consent_type_discharge ||\n    props.modelValue.consent_type_water ||\n    props.modelValue.consent_type_coastal\n  )\n})\n\nconst activityStatusClass = computed(() => {\n  const status = props.modelValue.activity_status_type\n  if (status === 'Permitted') return 'bg-green-100 text-green-800'\n  if (status === 'Controlled') return 'bg-blue-100 text-blue-800'\n  if (status === 'Restricted Discretionary') return 'bg-yellow-100 text-yellow-800'\n  if (status === 'Discretionary') return 'bg-orange-100 text-orange-800'\n  if (status === 'Non-Complying') return 'bg-red-100 text-red-800'\n  if (status === 'Prohibited') return 'bg-gray-800 text-white'\n  return 'bg-gray-100 text-gray-800'\n})\n\nconst hasNaturalHazards = computed(() => {\n  return !!(\n    props.modelValue.hazard_flooding ||\n    props.modelValue.hazard_earthquake ||\n    props.modelValue.hazard_landslip ||\n    props.modelValue.hazard_coastal\n  )\n})\n\nconst hasConsultation = computed(() => {\n  return !!(\n    props.modelValue.consultation_undertaken ||\n    props.modelValue.consultation_summary ||\n    props.modelValue.affected_parties_details ||\n    props.modelValue.written_approvals_obtained\n  )\n})\n\nconst hasAEEContent = computed(() => {\n  return !!(\n    props.modelValue.activity_description ||\n    props.modelValue.aee_full_assessment ||\n    props.modelValue.positive_effects_description ||\n    props.modelValue.effects_visual_amenity ||\n    props.modelValue.effects_traffic_parking ||\n    props.modelValue.effects_noise ||\n    props.modelValue.mitigation_measures ||\n    // Legacy fields\n    props.modelValue.aee_activity_description ||\n    props.modelValue.aee_existing_environment ||\n    props.modelValue.assessment_of_effects ||\n    props.modelValue.aee_document\n  )\n})\n\n// Helper functions\nconst stripHtml = (html) => {\n  if (!html) return ''\n  const tmp = document.createElement('div')\n  tmp.innerHTML = html\n  return tmp.textContent || tmp.innerText || ''\n}\n\nconst truncate = (text, maxLength) => {\n  if (!text) return ''\n  const clean = stripHtml(text)\n  if (clean.length <= maxLength) return clean\n  return clean.substring(0, maxLength) + '...'\n}\n\nconst formatSignatureDate = (dateStr) => {\n  if (!dateStr) return ''\n  try {\n    return new Date(dateStr).toLocaleDateString('en-NZ', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    })\n  } catch (e) {\n    return dateStr\n  }\n}\n\nconst isComplete = computed(() => {\n  // Basic required fields\n  const hasBasicInfo = !!(\n    props.modelValue.council &&\n    props.modelValue.request_type &&\n    props.modelValue.applicant_name &&\n    props.modelValue.applicant_email &&\n    props.modelValue.property_address &&\n    props.modelValue.delivery_preference\n  )\n\n  // If RC, check additional requirements\n  if (props.isResourceConsent) {\n    const hasRCRequirements = !!(\n      hasAnyConsentType.value &&\n      props.modelValue.activity_status_type &&\n      props.modelValue.activity_description &&\n      props.modelValue.aee_full_assessment &&\n      props.modelValue.declaration_accuracy &&\n      props.modelValue.declaration_authority &&\n      props.modelValue.declaration_acknowledgment\n    )\n    return hasBasicInfo && hasRCRequirements\n  }\n\n  return hasBasicInfo\n})\n</script>\n\n<style scoped>\n.line-clamp-3 {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style>\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","<template>\n  <div class=\"space-y-4\">\n    <!-- Upload Label -->\n    <label class=\"block\">\n      <span class=\"text-sm font-medium text-gray-900\">\n        {{ label }}\n        <span v-if=\"required\" class=\"text-red-500\">*</span>\n      </span>\n      <p v-if=\"helpText\" class=\"text-xs text-gray-500 mt-1\">{{ helpText }}</p>\n    </label>\n\n    <!-- Upload Options -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <!-- Camera Capture Button -->\n      <button\n        v-if=\"allowCamera\"\n        @click=\"openCamera\"\n        type=\"button\"\n        class=\"relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-blue-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group\"\n        :class=\"{ 'opacity-50 cursor-not-allowed': uploading }\"\n        :disabled=\"uploading\"\n      >\n        <div class=\"text-center\">\n          <svg class=\"mx-auto h-10 w-10 text-blue-500 group-hover:text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\n          </svg>\n          <p class=\"mt-2 text-sm font-medium text-blue-600 group-hover:text-blue-700\">Take Photo</p>\n          <p class=\"text-xs text-gray-500\">Use camera</p>\n        </div>\n      </button>\n\n      <!-- File Upload Button -->\n      <button\n        @click=\"triggerFileInput\"\n        type=\"button\"\n        class=\"relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group\"\n        :class=\"{ 'opacity-50 cursor-not-allowed': uploading }\"\n        :disabled=\"uploading\"\n      >\n        <div class=\"text-center\">\n          <svg class=\"mx-auto h-10 w-10 text-gray-400 group-hover:text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n          </svg>\n          <p class=\"mt-2 text-sm font-medium text-gray-700 group-hover:text-blue-700\">Upload File</p>\n          <p class=\"text-xs text-gray-500\">Browse {{ multiple ? 'files' : 'file' }}</p>\n        </div>\n        <input\n          ref=\"fileInput\"\n          type=\"file\"\n          :accept=\"accept\"\n          :multiple=\"multiple\"\n          @change=\"handleFileSelect\"\n          class=\"hidden\"\n        />\n      </button>\n    </div>\n\n    <!-- Upload Progress -->\n    <div v-if=\"uploading\" class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n      <div class=\"flex items-center space-x-3\">\n        <svg class=\"animate-spin h-5 w-5 text-blue-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n          <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n        <div class=\"flex-1\">\n          <p class=\"text-sm font-medium text-blue-900\">Uploading...</p>\n          <div class=\"mt-1 w-full bg-blue-200 rounded-full h-2\">\n            <div class=\"bg-blue-600 h-2 rounded-full transition-all\" :style=\"{ width: uploadProgress + '%' }\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Uploaded Files List -->\n    <div v-if=\"files.length > 0\" class=\"space-y-2\">\n      <TransitionGroup name=\"list\">\n        <div\n          v-for=\"(file, index) in files\"\n          :key=\"file.name + index\"\n          class=\"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg group hover:bg-green-100 transition-colors\"\n        >\n          <div class=\"flex items-center space-x-3 flex-1 min-w-0\">\n            <!-- File Icon/Preview -->\n            <div class=\"flex-shrink-0\">\n              <div v-if=\"file.preview\" class=\"w-12 h-12 rounded-lg overflow-hidden border-2 border-green-300\">\n                <img :src=\"file.preview\" :alt=\"file.name\" class=\"w-full h-full object-cover\" />\n              </div>\n              <div v-else class=\"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center\">\n                <svg class=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n              </div>\n            </div>\n\n            <!-- File Info -->\n            <div class=\"flex-1 min-w-0\">\n              <p class=\"text-sm font-medium text-gray-900 truncate\">{{ file.name }}</p>\n              <p class=\"text-xs text-gray-500\">{{ formatFileSize(file.size) }}</p>\n            </div>\n\n            <!-- Remove Button -->\n            <button\n              @click=\"removeFile(index)\"\n              type=\"button\"\n              class=\"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-lg transition-colors\"\n              title=\"Remove\"\n            >\n              <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </TransitionGroup>\n    </div>\n\n    <!-- Camera Modal -->\n    <Teleport to=\"body\">\n      <div\n        v-if=\"showCamera\"\n        class=\"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4\"\n        @click.self=\"closeCamera\"\n      >\n        <div class=\"bg-white rounded-2xl max-w-2xl w-full overflow-hidden shadow-2xl\">\n          <!-- Camera Header -->\n          <div class=\"bg-gray-900 px-6 py-4 flex items-center justify-between\">\n            <h3 class=\"text-white font-semibold text-lg\">Take Photo</h3>\n            <button\n              @click=\"closeCamera\"\n              class=\"text-gray-400 hover:text-white transition-colors\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          <!-- Camera View -->\n          <div class=\"relative bg-black aspect-video\">\n            <video\n              v-if=\"!capturedImage\"\n              ref=\"videoElement\"\n              autoplay\n              playsinline\n              class=\"w-full h-full object-contain\"\n            ></video>\n            <img\n              v-else\n              :src=\"capturedImage\"\n              alt=\"Captured\"\n              class=\"w-full h-full object-contain\"\n            />\n\n            <!-- Camera Overlay Grid -->\n            <div v-if=\"!capturedImage\" class=\"absolute inset-0 pointer-events-none\">\n              <div class=\"w-full h-full grid grid-cols-3 grid-rows-3\">\n                <div v-for=\"i in 9\" :key=\"i\" class=\"border border-white/20\"></div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Camera Controls -->\n          <div class=\"bg-gray-900 px-6 py-6\">\n            <div v-if=\"!capturedImage\" class=\"flex items-center justify-center space-x-6\">\n              <button\n                @click=\"capturePhoto\"\n                type=\"button\"\n                class=\"w-16 h-16 rounded-full bg-white border-4 border-gray-700 hover:border-blue-500 transition-all flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105\"\n              >\n                <div class=\"w-12 h-12 rounded-full bg-blue-500\"></div>\n              </button>\n            </div>\n            <div v-else class=\"flex items-center justify-center space-x-4\">\n              <button\n                @click=\"retakePhoto\"\n                type=\"button\"\n                class=\"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium\"\n              >\n                Retake\n              </button>\n              <button\n                @click=\"usePhoto\"\n                type=\"button\"\n                class=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium\"\n              >\n                Use Photo\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  label: {\n    type: String,\n    required: true\n  },\n  helpText: {\n    type: String,\n    default: ''\n  },\n  modelValue: {\n    type: Array,\n    default: () => []\n  },\n  accept: {\n    type: String,\n    default: 'image/*,.pdf'\n  },\n  multiple: {\n    type: Boolean,\n    default: false\n  },\n  required: {\n    type: Boolean,\n    default: false\n  },\n  allowCamera: {\n    type: Boolean,\n    default: true\n  },\n  maxSize: {\n    type: Number,\n    default: 20 * 1024 * 1024 // 20MB\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'upload'])\n\nconst fileInput = ref(null)\nconst videoElement = ref(null)\nconst showCamera = ref(false)\nconst capturedImage = ref(null)\nconst mediaStream = ref(null)\nconst uploading = ref(false)\nconst uploadProgress = ref(0)\n\nconst files = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Trigger file input\nconst triggerFileInput = () => {\n  fileInput.value?.click()\n}\n\n// Handle file selection\nconst handleFileSelect = async (event) => {\n  const selectedFiles = Array.from(event.target.files)\n  await processFiles(selectedFiles)\n  event.target.value = '' // Reset input\n}\n\n// Process files\nconst processFiles = async (selectedFiles) => {\n  const validFiles = []\n\n  for (const file of selectedFiles) {\n    // Validate file size\n    if (file.size > props.maxSize) {\n      alert(`File ${file.name} exceeds maximum size of ${formatFileSize(props.maxSize)}`)\n      continue\n    }\n\n    // Create preview for images\n    let preview = null\n    if (file.type.startsWith('image/')) {\n      preview = await createImagePreview(file)\n    }\n\n    validFiles.push({\n      file: file,\n      name: file.name,\n      size: file.size,\n      type: file.type,\n      preview: preview,\n      uploadDate: new Date().toISOString()\n    })\n  }\n\n  if (validFiles.length > 0) {\n    const newFiles = props.multiple ? [...files.value, ...validFiles] : validFiles\n    emit('update:modelValue', newFiles)\n\n    // Auto-upload files\n    await uploadFiles(validFiles)\n  }\n}\n\n// Create image preview\nconst createImagePreview = (file) => {\n  return new Promise((resolve) => {\n    const reader = new FileReader()\n    reader.onload = (e) => resolve(e.target.result)\n    reader.onerror = () => resolve(null)\n    reader.readAsDataURL(file)\n  })\n}\n\n// Upload files\nconst uploadFiles = async (filesToUpload) => {\n  uploading.value = true\n  uploadProgress.value = 0\n\n  try {\n    for (let i = 0; i < filesToUpload.length; i++) {\n      const fileData = filesToUpload[i]\n\n      // Simulate upload progress\n      const progressInterval = setInterval(() => {\n        uploadProgress.value = Math.min(uploadProgress.value + 10, 90)\n      }, 100)\n\n      // Emit upload event (parent component should handle actual upload)\n      await new Promise((resolve) => {\n        emit('upload', fileData, resolve)\n      })\n\n      clearInterval(progressInterval)\n      uploadProgress.value = ((i + 1) / filesToUpload.length) * 100\n    }\n  } catch (error) {\n    console.error('Upload error:', error)\n    alert('Failed to upload files. Please try again.')\n  } finally {\n    uploading.value = false\n    uploadProgress.value = 0\n  }\n}\n\n// Remove file\nconst removeFile = (index) => {\n  const newFiles = [...files.value]\n  newFiles.splice(index, 1)\n  emit('update:modelValue', newFiles)\n}\n\n// Open camera\nconst openCamera = async () => {\n  try {\n    showCamera.value = true\n    await startCamera()\n  } catch (error) {\n    console.error('Camera error:', error)\n    alert('Unable to access camera. Please check permissions or upload a file instead.')\n    showCamera.value = false\n  }\n}\n\n// Start camera\nconst startCamera = async () => {\n  try {\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: { facingMode: 'environment', width: { ideal: 1920 }, height: { ideal: 1080 } },\n      audio: false\n    })\n\n    mediaStream.value = stream\n\n    if (videoElement.value) {\n      videoElement.value.srcObject = stream\n    }\n  } catch (error) {\n    throw error\n  }\n}\n\n// Capture photo\nconst capturePhoto = () => {\n  const video = videoElement.value\n  const canvas = document.createElement('canvas')\n  canvas.width = video.videoWidth\n  canvas.height = video.videoHeight\n\n  const context = canvas.getContext('2d')\n  context.drawImage(video, 0, 0, canvas.width, canvas.height)\n\n  capturedImage.value = canvas.toDataURL('image/jpeg', 0.9)\n}\n\n// Retake photo\nconst retakePhoto = () => {\n  capturedImage.value = null\n}\n\n// Use photo\nconst usePhoto = async () => {\n  if (!capturedImage.value) return\n\n  // Convert base64 to File\n  const blob = await (await fetch(capturedImage.value)).blob()\n  const file = new File([blob], `photo-${Date.now()}.jpg`, { type: 'image/jpeg' })\n\n  await processFiles([file])\n  closeCamera()\n}\n\n// Close camera\nconst closeCamera = () => {\n  if (mediaStream.value) {\n    mediaStream.value.getTracks().forEach(track => track.stop())\n    mediaStream.value = null\n  }\n  capturedImage.value = null\n  showCamera.value = false\n}\n\n// Format file size\nconst formatFileSize = (bytes) => {\n  if (bytes === 0) return '0 Bytes'\n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i]\n}\n</script>\n\n<style scoped>\n.list-enter-active,\n.list-leave-active {\n  transition: all 0.3s ease;\n}\n.list-enter-from {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n.list-leave-to {\n  opacity: 0;\n  transform: translateX(30px);\n}\n</style>\n","<template>\n  <div class=\"space-y-4\">\n    <div class=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200\">\n      <div class=\"flex items-start\">\n        <svg class=\"h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"/>\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"/>\n        </svg>\n        <div class=\"flex-1\">\n          <h3 class=\"text-sm font-semibold text-blue-900\">Residential Address</h3>\n          <p class=\"text-xs text-blue-700 mt-0.5\">Please provide your complete address details</p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <!-- Province -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Province\n          <span v-if=\"required\" class=\"text-red-500\">*</span>\n        </label>\n        <div class=\"relative\">\n          <select\n            v-model=\"localAddress.province\"\n            @change=\"onProvinceChange\"\n            :required=\"required\"\n            class=\"block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localAddress.province}\"\n          >\n            <option value=\"\">Select Province</option>\n            <option v-for=\"province in provinces\" :key=\"province\" :value=\"province\">\n              {{ province }}\n            </option>\n          </select>\n          <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/>\n            </svg>\n          </div>\n        </div>\n      </div>\n\n      <!-- Municipality/City -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Municipality/City\n          <span v-if=\"required\" class=\"text-red-500\">*</span>\n        </label>\n        <div class=\"relative\">\n          <select\n            v-model=\"localAddress.municipality\"\n            @change=\"onMunicipalityChange\"\n            :required=\"required\"\n            :disabled=\"!localAddress.province\"\n            class=\"block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localAddress.municipality}\"\n          >\n            <option value=\"\">Select Municipality/City</option>\n            <option v-for=\"municipality in municipalities\" :key=\"municipality\" :value=\"municipality\">\n              {{ municipality }}\n            </option>\n          </select>\n          <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"!localAddress.province\" class=\"mt-1 text-xs text-gray-500\">Select province first</p>\n      </div>\n\n      <!-- Barangay -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Barangay\n          <span v-if=\"required\" class=\"text-red-500\">*</span>\n        </label>\n        <div class=\"relative\">\n          <select\n            v-model=\"localAddress.barangay\"\n            @change=\"updateAddress\"\n            :required=\"required\"\n            :disabled=\"!localAddress.municipality\"\n            class=\"block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localAddress.barangay}\"\n          >\n            <option value=\"\">Select Barangay</option>\n            <option v-for=\"barangay in barangays\" :key=\"barangay\" :value=\"barangay\">\n              {{ barangay }}\n            </option>\n          </select>\n          <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"!localAddress.municipality\" class=\"mt-1 text-xs text-gray-500\">Select municipality first</p>\n      </div>\n\n      <!-- Street Address -->\n      <div>\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Street / House No.\n          <span v-if=\"required\" class=\"text-red-500\">*</span>\n        </label>\n        <input\n          v-model=\"localAddress.street\"\n          @input=\"updateAddress\"\n          type=\"text\"\n          :required=\"required\"\n          placeholder=\"e.g., 123 Main Street, Blk 5 Lot 10\"\n          class=\"block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n          :class=\"{'border-blue-500 ring-2 ring-blue-100': localAddress.street}\"\n        />\n      </div>\n\n      <!-- ZIP Code -->\n      <div class=\"md:col-span-2\">\n        <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n          ZIP Code\n          <span class=\"text-gray-500 text-xs font-normal\">(Optional)</span>\n        </label>\n        <input\n          v-model=\"localAddress.zipCode\"\n          @input=\"updateAddress\"\n          type=\"text\"\n          placeholder=\"e.g., 1630\"\n          maxlength=\"4\"\n          class=\"block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all max-w-xs\"\n        />\n      </div>\n    </div>\n\n    <!-- Address Preview -->\n    <div v-if=\"fullAddress\" class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n      <div class=\"flex items-start\">\n        <svg class=\"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"/>\n        </svg>\n        <div class=\"flex-1\">\n          <p class=\"text-sm font-medium text-green-900\">Complete Address</p>\n          <p class=\"text-sm text-green-700 mt-1\">{{ fullAddress }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: [String, Object],\n    default: ''\n  },\n  required: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localAddress = ref({\n  street: '',\n  barangay: '',\n  municipality: '',\n  province: '',\n  zipCode: ''\n})\n\n// Philippines provinces (major ones - can be expanded)\nconst provinces = [\n  'Metro Manila',\n  'Rizal',\n  'Cavite',\n  'Laguna',\n  'Bulacan',\n  'Pampanga',\n  'Batangas',\n  'Quezon',\n  'Cebu',\n  'Davao del Sur',\n  'Benguet',\n  'Iloilo',\n  'Negros Occidental',\n  'Pangasinan',\n  'Albay'\n]\n\n// Municipalities by province (can be expanded with API)\nconst municipalitiesData = {\n  'Metro Manila': [\n    'Manila City',\n    'Quezon City',\n    'Makati City',\n    'Pasig City',\n    'Taguig City',\n    'Mandaluyong City',\n    'Pasay City',\n    'Paraaque City',\n    'Las Pias City',\n    'Muntinlupa City',\n    'Caloocan City',\n    'Malabon City',\n    'Navotas City',\n    'Valenzuela City',\n    'Marikina City',\n    'San Juan City',\n    'Pateros'\n  ],\n  'Rizal': [\n    'Taytay',\n    'Antipolo City',\n    'Cainta',\n    'Binangonan',\n    'San Mateo',\n    'Rodriguez (Montalban)',\n    'Angono',\n    'Cardona',\n    'Jalajala',\n    'Morong',\n    'Pililla',\n    'Tanay',\n    'Teresa',\n    'Baras'\n  ],\n  'Cavite': [\n    'Bacoor City',\n    'Cavite City',\n    'Dasmarinas City',\n    'Imus City',\n    'Tagaytay City',\n    'Trece Martires City',\n    'General Trias',\n    'Silang',\n    'Kawit',\n    'Noveleta',\n    'Rosario',\n    'Tanza',\n    'Naic'\n  ]\n}\n\n// Barangays by municipality (sample data - Taytay as example)\nconst barangaysData = {\n  'Taytay': [\n    'Dolores',\n    'San Juan',\n    'Muzon',\n    'San Isidro',\n    'Sta. Ana',\n    'Poblacion',\n    'Bagumbayan',\n    'Bamban',\n    'Calumpang',\n    'Dalig',\n    'Dolores',\n    'San Juan',\n    'Muzon'\n  ],\n  'Manila City': [\n    'Ermita',\n    'Intramuros',\n    'Malate',\n    'Paco',\n    'Pandacan',\n    'Port Area',\n    'Quiapo',\n    'Sampaloc',\n    'San Andres',\n    'San Miguel',\n    'San Nicolas',\n    'Santa Ana',\n    'Santa Cruz',\n    'Santa Mesa',\n    'Tondo'\n  ],\n  'Quezon City': [\n    'Bagong Pag-asa',\n    'Bahay Toro',\n    'Batasan Hills',\n    'Commonwealth',\n    'Cubao',\n    'Fairview',\n    'Kamuning',\n    'Novaliches',\n    'Project 4',\n    'Tatalon',\n    'Teacher\\'s Village'\n  ]\n}\n\nconst municipalities = computed(() => {\n  if (!localAddress.value.province) return []\n  return municipalitiesData[localAddress.value.province] || []\n})\n\nconst barangays = computed(() => {\n  if (!localAddress.value.municipality) return []\n  return barangaysData[localAddress.value.municipality] || ['Other - Please specify in Street field']\n})\n\nconst fullAddress = computed(() => {\n  const parts = []\n  if (localAddress.value.street) parts.push(localAddress.value.street)\n  if (localAddress.value.barangay) parts.push(`Brgy. ${localAddress.value.barangay}`)\n  if (localAddress.value.municipality) parts.push(localAddress.value.municipality)\n  if (localAddress.value.province) parts.push(localAddress.value.province)\n  if (localAddress.value.zipCode) parts.push(localAddress.value.zipCode)\n\n  return parts.length > 0 ? parts.join(', ') : ''\n})\n\nconst onProvinceChange = () => {\n  // Reset dependent fields when province changes\n  localAddress.value.municipality = ''\n  localAddress.value.barangay = ''\n  updateAddress()\n}\n\nconst onMunicipalityChange = () => {\n  // Reset barangay when municipality changes\n  localAddress.value.barangay = ''\n  updateAddress()\n}\n\nconst updateAddress = () => {\n  emit('update:modelValue', fullAddress.value)\n}\n\n// Initialize from modelValue if provided\nonMounted(() => {\n  if (props.modelValue) {\n    if (typeof props.modelValue === 'string') {\n      // Try to parse string address\n      // This is a simple parser - can be enhanced\n      const parts = props.modelValue.split(',').map(p => p.trim())\n      if (parts.length >= 3) {\n        localAddress.value.street = parts[0] || ''\n        localAddress.value.barangay = parts[1]?.replace('Brgy. ', '') || ''\n        localAddress.value.municipality = parts[2] || ''\n        localAddress.value.province = parts[3] || ''\n        localAddress.value.zipCode = parts[4] || ''\n      }\n    } else if (typeof props.modelValue === 'object') {\n      localAddress.value = { ...localAddress.value, ...props.modelValue }\n    }\n  }\n})\n\n// Watch for external changes\nwatch(() => props.modelValue, (newVal) => {\n  if (newVal && typeof newVal === 'object') {\n    localAddress.value = { ...localAddress.value, ...newVal }\n  }\n})\n</script>\n","<template>\n  <div class=\"inline-block relative group\">\n    <slot name=\"trigger\">\n      <button\n        type=\"button\"\n        class=\"inline-flex items-center justify-center w-5 h-5 ml-1 text-gray-400 hover:text-blue-600 rounded-full hover:bg-blue-50 transition-colors cursor-help\"\n        @mouseenter=\"showTooltip = true\"\n        @mouseleave=\"showTooltip = false\"\n      >\n        <svg class=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z\" clip-rule=\"evenodd\"/>\n        </svg>\n      </button>\n    </slot>\n\n    <Transition name=\"tooltip\">\n      <div\n        v-if=\"showTooltip\"\n        class=\"absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg pointer-events-none\"\n        :class=\"tooltipPositionClass\"\n        style=\"max-width: 300px; white-space: normal;\"\n      >\n        <slot>{{ text }}</slot>\n        <div class=\"tooltip-arrow\" :class=\"arrowPositionClass\"></div>\n      </div>\n    </Transition>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  text: {\n    type: String,\n    default: ''\n  },\n  position: {\n    type: String,\n    default: 'top',\n    validator: (value) => ['top', 'bottom', 'left', 'right'].includes(value)\n  }\n})\n\nconst showTooltip = ref(false)\n\nconst tooltipPositionClass = computed(() => {\n  switch (props.position) {\n    case 'top':\n      return 'bottom-full left-1/2 -translate-x-1/2 mb-2'\n    case 'bottom':\n      return 'top-full left-1/2 -translate-x-1/2 mt-2'\n    case 'left':\n      return 'right-full top-1/2 -translate-y-1/2 mr-2'\n    case 'right':\n      return 'left-full top-1/2 -translate-y-1/2 ml-2'\n    default:\n      return 'bottom-full left-1/2 -translate-x-1/2 mb-2'\n  }\n})\n\nconst arrowPositionClass = computed(() => {\n  switch (props.position) {\n    case 'top':\n      return 'tooltip-arrow-bottom'\n    case 'bottom':\n      return 'tooltip-arrow-top'\n    case 'left':\n      return 'tooltip-arrow-right'\n    case 'right':\n      return 'tooltip-arrow-left'\n    default:\n      return 'tooltip-arrow-bottom'\n  }\n})\n</script>\n\n<style scoped>\n.tooltip-enter-active,\n.tooltip-leave-active {\n  transition: opacity 0.2s ease;\n}\n\n.tooltip-enter-from,\n.tooltip-leave-to {\n  opacity: 0;\n}\n\n.tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-style: solid;\n}\n\n.tooltip-arrow-bottom {\n  bottom: -4px;\n  left: 50%;\n  transform: translateX(-50%);\n  border-width: 4px 4px 0 4px;\n  border-color: #1f2937 transparent transparent transparent;\n}\n\n.tooltip-arrow-top {\n  top: -4px;\n  left: 50%;\n  transform: translateX(-50%);\n  border-width: 0 4px 4px 4px;\n  border-color: transparent transparent #1f2937 transparent;\n}\n\n.tooltip-arrow-right {\n  right: -4px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-width: 4px 0 4px 4px;\n  border-color: transparent transparent transparent #1f2937;\n}\n\n.tooltip-arrow-left {\n  left: -4px;\n  top: 50%;\n  transform: translateY(-50%);\n  border-width: 4px 4px 4px 0;\n  border-color: transparent #1f2937 transparent transparent;\n}\n</style>\n","/**\n * Conditional Logic Utility for Request Type Configuration\n *\n * Evaluates `depends_on` expressions from step_configs, step_sections, and step_fields\n *\n * Expression formats supported:\n * - eval:formData.field_name=='value'\n * - eval:formData.field_name!='value'\n * - eval:formData.field_name\n * - eval:!formData.field_name\n * - eval:formData.field_name>5\n * - eval:formData.field_name=='value1' || formData.field_name=='value2'\n * - eval:formData.field_name=='value1' && formData.other_field=='value2'\n */\n\n/**\n * Safely evaluates a depends_on expression\n *\n * @param {string} expression - The depends_on expression (e.g., \"eval:formData.applicant_type=='Company'\")\n * @param {object} formData - The current form data\n * @returns {boolean} - True if condition is met, false otherwise\n */\nexport function evaluateCondition(expression, formData) {\n  // If no expression, always show\n  if (!expression || expression.trim() === '') {\n    return true\n  }\n\n  // Remove 'eval:' prefix if present\n  let cleanExpression = expression.trim()\n  if (cleanExpression.startsWith('eval:')) {\n    cleanExpression = cleanExpression.substring(5).trim()\n  }\n\n  try {\n    // Create a safe evaluation context with only formData\n    // This prevents access to dangerous globals like window, document, etc.\n    const safeEval = new Function('formData', `\n      'use strict';\n      try {\n        return Boolean(${cleanExpression});\n      } catch (e) {\n        console.warn('[Conditional Logic] Evaluation error:', e.message);\n        return false;\n      }\n    `)\n\n    const result = safeEval(formData)\n    return result\n  } catch (error) {\n    console.error('[Conditional Logic] Failed to evaluate expression:', expression, error)\n    // On error, default to showing the field/section (fail open)\n    return true\n  }\n}\n\n/**\n * Evaluates step visibility based on depends_on\n *\n * @param {object} step - Step config object with optional depends_on\n * @param {object} formData - Current form data\n * @returns {boolean} - Whether step should be visible\n */\nexport function isStepVisible(step, formData) {\n  if (!step) return false\n  if (!step.is_enabled) return false\n  if (!step.depends_on) return true\n\n  return evaluateCondition(step.depends_on, formData)\n}\n\n/**\n * Evaluates section visibility based on depends_on\n *\n * @param {object} section - Section config object with optional depends_on\n * @param {object} formData - Current form data\n * @returns {boolean} - Whether section should be visible\n */\nexport function isSectionVisible(section, formData) {\n  if (!section) return false\n  if (!section.is_enabled) return false\n  if (!section.depends_on) return true\n\n  return evaluateCondition(section.depends_on, formData)\n}\n\n/**\n * Evaluates field visibility based on depends_on\n *\n * @param {object} field - Field config object with optional depends_on\n * @param {object} formData - Current form data\n * @returns {boolean} - Whether field should be visible\n */\nexport function isFieldVisible(field, formData) {\n  if (!field) return false\n  if (!field.depends_on) return true\n\n  return evaluateCondition(field.depends_on, formData)\n}\n\n/**\n * Filters an array of items based on their depends_on conditions\n *\n * @param {array} items - Array of steps/sections/fields with optional depends_on\n * @param {object} formData - Current form data\n * @param {function} visibilityFn - Function to check visibility (isStepVisible, isSectionVisible, isFieldVisible)\n * @returns {array} - Filtered array of visible items\n */\nexport function filterVisibleItems(items, formData, visibilityFn) {\n  if (!items || !Array.isArray(items)) return []\n\n  return items.filter(item => visibilityFn(item, formData))\n}\n\n/**\n * Example expressions and their evaluations:\n *\n * Expression: \"eval:formData.applicant_type=='Company'\"\n * formData: { applicant_type: 'Company' }\n * Result: true\n *\n * Expression: \"eval:formData.has_agent\"\n * formData: { has_agent: 1 }\n * Result: true\n *\n * Expression: \"eval:!formData.has_agent\"\n * formData: { has_agent: 0 }\n * Result: true\n *\n * Expression: \"eval:formData.age>65\"\n * formData: { age: 70 }\n * Result: true\n *\n * Expression: \"eval:formData.consent_type=='Land Use' || formData.consent_type=='Subdivision'\"\n * formData: { consent_type: 'Land Use' }\n * Result: true\n */\n","/**\n * Field Validation Utility for Request Type Configuration\n *\n * Executes validation JavaScript from step_fields configuration\n *\n * Validation formats supported:\n * - \"email\" - Email format validation\n * - \"phone\" - Phone number validation\n * - \"url\" - URL format validation\n * - \"number\" - Numeric validation\n * - \"eval:formData.age >= 18\" - Custom JavaScript expression\n * - \"eval:formData.password === formData.confirm_password\" - Field comparison\n */\n\n/**\n * Validates an email address\n * @param {string} value - Email to validate\n * @returns {boolean} - True if valid email\n */\nfunction validateEmail(value) {\n\tif (!value) return true // Empty is valid (use is_required for mandatory)\n\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n\treturn emailRegex.test(value)\n}\n\n/**\n * Validates a phone number\n * @param {string} value - Phone to validate\n * @returns {boolean} - True if valid phone\n */\nfunction validatePhone(value) {\n\tif (!value) return true\n\t// Accepts: +64 21 123 4567, 021234567, (021) 123-4567, etc.\n\tconst phoneRegex = /^[\\+]?[(]?[0-9]{1,4}[)]?[-\\s\\.]?[(]?[0-9]{1,4}[)]?[-\\s\\.]?[0-9]{1,9}$/\n\treturn phoneRegex.test(value.replace(/\\s/g, ''))\n}\n\n/**\n * Validates a URL\n * @param {string} value - URL to validate\n * @returns {boolean} - True if valid URL\n */\nfunction validateUrl(value) {\n\tif (!value) return true\n\ttry {\n\t\tnew URL(value)\n\t\treturn true\n\t} catch {\n\t\treturn false\n\t}\n}\n\n/**\n * Validates a number\n * @param {*} value - Value to validate\n * @returns {boolean} - True if valid number\n */\nfunction validateNumber(value) {\n\tif (value === '' || value === null || value === undefined) return true\n\treturn !isNaN(parseFloat(value)) && isFinite(value)\n}\n\n/**\n * Safely evaluates a custom validation expression\n *\n * @param {string} expression - The validation expression (e.g., \"eval:formData.age >= 18\")\n * @param {*} value - The field value\n * @param {object} formData - The current form data\n * @returns {boolean} - True if validation passes\n */\nfunction evaluateCustomValidation(expression, value, formData) {\n\t// Remove 'eval:' prefix if present\n\tlet cleanExpression = expression.trim()\n\tif (cleanExpression.startsWith('eval:')) {\n\t\tcleanExpression = cleanExpression.substring(5).trim()\n\t}\n\n\ttry {\n\t\t// Create a safe evaluation context with formData and value\n\t\t// This prevents access to dangerous globals like window, document, etc.\n\t\tconst safeEval = new Function('formData', 'value', `\n\t\t\t'use strict';\n\t\t\ttry {\n\t\t\t\treturn Boolean(${cleanExpression});\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn('[Field Validation] Evaluation error:', e.message);\n\t\t\t\treturn true; // Fail open on evaluation error\n\t\t\t}\n\t\t`)\n\n\t\tconst result = safeEval(formData, value)\n\t\treturn result\n\t} catch (error) {\n\t\tconsole.error('[Field Validation] Failed to evaluate expression:', expression, error)\n\t\t// On error, default to passing validation (fail open)\n\t\treturn true\n\t}\n}\n\n/**\n * Validates a field value based on validation rule\n *\n * @param {*} value - The field value to validate\n * @param {string} validation - Validation rule (email, phone, url, number, or eval:expression)\n * @param {object} formData - Current form data (for custom validations)\n * @returns {object} - {valid: boolean, message: string}\n */\nexport function validateField(value, validation, formData = {}) {\n\tif (!validation) {\n\t\treturn { valid: true, message: '' }\n\t}\n\n\tconst validationType = validation.toLowerCase()\n\n\t// Built-in validation types\n\tswitch (validationType) {\n\t\tcase 'email':\n\t\t\tif (!validateEmail(value)) {\n\t\t\t\treturn { valid: false, message: 'Please enter a valid email address' }\n\t\t\t}\n\t\t\tbreak\n\n\t\tcase 'phone':\n\t\t\tif (!validatePhone(value)) {\n\t\t\t\treturn { valid: false, message: 'Please enter a valid phone number' }\n\t\t\t}\n\t\t\tbreak\n\n\t\tcase 'url':\n\t\t\tif (!validateUrl(value)) {\n\t\t\t\treturn { valid: false, message: 'Please enter a valid URL' }\n\t\t\t}\n\t\t\tbreak\n\n\t\tcase 'number':\n\t\t\tif (!validateNumber(value)) {\n\t\t\t\treturn { valid: false, message: 'Please enter a valid number' }\n\t\t\t}\n\t\t\tbreak\n\n\t\tdefault:\n\t\t\t// Custom validation expression (starts with eval:)\n\t\t\tif (validation.startsWith('eval:')) {\n\t\t\t\tif (!evaluateCustomValidation(validation, value, formData)) {\n\t\t\t\t\treturn { valid: false, message: 'Validation failed' }\n\t\t\t\t}\n\t\t\t}\n\t}\n\n\treturn { valid: true, message: '' }\n}\n\n/**\n * Validates all fields in a section\n *\n * @param {array} fields - Array of field objects with validation rules\n * @param {object} formData - Current form data\n * @returns {object} - {valid: boolean, errors: {fieldName: message}}\n */\nexport function validateSection(fields, formData) {\n\tconst errors = {}\n\tlet valid = true\n\n\tfields.forEach(field => {\n\t\tconst value = formData[field.field_name]\n\n\t\t// Check required\n\t\tif (field.is_required && (value === '' || value === null || value === undefined)) {\n\t\t\terrors[field.field_name] = `${field.field_label} is required`\n\t\t\tvalid = false\n\t\t\treturn\n\t\t}\n\n\t\t// Check validation rule\n\t\tif (field.validation) {\n\t\t\tconst result = validateField(value, field.validation, formData)\n\t\t\tif (!result.valid) {\n\t\t\t\terrors[field.field_name] = result.message\n\t\t\t\tvalid = false\n\t\t\t}\n\t\t}\n\t})\n\n\treturn { valid, errors }\n}\n\n/**\n * Validates all fields in a step\n *\n * @param {object} stepConfig - Step configuration with sections and fields\n * @param {object} formData - Current form data\n * @returns {object} - {valid: boolean, errors: {fieldName: message}}\n */\nexport function validateStep(stepConfig, formData) {\n\tif (!stepConfig || !stepConfig.sections) {\n\t\treturn { valid: true, errors: {} }\n\t}\n\n\tlet allErrors = {}\n\tlet allValid = true\n\n\tstepConfig.sections.forEach(section => {\n\t\tif (section.fields && Array.isArray(section.fields)) {\n\t\t\tconst sectionResult = validateSection(section.fields, formData)\n\t\t\tif (!sectionResult.valid) {\n\t\t\t\tallValid = false\n\t\t\t\tallErrors = { ...allErrors, ...sectionResult.errors }\n\t\t\t}\n\t\t}\n\t})\n\n\treturn { valid: allValid, errors: allErrors }\n}\n\n/**\n * Example validation expressions:\n *\n * Email validation:\n *   validation: \"email\"\n *\n * Phone validation:\n *   validation: \"phone\"\n *\n * Age requirement:\n *   validation: \"eval:value >= 18\"\n *\n * Password confirmation:\n *   validation: \"eval:value === formData.password\"\n *\n * Conditional validation:\n *   validation: \"eval:formData.applicant_type !== 'Individual' || value.length > 0\"\n *\n * Date range:\n *   validation: \"eval:new Date(value) >= new Date('2020-01-01')\"\n */\n","<template>\n  <div class=\"space-y-6\">\n    <div v-for=\"field in visibleFields\" :key=\"field.field_name\" class=\"field-wrapper\">\n      <!-- Philippines Address Input (special handling for address fields) -->\n      <div v-if=\"isAddressField(field)\" class=\"form-group\">\n        <PhilippinesAddressInput\n          v-model=\"localData[field.field_name]\"\n          :required=\"field.is_required\"\n        />\n      </div>\n\n      <!-- Data / Text Input -->\n      <div v-else-if=\"field.field_type === 'Data'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n          <span>{{ field.field_label }}</span>\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n          <Tooltip v-if=\"field.help_text || field.description\" :text=\"field.help_text || field.description\" />\n        </label>\n        <div class=\"relative\">\n          <input\n            :id=\"field.field_name\"\n            type=\"text\"\n            v-model=\"localData[field.field_name]\"\n            @blur=\"handleFieldValidation(field)\"\n            :required=\"field.is_required\"\n            class=\"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n            :class=\"{\n              'border-blue-500 ring-2 ring-blue-100': localData[field.field_name] && !getValidationError(field.field_name),\n              'border-red-500 ring-2 ring-red-100': getValidationError(field.field_name)\n            }\"\n            :placeholder=\"getPlaceholder(field)\"\n          />\n          <div v-if=\"getFieldIcon(field)\" class=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\">\n            <span v-html=\"getFieldIcon(field)\" class=\"text-gray-400\"></span>\n          </div>\n        </div>\n        <p v-if=\"getValidationError(field.field_name)\" class=\"mt-1 text-xs text-red-600\">\n          {{ getValidationError(field.field_name) }}\n        </p>\n        <p v-else-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Select Dropdown -->\n      <div v-else-if=\"field.field_type === 'Select'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n          <span>{{ field.field_label }}</span>\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n          <Tooltip v-if=\"field.help_text || field.description\" :text=\"field.help_text || field.description\" />\n        </label>\n        <div class=\"relative\">\n          <select\n            :id=\"field.field_name\"\n            v-model=\"localData[field.field_name]\"\n            @blur=\"handleFieldValidation(field)\"\n            :required=\"field.is_required\"\n            class=\"block w-full pl-4 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all appearance-none bg-white\"\n            :class=\"{\n              'border-blue-500 ring-2 ring-blue-100': localData[field.field_name] && !getValidationError(field.field_name),\n              'border-red-500 ring-2 ring-red-100': getValidationError(field.field_name)\n            }\"\n          >\n            <option value=\"\">Select {{ field.field_label }}</option>\n            <option\n              v-for=\"option in getSelectOptions(field.options)\"\n              :key=\"option\"\n              :value=\"option\"\n            >\n              {{ option }}\n            </option>\n          </select>\n          <div class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"getValidationError(field.field_name)\" class=\"mt-1 text-xs text-red-600\">\n          {{ getValidationError(field.field_name) }}\n        </p>\n        <p v-else-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Checkbox -->\n      <div v-else-if=\"field.field_type === 'Check'\" class=\"form-group\">\n        <div class=\"flex items-start p-4 border rounded-lg hover:border-blue-300 transition-colors\"\n          :class=\"{\n            'border-gray-200': !getValidationError(field.field_name),\n            'border-red-500 bg-red-50': getValidationError(field.field_name)\n          }\">\n          <div class=\"flex items-center h-5\">\n            <input\n              :id=\"field.field_name\"\n              type=\"checkbox\"\n              v-model=\"localData[field.field_name]\"\n              @change=\"handleFieldValidation(field)\"\n              :required=\"field.is_required\"\n              class=\"focus:ring-blue-500 h-5 w-5 text-blue-600 border-gray-300 rounded cursor-pointer\"\n            />\n          </div>\n          <div class=\"ml-3 text-sm\">\n            <label :for=\"field.field_name\" class=\"font-medium text-gray-700 cursor-pointer\">\n              {{ field.field_label }}\n              <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n            </label>\n            <p v-if=\"getValidationError(field.field_name)\" class=\"mt-1 text-xs text-red-600\">\n              {{ getValidationError(field.field_name) }}\n            </p>\n            <p v-else-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Text / Textarea -->\n      <div v-else-if=\"field.field_type === 'Text'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          {{ field.field_label }}\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n        </label>\n        <textarea\n          :id=\"field.field_name\"\n          v-model=\"localData[field.field_name]\"\n          @blur=\"handleFieldValidation(field)\"\n          :required=\"field.is_required\"\n          rows=\"4\"\n          class=\"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-y\"\n          :class=\"{\n            'border-blue-500 ring-2 ring-blue-100': localData[field.field_name] && !getValidationError(field.field_name),\n            'border-red-500 ring-2 ring-red-100': getValidationError(field.field_name)\n          }\"\n          :placeholder=\"getPlaceholder(field)\"\n        ></textarea>\n        <p v-if=\"getValidationError(field.field_name)\" class=\"mt-1 text-xs text-red-600\">\n          {{ getValidationError(field.field_name) }}\n        </p>\n        <p v-else-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Date -->\n      <div v-else-if=\"field.field_type === 'Date'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n          <span>{{ field.field_label }}</span>\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n          <Tooltip v-if=\"field.help_text || field.description\" :text=\"field.help_text || field.description\" />\n        </label>\n        <div class=\"relative\">\n          <input\n            :id=\"field.field_name\"\n            type=\"date\"\n            v-model=\"localData[field.field_name]\"\n            @blur=\"handleFieldValidation(field)\"\n            :required=\"field.is_required\"\n            class=\"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n            :class=\"{\n              'border-blue-500 ring-2 ring-blue-100': localData[field.field_name] && !getValidationError(field.field_name),\n              'border-red-500 ring-2 ring-red-100': getValidationError(field.field_name)\n            }\"\n          />\n          <div class=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"getValidationError(field.field_name)\" class=\"mt-1 text-xs text-red-600\">\n          {{ getValidationError(field.field_name) }}\n        </p>\n        <p v-else-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Integer -->\n      <div v-else-if=\"field.field_type === 'Int'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\n          <span>{{ field.field_label }}</span>\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n          <Tooltip v-if=\"field.help_text || field.description\" :text=\"field.help_text || field.description\" />\n        </label>\n        <div class=\"relative\">\n          <input\n            :id=\"field.field_name\"\n            type=\"number\"\n            v-model.number=\"localData[field.field_name]\"\n            :required=\"field.is_required\"\n            step=\"1\"\n            class=\"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localData[field.field_name]}\"\n            :placeholder=\"getPlaceholder(field)\"\n          />\n          <div class=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Float -->\n      <div v-else-if=\"field.field_type === 'Float'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          {{ field.field_label }}\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n        </label>\n        <div class=\"relative\">\n          <input\n            :id=\"field.field_name\"\n            type=\"number\"\n            v-model.number=\"localData[field.field_name]\"\n            :required=\"field.is_required\"\n            step=\"0.01\"\n            class=\"block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n            :class=\"{'border-blue-500 ring-2 ring-blue-100': localData[field.field_name]}\"\n            :placeholder=\"getPlaceholder(field)\"\n          />\n          <div class=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\">\n            <svg class=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"/>\n            </svg>\n          </div>\n        </div>\n        <p v-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Currency -->\n      <div v-else-if=\"field.field_type === 'Currency'\" class=\"form-group\">\n        <label :for=\"field.field_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          {{ field.field_label }}\n          <span v-if=\"field.is_required\" class=\"text-red-500 ml-1\">*</span>\n        </label>\n        <div class=\"relative\">\n          <div class=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\n            <span class=\"text-gray-500 text-base font-medium\"></span>\n          </div>\n          <input\n            :id=\"field.field_name\"\n            type=\"number\"\n            v-model.number=\"localData[field.field_name]\"\n            @blur=\"handleFieldValidation(field)\"\n            :required=\"field.is_required\"\n            step=\"0.01\"\n            class=\"block w-full pl-10 pr-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n            :class=\"{\n              'border-blue-500 ring-2 ring-blue-100': localData[field.field_name] && !getValidationError(field.field_name),\n              'border-red-500 ring-2 ring-red-100': getValidationError(field.field_name)\n            }\"\n            placeholder=\"0.00\"\n          />\n        </div>\n        <p v-if=\"getValidationError(field.field_name)\" class=\"mt-1 text-xs text-red-600\">\n          {{ getValidationError(field.field_name) }}\n        </p>\n        <p v-else-if=\"field.description\" class=\"mt-1 text-xs text-gray-500\">{{ field.description }}</p>\n      </div>\n\n      <!-- Attach / File Upload with Camera Support -->\n      <div v-else-if=\"field.field_type === 'Attach' || field.field_type === 'Attach Image'\" class=\"form-group\">\n        <CameraUpload\n          :label=\"field.field_label\"\n          :required=\"field.is_required\"\n          :accept=\"field.field_type === 'Attach Image' ? 'image/*' : '*'\"\n          :multiple=\"false\"\n          v-model=\"localData[field.field_name]\"\n        />\n      </div>\n\n      <!-- Unsupported field type -->\n      <div v-else class=\"form-group\">\n        <div class=\"text-sm text-gray-500 italic\">\n          Field type \"{{ field.field_type }}\" not yet supported for {{ field.field_label }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, watch, ref } from 'vue'\nimport CameraUpload from './CameraUpload.vue'\nimport PhilippinesAddressInput from './PhilippinesAddressInput.vue'\nimport Tooltip from './Tooltip.vue'\nimport { isFieldVisible } from '../utils/conditionalLogic'\nimport { validateField } from '../utils/fieldValidation'\n\nconst props = defineProps({\n  fields: {\n    type: Array,\n    required: true\n  },\n  modelValue: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Filter visible fields based on depends_on logic\nconst visibleFields = computed(() => {\n  return props.fields.filter(field => {\n    return isFieldVisible(field, localData.value)\n  })\n})\n\n// Check if field is an address field\nconst isAddressField = (field) => {\n  // Only trigger for the actual address collection section, not individual address parts\n  // Check if this is part of an address section AND is the primary address field\n  const parentSection = field.parent_section_code?.toLowerCase() || ''\n  const addressSections = ['address', 'residential_address', 'permanent_address', 'property_address', 'current_address', 'home_address']\n\n  // Only show Philippines/Address component for the main address field in an address section\n  // This prevents duplication where both the section and individual fields trigger the component\n  return addressSections.includes(parentSection) &&\n         field.field_name === 'address_line' &&\n         field.field_type === 'Data'\n}\n\n// Get placeholder text for field\nconst getPlaceholder = (field) => {\n  if (field.placeholder) return field.placeholder\n\n  // Generate smart placeholders based on field name/label\n  const label = field.field_label?.toLowerCase() || ''\n\n  if (label.includes('name')) return 'e.g., Juan Dela Cruz'\n  if (label.includes('email')) return 'e.g., juan@example.com'\n  if (label.includes('phone') || label.includes('mobile') || label.includes('contact')) {\n    return 'e.g., 0917 123 4567'\n  }\n  if (label.includes('age')) return 'e.g., 25'\n  if (label.includes('occupation')) return 'e.g., Teacher'\n  if (label.includes('income') || label.includes('salary')) return 'e.g., 15000'\n\n  return `Enter ${field.field_label}`\n}\n\n// Get icon for field based on type\nconst getFieldIcon = (field) => {\n  const label = field.field_label?.toLowerCase() || ''\n\n  if (label.includes('email')) {\n    return '<svg class=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207\"/></svg>'\n  }\n  if (label.includes('phone') || label.includes('mobile') || label.includes('contact')) {\n    return '<svg class=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"/></svg>'\n  }\n  if (label.includes('name')) {\n    return '<svg class=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"/></svg>'\n  }\n\n  return null\n}\n\n// Parse select options from newline-separated string\nconst getSelectOptions = (optionsString) => {\n  if (!optionsString) return []\n  return optionsString.split('\\n').map(opt => opt.trim()).filter(Boolean)\n}\n\n// Validation state - tracks validation errors for each field\nconst validationErrors = ref({})\n\n// Validate a single field\nconst handleFieldValidation = (field) => {\n  if (!field.validation) {\n    // Clear any existing error if no validation rule\n    delete validationErrors.value[field.field_name]\n    return\n  }\n\n  const value = localData.value[field.field_name]\n  const result = validateField(value, field.validation, localData.value)\n\n  if (!result.valid) {\n    validationErrors.value[field.field_name] = result.message\n  } else {\n    delete validationErrors.value[field.field_name]\n  }\n}\n\n// Get validation error message for a field\nconst getValidationError = (fieldName) => {\n  return validationErrors.value[fieldName] || ''\n}\n\n// Handle file upload\nconst handleFileUpload = (event, fieldName) => {\n  const file = event.target.files[0]\n  if (file) {\n    // TODO: Implement actual file upload to Frappe\n    // For now, just store the filename\n    localData.value[fieldName] = file.name\n  }\n}\n\n// Set default values on mount\nwatch(() => props.fields, (fields) => {\n  fields.forEach(field => {\n    if (field.default_value && !localData.value[field.field_name]) {\n      if (field.default_value === 'Today' && field.field_type === 'Date') {\n        localData.value[field.field_name] = new Date().toISOString().split('T')[0]\n      } else {\n        localData.value[field.field_name] = field.default_value\n      }\n    }\n  })\n}, { immediate: true })\n</script>\n\n<style scoped>\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\ninput:focus, select:focus, textarea:focus {\n  outline: none;\n}\n\n/* Remove default number input spinners for cleaner look */\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type=\"number\"] {\n  -moz-appearance: textfield;\n}\n\n/* Ensure date input has proper cursor */\ninput[type=\"date\"] {\n  cursor: pointer;\n}\n\n/* Smooth transitions */\ninput, select, textarea {\n  transition: all 0.2s ease-in-out;\n}\n</style>\n","<template>\n  <div class=\"dynamic-step max-w-4xl mx-auto\">\n    <!-- Step Header with gradient background -->\n    <div class=\"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200\">\n      <div class=\"flex items-start\">\n        <div class=\"flex-shrink-0\">\n          <svg class=\"h-8 w-8 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"/>\n          </svg>\n        </div>\n        <div class=\"ml-4 flex-1\">\n          <h2 class=\"text-2xl font-bold text-blue-900\">{{ stepConfig.step_title }}</h2>\n          <p v-if=\"stepDescription\" class=\"mt-2 text-sm text-blue-700\">{{ stepDescription }}</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Render sections -->\n    <div class=\"space-y-6\">\n      <div v-for=\"section in visibleSections\" :key=\"section.section_code\" class=\"section\">\n        <!-- Section Header with improved styling -->\n        <div class=\"mb-4 pb-3 border-b-2 border-gray-200\">\n          <div class=\"flex items-center\">\n            <div class=\"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3\">\n              <svg class=\"h-5 w-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"/>\n              </svg>\n            </div>\n            <div>\n              <h3 class=\"text-lg font-semibold text-gray-900\">\n                {{ section.section_title }}\n                <span v-if=\"section.is_required\" class=\"text-red-500 ml-1\">*</span>\n              </h3>\n              <p v-if=\"section.section_description\" class=\"text-sm text-gray-600 mt-0.5\">\n                {{ section.section_description }}\n              </p>\n            </div>\n          </div>\n          <div v-if=\"section.is_required\" class=\"text-xs text-gray-500 mt-2 ml-11\">\n            All fields marked with <span class=\"text-red-500\">*</span> are required\n          </div>\n        </div>\n\n        <!-- Section Content -->\n        <div class=\"section-content\">\n          <!-- Tab-based sections -->\n          <TabGroup v-if=\"section.section_type === 'Tab'\">\n            <TabList class=\"flex space-x-1 rounded-xl bg-blue-900/20 p-1 mb-4\">\n              <Tab\n                v-for=\"(tab, idx) in getTabsForSection(section)\"\n                :key=\"idx\"\n                v-slot=\"{ selected }\"\n                class=\"w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700 ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2\"\n                :class=\"selected ? 'bg-white shadow' : 'text-blue-100 hover:bg-white/[0.12] hover:text-white'\"\n              >\n                {{ tab }}\n              </Tab>\n            </TabList>\n            <TabPanels>\n              <TabPanel v-for=\"(tab, idx) in getTabsForSection(section)\" :key=\"idx\">\n                <DynamicFieldRenderer\n                  :fields=\"section.fields\"\n                  v-model=\"localData\"\n                />\n              </TabPanel>\n            </TabPanels>\n          </TabGroup>\n\n          <!-- Accordion-based sections -->\n          <Disclosure v-else-if=\"section.section_type === 'Accordion'\" v-slot=\"{ open }\">\n            <DisclosureButton\n              class=\"flex w-full justify-between rounded-lg bg-blue-50 px-4 py-3 text-left text-sm font-medium text-blue-900 hover:bg-blue-100 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75 mb-2\"\n            >\n              <span>{{ section.section_title }}</span>\n              <ChevronUpIcon\n                :class=\"open ? 'rotate-180 transform' : ''\"\n                class=\"h-5 w-5 text-blue-500\"\n              />\n            </DisclosureButton>\n            <DisclosurePanel class=\"px-4 pt-4 pb-2 text-sm text-gray-500\">\n              <DynamicFieldRenderer\n                :fields=\"section.fields\"\n                v-model=\"localData\"\n              />\n            </DisclosurePanel>\n          </Disclosure>\n\n          <!-- Regular section (default) with enhanced card styling -->\n          <div v-else class=\"bg-white p-6 rounded-lg border-2 border-gray-200 shadow-sm hover:shadow-md transition-shadow\">\n            <DynamicFieldRenderer\n              :fields=\"section.fields\"\n              v-model=\"localData\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport { TabGroup, TabList, Tab, TabPanels, TabPanel, Disclosure, DisclosureButton, DisclosurePanel } from '@headlessui/vue'\nimport { ChevronUpIcon } from '@heroicons/vue/20/solid'\nimport DynamicFieldRenderer from './DynamicFieldRenderer.vue'\nimport { isSectionVisible } from '../utils/conditionalLogic'\n\nconst props = defineProps({\n  stepConfig: {\n    type: Object,\n    required: true\n  },\n  modelValue: {\n    type: Object,\n    required: true\n  },\n  stepDescription: {\n    type: String,\n    default: ''\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst localData = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\n// Filter visible sections based on depends_on logic\nconst visibleSections = computed(() => {\n  if (!props.stepConfig.sections) return []\n\n  return props.stepConfig.sections.filter(section => {\n    return isSectionVisible(section, formData.value)\n  })\n})\n\n// Get tabs for tab-based sections (placeholder)\nconst getTabsForSection = (section) => {\n  // For now, return single tab\n  // In future, could parse section structure for multiple tabs\n  return [section.section_title]\n}\n\n// Initialize default values\nwatch(() => props.stepConfig, (config) => {\n  if (!config.sections) return\n\n  config.sections.forEach(section => {\n    section.fields.forEach(field => {\n      if (field.default_value && !localData.value[field.field_name]) {\n        if (field.default_value === 'Today' && field.field_type === 'Date') {\n          localData.value[field.field_name] = new Date().toISOString().split('T')[0]\n        } else {\n          localData.value[field.field_name] = field.default_value\n        }\n      }\n    })\n  })\n}, { immediate: true, deep: true })\n</script>\n\n<style scoped>\n.dynamic-step {\n  max-width: 100%;\n}\n\n.section {\n  margin-bottom: 2rem;\n  scroll-margin-top: 100px; /* For smooth scrolling with fixed headers */\n}\n\n.section-content {\n  margin-top: 1rem;\n}\n\n/* Enhanced tab styling */\n:deep(.tab-active) {\n  background: white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n/* Smooth transitions for all interactive elements */\n.section-content > div {\n  transition: all 0.2s ease-in-out;\n}\n</style>\n","<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <header class=\"bg-white shadow-sm border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex items-center justify-between py-4\">\n          <div class=\"flex items-center space-x-3\">\n            <button @click=\"goBack\" class=\"text-gray-500 hover:text-gray-700\">\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n              </svg>\n            </button>\n            <div>\n              <h1 class=\"text-xl font-bold text-gray-900\">New Application</h1>\n              <p class=\"text-sm text-gray-500\">Step {{ currentStep + 1 }} of {{ totalSteps }}</p>\n            </div>\n          </div>\n          <div class=\"flex items-center gap-2\">\n            <Button @click=\"saveDraft(false)\" variant=\"outline\" theme=\"gray\" :loading=\"savingDraft\">\n              Save Draft\n            </Button>\n            <Button @click=\"saveDraft(true)\" variant=\"outline\" theme=\"gray\" :loading=\"savingDraft\">\n              Save Draft & Close\n            </Button>\n          </div>\n        </div>\n      </div>\n    </header>\n\n    <!-- Progress Bar -->\n    <div class=\"bg-white border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n        <div class=\"flex items-center justify-between mb-2\">\n          <div\n            v-for=\"(step, index) in steps\"\n            :key=\"index\"\n            class=\"flex items-center\"\n            :class=\"{ 'flex-1': index < steps.length - 1 }\"\n          >\n            <div class=\"flex flex-col items-center\">\n              <div\n                class=\"w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm\"\n                :class=\"getStepClass(index)\"\n              >\n                <span v-if=\"index < currentStep\"></span>\n                <span v-else>{{ index + 1 }}</span>\n              </div>\n              <span\n                class=\"text-xs mt-2 text-center\"\n                :class=\"index === currentStep ? 'text-blue-600 font-medium' : 'text-gray-500'\"\n              >\n                {{ step.title }}\n              </span>\n            </div>\n            <div\n              v-if=\"index < steps.length - 1\"\n              class=\"flex-1 h-1 mx-4 rounded\"\n              :class=\"index < currentStep ? 'bg-blue-600' : 'bg-gray-200'\"\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n<main class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n        <!-- Council Selection Step (only shown if not locked) -->\n        <div v-if=\"getCurrentStepTitle() === 'Council'\">\n            <Step1CouncilSelection\n                v-model=\"formData\"\n                @council-change=\"onCouncilChange\"\n            />\n        </div>\n\n        <!-- Request Type Selection Step (only shown if not locked/pre-selected) -->\n        <div v-if=\"getCurrentStepTitle() === 'Type'\">\n            <Step2RequestType\n                v-model=\"formData\"\n                :request-types=\"requestTypes\"\n                @type-selected=\"selectRequestType\"\n            />\n        </div>\n\n        <!-- Process Info Step (always shown after council/type) -->\n        <div v-if=\"getCurrentStepTitle() === 'Process Info'\">\n            <Step3ProcessInfo\n                :request-type-details=\"selectedRequestTypeDetails\"\n                :council-name=\"getCouncilName()\"\n                v-model=\"formData\"\n                @continue=\"handleNext\"\n            />\n        </div>\n\n        <!-- Dynamic Steps (for configured request types like Philippines SPISC) -->\n        <DynamicStepRenderer\n          v-if=\"usesConfigurableSteps && getCurrentStepConfig() && getCurrentStepTitle() !== 'Process Info' && getCurrentStepTitle() !== 'Review'\"\n          :stepConfig=\"getCurrentStepConfig()\"\n          v-model=\"formData\"\n        />\n\n        <!-- LEGACY: RC-specific hardcoded step components (Phase 2.1 - kept as reference) -->\n        <!-- These are no longer used since RC now uses dynamic configuration -->\n        <!-- Can be safely removed in Phase 3 after thorough testing -->\n        <!--\n        <Step1ApplicantProposal\n          v-if=\"getCurrentStepTitle() === 'Applicant & Proposal' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n          :user-profile=\"userProfile\"\n          :properties=\"properties\"\n        />\n        <Step2NaturalHazards\n          v-if=\"getCurrentStepTitle() === 'Natural Hazards' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n        <Step3NESAssessment\n          v-if=\"getCurrentStepTitle() === 'NES Assessment' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n        <Step4Approvals\n          v-if=\"getCurrentStepTitle() === 'Approvals' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n        <Step5Consultation\n          v-if=\"getCurrentStepTitle() === 'Consultation' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n        <Step6Documents\n          v-if=\"getCurrentStepTitle() === 'Documents' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n        <Step7AEE\n          v-if=\"getCurrentStepTitle() === 'AEE' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n        <Step9Submission\n          v-if=\"getCurrentStepTitle() === 'Submission' && isResourceConsent && !usesConfigurableSteps\"\n          v-model=\"formData\"\n        />\n        -->\n\n        <!-- Review Step (Final Step for all request types) -->\n        <div v-if=\"getCurrentStepTitle() === 'Review'\">\n            <Step17Review\n                v-model=\"formData\"\n                :council-name=\"getCouncilName()\"\n                :request-type-name=\"getRequestTypeName()\"\n                :application-fee=\"getApplicationFee()\"\n                :is-resource-consent=\"isResourceConsent\"\n                :step-configs=\"stepConfigs\"\n                :uses-configurable-steps=\"usesConfigurableSteps\"\n                :request-type-details=\"selectedRequestTypeDetails\"\n            />\n        </div>\n    </div>\n\n    <!-- Navigation Buttons -->\n        <div class=\"mt-8 flex justify-between items-center\">\n            <button\n                v-if=\"currentStep > 0\"\n                @click=\"currentStep--\"\n                class=\"px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors flex items-center\"\n            >\n                <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n                </svg>\n                Previous\n            </button>\n            <div v-else></div>\n\n            <!-- Next button: Show on all steps except the last step -->\n            <button\n                type=\"button\"\n                v-if=\"currentStep < steps.length - 1\"\n                @click=\"handleNext\"\n                :disabled=\"!canProceed\"\n                class=\"px-6 py-3 font-medium rounded-lg transition-colors flex items-center\"\n                :class=\"canProceed\n                    ? 'bg-blue-600 text-white hover:bg-blue-700'\n                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'\"\n            >\n                Next\n                <svg class=\"w-5 h-5 ml-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                </svg>\n            </button>\n\n            <!-- Submit button: Only show on the last step -->\n            <button\n                v-else\n                @click=\"handleSubmit\"\n                :disabled=\"!canSubmit || submitting\"\n                class=\"px-6 py-3 font-medium rounded-lg transition-colors\"\n                :class=\"canSubmit && !submitting\n                    ? 'bg-green-600 text-white hover:bg-green-700'\n                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'\"\n            >\n                <span v-if=\"submitting\">Submitting...</span>\n                <span v-else>Submit Application</span>\n            </button>\n        </div>\n</main>\n\n    <!-- Affected Party Modal -->\n    <div\n      v-if=\"showAffectedPartyModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelAffectedParty\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingPartyIndex !== null ? 'Edit' : 'Add' }} Affected Party\n            </h3>\n            <button\n              @click=\"cancelAffectedParty\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Party Name * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Party Name <span class=\"text-red-500\">*</span>\n            </label>\n            <input\n              v-model=\"affectedPartyForm.party_name\"\n              type=\"text\"\n              required\n              placeholder=\"e.g., John Smith\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n\n          <!-- Relationship * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Relationship <span class=\"text-red-500\">*</span>\n            </label>\n            <select\n              v-model=\"affectedPartyForm.relationship\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select relationship</option>\n              <option value=\"Adjacent Property Owner\">Adjacent Property Owner</option>\n              <option value=\"Neighbor\">Neighbor</option>\n              <option value=\"Iwi\">Iwi</option>\n              <option value=\"Infrastructure Provider\">Infrastructure Provider</option>\n              <option value=\"Other\">Other</option>\n            </select>\n          </div>\n\n          <!-- Contact Information -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Contact Information</h4>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Email</label>\n                <input\n                  v-model=\"affectedPartyForm.email\"\n                  type=\"email\"\n                  placeholder=\"email@example.com\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Phone</label>\n                <input\n                  v-model=\"affectedPartyForm.phone\"\n                  type=\"tel\"\n                  placeholder=\"021 123 4567\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Addresses -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Addresses</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Property Address</label>\n                <textarea\n                  v-model=\"affectedPartyForm.property_address\"\n                  rows=\"2\"\n                  placeholder=\"123 Main Street, Suburb, City\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">The property address affected by this proposal</p>\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Postal Address</label>\n                <textarea\n                  v-model=\"affectedPartyForm.postal_address\"\n                  rows=\"2\"\n                  placeholder=\"PO Box 123, Suburb, City\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">For correspondence (if different from property address)</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Approval -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Written Approval</h4>\n\n            <div class=\"flex items-start mb-3\">\n              <input\n                type=\"checkbox\"\n                v-model=\"affectedPartyForm.approval_obtained\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <label class=\"ml-3 text-sm text-gray-700\">\n                Written approval obtained from this party\n              </label>\n            </div>\n\n            <div v-if=\"affectedPartyForm.approval_obtained\" class=\"ml-7 space-y-3\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Date</label>\n                <input\n                  v-model=\"affectedPartyForm.approval_date\"\n                  type=\"date\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Document</label>\n                <input\n                  type=\"file\"\n                  @change=\"handleApprovalDocumentUpload\"\n                  accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Upload written approval (PDF, Word, or image, max 10MB)</p>\n                <div v-if=\"affectedPartyForm.approval_document\" class=\"mt-2 text-xs text-green-600 flex items-center gap-1\">\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  <span>{{ typeof affectedPartyForm.approval_document === 'object' ? affectedPartyForm.approval_document.name : 'Document attached' }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Comments -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Comments</label>\n            <textarea\n              v-model=\"affectedPartyForm.comments\"\n              rows=\"3\"\n              placeholder=\"Any additional notes about this party or their concerns...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n            ></textarea>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelAffectedParty\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveAffectedParty\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingPartyIndex !== null ? 'Update' : 'Add' }} Party\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Specialist Report Modal -->\n    <div\n      v-if=\"showSpecialistReportModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelSpecialistReport\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingReportIndex !== null ? 'Edit' : 'Add' }} Specialist Report\n            </h3>\n            <button\n              @click=\"cancelSpecialistReport\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Report Type * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Report Type <span class=\"text-red-500\">*</span>\n            </label>\n            <select\n              v-model=\"specialistReportForm.report_type\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select report type</option>\n              <option value=\"Traffic Impact Assessment\">Traffic Impact Assessment</option>\n              <option value=\"Acoustic Assessment\">Acoustic Assessment</option>\n              <option value=\"Geotechnical Report\">Geotechnical Report</option>\n              <option value=\"Ecological Assessment\">Ecological Assessment</option>\n              <option value=\"Archaeological Assessment\">Archaeological Assessment</option>\n              <option value=\"Landscape Assessment\">Landscape Assessment</option>\n              <option value=\"Contaminated Land Assessment\">Contaminated Land Assessment</option>\n              <option value=\"Flood Risk Assessment\">Flood Risk Assessment</option>\n              <option value=\"Other\">Other</option>\n            </select>\n          </div>\n\n          <!-- Consultant Details -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Consultant Details</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Specialist Name <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"specialistReportForm.specialist_name\"\n                  type=\"text\"\n                  required\n                  placeholder=\"e.g., Dr. Jane Smith\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Company/Organization</label>\n                <input\n                  v-model=\"specialistReportForm.specialist_company\"\n                  type=\"text\"\n                  placeholder=\"e.g., ABC Consultants Ltd\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Report Details -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Report Details</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Report Date <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"specialistReportForm.report_date\"\n                  type=\"date\"\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Date the report was prepared or finalized</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Document <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"file\"\n                  @change=\"handleReportDocumentUpload\"\n                  accept=\".pdf,.doc,.docx\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Upload the specialist report (PDF or Word, max 10MB)</p>\n                <div v-if=\"specialistReportForm.document\" class=\"mt-2 text-xs text-green-600 flex items-center gap-1\">\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  <span>{{ typeof specialistReportForm.document === 'object' ? specialistReportForm.document.name : 'Document attached' }}</span>\n                </div>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Summary</label>\n                <textarea\n                  v-model=\"specialistReportForm.summary\"\n                  rows=\"4\"\n                  placeholder=\"Brief summary of key findings and recommendations...\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">Optional: Provide a brief summary of the report's key findings</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelSpecialistReport\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveSpecialistReport\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingReportIndex !== null ? 'Update' : 'Add' }} Report\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- HAIL Activity Modal -->\n    <div\n      v-if=\"showHAILModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelHAIL\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingHAILIndex !== null ? 'Edit' : 'Add' }} HAIL Activity\n            </h3>\n            <button\n              @click=\"cancelHAIL\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Activity Description -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Activity Description <span class=\"text-red-500\">*</span>\n            </label>\n            <textarea\n              v-model=\"hailForm.activity_description\"\n              rows=\"3\"\n              required\n              placeholder=\"Describe the HAIL activity (e.g., Former service station, industrial site)...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n\n          <!-- HAIL Category -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              HAIL Category\n            </label>\n            <select\n              v-model=\"hailForm.hail_category\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select HAIL category</option>\n              <option value=\"Category A - Petroleum/Oil Storage\">Category A - Petroleum/Oil Storage</option>\n              <option value=\"Category B - Asbestos Products\">Category B - Asbestos Products</option>\n              <option value=\"Category C - Chemicals\">Category C - Chemicals</option>\n              <option value=\"Category D - Engineering Workshops\">Category D - Engineering Workshops</option>\n              <option value=\"Category E - Gasworks/Coke Works\">Category E - Gasworks/Coke Works</option>\n              <option value=\"Category F - Horticulture\">Category F - Horticulture</option>\n              <option value=\"Category G - Landfills/Waste Disposal\">Category G - Landfills/Waste Disposal</option>\n              <option value=\"Category H - Metal Treatment\">Category H - Metal Treatment</option>\n              <option value=\"Category I - Timber Treatment\">Category I - Timber Treatment</option>\n            </select>\n          </div>\n\n          <!-- Status Checkboxes -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Activity Status</h4>\n            <div class=\"grid md:grid-cols-3 gap-3\">\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-current\"\n                  v-model=\"hailForm.currently_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-current\" class=\"ml-2 text-sm text-gray-700\">Currently Being Undertaken</label>\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-previous\"\n                  v-model=\"hailForm.previously_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-previous\" class=\"ml-2 text-sm text-gray-700\">Previously Undertaken</label>\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-likely\"\n                  v-model=\"hailForm.likely_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-likely\" class=\"ml-2 text-sm text-gray-700\">Likely to Have Been Undertaken</label>\n              </div>\n            </div>\n          </div>\n\n          <!-- Investigation -->\n          <div class=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              id=\"hail-investigated\"\n              v-model=\"hailForm.preliminary_investigation_done\"\n              class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <label for=\"hail-investigated\" class=\"ml-2 text-sm text-gray-700\">Preliminary Investigation Completed</label>\n          </div>\n\n          <!-- Proposed Activities -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Proposed Activities</h4>\n            <div class=\"space-y-2 p-3 border border-gray-200 rounded bg-gray-50\">\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-fuel\"\n                  v-model=\"proposedActivities.fuel\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-fuel\" class=\"ml-2 text-sm text-gray-700\">Removing or replacing fuel storage system</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-disturb\"\n                  v-model=\"proposedActivities.disturb\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-disturb\" class=\"ml-2 text-sm text-gray-700\">Disturbing soil</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-sample\"\n                  v-model=\"proposedActivities.sample\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-sample\" class=\"ml-2 text-sm text-gray-700\">Sampling soil</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-subdivide\"\n                  v-model=\"proposedActivities.subdivide\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-subdivide\" class=\"ml-2 text-sm text-gray-700\">Subdividing land</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-change\"\n                  v-model=\"proposedActivities.change\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-change\" class=\"ml-2 text-sm text-gray-700\">Changing use of land</label>\n              </div>\n            </div>\n            <p class=\"text-xs text-gray-500 mt-2\">Select all proposed activities that apply</p>\n          </div>\n\n          <!-- Notes -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Additional Notes</label>\n            <textarea\n              v-model=\"hailForm.notes\"\n              rows=\"3\"\n              placeholder=\"Additional notes about the HAIL activity...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelHAIL\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveHAIL\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingHAILIndex !== null ? 'Update' : 'Add' }} Activity\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Proposed Conditions Modal -->\n    <div\n      v-if=\"showConditionsModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"showConditionsModal = false\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              Browse Condition Templates\n            </h3>\n            <button\n              @click=\"showConditionsModal = false\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"flex-1 overflow-y-auto\">\n          <div class=\"grid md:grid-cols-3 gap-6 p-6\">\n            <!-- Left Column: Template Browser (2/3 width) -->\n            <div class=\"md:col-span-2 space-y-4\">\n              <!-- Category Filter -->\n              <div class=\"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200\">\n                <label class=\"text-sm font-medium text-gray-700\">Filter by Category:</label>\n                <select\n                  v-model=\"selectedCategory\"\n                  class=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option v-for=\"category in conditionCategories\" :key=\"category\" :value=\"category\">\n                    {{ category }}\n                  </option>\n                </select>\n                <span class=\"ml-auto text-xs text-gray-500\">\n                  {{ filteredConditionTemplates.length }} template{{ filteredConditionTemplates.length !== 1 ? 's' : '' }}\n                </span>\n              </div>\n\n              <!-- Loading State -->\n              <div v-if=\"loadingTemplates\" class=\"text-center py-12\">\n                <svg class=\"animate-spin h-8 w-8 mx-auto text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                  <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                <p class=\"mt-2 text-sm text-gray-500\">Loading templates...</p>\n              </div>\n\n              <!-- Templates List -->\n              <div v-else-if=\"filteredConditionTemplates.length > 0\" class=\"space-y-3\">\n                <div\n                  v-for=\"template in filteredConditionTemplates\"\n                  :key=\"template.name\"\n                  class=\"p-4 bg-white border border-gray-300 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all\"\n                >\n                  <div class=\"flex items-start justify-between mb-2\">\n                    <div class=\"flex-1\">\n                      <div class=\"flex items-center gap-2 mb-1\">\n                        <h4 class=\"text-sm font-semibold text-gray-900\">{{ template.template_name }}</h4>\n                        <span v-if=\"template.condition_code\" class=\"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-mono rounded\">\n                          {{ template.condition_code }}\n                        </span>\n                      </div>\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <span class=\"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded\">\n                          {{ template.condition_category }}\n                        </span>\n                        <span v-if=\"template.timing\" class=\"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded\">\n                          {{ template.timing }}\n                        </span>\n                        <span v-if=\"template.monitoring_required\" class=\"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded\">\n                          Monitoring Required\n                        </span>\n                      </div>\n                      <div class=\"text-xs text-gray-700 line-clamp-3\" v-html=\"template.condition_text\"></div>\n                    </div>\n                    <button\n                      @click=\"addConditionFromTemplate(template)\"\n                      type=\"button\"\n                      class=\"ml-3 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 flex items-center gap-1 flex-shrink-0\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                      Add\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <!-- No Templates -->\n              <div v-else class=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <svg class=\"w-12 h-12 mx-auto text-gray-400 mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <p class=\"text-sm text-gray-500\">No templates found for selected category</p>\n              </div>\n\n              <!-- Add Custom Condition Button -->\n              <div class=\"pt-4 border-t border-gray-200\">\n                <button\n                  @click=\"addCustomCondition\"\n                  type=\"button\"\n                  class=\"w-full px-4 py-2.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                  </svg>\n                  Add Custom Condition\n                </button>\n              </div>\n            </div>\n\n            <!-- Right Column: Selected Conditions (1/3 width) -->\n            <div class=\"md:col-span-1 bg-gray-50 rounded-lg p-4 border border-gray-200\">\n              <h4 class=\"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between\">\n                <span>Selected Conditions</span>\n                <span class=\"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full\">\n                  {{ formData.proposed_conditions.length }}\n                </span>\n              </h4>\n\n              <div v-if=\"formData.proposed_conditions.length > 0\" class=\"space-y-2 max-h-[600px] overflow-y-auto\">\n                <div\n                  v-for=\"(condition, index) in formData.proposed_conditions\"\n                  :key=\"index\"\n                  class=\"p-2 bg-white rounded border border-gray-300 text-xs\"\n                >\n                  <div class=\"flex items-start justify-between mb-1\">\n                    <div class=\"flex items-center gap-1\">\n                      <span class=\"px-1.5 py-0.5 bg-gray-100 text-gray-700 font-mono text-xs rounded\">\n                        {{ condition.condition_number }}\n                      </span>\n                      <span class=\"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded\">\n                        {{ condition.condition_category }}\n                      </span>\n                    </div>\n                    <button\n                      @click=\"removeCondition(index)\"\n                      type=\"button\"\n                      class=\"text-red-600 hover:bg-red-50 rounded p-0.5\"\n                      title=\"Remove\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n                  <div class=\"text-gray-700 line-clamp-2\" v-html=\"condition.condition_text\"></div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-8 text-xs text-gray-500\">\n                <svg class=\"w-8 h-8 mx-auto text-gray-300 mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                No conditions selected\n              </div>\n            </div>\n          </div>\n\n          <!-- Custom Condition Editor (appears when editing) -->\n          <div v-if=\"editingConditionIndex !== null || conditionForm.condition_text || conditionForm.condition_category\" class=\"border-t border-gray-200 bg-gray-50 p-6\">\n            <h4 class=\"text-sm font-semibold text-gray-900 mb-4\">\n              {{ editingConditionIndex !== null ? 'Edit' : 'Add Custom' }} Condition\n            </h4>\n\n            <div class=\"grid md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                  Condition Number <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"conditionForm.condition_number\"\n                  type=\"text\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"e.g., 1\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                  Category <span class=\"text-red-500\">*</span>\n                </label>\n                <select\n                  v-model=\"conditionForm.condition_category\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select category</option>\n                  <option v-for=\"category in conditionCategories.filter(c => c !== 'All')\" :key=\"category\" :value=\"category\">\n                    {{ category }}\n                  </option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                Condition Text <span class=\"text-red-500\">*</span>\n              </label>\n              <textarea\n                v-model=\"conditionForm.condition_text\"\n                rows=\"4\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter the condition text...\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">Notes</label>\n              <textarea\n                v-model=\"conditionForm.compliance_notes\"\n                rows=\"2\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Optional notes about this condition...\"\n              ></textarea>\n            </div>\n\n            <div class=\"flex justify-end gap-2 mt-4\">\n              <button\n                @click=\"cancelConditionEdit\"\n                type=\"button\"\n                class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                @click=\"saveCondition\"\n                type=\"button\"\n                class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n              >\n                {{ editingConditionIndex !== null ? 'Update' : 'Add' }} Condition\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end\">\n          <button\n            @click=\"showConditionsModal = false\"\n            type=\"button\"\n            class=\"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            Done\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { createResource, Input, Button, call } from 'frappe-ui'\nimport CouncilSelector from '../components/CouncilSelector.vue'\nimport Step1CouncilSelection from '../components/request-steps/Step1CouncilSelection.vue'\nimport Step2RequestType from '../components/request-steps/Step2RequestType.vue'\nimport Step3ProcessInfo from '../components/request-steps/Step3ProcessInfo.vue'\n// FRD-compliant step components\n// LEGACY: RC-specific hardcoded step components (Phase 2.1 - kept as reference)\n// These imports can be removed in Phase 3 after thorough testing\n// import Step1ApplicantProposal from '../components/request-steps/Step1ApplicantProposal.vue'\n// import Step2NaturalHazards from '../components/request-steps/Step2NaturalHazards.vue'\n// import Step3NESAssessment from '../components/request-steps/Step3NESAssessment.vue'\n// import Step4Approvals from '../components/request-steps/Step4Approvals.vue'\n// import Step5Consultation from '../components/request-steps/Step5Consultation.vue'\n// import Step6Documents from '../components/request-steps/Step6Documents.vue'\n// import Step7AEE from '../components/request-steps/Step7AEE.vue'\n// import Step9Submission from '../components/request-steps/Step9Submission.vue'\nimport Step17Review from '../components/request-steps/Step17Review.vue'\nimport DynamicStepRenderer from '../components/DynamicStepRenderer.vue'\nimport { useCouncilStore } from '../stores/councilStore'\nimport { session } from '../data/session'\nimport { useFormValidation } from '../composables/useFormValidation'\nimport { useStepNavigation } from '../composables/useStepNavigation'\nimport { formatFileSize } from '../utils/fileHelpers'\n\nconst router = useRouter()\nconst route = useRoute()\nconst councilStore = useCouncilStore()\n\n// User profile data\nconst userProfile = ref(null)\nconst loadingProfile = ref(false)\nconst userCompanyAccount = ref(null)\n\n// Form state\nconst currentStep = ref(0)\nconst totalSteps = computed(() => steps.value.length)\nconst savingDraft = ref(false)\nconst submitting = ref(false)\nconst uploadedFiles = ref([])\nconst fileInput = ref(null)\nconst bookingMeeting = ref(false)\nconst requestingMeeting = ref(false)\nconst showActivityStatusHelp = ref(false)\n\n// Dynamic step configuration\nconst stepConfigs = ref([])\nconst loadingStepConfigs = ref(false)\nconst usesConfigurableSteps = ref(false)\n\n// Available consent types (managed configuration)\nconst availableConsentTypes = [\n  'Land Use',\n  'Subdivision',\n  'Discharge Permit',\n  'Water Permit',\n  'Coastal Permit'\n]\n\nconst steps = computed(() => {\n  const baseSteps = []\n\n  // Debug logging\n  console.log('[Steps] Computing steps...')\n  console.log('[Steps] councilStore.isCouncilLocked:', councilStore.isCouncilLocked)\n  console.log('[Steps] route.query.type:', route.query.type)\n  console.log('[Steps] formData.value.request_type:', formData.value.request_type)\n\n  // Step 1: Council Selection (SKIP if council is locked)\n  if (!councilStore.isCouncilLocked) {\n    baseSteps.push({ title: 'Council', number: baseSteps.length + 1 })\n    console.log('[Steps] Added Council step')\n  } else {\n    console.log('[Steps] Skipped Council step (locked)')\n  }\n\n  // Step 2: Request Type (SKIP if council is locked AND type is pre-selected from URL)\n  const hasPreselectedType = route.query.type || (route.query.locked === 'true' && formData.value.request_type)\n  const skipTypeStep = councilStore.isCouncilLocked && hasPreselectedType\n  console.log('[Steps] hasPreselectedType:', hasPreselectedType)\n  console.log('[Steps] skipTypeStep:', skipTypeStep)\n\n  if (!skipTypeStep) {\n    baseSteps.push({ title: 'Type', number: baseSteps.length + 1 })\n    console.log('[Steps] Added Type step')\n  } else {\n    console.log('[Steps] Skipped Type step (locked + preselected)')\n  }\n\n  // Step 3: Process Info (always included)\n  baseSteps.push({ title: 'Process Info', number: baseSteps.length + 1 })\n  console.log('[Steps] Added Process Info step')\n\n  // Add configurable steps dynamically\n  if (usesConfigurableSteps.value && stepConfigs.value.length > 0) {\n    stepConfigs.value.forEach((config, index) => {\n      baseSteps.push({\n        title: config.step_title,\n        number: baseSteps.length + 1,\n        code: config.step_code,\n        config: config,\n        isDynamic: true\n      })\n    })\n  }\n\n  // Review step is always last\n  baseSteps.push({ title: 'Review', number: baseSteps.length + 1 })\n\n  console.log('[Steps] Final steps:', baseSteps.map(s => s.title).join('  '))\n  console.log('[Steps] Total steps:', baseSteps.length)\n\n  return baseSteps\n})\n\n// Form data\nconst formData = ref({\n  council: '',\n  request_type: '',\n  request_category: '', // Store the category of the selected request type\n  property: '',\n  property_address: '',\n  legal_description: '',\n  valuation_reference: '',\n  parcel_id: '',\n  ct_reference: '',\n  property_coordinates: '',\n  hazard_data: null,\n  zone: '',\n  activity_zone: '',\n  brief_description: '',\n  detailed_description: '',\n  estimated_value: null,\n  proposed_start_date: '',\n  terms_accepted: false,\n\n  // Required applicant fields\n  applicant_phone: '',\n  applicant_type: '',\n\n  // Company submission fields\n  submitted_on_behalf_of: 'Myself', // 'Myself' or 'Company'\n  company_account: null,\n\n  // Agent workflow fields\n  acting_on_behalf: false,\n  applicant_name: '',\n  applicant_email: '',\n\n  // Resource Consent specific fields\n  consent_types: [], // Array of consent type objects\n  activity_status: '',\n  applicant_reference_number: '',\n  delivery_preference: '',\n  pim_reference: '',\n\n  // Proposal Details\n  building_height: null,\n  building_floor_area: null,\n  earthworks_volume: null,\n  earthworks_vertical_alteration: null,\n  vehicle_movements_daily: null,\n  parking_spaces_provided: null,\n  hours_of_operation: '',\n  consent_term_requested: '',\n\n  // Site & Environment\n  site_topography: '',\n  existing_vegetation_description: '',\n  watercourses_present: false,\n  watercourse_description: '',\n  existing_infrastructure: '',\n  contamination_status_hail: '',\n\n  // Permitted Boundary Activity (RMA s87BA)\n  boundary_description: '',\n  boundary_activity_description: '',\n  boundary_owner_approval_obtained: false,\n  boundary_approval_date: '',\n  boundary_approval_document: null,\n\n  // Natural Hazards (structured)\n  natural_hazards: [],\n\n  // NES Assessments\n  nes_assessments: [],\n\n  // HAIL Activities\n  hail_activities: [],\n\n  // Confidential Information (RMA s42)\n  confidential_information_claimed: false,\n  confidential_information_reason: '',\n\n  // AEE Fields\n  assessment_of_effects: '',\n  effects_on_people: '',\n  physical_effects: '',\n  earthworks_effects: '',\n  discharge_contaminants_effects: '',\n  ecosystem_effects: '',\n  hazard_risk_assessment: '',\n  cultural_effects: '',\n\n  // NEW: Structured AEE fields + document upload\n  aee_document: null,\n  aee_activity_description: '',\n  aee_activity_status: '',\n  aee_existing_environment: '',\n  aee_site_area: null,\n  aee_current_use: '',\n  aee_zoning: '',\n  aee_overlays: '',\n  aee_designations: '',\n  aee_part2_assessment: '',\n\n  // NEW: AEE child tables\n  aee_plan_rules: [],\n  aee_compliance_standards: [],\n  aee_written_approvals: [],\n  aee_proposed_conditions: [],\n  aee_consultation_summary: '',\n\n  // Note: planning_assessment and rma_part2_assessment are back-office fields\n  // completed by council officers, not applicants\n  alternatives_considered: '',\n  mitigation_proposed: '',\n\n  // NEW: Owner/Occupier fields\n  applicant_is_not_owner: false,\n  owner_name: '',\n  owner_email: '',\n  owner_phone: '',\n  owner_address: '',\n\n  // NEW: Certificate of Title document\n  certificate_of_title_document: null,\n\n  // NEW: Statutory declarations\n  declaration_rma_compliance: false,\n  declaration_public_information: false,\n  declaration_authorized: false,\n\n  // NEW: Invoicing details\n  invoice_to: 'Applicant',\n  invoice_name: '',\n  invoice_email: '',\n  invoice_address: '',\n  purchase_order_number: '',\n\n  // NEW: Transfer deposit (RC-specific)\n  transfer_deposit_required: false,\n  transfer_deposit_consent_number: '',\n\n  // Affected Parties\n  affected_parties: [], // Array of affected parties\n  written_approvals_obtained: 0, // Count of approvals obtained\n\n  // Iwi Consultation\n  iwi_consultation_undertaken: false,\n  iwi_consulted: '',\n  cultural_impact_assessment: null, // CIA file upload\n  iwi_response_summary: '', // Summary of iwi consultation responses\n\n  // Specialist Reports & Conditions\n  specialist_reports: [], // Array of specialist reports\n  proposed_conditions: [], // Array of proposed conditions\n})\n\n// Property Search Autocomplete State\nconst propertySearchQuery = ref('')\nconst propertySearchResults = ref([])\nconst propertySearchLoading = ref(false)\nconst showPropertyDropdown = ref(false)\nlet propertySearchTimeout = null\n\n// Selected Request Type Details (with council-specific info)\nconst selectedRequestTypeDetails = ref(null)\n\n// Natural Hazards - RMA s104\nconst naturalHazardTypes = [\n  'Earthquake',\n  'Fire',\n  'Tsunami',\n  'Erosion',\n  'Volcanic and Geothermal',\n  'Flood',\n  'Sedimentation',\n  'Subsidence',\n  'Wind',\n  'Landslip',\n  'Drought'\n]\n\nconst selectedHazards = ref([])\nconst hazardData = ref({})\n\n// Get or create hazard data object\nconst getHazardData = (hazard) => {\n  if (!hazardData.value[hazard]) {\n    hazardData.value[hazard] = {\n      hazard_type: hazard,\n      present: true,\n      risk_level: '',\n      assessment_notes: '',\n      mitigation_required: false\n    }\n  }\n  return hazardData.value[hazard]\n}\n\n// Watch selectedHazards to update formData.natural_hazards\nwatch(selectedHazards, (newHazards) => {\n  formData.value.natural_hazards = newHazards.map(hazard => getHazardData(hazard))\n}, { deep: true })\n\n// Watch hazardData to update formData.natural_hazards\nwatch(hazardData, () => {\n  formData.value.natural_hazards = selectedHazards.value.map(hazard => getHazardData(hazard))\n}, { deep: true })\n\n// National Environmental Standards - Must match backend RC NES Item options exactly\nconst nesTypes = [\n  { value: 'Contaminated Soil (HAIL)', label: 'NES for Assessing and Managing Contaminants in Soil (HAIL)' },\n  { value: 'Air Quality', label: 'NES for Air Quality' },\n  { value: 'Drinking Water', label: 'NES for Sources of Human Drinking Water' },\n  { value: 'Freshwater', label: 'NES for Freshwater Management' },\n  { value: 'Plantation Forestry', label: 'NES for Plantation Forestry' },\n  { value: 'Electricity Transmission', label: 'NES for Electricity Transmission Activities' },\n  { value: 'Telecommunications', label: 'NES for Telecommunication Facilities' },\n  { value: 'Other', label: 'Other NES' }\n]\n\nconst nesData = ref({})\n\n// Get or create NES data object\nconst getNESData = (nesType) => {\n  if (!nesData.value[nesType]) {\n    nesData.value[nesType] = {\n      nes_type: nesType,\n      applies: false,\n      description: '',\n      compliance_notes: ''\n    }\n  }\n  return nesData.value[nesType]\n}\n\n// NES Document Upload Handling\nconst handleNESDocumentUpload = (event, nesType) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 10 * 1024 * 1024) {\n    alert('File size must be less than 10MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'image/jpeg', 'image/jpg', 'image/png']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF, Word documents, and images are allowed')\n    event.target.value = ''\n    return\n  }\n\n  // Add to attachments with NES category\n  formData.value.attachments.push({\n    document_category: 'NES Documentation',\n    document_type: 'NES Assessment',\n    file: file,\n    description: `NES Assessment for ${nesType}`,\n    nes_type: nesType  // Track which NES this belongs to\n  })\n\n  event.target.value = ''\n}\n\nconst getNESDocuments = (nesType) => {\n  return formData.value.attachments.filter(att =>\n    att.document_category === 'NES Documentation' && att.nes_type === nesType\n  )\n}\n\nconst removeNESDocument = (nesType, docIdx) => {\n  const nesDocuments = getNESDocuments(nesType)\n  const docToRemove = nesDocuments[docIdx]\n  const globalIdx = formData.value.attachments.indexOf(docToRemove)\n  if (globalIdx > -1) {\n    formData.value.attachments.splice(globalIdx, 1)\n  }\n}\n\n// Certificate of Title Upload Handler\nconst handleCTUpload = (event) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 10 * 1024 * 1024) {\n    alert('File size must be less than 10MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF and image files (JPG, PNG) are allowed for Certificate of Title')\n    event.target.value = ''\n    return\n  }\n\n  // Store the file reference\n  formData.value.certificate_of_title_document = file\n\n  event.target.value = ''\n}\n\n// AEE Document Upload Handler\nconst handleAEEUpload = (event) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 20 * 1024 * 1024) {\n    alert('File size must be less than 20MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF and Word documents (.doc, .docx) are allowed for AEE documents')\n    event.target.value = ''\n    return\n  }\n\n  // Store the file reference\n  formData.value.aee_document = file\n\n  event.target.value = ''\n}\n\n// Watch nesData to update formData.nes_assessments\nwatch(nesData, () => {\n  formData.value.nes_assessments = nesTypes\n    .filter(nes => getNESData(nes.value).applies)\n    .map(nes => getNESData(nes.value))\n}, { deep: true })\n\n// Computed: Check if NES Soils is selected (for conditional HAIL section)\nconst isNESSoilsSelected = computed(() => {\n  return formData.value.nes_assessments.some(\n    nes => nes.nes_type && nes.nes_type.includes('HAIL')\n  )\n})\n\n// HAIL Activities Management\n// HAIL Activity Modal\nconst showHAILModal = ref(false)\nconst editingHAILIndex = ref(null)\nconst hailForm = ref({\n  activity_description: '',\n  hail_category: '',\n  currently_undertaken: false,\n  previously_undertaken: false,\n  likely_undertaken: false,\n  preliminary_investigation_done: false,\n  proposed_activities: [],\n  notes: ''\n})\nconst proposedActivities = ref({\n  fuel: false,\n  disturb: false,\n  sample: false,\n  subdivide: false,\n  change: false\n})\n\nconst addHAILActivity = () => {\n  // Reset form\n  hailForm.value = {\n    activity_description: '',\n    hail_category: '',\n    currently_undertaken: false,\n    previously_undertaken: false,\n    likely_undertaken: false,\n    preliminary_investigation_done: false,\n    proposed_activities: [],\n    notes: ''\n  }\n  proposedActivities.value = {\n    fuel: false,\n    disturb: false,\n    sample: false,\n    subdivide: false,\n    change: false\n  }\n  editingHAILIndex.value = null\n  showHAILModal.value = true\n}\n\nconst editHAILActivity = (index) => {\n  const hail = formData.value.hail_activities[index]\n  hailForm.value = { ...hail }\n\n  // Convert proposed_activities array to checkbox states\n  proposedActivities.value = {\n    fuel: hail.proposed_activities?.some(a => a.activity_type === 'Removing or replacing fuel storage system') || false,\n    disturb: hail.proposed_activities?.some(a => a.activity_type === 'Disturbing soil') || false,\n    sample: hail.proposed_activities?.some(a => a.activity_type === 'Sampling soil') || false,\n    subdivide: hail.proposed_activities?.some(a => a.activity_type === 'Subdividing land') || false,\n    change: hail.proposed_activities?.some(a => a.activity_type === 'Changing use of land') || false\n  }\n\n  editingHAILIndex.value = index\n  showHAILModal.value = true\n}\n\nconst saveHAIL = () => {\n  if (!hailForm.value.activity_description) {\n    alert('Please enter activity description')\n    return\n  }\n\n  // Convert checkbox states back to proposed_activities array\n  const proposedActivitiesArray = []\n  if (proposedActivities.value.fuel) proposedActivitiesArray.push({ activity_type: 'Removing or replacing fuel storage system' })\n  if (proposedActivities.value.disturb) proposedActivitiesArray.push({ activity_type: 'Disturbing soil' })\n  if (proposedActivities.value.sample) proposedActivitiesArray.push({ activity_type: 'Sampling soil' })\n  if (proposedActivities.value.subdivide) proposedActivitiesArray.push({ activity_type: 'Subdividing land' })\n  if (proposedActivities.value.change) proposedActivitiesArray.push({ activity_type: 'Changing use of land' })\n\n  const hailData = {\n    ...hailForm.value,\n    proposed_activities: proposedActivitiesArray\n  }\n\n  if (editingHAILIndex.value !== null) {\n    // Edit existing\n    formData.value.hail_activities[editingHAILIndex.value] = hailData\n  } else {\n    // Add new\n    formData.value.hail_activities.push(hailData)\n  }\n\n  showHAILModal.value = false\n}\n\nconst cancelHAIL = () => {\n  showHAILModal.value = false\n}\n\nconst removeHAILActivity = (index) => {\n  if (confirm('Remove this HAIL activity?')) {\n    formData.value.hail_activities.splice(index, 1)\n  }\n}\n\n// HAIL Proposed Activity checkbox handlers\nconst toggleHAILProposedActivity = (hailIndex, activityType) => {\n  const hail = formData.value.hail_activities[hailIndex]\n  if (!hail.proposed_activities) {\n    hail.proposed_activities = []\n  }\n\n  const activityIndex = hail.proposed_activities.findIndex(a => a.activity_type === activityType)\n  if (activityIndex > -1) {\n    hail.proposed_activities.splice(activityIndex, 1)\n  } else {\n    hail.proposed_activities.push({ activity_type: activityType })\n  }\n}\n\nconst isHAILActivitySelected = (hailIndex, activityType) => {\n  const hail = formData.value.hail_activities[hailIndex]\n  if (!hail.proposed_activities) return false\n  return hail.proposed_activities.some(a => a.activity_type === activityType)\n}\n\n// Proposal Details Accordion State\nconst proposalAccordion = ref({\n  building: true,  // Start with first section open\n  earthworks: false,\n  traffic: false,\n  operations: false\n})\n\nconst toggleProposalSection = (section) => {\n  proposalAccordion.value[section] = !proposalAccordion.value[section]\n}\n\n// Boundary Approval Document Upload\nconst handleBoundaryApprovalUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    formData.value.boundary_approval_document = file\n  }\n}\n\n// Track initial form state to detect changes\nconst initialFormData = ref(JSON.parse(JSON.stringify(formData.value)))\n\n// Computed property to check if form has changes\n// Exclude terms_accepted from change detection since it's not actual application data\nconst hasFormChanges = computed(() => {\n  const currentCopy = { ...formData.value }\n  const initialCopy = { ...initialFormData.value }\n\n  // Remove terms_accepted from comparison\n  delete currentCopy.terms_accepted\n  delete initialCopy.terms_accepted\n\n  const current = JSON.stringify(currentCopy)\n  const initial = JSON.stringify(initialCopy)\n  return current !== initial\n})\n\n// Computed property to check if Resource Consent request\nconst isResourceConsent = computed(() => {\n  return formData.value.request_category === 'Resource Consent'\n})\n\n// Consent type helpers\nconst hasConsentType = (type) => {\n  return formData.value.consent_types?.some(ct => ct.consent_type === type) || false\n}\n\nconst isLandUse = computed(() => hasConsentType('Land Use'))\nconst isSubdivision = computed(() => hasConsentType('Subdivision'))\nconst isWaterPermit = computed(() => hasConsentType('Water Permit'))\nconst isDischargePermit = computed(() => hasConsentType('Discharge Permit'))\nconst isCoastalPermit = computed(() => hasConsentType('Coastal Permit'))\n\n// Combined checks for common requirements\nconst requiresNaturalHazardsAssessment = computed(() => {\n  return isLandUse.value || isSubdivision.value\n})\n\nconst eligibleForFastTrack = computed(() => {\n  // Fast-track available for all except Subdivision, and only if Controlled activity\n  const isControlled = formData.value.activity_status === 'Controlled'\n  const notSubdivision = !isSubdivision.value\n  return isControlled && notSubdivision && isResourceConsent.value\n})\n\nconst hasUnlimitedDuration = computed(() => {\n  // LUC and SC can have unlimited duration\n  return (isLandUse.value || isSubdivision.value) &&\n         !(isWaterPermit.value || isDischargePermit.value || isCoastalPermit.value)\n})\n\n// Activity status validation warning\nconst activityStatusWarning = computed(() => {\n  if (!formData.value.activity_status) return null\n\n  switch (formData.value.activity_status) {\n    case 'Non-Complying':\n      return ' Non-complying activities face higher scrutiny and longer processing times. Consider council meeting.'\n    case 'Discretionary':\n      return ' Discretionary activities may require public notification depending on effects assessment.'\n    case 'Controlled':\n      return ' Controlled activities must be granted consent. Council will focus on appropriate conditions.'\n    default:\n      return null\n  }\n})\n\n// Show submit button only if there are changes or files uploaded\nconst canSubmit = computed(() => {\n  return hasFormChanges.value || uploadedFiles.value.length > 0\n})\n\n// Get request types (will be loaded based on council selection)\nconst requestTypes = ref({ data: [], loading: false, error: null })\n\n// Get user's properties (only for logged-in users)\nconst properties = createResource({\n  url: 'frappe.client.get_list',\n  params: {\n    doctype: 'Property',\n    fields: ['name', 'property_id', 'street_address', 'suburb', 'city', 'legal_description', 'certificate_of_title'],\n    limit_page_length: 100,\n  },\n  auto: false, // Don't auto-fetch for guest users\n})\n\n// Methods\nconst onCouncilChange = async (councilCode) => {\n  console.log('[NewRequest] onCouncilChange called with:', councilCode)\n  console.log('[NewRequest] formData.value.council is now:', formData.value.council)\n\n  if (!councilCode) {\n    requestTypes.value = { data: [], loading: false, error: null }\n    return\n  }\n\n  // Load request types for the selected council\n  requestTypes.value.loading = true\n  requestTypes.value.error = null\n\n  try {\n    await councilStore.loadRequestTypesForCouncil(councilCode)\n    requestTypes.value.data = councilStore.availableRequestTypes\n    console.log(`[NewRequest] Loaded ${requestTypes.value.data.length} request types for council ${councilCode}`)\n  } catch (error) {\n    requestTypes.value.error = error.message || 'Failed to load request types'\n    console.error('[NewRequest] Failed to load request types:', error)\n  } finally {\n    requestTypes.value.loading = false\n  }\n}\n\nconst goBack = () => {\n  if (confirm('Are you sure you want to leave? Any unsaved changes will be lost.')) {\n    router.push({ name: 'Dashboard' })\n  }\n}\n\nconst getStepClass = (stepNumber) => {\n  if (stepNumber < currentStep.value) {\n    return 'bg-blue-600 text-white'\n  } else if (stepNumber === currentStep.value) {\n    return 'bg-blue-600 text-white'\n  } else {\n    return 'bg-gray-200 text-gray-600'\n  }\n}\n\nconst selectRequestType = async (type) => {\n  console.log('[NewRequest] Selecting Request Type:', type.name, type.type_name)\n  formData.value.request_type = type.name\n  formData.value.request_category = type.category || ''\n\n  // Store the full request type details for the Process Info step\n  selectedRequestTypeDetails.value = type\n\n  console.log('[NewRequest] Form data updated:')\n  console.log('  request_type:', formData.value.request_type)\n  console.log('  request_category:', formData.value.request_category)\n  console.log('  council:', formData.value.council)\n  console.log('  formData.value:', formData.value)\n\n  // Load properties if this is a Resource Consent and user is logged in\n  if (type.category === 'Resource Consent' && session.user && session.user !== 'Guest') {\n    properties.fetch()\n  }\n\n  // Load step configuration for this request type\n  await loadStepConfiguration(type.name)\n}\n\n// Load step configuration from API\nconst loadStepConfiguration = async (requestType) => {\n  if (!requestType || !formData.value.council) {\n    console.log('[NewRequest] Skipping step config load - missing requestType or council')\n    return\n  }\n\n  try {\n    loadingStepConfigs.value = true\n    console.log('[NewRequest] Loading step config for:', requestType, 'council:', formData.value.council)\n\n    const result = await call('lodgeick.api.get_request_type_steps', {\n      request_type: requestType,\n      council_code: formData.value.council\n    })\n\n    console.log('[NewRequest] Step config API result:', result)\n\n    if (result && result.uses_config && result.steps && result.steps.length > 0) {\n      stepConfigs.value = result.steps\n      usesConfigurableSteps.value = true\n      console.log('[NewRequest] Loaded', stepConfigs.value.length, 'configured steps')\n    } else {\n      // No configuration found - use hardcoded flow\n      stepConfigs.value = []\n      usesConfigurableSteps.value = false\n      console.log('[NewRequest] No step configuration found - using hardcoded flow')\n    }\n  } catch (error) {\n    console.error('[NewRequest] Error loading step configuration:', error)\n    stepConfigs.value = []\n    usesConfigurableSteps.value = false\n  } finally {\n    loadingStepConfigs.value = false\n  }\n}\n\nconst onPropertySelect = () => {\n  if (formData.value.property) {\n    const selected = properties.data.find(p => p.name === formData.value.property)\n    if (selected) {\n      // Populate address\n      formData.value.property_address = `${selected.street_address}, ${selected.suburb}, ${selected.city}`\n\n      // Populate property details\n      formData.value.legal_description = selected.legal_description || ''\n      formData.value.ct_reference = selected.certificate_of_title || ''\n      formData.value.parcel_id = selected.property_id || ''\n      formData.value.zone = selected.zoning || ''\n\n      // Populate coordinates if available\n      if (selected.latitude && selected.longitude) {\n        formData.value.property_coordinates = `${selected.latitude},${selected.longitude}`\n      }\n\n      console.log('[NewRequest] Populated property details from existing property:', {\n        address: formData.value.property_address,\n        legal_description: formData.value.legal_description,\n        ct_reference: formData.value.ct_reference,\n        parcel_id: formData.value.parcel_id,\n        zone: formData.value.zone\n      })\n    }\n  }\n}\n\n// Property Search Autocomplete Handlers\nconst handlePropertySearch = () => {\n  // Clear existing timeout\n  if (propertySearchTimeout) {\n    clearTimeout(propertySearchTimeout)\n  }\n\n  const query = propertySearchQuery.value.trim()\n\n  // Only search if query is at least 3 characters\n  if (query.length < 3) {\n    propertySearchResults.value = []\n    return\n  }\n\n  // Debounce search\n  propertySearchTimeout = setTimeout(async () => {\n    propertySearchLoading.value = true\n    showPropertyDropdown.value = true\n\n    try {\n      const response = await fetch('/api/method/lodgeick.api.search_property_address', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: JSON.stringify({ query })\n      })\n\n      const data = await response.json()\n\n      if (data.message && data.message.results) {\n        propertySearchResults.value = data.message.results\n      } else {\n        propertySearchResults.value = []\n      }\n    } catch (error) {\n      console.error('[PropertySearch] Error searching properties:', error)\n      propertySearchResults.value = []\n    } finally {\n      propertySearchLoading.value = false\n    }\n  }, 300) // 300ms debounce\n}\n\nconst selectProperty = (result) => {\n  // Set the property address\n  formData.value.property_address = result.address\n  propertySearchQuery.value = result.address\n\n  // Set legal description if available\n  if (result.property?.legal_description) {\n    formData.value.legal_description = result.property.legal_description\n  }\n\n  // Set title number if available\n  if (result.property?.title_no) {\n    formData.value.ct_reference = result.property.title_no\n  }\n\n  // Set valuation reference if available\n  if (result.property?.valuation_reference) {\n    formData.value.valuation_reference = result.property.valuation_reference\n  }\n\n  // Set parcel ID if available\n  if (result.property?.parcel_id) {\n    formData.value.parcel_id = result.property.parcel_id\n  }\n\n  // Set property coordinates if available\n  if (result.projected_x && result.projected_y) {\n    formData.value.property_coordinates = `NZTM2000: ${result.projected_x.toFixed(2)}, ${result.projected_y.toFixed(2)}`\n  }\n\n  // Extract and set zoning from district plan hazards\n  if (result.hazards?.districtPlan && Array.isArray(result.hazards.districtPlan) && result.hazards.districtPlan.length > 0) {\n    const districtPlan = result.hazards.districtPlan[0]\n    if (districtPlan.attributes?.Zone_Code || districtPlan.attributes?.ZONE_CODE) {\n      formData.value.zone = districtPlan.attributes.Zone_Code || districtPlan.attributes.ZONE_CODE\n    } else if (districtPlan.attributes?.Zone_Name || districtPlan.attributes?.ZONE_NAME) {\n      formData.value.zone = districtPlan.attributes.Zone_Name || districtPlan.attributes.ZONE_NAME\n    }\n  }\n\n  // Store full hazard data for potential future use\n  formData.value.hazard_data = result.hazards\n\n  // Close dropdown\n  showPropertyDropdown.value = false\n  propertySearchResults.value = []\n\n  console.log('[PropertySearch] Selected property:', {\n    address: result.address,\n    legal_description: formData.value.legal_description,\n    title_no: formData.value.ct_reference,\n    zone: formData.value.zone,\n    hazards: result.hazards\n  })\n}\n\n// Close dropdown when clicking outside\nconst closePropertyDropdown = () => {\n  showPropertyDropdown.value = false\n}\n\n// Clear property address to allow new search\nconst clearPropertyAddress = () => {\n  formData.value.property_address = ''\n  formData.value.legal_description = ''\n  formData.value.ct_reference = ''\n  formData.value.valuation_reference = ''\n  formData.value.parcel_id = ''\n  formData.value.zone = ''\n  formData.value.property_coordinates = ''\n  formData.value.hazard_data = null\n  propertySearchQuery.value = ''\n  propertySearchResults.value = []\n  console.log('[PropertySearch] Cleared property data for new search')\n}\n\nconst canProceed = computed(() => {\n  const step = currentStep.value\n\n  switch (step) {\n    case 1:\n      // Step 1: Council selection\n      return !!formData.value.council\n\n    case 2:\n      // Step 2: Request type selection\n      return !!formData.value.request_type\n\n    case 3:\n      // Step 3: Process Info - always can proceed (just informational)\n      return true\n\n    case 4:\n      // Step 4: Applicant & Proposal (FRD) - always can proceed\n      // toRaw() is used in Step1ApplicantProposal to prevent reactive loops\n      return true\n\n    case 5:\n      // Step 5: Natural Hazards (FRD Step 2) - Required for Land Use/Subdivision only\n      if (isResourceConsent.value) {\n        // Extract to avoid reactive tracking issues\n        const consentTypes = formData.value.consent_types\n        const requiresHazards = consentTypes?.some(ct =>\n          ct.consent_type === 'Land Use' || ct.consent_type === 'Subdivision'\n        )\n        if (requiresHazards) {\n          const hazards = formData.value.natural_hazards\n          const confirmed = formData.value.no_natural_hazards_confirmed\n          const hasHazards = hazards && hazards.length > 0\n          return hasHazards || confirmed\n        }\n        return true\n      }\n      return true\n\n    case 6:\n      // Step 6: NES Assessment (FRD Step 3) - Optional (can have \"no NES confirmed\")\n      return true\n\n    case 7:\n      // Step 7: Approvals (FRD Step 4) - Optional\n      return true\n\n    case 8:\n      // Step 8: Consultation (FRD Step 5) - Optional\n      return true\n\n    case 9:\n      // Step 9: Documents (FRD Step 6) - Optional (but recommended)\n      return true\n\n    case 10:\n      // Step 10: AEE (FRD Step 7) - REQUIRED based on completion method\n      if (isResourceConsent.value) {\n        if (formData.value.aee_completion_method === 'upload') {\n          return !!formData.value.aee_document && !!formData.value.aee_document_confirmed\n        } else {\n          // Inline method - require key fields\n          return !!formData.value.aee_activity_description?.trim() &&\n            !!formData.value.aee_existing_environment?.trim() &&\n            !!formData.value.assessment_of_effects?.trim() &&\n            !!formData.value.aee_inline_confirmed\n        }\n      }\n      return true\n\n    case 11:\n      // Step 11: Submission (FRD Step 9) - REQUIRED all 3 declarations and signature\n      if (isResourceConsent.value) {\n        const hasDeclarations = formData.value.declaration_rma_compliance &&\n          formData.value.declaration_public_information &&\n          formData.value.declaration_authorized\n        const hasSignature = !!formData.value.applicant_signature_first_name?.trim() &&\n          !!formData.value.applicant_signature_last_name?.trim() &&\n          !!formData.value.applicant_signature_date\n\n        return hasDeclarations && hasSignature\n      }\n      return true\n\n    default:\n      // Review step and any other steps - always allow\n      return true\n  }\n})\n\nconst nextStep = () => {\n  const totalStepsValue = totalSteps.value\n  const currentStepValue = currentStep.value\n  const canProceedValue = canProceed.value\n\n  console.log('[NewRequest] nextStep called', {\n    canProceed: canProceedValue,\n    currentStep: currentStepValue,\n    totalSteps: totalStepsValue,\n    steps: steps.value,\n    willProceed: canProceedValue && currentStepValue < totalStepsValue - 1\n  })\n\n  if (canProceedValue && currentStepValue < totalStepsValue - 1) {\n    currentStep.value++\n    console.log('[NewRequest] Moved to step:', currentStep.value)\n  } else {\n    console.warn('[NewRequest] Cannot proceed:', {\n      canProceed: canProceedValue,\n      currentStep: currentStepValue,\n      totalSteps: totalStepsValue,\n      reason: !canProceedValue ? 'canProceed returned false' : 'at last step'\n    })\n  }\n}\n\nconst previousStep = () => {\n  if (currentStep.value > 0) {\n    currentStep.value--\n  }\n}\n\nconst loadDraft = async (requestId) => {\n  try {\n    const response = await fetch('/api/method/lodgeick.api.load_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: requestId\n      })\n    })\n\n    const result = await response.json()\n\n    if (result.message && result.message.success) {\n      // Load the form data\n      formData.value = result.message.form_data || {}\n\n      // Redirect to the saved step\n      currentStep.value = result.message.current_step || 1\n\n      console.log(`Draft loaded successfully. Resuming at step ${currentStep.value}`)\n    } else {\n      throw new Error(result.message || 'Failed to load draft')\n    }\n  } catch (error) {\n    console.error('Error loading draft:', error)\n    alert('Failed to load draft. Starting new application.')\n  }\n}\n\nconst saveDraft = async (closeAfterSave = false) => {\n  savingDraft.value = true\n  try {\n    const response = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value,\n        current_step: currentStep.value,\n        total_steps: totalSteps.value\n      })\n    })\n\n    const result = await response.json()\n\n    if (result.message && result.message.success) {\n      // Store the request ID in formData for future updates\n      if (result.message.request_id && !formData.value.request_id) {\n        formData.value.request_id = result.message.request_id\n      }\n\n      alert(`Draft saved successfully! Request ID: ${result.message.request_number}`)\n\n      // If closeAfterSave, redirect to dashboard\n      if (closeAfterSave) {\n        router.push({ name: 'Dashboard' })\n      }\n\n      // Return the result for use by other functions\n      return result.message\n    } else {\n      throw new Error(result.message || 'Failed to save draft')\n    }\n  } catch (error) {\n    console.error('Error saving draft:', error)\n    alert('Failed to save draft. Please try again.')\n    return null\n  } finally {\n    savingDraft.value = false\n  }\n}\n\nconst triggerFileUpload = () => {\n  fileInput.value.click()\n}\n\nconst handleFileUpload = (event) => {\n  const files = Array.from(event.target.files)\n  uploadedFiles.value.push(...files)\n}\n\nconst removeFile = (index) => {\n  uploadedFiles.value.splice(index, 1)\n}\n\n// formatFileSize is now imported from utils/fileHelpers.js\n\nconst getCouncilName = () => {\n  const council = councilStore.councils?.find(c => c.council_code === formData.value.council)\n  return council?.council_name || 'Council'\n}\n\nconst getRequestTypeName = () => {\n  const type = requestTypes.data?.find(t => t.name === formData.value.request_type)\n  return type?.type_name || 'N/A'\n}\n\nconst getApplicationFee = () => {\n  const type = requestTypes.data?.find(t => t.name === formData.value.request_type)\n  return type?.base_fee ? `$${type.base_fee}` : 'TBD'\n}\n\n// Navigation handlers\nconst handleNext = () => {\n  if (canProceed.value) {\n    currentStep.value++\n  }\n}\n\nconst handlePrevious = () => {\n  if (currentStep.value > 1) {\n    currentStep.value--\n  }\n}\n\n// Get the step configuration for the current step\nconst getCurrentStepConfig = () => {\n  if (!usesConfigurableSteps.value || stepConfigs.value.length === 0) {\n    return null\n  }\n\n  // Find the index of 'Process Info' in the steps array\n  const processInfoIndex = steps.value.findIndex(s => s.title === 'Process Info')\n\n  // Dynamic steps come after Process Info\n  // Map currentStep to stepConfigs array (0-indexed)\n  const configIndex = currentStep.value - processInfoIndex - 1\n\n  if (configIndex >= 0 && configIndex < stepConfigs.value.length) {\n    return stepConfigs.value[configIndex]\n  }\n\n  return null\n}\n\n// Get the title of the current step\nconst getCurrentStepTitle = () => {\n  const title = (currentStep.value >= 0 && currentStep.value < steps.value.length)\n    ? steps.value[currentStep.value].title\n    : ''\n\n  console.log('[getCurrentStepTitle] currentStep:', currentStep.value, 'title:', title, 'allSteps:', steps.value.map(s => s.title).join('  '))\n\n  return title\n}\n\nconst handleSubmit = async () => {\n  await submitApplication()\n}\n\nconst submitApplication = async () => {\n  // NEW: Check statutory declarations instead of single terms_accepted\n  if (!formData.value.declaration_rma_compliance ||\n      !formData.value.declaration_public_information ||\n      !formData.value.declaration_authorized) {\n    alert('Please confirm all three statutory declarations before submitting your application')\n    return\n  }\n\n  submitting.value = true\n  try {\n    // Step 1: Create draft request\n    const createResponse = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value\n      })\n    })\n\n    const createResult = await createResponse.json()\n\n    if (!createResult.message || !createResult.message.success) {\n      throw new Error('Failed to create request')\n    }\n\n    const requestId = createResult.message.request_id\n\n    // Step 2: Upload files if any\n    if (uploadedFiles.value.length > 0) {\n      for (const file of uploadedFiles.value) {\n        const fileFormData = new FormData()\n        fileFormData.append('file', file)\n        fileFormData.append('doctype', 'Request')\n        fileFormData.append('docname', requestId)\n        fileFormData.append('is_private', 0)\n\n        await fetch('/api/method/upload_file', {\n          method: 'POST',\n          headers: {\n            'X-Frappe-CSRF-Token': window.csrf_token\n          },\n          body: fileFormData\n        })\n      }\n    }\n\n    // NEW: Upload Certificate of Title document if provided\n    if (formData.value.certificate_of_title_document) {\n      const ctFormData = new FormData()\n      ctFormData.append('file', formData.value.certificate_of_title_document)\n      ctFormData.append('doctype', 'Request')\n      ctFormData.append('docname', requestId)\n      ctFormData.append('fieldname', 'certificate_of_title_document')\n      ctFormData.append('is_private', 0)\n\n      await fetch('/api/method/upload_file', {\n        method: 'POST',\n        headers: {\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: ctFormData\n      })\n    }\n\n    // NEW: Upload AEE document if provided\n    if (formData.value.aee_document) {\n      const aeeFormData = new FormData()\n      aeeFormData.append('file', formData.value.aee_document)\n      aeeFormData.append('doctype', 'Resource Consent Application')\n      aeeFormData.append('docname', requestId)\n      aeeFormData.append('fieldname', 'aee_document')\n      aeeFormData.append('is_private', 0)\n\n      await fetch('/api/method/upload_file', {\n        method: 'POST',\n        headers: {\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: aeeFormData\n      })\n    }\n\n    // Step 3: Submit the request\n    const submitResponse = await fetch('/api/method/lodgeick.lodgeick.doctype.request.request.submit_application', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: requestId\n      })\n    })\n\n    const submitResult = await submitResponse.json()\n\n    if (submitResult.message && submitResult.message.success) {\n      alert(`Application submitted successfully! Request Number: ${submitResult.message.request_number}`)\n      router.push({ name: 'Dashboard' })\n    } else {\n      throw new Error('Failed to submit application')\n    }\n  } catch (error) {\n    console.error('Error submitting application:', error)\n    alert('Failed to submit application')\n  } finally {\n    submitting.value = false\n  }\n}\n\nconst bookPreApplicationMeeting = async () => {\n  if (!formData.value.request_type) {\n    alert('Please complete your application details first')\n    return\n  }\n\n  bookingMeeting.value = true\n  try {\n    // First, save as draft if not already saved\n    const draftResponse = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value\n      })\n    })\n\n    const draftResult = await draftResponse.json()\n\n    if (!draftResult.message || !draftResult.message.success) {\n      throw new Error('Failed to save application')\n    }\n\n    const requestId = draftResult.message.request_id\n\n    // Book the meeting via backend API\n    const meetingResponse = await fetch('/api/method/lodgeick.api.book_council_meeting', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: requestId,\n        meeting_type: 'Council Meeting'\n      })\n    })\n\n    const meetingResult = await meetingResponse.json()\n\n    if (meetingResult.message && meetingResult.message.success) {\n      alert(`Council Meeting request has been submitted! A council officer will contact you within 2 business days to schedule the meeting. Task ID: ${meetingResult.message.task_id}`)\n    } else {\n      throw new Error(meetingResult.message || 'Failed to book meeting')\n    }\n  } catch (error) {\n    console.error('Error booking meeting:', error)\n    alert('Failed to book council meeting. Please try again.')\n  } finally {\n    bookingMeeting.value = false\n  }\n}\n\n// Resource Consent specific methods\nconst ciaFileInput = ref(null)\n\n// Affected Party Modal\nconst showAffectedPartyModal = ref(false)\nconst editingPartyIndex = ref(null)\nconst affectedPartyForm = ref({\n  party_name: '',\n  relationship: '',\n  property_address: '',\n  email: '',\n  phone: '',\n  postal_address: '',\n  approval_obtained: false,\n  approval_date: '',\n  approval_document: null,\n  comments: ''\n})\n\nconst addAffectedParty = () => {\n  // Reset form\n  affectedPartyForm.value = {\n    party_name: '',\n    relationship: '',\n    property_address: '',\n    email: '',\n    phone: '',\n    postal_address: '',\n    approval_obtained: false,\n    approval_date: '',\n    approval_document: null,\n    comments: ''\n  }\n  editingPartyIndex.value = null\n  showAffectedPartyModal.value = true\n}\n\nconst editAffectedParty = (index) => {\n  affectedPartyForm.value = { ...formData.value.affected_parties[index] }\n  editingPartyIndex.value = index\n  showAffectedPartyModal.value = true\n}\n\nconst saveAffectedParty = () => {\n  if (!affectedPartyForm.value.party_name || !affectedPartyForm.value.relationship) {\n    alert('Please enter party name and relationship')\n    return\n  }\n\n  if (editingPartyIndex.value !== null) {\n    // Edit existing\n    formData.value.affected_parties[editingPartyIndex.value] = { ...affectedPartyForm.value }\n  } else {\n    // Add new\n    formData.value.affected_parties.push({ ...affectedPartyForm.value })\n  }\n\n  showAffectedPartyModal.value = false\n}\n\nconst cancelAffectedParty = () => {\n  showAffectedPartyModal.value = false\n}\n\nconst removeAffectedParty = (index) => {\n  if (confirm('Remove this affected party?')) {\n    formData.value.affected_parties.splice(index, 1)\n  }\n}\n\nconst handleApprovalDocumentUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = [\n      'application/pdf',\n      'application/msword',\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n      'image/jpeg',\n      'image/jpg',\n      'image/png'\n    ]\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF, Word documents, and images (JPG, PNG) are allowed')\n      event.target.value = ''\n      return\n    }\n\n    affectedPartyForm.value.approval_document = file\n  }\n}\n\n// Specialist Report Modal\nconst showSpecialistReportModal = ref(false)\nconst editingReportIndex = ref(null)\nconst specialistReportForm = ref({\n  report_type: '',\n  specialist_name: '',\n  specialist_company: '',\n  report_date: '',\n  document: null,\n  summary: ''\n})\n\nconst addSpecialistReport = () => {\n  specialistReportForm.value = {\n    report_type: '',\n    specialist_name: '',\n    specialist_company: '',\n    report_date: '',\n    document: null,\n    summary: ''\n  }\n  editingReportIndex.value = null\n  showSpecialistReportModal.value = true\n}\n\nconst editSpecialistReport = (index) => {\n  specialistReportForm.value = { ...formData.value.specialist_reports[index] }\n  editingReportIndex.value = index\n  showSpecialistReportModal.value = true\n}\n\nconst saveSpecialistReport = () => {\n  if (!specialistReportForm.value.report_type || !specialistReportForm.value.specialist_name || !specialistReportForm.value.report_date) {\n    alert('Please enter report type, specialist name, and report date')\n    return\n  }\n\n  if (editingReportIndex.value !== null) {\n    formData.value.specialist_reports[editingReportIndex.value] = { ...specialistReportForm.value }\n  } else {\n    formData.value.specialist_reports.push({ ...specialistReportForm.value })\n  }\n  showSpecialistReportModal.value = false\n}\n\nconst cancelSpecialistReport = () => {\n  showSpecialistReportModal.value = false\n}\n\nconst removeSpecialistReport = (index) => {\n  if (confirm('Remove this specialist report?')) {\n    formData.value.specialist_reports.splice(index, 1)\n  }\n}\n\nconst handleReportDocumentUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF and Word documents are allowed')\n      event.target.value = ''\n      return\n    }\n\n    specialistReportForm.value.document = file\n  }\n}\n\nconst handleCIAUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF and Word documents are allowed')\n      event.target.value = ''\n      return\n    }\n\n    formData.value.cultural_impact_assessment = file\n  }\n}\n\n// ===== AEE Plan Assessment Handlers =====\n\n// Plan Rules\nconst addPlanRule = () => {\n  const rule = prompt('Enter plan rule reference (e.g., Rule 16.4.2.1)')\n  if (!rule) return\n\n  const activityStatus = prompt('Activity status (Permitted/Controlled/Restricted Discretionary/Discretionary/Non-Complying/Prohibited)')\n  if (!activityStatus) return\n\n  const description = prompt('Rule description (optional)', '')\n\n  formData.value.aee_plan_rules.push({\n    rule_reference: rule,\n    activity_status: activityStatus,\n    rule_description: description || ''\n  })\n}\n\nconst removePlanRule = (index) => {\n  if (confirm('Remove this plan rule?')) {\n    formData.value.aee_plan_rules.splice(index, 1)\n  }\n}\n\n// Compliance Standards\nconst addComplianceStandard = () => {\n  const standard = prompt('Enter standard reference (e.g., Building height: 8m maximum)')\n  if (!standard) return\n\n  const complies = confirm('Does the proposal comply with this standard?')\n  const analysis = prompt('Compliance analysis (optional)', '')\n\n  formData.value.aee_compliance_standards.push({\n    standard_reference: standard,\n    complies: complies,\n    compliance_analysis: analysis || '',\n    standard_description: ''\n  })\n}\n\nconst removeComplianceStandard = (index) => {\n  if (confirm('Remove this compliance standard?')) {\n    formData.value.aee_compliance_standards.splice(index, 1)\n  }\n}\n\n// Written Approvals\nconst addWrittenApproval = () => {\n  const name = prompt('Enter party name')\n  if (!name) return\n\n  const address = prompt('Party address (optional)', '')\n  const attached = confirm('Is the written approval attached?')\n\n  formData.value.aee_written_approvals.push({\n    party_name: name,\n    party_address: address || '',\n    approval_attached: attached,\n    approval_document: null\n  })\n}\n\nconst removeWrittenApproval = (index) => {\n  if (confirm('Remove this written approval?')) {\n    formData.value.aee_written_approvals.splice(index, 1)\n  }\n}\n\n// AEE Proposed Conditions\nconst addAEECondition = () => {\n  const text = prompt('Enter proposed condition')\n  if (!text) return\n\n  const number = formData.value.aee_proposed_conditions.length + 1\n\n  formData.value.aee_proposed_conditions.push({\n    condition_number: number,\n    condition_text: text\n  })\n}\n\nconst removeAEECondition = (index) => {\n  if (confirm('Remove this proposed condition?')) {\n    formData.value.aee_proposed_conditions.splice(index, 1)\n    // Renumber remaining conditions\n    formData.value.aee_proposed_conditions.forEach((cond, idx) => {\n      cond.condition_number = idx + 1\n    })\n  }\n}\n\n// Proposed Conditions Modal\nconst showConditionsModal = ref(false)\nconst editingConditionIndex = ref(null)\nconst availableConditionTemplates = ref([])\nconst loadingTemplates = ref(false)\nconst selectedCategory = ref('All')\n\nconst conditionForm = ref({\n  condition_number: '',\n  condition_category: '',\n  condition_text: '',\n  compliance_status: 'Not Started',\n  compliance_due_date: '',\n  compliance_notes: ''\n})\n\nconst conditionCategories = [\n  'All',\n  'General',\n  'Timing',\n  'Lapse',\n  'Review',\n  'Financial Contribution',\n  'Bonds',\n  'Monitoring',\n  'Environmental Management',\n  'Construction',\n  'Operation',\n  'Landscape',\n  'Ecology',\n  'Archaeology',\n  'Cultural',\n  'Traffic',\n  'Parking',\n  'Noise',\n  'Discharge',\n  'Earthworks',\n  'Heritage',\n  'Water',\n  'Coastal',\n  'Other'\n]\n\n// Fetch condition templates based on selected consent types\nconst fetchConditionTemplates = async () => {\n  loadingTemplates.value = true\n  try {\n    const selectedTypes = formData.value.consent_types.map(ct => ct.consent_type)\n\n    // Fetch templates from backend\n    const response = await fetch('/api/method/frappe.client.get_list', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        doctype: 'Consent Condition Template',\n        fields: ['name', 'template_name', 'condition_code', 'condition_category', 'condition_text', 'applies_to_consent_types', 'timing', 'monitoring_required'],\n        filters: {\n          is_active: 1\n        },\n        limit_page_length: 0\n      })\n    })\n\n    const data = await response.json()\n\n    if (data.message) {\n      // Filter templates that apply to selected consent types\n      availableConditionTemplates.value = data.message.filter(template => {\n        if (!template.applies_to_consent_types || template.applies_to_consent_types === 'All') {\n          return true\n        }\n        return selectedTypes.some(type => template.applies_to_consent_types.includes(type))\n      })\n    }\n  } catch (error) {\n    console.error('Error fetching condition templates:', error)\n    alert('Failed to load condition templates')\n  } finally {\n    loadingTemplates.value = false\n  }\n}\n\nconst filteredConditionTemplates = computed(() => {\n  if (selectedCategory.value === 'All') {\n    return availableConditionTemplates.value\n  }\n  return availableConditionTemplates.value.filter(t => t.condition_category === selectedCategory.value)\n})\n\nconst openConditionsModal = async () => {\n  if (!formData.value.consent_types || formData.value.consent_types.length === 0) {\n    alert('Please select at least one consent type first')\n    return\n  }\n\n  await fetchConditionTemplates()\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n  showConditionsModal.value = true\n}\n\nconst addConditionFromTemplate = (template) => {\n  // Generate a condition number\n  const conditionNum = (formData.value.proposed_conditions.length + 1).toString()\n\n  const newCondition = {\n    condition_number: conditionNum,\n    condition_category: template.condition_category,\n    condition_text: template.condition_text,\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n\n  formData.value.proposed_conditions.push(newCondition)\n}\n\nconst addCustomCondition = () => {\n  conditionForm.value = {\n    condition_number: (formData.value.proposed_conditions.length + 1).toString(),\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst editCondition = (index) => {\n  conditionForm.value = { ...formData.value.proposed_conditions[index] }\n  editingConditionIndex.value = index\n}\n\nconst saveCondition = () => {\n  if (!conditionForm.value.condition_category || !conditionForm.value.condition_text) {\n    alert('Please enter condition category and text')\n    return\n  }\n\n  if (editingConditionIndex.value !== null) {\n    formData.value.proposed_conditions[editingConditionIndex.value] = { ...conditionForm.value }\n  } else {\n    formData.value.proposed_conditions.push({ ...conditionForm.value })\n  }\n\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst cancelConditionEdit = () => {\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst removeCondition = (index) => {\n  if (confirm('Remove this condition?')) {\n    formData.value.proposed_conditions.splice(index, 1)\n    // Renumber remaining conditions\n    formData.value.proposed_conditions.forEach((cond, idx) => {\n      cond.condition_number = (idx + 1).toString()\n    })\n  }\n}\n\n// Council Meeting Request\nconst meetingResource = createResource({\n  url: 'lodgeick.api.book_council_meeting',\n  makeParams: (values) => values,\n  onSuccess: (data) => {\n    if (data && data.success) {\n      alert(` Council Meeting Request Sent!\\n\\nTask #${data.task_id} has been created for the planning team.\\n\\nThey will contact you within 2 business days to schedule.`)\n    } else {\n      alert('Meeting request sent successfully! The planning team will contact you soon.')\n    }\n    requestingMeeting.value = false\n  },\n  onError: (error) => {\n    console.error('Error requesting meeting:', error)\n    alert('Failed to request council meeting. Please try again or contact the planning team directly.')\n    requestingMeeting.value = false\n  }\n})\n\nconst requestPreAppMeeting = async () => {\n  if (!formData.value.request_type || !formData.value.property_address) {\n    alert('Please complete the Request Type and Property Details first.')\n    return\n  }\n\n  if (!confirm('Request a council meeting? A planning officer will contact you within 2 business days to schedule.\\n\\nNote: You should save your application as a draft first.')) {\n    return\n  }\n\n  try {\n    requestingMeeting.value = true\n\n    // First, save the draft\n    const draftResult = await saveDraft()\n\n    if (!draftResult || !draftResult.request_id) {\n      alert('Please save your draft application first.')\n      requestingMeeting.value = false\n      return\n    }\n\n    // Then request the meeting\n    meetingResource.submit({\n      request_id: draftResult.request_id,\n      meeting_type: 'Council Meeting'\n    })\n  } catch (error) {\n    console.error('Error in meeting request:', error)\n    alert('Failed to request council meeting. Please try again.')\n    requestingMeeting.value = false\n  }\n}\n\n// Initialize on mount\n// Load user profile and auto-populate fields\nconst loadUserProfile = async () => {\n  try {\n    loadingProfile.value = true\n    const profile = await call('lodgeick.api.get_user_profile')\n    userProfile.value = profile\n\n    // Auto-populate applicant type from profile default\n    if (profile.applicant_type && !formData.value.applicant_type) {\n      formData.value.applicant_type = profile.applicant_type\n    }\n\n    // Auto-populate phone if not acting on behalf\n    if (profile.phone && !formData.value.applicant_phone && !formData.value.acting_on_behalf) {\n      formData.value.applicant_phone = profile.phone\n    }\n\n    // Auto-populate applicant name and email when not acting on behalf\n    if (!formData.value.acting_on_behalf) {\n      formData.value.applicant_name = `${profile.first_name || ''} ${profile.last_name || ''}`.trim() || profile.email\n      formData.value.applicant_email = profile.email\n    }\n  } catch (error) {\n    console.error('Error loading user profile:', error)\n  } finally {\n    loadingProfile.value = false\n  }\n}\n\nconst loadCompanyAccount = async () => {\n  try {\n    const companyAccount = await call('lodgeick.api.get_user_company_account')\n    if (companyAccount) {\n      userCompanyAccount.value = companyAccount\n    }\n  } catch (error) {\n    console.error('Error loading company account:', error)\n  }\n}\n\n// Watch submitted_on_behalf_of to set company_account\nwatch(() => formData.value.submitted_on_behalf_of, (submittedAs) => {\n  if (submittedAs === 'Company' && userCompanyAccount.value) {\n    formData.value.company_account = userCompanyAccount.value.name\n  } else {\n    formData.value.company_account = null\n  }\n})\n\n// Watch acting_on_behalf to auto-populate or clear applicant details\nwatch(() => formData.value.acting_on_behalf, (actingOnBehalf) => {\n  if (!actingOnBehalf && userProfile.value) {\n    // Auto-populate from profile\n    formData.value.applicant_name = `${userProfile.value.first_name || ''} ${userProfile.value.last_name || ''}`.trim() || userProfile.value.email\n    formData.value.applicant_email = userProfile.value.email\n    if (userProfile.value.phone) {\n      formData.value.applicant_phone = userProfile.value.phone\n    }\n    if (userProfile.value.applicant_type) {\n      formData.value.applicant_type = userProfile.value.applicant_type\n    }\n  } else if (actingOnBehalf) {\n    // Clear fields for agent to fill in client details\n    formData.value.applicant_name = ''\n    formData.value.applicant_email = ''\n    formData.value.applicant_phone = ''\n    // Keep applicant_type as it might be different for the client\n  }\n})\n\n// Watch phone number to save back to profile when user updates it (and not acting on behalf)\nwatch(() => formData.value.applicant_phone, async (newPhone, oldPhone) => {\n  // Only save if:\n  // 1. Not acting on behalf (it's their own application)\n  // 2. Profile is loaded\n  // 3. Phone has actually changed\n  // 4. New phone is not empty\n  if (!formData.value.acting_on_behalf && userProfile.value && newPhone && newPhone !== oldPhone && newPhone !== userProfile.value.phone) {\n    try {\n      await call('lodgeick.api.update_user_profile', {\n        phone: newPhone\n      })\n      // Update local profile copy\n      userProfile.value.phone = newPhone\n      console.log('[NewRequest] Phone number saved to profile:', newPhone)\n    } catch (error) {\n      console.error('[NewRequest] Error saving phone to profile:', error)\n      // Don't show error to user - this is a background operation\n    }\n  }\n})\n\n// Watch for changes to formData.council\nwatch(() => formData.value.council, (newValue, oldValue) => {\n  console.log('[NewRequest] formData.council changed from:', oldValue, 'to:', newValue)\n  console.trace('[NewRequest] Stack trace for council change')\n})\n\nonMounted(async () => {\n  console.log('[NewRequest] onMounted - starting initialization')\n\n  // Load user profile first\n  await loadUserProfile()\n\n  // Load company account if user has one\n  await loadCompanyAccount()\n\n  // Check if we're loading a draft\n  const draftId = route.params.id || route.query.draft_id\n  if (draftId) {\n    await loadDraft(draftId)\n    return  // Skip council/type initialization when loading a draft\n  }\n\n  // Load locked council state from session\n  console.log('[NewRequest] Before loadLockedCouncil - isCouncilLocked:', councilStore.isCouncilLocked)\n  const lockedResult = await councilStore.loadLockedCouncil()\n  console.log('[NewRequest] After loadLockedCouncil - result:', lockedResult)\n  console.log('[NewRequest] After loadLockedCouncil - isCouncilLocked:', councilStore.isCouncilLocked)\n  console.log('[NewRequest] After loadLockedCouncil - lockedCouncil:', councilStore.lockedCouncil)\n\n  // Check for pre-selected request type from URL\n  const preselectedType = route.query.type\n  console.log('[NewRequest] preselectedType from URL:', preselectedType)\n\n  // Handle council selection\n  if (councilStore.isCouncilLocked) {\n    // Council is locked - pre-select it\n    console.log('[NewRequest] Council is locked:', councilStore.lockedCouncil)\n    formData.value.council = councilStore.lockedCouncil\n    await onCouncilChange(councilStore.lockedCouncil)\n\n    if (preselectedType) {\n      // Both council and type are locked - skip Steps 1 & 2\n      console.log('[NewRequest] Request type is pre-selected:', preselectedType)\n      formData.value.request_type = preselectedType\n\n      // Find the request type details from the loaded request types\n      const requestType = councilStore.requestTypes.find(rt => rt.name === preselectedType)\n      if (requestType) {\n        selectedRequestTypeDetails.value = requestType\n        formData.value.request_category = requestType.category || ''\n        console.log('[NewRequest] Set selectedRequestTypeDetails:', requestType)\n      }\n\n      // Load step configuration for this request type\n      await loadStepConfiguration(preselectedType)\n\n      // Start at Step 3 (Process Info) - which is now step index 0 (since Steps 1 & 2 are removed)\n      currentStep.value = 0\n    } else {\n      // Only council is locked - skip Step 1, show Step 2 (Type)\n      currentStep.value = 0  // Points to \"Request Type\" step (which is now index 0)\n    }\n  } else if (councilStore.preselectedFromUrl) {\n    // Council was preselected via URL (but not locked)\n    console.log('[NewRequest] Setting council from URL:', councilStore.preselectedFromUrl)\n    formData.value.council = councilStore.preselectedFromUrl\n    await onCouncilChange(councilStore.preselectedFromUrl)\n  } else {\n    // Try to load user's default council\n    const userCouncils = await councilStore.getUserCouncils()\n    if (userCouncils.default_council) {\n      console.log('[NewRequest] Setting council from user default:', userCouncils.default_council)\n      formData.value.council = userCouncils.default_council\n      await onCouncilChange(userCouncils.default_council)\n    }\n  }\n\n  console.log('[NewRequest] onMounted - initialization complete')\n  console.log('  Council:', formData.value.council)\n  console.log('  Type:', formData.value.request_type)\n  console.log('  Current Step:', currentStep.value)\n})\n</script>\n"],"names":["r","t","e","n","s","f","i","l","u","o","$","T","O","I","k","U","N","b","d","E","x","a","p","R","j","m","y","__objRest","c","g","Q","P","h","w","H","D","S","v","C","_a","K","M","V","L","B","F","te","le","G","me","W","_","J","A","z","__spreadValues","ee","pe","xe","Z","Y","Ie","ye","X","q","props","__props","emit","__emit","updateCouncil","council","__spreadProps","_createElementBlock","_cache","_createElementVNode","_createVNode","CouncilSelector","selectType","type","updatedValue","_openBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","$event","_normalizeClass","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","router","useRouter","preAppMeetingNotRequired","ref","preAppMeetings","_b","showPreAppMeetingModal","currentPreAppMeeting","watch","openPreAppMeetingModal","closePreAppMeetingModal","savePreAppMeeting","removePreAppMeeting","index","formatDate","dateString","handleContinue","session","currentPath","_hoisted_3","_hoisted_7","meeting","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_vModelSelect","_vModelText","_hoisted_29","_hoisted_30","reviewSections","computed","step","hasPropertyDetails","hasReviewContent","section","field","formatFieldValue","value","hasAnyConsentType","activityStatusClass","status","hasNaturalHazards","hasConsultation","hasAEEContent","stripHtml","html","tmp","truncate","text","maxLength","clean","formatSignatureDate","dateStr","isComplete","hasBasicInfo","hasRCRequirements","_hoisted_22","_hoisted_24","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_70","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_79","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","render","_ctx","fileInput","videoElement","showCamera","capturedImage","mediaStream","uploading","uploadProgress","files","triggerFileInput","handleFileSelect","event","__async","selectedFiles","processFiles","validFiles","file","formatFileSize","preview","createImagePreview","newFiles","uploadFiles","resolve","reader","filesToUpload","fileData","progressInterval","error","removeFile","openCamera","startCamera","stream","capturePhoto","video","canvas","retakePhoto","usePhoto","blob","closeCamera","track","bytes","sizes","_createTextVNode","_TransitionGroup","_createBlock","_Teleport","localAddress","provinces","municipalitiesData","barangaysData","municipalities","barangays","fullAddress","parts","onProvinceChange","updateAddress","onMunicipalityChange","onMounted","newVal","province","municipality","barangay","showTooltip","tooltipPositionClass","arrowPositionClass","_renderSlot","_Transition","evaluateCondition","expression","formData","cleanExpression","isSectionVisible","isFieldVisible","validateEmail","validatePhone","validateUrl","validateNumber","evaluateCustomValidation","validateField","validation","localData","visibleFields","isAddressField","parentSection","getPlaceholder","label","getFieldIcon","getSelectOptions","optionsString","opt","validationErrors","handleFieldValidation","result","getValidationError","fieldName","fields","PhilippinesAddressInput","Tooltip","option","CameraUpload","visibleSections","getTabsForSection","config","_unref","TabGroup","TabList","tab","idx","Tab","selected","_withCtx","TabPanels","TabPanel","DynamicFieldRenderer","Disclosure","open","DisclosureButton","ChevronUpIcon","DisclosurePanel","route","useRoute","councilStore","useCouncilStore","userProfile","loadingProfile","userCompanyAccount","currentStep","totalSteps","steps","savingDraft","submitting","uploadedFiles","requestingMeeting","stepConfigs","loadingStepConfigs","usesConfigurableSteps","baseSteps","hasPreselectedType","skipTypeStep","selectedRequestTypeDetails","selectedHazards","hazardData","getHazardData","hazard","newHazards","nesTypes","nesData","getNESData","nesType","nes","showHAILModal","editingHAILIndex","hailForm","proposedActivities","saveHAIL","proposedActivitiesArray","hailData","cancelHAIL","initialFormData","hasFormChanges","currentCopy","initialCopy","current","initial","isResourceConsent","hasConsentType","ct","isLandUse","isSubdivision","isWaterPermit","isDischargePermit","isCoastalPermit","isControlled","notSubdivision","canSubmit","requestTypes","properties","createResource","onCouncilChange","councilCode","goBack","getStepClass","stepNumber","selectRequestType","loadStepConfiguration","requestType","call","canProceed","consentTypes","hazards","confirmed","_c","hasDeclarations","hasSignature","_d","_e","loadDraft","requestId","saveDraft","closeAfterSave","getCouncilName","getRequestTypeName","getApplicationFee","handleNext","getCurrentStepConfig","processInfoIndex","configIndex","getCurrentStepTitle","title","handleSubmit","submitApplication","createResult","fileFormData","ctFormData","aeeFormData","submitResult","showAffectedPartyModal","editingPartyIndex","affectedPartyForm","saveAffectedParty","cancelAffectedParty","handleApprovalDocumentUpload","showSpecialistReportModal","editingReportIndex","specialistReportForm","saveSpecialistReport","cancelSpecialistReport","handleReportDocumentUpload","showConditionsModal","editingConditionIndex","availableConditionTemplates","loadingTemplates","selectedCategory","conditionForm","conditionCategories","filteredConditionTemplates","addConditionFromTemplate","template","newCondition","addCustomCondition","saveCondition","cancelConditionEdit","removeCondition","cond","values","data","loadUserProfile","profile","loadCompanyAccount","companyAccount","submittedAs","actingOnBehalf","newPhone","oldPhone","newValue","oldValue","draftId","lockedResult","preselectedType","rt","userCouncils","Button","Step1CouncilSelection","Step2RequestType","Step3ProcessInfo","DynamicStepRenderer","Step17Review","_vModelCheckbox","_hoisted_69","_hoisted_71","_hoisted_76","category","_hoisted_77","_hoisted_78","_hoisted_80","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","condition","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110"],"mappings":"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","x_google_ignoreList":[0,1,2,3,8]}