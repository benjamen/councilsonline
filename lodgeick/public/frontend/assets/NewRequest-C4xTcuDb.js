var ft=Object.defineProperty;var Ae=Object.getOwnPropertySymbols;var xt=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable;var Se=(R,h,m)=>h in R?ft(R,h,{enumerable:!0,configurable:!0,writable:!0,value:m}):R[h]=m,A=(R,h)=>{for(var m in h||(h={}))xt.call(h,m)&&Se(R,m,h[m]);if(Ae)for(var m of Ae(h))_t.call(h,m)&&Se(R,m,h[m]);return R};var B=(R,h,m)=>new Promise((W,I)=>{var G=V=>{try{L(m.next(V))}catch(q){I(q)}},M=V=>{try{L(m.throw(V))}catch(q){I(q)}},L=V=>V.done?W(V.value):Promise.resolve(V.value).then(G,M);L((m=m.apply(R,h)).next())});import{f as kt,r as v,j as E,q as me,k as ge,c as i,o as n,a as e,d as p,b as H,t as d,w as k,h as g,u as w,i as D,F as x,m as _,x as ee,l as a,v as C,y as u,g as U,I as ht,z as S,A as be,n as ve}from"./index-Bkem3fOf.js";const wt={class:"min-h-screen bg-gray-50"},Ct={class:"bg-white shadow-sm border-b border-gray-200"},At={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},St={class:"flex items-center justify-between py-4"},Mt={class:"flex items-center space-x-3"},Vt={class:"text-sm text-gray-500"},Pt={class:"bg-white border-b border-gray-200"},Ut={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Rt={class:"flex items-center justify-between mb-2"},qt={class:"flex flex-col items-center"},jt={key:0},Dt={key:1},Nt={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Et={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},Bt={key:0},Ht={key:0,class:"text-center py-12"},It={key:1,class:"grid md:grid-cols-2 gap-4"},Lt=["onClick"],Tt={class:"flex items-start justify-between"},Ft={class:"flex-1"},zt={class:"text-lg font-semibold text-gray-900 mb-2"},Ot=["innerHTML"],$t={class:"mt-4 flex items-center space-x-4 text-xs text-gray-500"},Wt={key:0},Gt={key:1},Jt={key:2,class:"px-2 py-1 bg-gray-100 rounded"},Xt={key:0,class:"ml-4"},Yt={key:1},Qt={class:"space-y-6"},Kt=["value"],Zt={class:"border-t border-gray-200 pt-6 mt-6"},es={class:"grid md:grid-cols-2 gap-4"},ts={key:0,class:"space-y-4"},ss={class:"grid md:grid-cols-2 gap-4"},os={key:2},ls={class:"space-y-6"},rs={class:"grid md:grid-cols-2 gap-4"},ns={key:3},is={class:"space-y-6"},as={class:"grid md:grid-cols-3 gap-4 mb-4"},ds={class:"grid md:grid-cols-2 gap-4"},us={class:"space-y-2 p-3 border border-gray-300 rounded-lg"},ps=["value","onChange","checked"],cs={class:"ml-2 text-sm text-gray-700"},ms={class:"block text-sm font-medium text-gray-700 mb-2"},gs={key:0,class:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-900"},bs={key:1,class:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800"},vs={key:0,class:"border-t border-gray-200 pt-6 mt-6"},ys={class:"space-y-4"},fs={class:"grid md:grid-cols-2 gap-4"},xs={class:"flex items-start mb-2"},_s={key:0},ks={key:0},hs={key:0,class:"text-xs text-blue-600 mt-1"},ws={class:"border-t border-gray-200 pt-6 mt-6"},Cs={class:"mb-4"},As={class:"grid md:grid-cols-2 gap-4"},Ss={class:"mb-4"},Ms={class:"grid md:grid-cols-2 gap-4"},Vs={class:"grid md:grid-cols-2 gap-4"},Ps={class:"space-y-3"},Us={class:"space-y-3"},Rs={class:"border-t border-gray-200 pt-6 mt-6"},qs={class:"space-y-4"},js={class:"grid md:grid-cols-2 gap-4"},Ds={class:"flex items-start mb-2"},Ns={key:0},Es={class:"border border-blue-200 rounded-lg p-4 bg-blue-50"},Bs={class:"space-y-2 mb-3"},Hs=["id","value"],Is=["for"],Ls={key:0,class:"border-t border-blue-300 pt-3 mt-3"},Ts={class:"text-xs font-semibold text-blue-900 mb-2"},Fs={class:"grid md:grid-cols-2 gap-3"},zs=["onUpdate:modelValue"],Os={class:"flex items-end"},$s={class:"flex items-center mb-1"},Ws=["id","onUpdate:modelValue"],Gs=["for"],Js={class:"mt-2"},Xs=["onUpdate:modelValue"],Ys={class:"border-t border-gray-200 pt-6 mt-6"},Qs={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4"},Ks={class:"grid md:grid-cols-2 gap-3 text-xs"},Zs={class:"text-blue-700 ml-1"},eo={class:"text-blue-700 ml-1"},to={class:"text-blue-700 ml-1"},so={class:"text-blue-700 ml-1"},oo={class:"space-y-3"},lo={class:"flex items-start mb-2"},ro=["id","onUpdate:modelValue"],no=["for"],io={key:0,class:"ml-7 mt-3 space-y-3 border-l-2 border-blue-300 pl-3"},ao={key:0},uo=["onUpdate:modelValue"],po=["onUpdate:modelValue"],co=["onUpdate:modelValue"],mo={class:"flex items-center gap-2"},go=["onChange"],bo={key:0,class:"mt-2 space-y-1"},vo={class:"text-gray-700"},yo=["onClick"],fo={key:1,class:"border-t border-gray-200 pt-6 mt-6"},xo={key:0,class:"space-y-3"},_o={class:"flex items-start justify-between mb-3"},ko={class:"text-sm font-medium text-gray-900"},ho=["onClick"],wo={class:"space-y-3"},Co=["onUpdate:modelValue"],Ao=["onUpdate:modelValue"],So={class:"grid md:grid-cols-3 gap-3"},Mo={class:"flex items-center"},Vo=["id","onUpdate:modelValue"],Po=["for"],Uo={class:"flex items-center"},Ro=["id","onUpdate:modelValue"],qo=["for"],jo={class:"flex items-center"},Do=["id","onUpdate:modelValue"],No=["for"],Eo={class:"flex items-center"},Bo=["id","onUpdate:modelValue"],Ho=["for"],Io={class:"space-y-2 p-3 border border-gray-200 rounded bg-gray-50"},Lo={class:"flex items-center"},To=["id","onChange","checked"],Fo=["for"],zo={class:"flex items-center"},Oo=["id","onChange","checked"],$o=["for"],Wo={class:"flex items-center"},Go=["id","onChange","checked"],Jo=["for"],Xo={class:"flex items-center"},Yo=["id","onChange","checked"],Qo=["for"],Ko={class:"flex items-center"},Zo=["id","onChange","checked"],el=["for"],tl=["onUpdate:modelValue"],sl={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},ol={class:"border-t border-gray-200 pt-6 mt-6"},ll={class:"border-t border-gray-200 pt-4"},rl={class:"space-y-4"},nl={class:"grid md:grid-cols-2 gap-4"},il={class:"border-t border-gray-200 pt-4"},al={class:"flex items-center justify-between mb-3"},dl={key:0,class:"space-y-3 mb-3"},ul={class:"flex items-start justify-between"},pl={class:"flex-1"},cl={class:"flex items-center gap-2 mb-2"},ml={class:"text-sm font-semibold text-gray-900"},gl={class:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded"},bl={class:"grid md:grid-cols-2 gap-x-6 gap-y-1 text-xs text-gray-600"},vl={key:0,class:"flex items-start gap-1"},yl={key:1,class:"flex items-center gap-1"},fl=["href"],xl={key:2,class:"flex items-center gap-1"},_l=["href"],kl={key:3,class:"flex items-start gap-1"},hl={key:0,class:"mt-2 flex items-center gap-2"},wl={key:0,class:"text-xs text-gray-500"},Cl={key:1,class:"mt-2 text-xs text-gray-600 italic"},Al={class:"flex gap-1 ml-3"},Sl=["onClick"],Ml=["onClick"],Vl={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Pl={class:"border-t border-gray-200 pt-4"},Ul={class:"flex items-center justify-between mb-3"},Rl={key:0,class:"space-y-3 mb-3"},ql={class:"flex items-start justify-between mb-2"},jl={class:"flex items-center gap-2"},Dl={class:"text-sm font-semibold text-gray-900"},Nl={class:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded font-medium"},El={class:"space-y-2 text-xs text-gray-600 mb-3"},Bl={class:"flex items-center gap-2"},Hl={class:"font-medium"},Il={key:0,class:"text-gray-400"},Ll={key:0,class:"flex items-center gap-2 text-blue-600"},Tl={key:1,class:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-700"},Fl={class:"flex gap-2"},zl=["onClick"],Ol=["onClick"],$l={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Wl={key:0,class:"space-y-3 mt-3"},Gl={class:"flex items-start justify-between mb-2"},Jl={class:"flex items-center gap-2"},Xl={class:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-mono rounded"},Yl={class:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded"},Ql={class:"flex gap-1"},Kl=["onClick"],Zl=["onClick"],er=["innerHTML"],tr={key:0,class:"mt-2 text-xs text-gray-500 italic"},sr={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},or={class:"border-t border-gray-200 pt-6 mt-6"},lr={class:"space-y-4"},rr={class:"flex items-start"},nr={key:0,class:"ml-7 border-l-2 border-yellow-300 pl-4 bg-yellow-50 p-4 rounded-r-lg"},ir={class:"border-t border-gray-200 pt-6 mt-6"},ar={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},dr={class:"flex items-start"},ur={class:"ml-3 flex-1"},pr={key:4},cr={class:"space-y-6"},mr={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition"},gr={key:0,class:"space-y-2"},br={class:"font-medium text-gray-900"},vr={class:"flex items-center space-x-3"},yr={class:"text-sm font-medium text-gray-900"},fr={class:"text-xs text-gray-500"},xr=["onClick"],_r={key:5},kr={class:"space-y-6"},hr={class:"border border-gray-200 rounded-lg p-6"},wr={class:"grid md:grid-cols-2 gap-4 text-sm"},Cr={class:"font-medium text-gray-900 mt-1"},Ar={class:"font-medium text-gray-900 mt-1"},Sr={class:"font-medium text-gray-900 mt-1"},Mr={class:"font-medium text-gray-900 mt-1"},Vr={class:"font-medium text-gray-900 mt-1"},Pr={class:"bg-gray-50 border border-gray-200 rounded-lg p-6"},Ur={class:"flex items-start"},Rr={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},qr={class:"space-y-2 text-sm"},jr={class:"flex justify-between"},Dr={class:"font-medium text-blue-900"},Nr={class:"flex justify-between pt-2 border-t border-blue-200"},Er={class:"text-lg font-bold text-blue-900"},Br={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-6"},Hr={class:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200"},Ir={key:1},Lr={class:"flex space-x-3"},Tr={key:2,class:"text-sm text-gray-500"},Fr={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},zr={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},Or={class:"flex items-center justify-between"},$r={class:"text-lg font-semibold text-gray-900"},Wr={class:"px-6 py-4 space-y-4"},Gr={class:"border-t border-gray-200 pt-4"},Jr={class:"grid md:grid-cols-2 gap-4"},Xr={class:"border-t border-gray-200 pt-4"},Yr={class:"space-y-3"},Qr={class:"border-t border-gray-200 pt-4"},Kr={class:"flex items-start mb-3"},Zr={key:0,class:"ml-7 space-y-3"},en={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},tn={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},sn={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},on={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},ln={class:"flex items-center justify-between"},rn={class:"text-lg font-semibold text-gray-900"},nn={class:"px-6 py-4 space-y-4"},an={class:"border-t border-gray-200 pt-4"},dn={class:"space-y-3"},un={class:"border-t border-gray-200 pt-4"},pn={class:"space-y-3"},cn={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},mn={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},gn={class:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col"},bn={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},vn={class:"flex items-center justify-between"},yn={class:"flex-1 overflow-y-auto"},fn={class:"grid md:grid-cols-3 gap-6 p-6"},xn={class:"md:col-span-2 space-y-4"},_n={class:"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200"},kn=["value"],hn={class:"ml-auto text-xs text-gray-500"},wn={key:0,class:"text-center py-12"},Cn={key:1,class:"space-y-3"},An={class:"flex items-start justify-between mb-2"},Sn={class:"flex-1"},Mn={class:"flex items-center gap-2 mb-1"},Vn={class:"text-sm font-semibold text-gray-900"},Pn={key:0,class:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-mono rounded"},Un={class:"flex items-center gap-2 mb-2"},Rn={class:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded"},qn={key:0,class:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded"},jn={key:1,class:"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded"},Dn=["innerHTML"],Nn=["onClick"],En={key:2,class:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Bn={class:"md:col-span-1 bg-gray-50 rounded-lg p-4 border border-gray-200"},Hn={class:"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between"},In={class:"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full"},Ln={key:0,class:"space-y-2 max-h-[600px] overflow-y-auto"},Tn={class:"flex items-start justify-between mb-1"},Fn={class:"flex items-center gap-1"},zn={class:"px-1.5 py-0.5 bg-gray-100 text-gray-700 font-mono text-xs rounded"},On={class:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded"},$n=["onClick"],Wn=["innerHTML"],Gn={key:1,class:"text-center py-8 text-xs text-gray-500"},Jn={key:0,class:"border-t border-gray-200 bg-gray-50 p-6"},Xn={class:"text-sm font-semibold text-gray-900 mb-4"},Yn={class:"grid md:grid-cols-2 gap-4 mb-4"},Qn=["value"],Kn={class:"mb-4"},Zn={class:"flex justify-end gap-2 mt-4"},ei={class:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end"},oi={__name:"NewRequest",setup(R){const h=kt(),m=v(1),W=E(()=>J.value.length),I=v(!1),G=v(!1),M=v([]),L=v(null),V=v(!1),q=v(!1),ie=v(!1),Me=["Land Use","Subdivision","Discharge Permit","Water Permit","Coastal Permit"],Ve=l=>{const t=o.value.consent_types.findIndex(s=>s.consent_type===l);t>-1?o.value.consent_types.splice(t,1):o.value.consent_types.push({consent_type:l})},Pe=l=>o.value.consent_types.some(t=>t.consent_type===l),J=E(()=>{const l=[{title:"Type",number:1},{title:"Property",number:2},{title:"Details",number:3}];return F.value&&l.push({title:"RC Details",number:4}),l.push({title:"Documents",number:l.length+1},{title:"Review",number:l.length+2}),l}),o=v({request_type:"",request_category:"",property:"",property_address:"",legal_description:"",valuation_reference:"",zone:"",brief_description:"",detailed_description:"",estimated_value:null,proposed_start_date:"",terms_accepted:!1,applicant_phone:"",applicant_type:"",consent_types:[],activity_status:"",applicant_reference_number:"",delivery_preference:"",pim_reference:"",building_height:null,building_floor_area:null,earthworks_volume:null,earthworks_vertical_alteration:null,vehicle_movements_daily:null,parking_spaces_provided:null,hours_of_operation:"",consent_term_requested:"",site_topography:"",existing_vegetation_description:"",watercourses_present:!1,watercourse_description:"",existing_infrastructure:"",contamination_status_hail:"",boundary_description:"",boundary_activity_description:"",boundary_owner_approval_obtained:!1,boundary_approval_date:"",boundary_approval_document:null,natural_hazards:[],nes_assessments:[],hail_activities:[],confidential_information_claimed:!1,confidential_information_reason:"",assessment_of_effects:"",effects_on_people:"",physical_effects:"",earthworks_effects:"",discharge_contaminants_effects:"",ecosystem_effects:"",hazard_risk_assessment:"",cultural_effects:"",planning_assessment:"",alternatives_considered:"",mitigation_proposed:"",iwi_consultation_undertaken:!1,iwi_consulted:"",cultural_impact_assessment:null,proposed_conditions:[],affected_parties:[],specialist_reports:[]}),Ue=["Earthquake","Fire","Tsunami","Erosion","Volcanic and Geothermal","Flood","Sedimentation","Subsidence","Wind","Landslip","Drought"],T=v([]),te=v({}),N=l=>(te.value[l]||(te.value[l]={hazard_type:l,present:!0,risk_level:"",assessment_notes:"",mitigation_required:!1}),te.value[l]);me(T,l=>{o.value.natural_hazards=l.map(t=>N(t))},{deep:!0}),me(te,()=>{o.value.natural_hazards=T.value.map(l=>N(l))},{deep:!0});const ye=[{value:"NES for Assessing and Managing Contaminants in Soil (HAIL)",label:"NES for Assessing and Managing Contaminants in Soil (HAIL)"},{value:"NES for Air Quality",label:"NES for Air Quality"},{value:"NES for Sources of Human Drinking Water",label:"NES for Sources of Human Drinking Water"},{value:"NES for Freshwater Management",label:"NES for Freshwater Management"},{value:"NES for Plantation Forestry",label:"NES for Plantation Forestry"},{value:"NES for Electricity Transmission Activities",label:"NES for Electricity Transmission Activities"},{value:"NES for Telecommunication Facilities",label:"NES for Telecommunication Facilities"},{value:"Other",label:"Other NES"}],se=v({}),P=l=>(se.value[l]||(se.value[l]={nes_type:l,applies:!1,compliance_status:"",assessment_notes:"",other_nes_description:""}),se.value[l]),Re=(l,t)=>{const s=l.target.files[0];if(!s)return;if(s.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"].includes(s.type)){alert("Only PDF, Word documents, and images are allowed"),l.target.value="";return}o.value.attachments.push({document_category:"NES Documentation",document_type:"NES Assessment",file:s,description:`NES Assessment for ${t}`,nes_type:t}),l.target.value=""},ae=l=>o.value.attachments.filter(t=>t.document_category==="NES Documentation"&&t.nes_type===l),qe=(l,t)=>{const r=ae(l)[t],c=o.value.attachments.indexOf(r);c>-1&&o.value.attachments.splice(c,1)};me(se,()=>{o.value.nes_assessments=ye.filter(l=>P(l.value).applies).map(l=>P(l.value))},{deep:!0});const je=E(()=>o.value.nes_assessments.some(l=>l.nes_type&&l.nes_type.includes("HAIL"))),De=()=>{o.value.hail_activities.push({activity_description:"",hail_category:"",currently_undertaken:!1,previously_undertaken:!1,likely_undertaken:!1,preliminary_investigation_done:!1,proposed_activities:[],notes:""})},Ne=l=>{o.value.hail_activities.splice(l,1)},X=(l,t)=>{const s=o.value.hail_activities[l];s.proposed_activities||(s.proposed_activities=[]);const r=s.proposed_activities.findIndex(c=>c.activity_type===t);r>-1?s.proposed_activities.splice(r,1):s.proposed_activities.push({activity_type:t})},Y=(l,t)=>{const s=o.value.hail_activities[l];return s.proposed_activities?s.proposed_activities.some(r=>r.activity_type===t):!1},Ee=l=>{const t=l.target.files[0];t&&(o.value.boundary_approval_document=t)},Be=v(JSON.parse(JSON.stringify(o.value))),He=E(()=>{const l=A({},o.value),t=A({},Be.value);delete l.terms_accepted,delete t.terms_accepted;const s=JSON.stringify(l),r=JSON.stringify(t);return s!==r}),F=E(()=>o.value.request_category==="Resource Consent"),fe=E(()=>{if(!o.value.activity_status)return null;switch(o.value.activity_status){case"Non-Complying":return"⚠️ Non-complying activities face higher scrutiny and longer processing times. Consider pre-application meeting.";case"Discretionary":return"ℹ️ Discretionary activities may require public notification depending on effects assessment.";case"Controlled":return"✓ Controlled activities must be granted consent. Council will focus on appropriate conditions.";default:return null}}),Ie=E(()=>He.value||M.value.length>0),oe=ge({url:"lodgeick.lodgeick.doctype.request_type.request_type.get_active_request_types",auto:!0,onError(l){var t;console.error("[NewRequest] Failed to load Request Types:",l),alert(`Error loading Request Types: ${((t=l.messages)==null?void 0:t[0])||l.message||"Unknown error"}. Please refresh the page or contact support.`)},onSuccess(l){console.log("[NewRequest] Loaded Request Types:",(l==null?void 0:l.length)||0,"types")}}),xe=ge({url:"frappe.client.get_list",params:{doctype:"Property",fields:["name","property_id","street_address","suburb","city"],limit_page_length:100},auto:!0}),Le=()=>{confirm("Are you sure you want to leave? Any unsaved changes will be lost.")&&h.push({name:"Dashboard"})},Te=l=>l<m.value||l===m.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-600",Fe=l=>{console.log("[NewRequest] Selecting Request Type:",l.name,l.type_name),o.value.request_type=l.name,o.value.request_category=l.category||"",console.log("[NewRequest] Form data updated:",{request_type:o.value.request_type,request_category:o.value.request_category})},ze=()=>{if(o.value.property){const l=xe.data.find(t=>t.name===o.value.property);l&&(o.value.property_address=`${l.street_address}, ${l.suburb}, ${l.city}`)}},_e=()=>{switch(m.value){case 1:const l=!!o.value.request_type;return console.log("[NewRequest] canProceed Step 1:",l,"request_type:",o.value.request_type),l;case 2:const t=o.value.property||o.value.property_address,s=o.value.applicant_phone&&o.value.applicant_type;return!!(t&&s);case 3:return!!o.value.brief_description&&!!o.value.detailed_description;case 4:return F.value?!!(o.value.consent_types&&o.value.consent_types.length>0&&o.value.activity_status&&o.value.assessment_of_effects&&o.value.planning_assessment):!0;case 5:return!0;default:return!0}},Oe=()=>{const l=W.value,t=m.value,s=_e();console.log("[NewRequest] nextStep called",{canProceed:s,currentStep:t,totalSteps:l,steps:J.value,willProceed:s&&t<l}),s&&t<l?(m.value++,console.log("[NewRequest] Moved to step:",m.value)):console.warn("[NewRequest] Cannot proceed:",{canProceed:s,currentStep:t,totalSteps:l,reason:s?"at last step":"canProceed returned false"})},$e=()=>{m.value>1&&m.value--},ke=()=>B(this,null,function*(){I.value=!0;try{const t=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:o.value})})).json();if(t.message&&t.message.success)alert(`Draft saved successfully! Request ID: ${t.message.request_number}`);else throw new Error(t.message||"Failed to save draft")}catch(l){console.error("Error saving draft:",l),alert("Failed to save draft. Please try again.")}finally{I.value=!1}}),We=()=>{L.value.click()},Ge=l=>{const t=Array.from(l.target.files);M.value.push(...t)},Je=l=>{M.value.splice(l,1)},Xe=l=>{if(l===0)return"0 Bytes";const t=1024,s=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(l)/Math.log(t));return Math.round(l/Math.pow(t,r)*100)/100+" "+s[r]},Ye=()=>{var t;const l=(t=oe.data)==null?void 0:t.find(s=>s.name===o.value.request_type);return(l==null?void 0:l.type_name)||"N/A"},he=()=>{var t;const l=(t=oe.data)==null?void 0:t.find(s=>s.name===o.value.request_type);return l!=null&&l.base_fee?`$${l.base_fee}`:"TBD"},Qe=()=>B(this,null,function*(){if(!o.value.terms_accepted){alert("Please accept the terms and conditions");return}G.value=!0;try{const t=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:o.value})})).json();if(!t.message||!t.message.success)throw new Error("Failed to create request");const s=t.message.request_id;if(M.value.length>0)for(const ne of M.value){const $=new FormData;$.append("file",ne),$.append("doctype","Request"),$.append("docname",s),$.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:$})}const c=yield(yield fetch("/api/method/lodgeick.lodgeick.doctype.request.request.submit_application",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:s})})).json();if(c.message&&c.message.success)alert(`Application submitted successfully! Request Number: ${c.message.request_number}`),h.push({name:"Dashboard"});else throw new Error("Failed to submit application")}catch(l){console.error("Error submitting application:",l),alert("Failed to submit application")}finally{G.value=!1}}),Ke=()=>B(this,null,function*(){if(!o.value.request_type){alert("Please complete your application details first");return}V.value=!0;try{const t=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:o.value})})).json();if(!t.message||!t.message.success)throw new Error("Failed to save application");const s=t.message.request_id,c=yield(yield fetch("/api/method/lodgeick.api.book_council_meeting",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:s,meeting_type:"Pre-Application Meeting"})})).json();if(c.message&&c.message.success)alert(`Pre-Application Meeting request has been submitted! A council officer will contact you within 2 business days to schedule the meeting. Task ID: ${c.message.task_id}`);else throw new Error(c.message||"Failed to book meeting")}catch(l){console.error("Error booking meeting:",l),alert("Failed to book pre-application meeting. Please try again.")}finally{V.value=!1}});v(null);const Q=v(!1),z=v(null),b=v({party_name:"",relationship:"",property_address:"",email:"",phone:"",postal_address:"",approval_obtained:!1,approval_date:"",approval_document:null,comments:""}),Ze=()=>{b.value={party_name:"",relationship:"",property_address:"",email:"",phone:"",postal_address:"",approval_obtained:!1,approval_date:"",approval_document:null,comments:""},z.value=null,Q.value=!0},et=l=>{b.value=A({},o.value.affected_parties[l]),z.value=l,Q.value=!0},tt=()=>{if(!b.value.party_name||!b.value.relationship){alert("Please enter party name and relationship");return}z.value!==null?o.value.affected_parties[z.value]=A({},b.value):o.value.affected_parties.push(A({},b.value)),Q.value=!1},de=()=>{Q.value=!1},st=l=>{confirm("Remove this affected party?")&&o.value.affected_parties.splice(l,1)},ot=l=>{const t=l.target.files[0];if(t){if(t.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"].includes(t.type)){alert("Only PDF, Word documents, and images (JPG, PNG) are allowed"),l.target.value="";return}b.value.approval_document=t}},K=v(!1),O=v(null),y=v({report_type:"",specialist_name:"",specialist_company:"",report_date:"",document:null,summary:""}),lt=()=>{y.value={report_type:"",specialist_name:"",specialist_company:"",report_date:"",document:null,summary:""},O.value=null,K.value=!0},rt=l=>{y.value=A({},o.value.specialist_reports[l]),O.value=l,K.value=!0},nt=()=>{if(!y.value.report_type||!y.value.specialist_name||!y.value.report_date){alert("Please enter report type, specialist name, and report date");return}O.value!==null?o.value.specialist_reports[O.value]=A({},y.value):o.value.specialist_reports.push(A({},y.value)),K.value=!1},ue=()=>{K.value=!1},it=l=>{confirm("Remove this specialist report?")&&o.value.specialist_reports.splice(l,1)},at=l=>{const t=l.target.files[0];if(t){if(t.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type)){alert("Only PDF and Word documents are allowed"),l.target.value="";return}y.value.document=t}},Z=v(!1),j=v(null),pe=v([]),ce=v(!1),le=v("All"),f=v({condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""}),we=["All","General","Timing","Lapse","Review","Financial Contribution","Bonds","Monitoring","Environmental Management","Construction","Operation","Landscape","Ecology","Archaeology","Cultural","Traffic","Parking","Noise","Discharge","Earthworks","Heritage","Water","Coastal","Other"],dt=()=>B(this,null,function*(){ce.value=!0;try{const l=o.value.consent_types.map(r=>r.consent_type),s=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({doctype:"Consent Condition Template",fields:["name","template_name","condition_code","condition_category","condition_text","applies_to_consent_types","timing","monitoring_required"],filters:{is_active:1},limit_page_length:0})})).json();s.message&&(pe.value=s.message.filter(r=>!r.applies_to_consent_types||r.applies_to_consent_types==="All"?!0:l.some(c=>r.applies_to_consent_types.includes(c))))}catch(l){console.error("Error fetching condition templates:",l),alert("Failed to load condition templates")}finally{ce.value=!1}}),re=E(()=>le.value==="All"?pe.value:pe.value.filter(l=>l.condition_category===le.value)),ut=()=>B(this,null,function*(){if(!o.value.consent_types||o.value.consent_types.length===0){alert("Please select at least one consent type first");return}yield dt(),f.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},j.value=null,Z.value=!0}),pt=l=>{const s={condition_number:(o.value.proposed_conditions.length+1).toString(),condition_category:l.condition_category,condition_text:l.condition_text,compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""};o.value.proposed_conditions.push(s)},ct=()=>{f.value={condition_number:(o.value.proposed_conditions.length+1).toString(),condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},j.value=null},mt=l=>{f.value=A({},o.value.proposed_conditions[l]),j.value=l},gt=()=>{if(!f.value.condition_category||!f.value.condition_text){alert("Please enter condition category and text");return}j.value!==null?o.value.proposed_conditions[j.value]=A({},f.value):o.value.proposed_conditions.push(A({},f.value)),f.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},j.value=null},bt=()=>{f.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},j.value=null},Ce=l=>{confirm("Remove this condition?")&&(o.value.proposed_conditions.splice(l,1),o.value.proposed_conditions.forEach((t,s)=>{t.condition_number=(s+1).toString()}))},vt=ge({url:"lodgeick.api.book_council_meeting",makeParams:l=>l,onSuccess:l=>{l&&l.success?alert(`✅ Pre-Application Meeting Request Sent!

Task #${l.task_id} has been created for the planning team.

They will contact you within 2 business days to schedule.`):alert("Meeting request sent successfully! The planning team will contact you soon."),q.value=!1},onError:l=>{console.error("Error requesting meeting:",l),alert("Failed to request pre-application meeting. Please try again or contact the planning team directly."),q.value=!1}}),yt=()=>B(this,null,function*(){if(!o.value.request_type||!o.value.property_address){alert("Please complete the Request Type and Property Details first.");return}if(confirm(`Request a pre-application meeting? A planning officer will contact you within 2 business days to schedule.

Note: You should save your application as a draft first.`))try{q.value=!0;const l=yield ke();if(!l||!l.request_id){alert("Please save your draft application first."),q.value=!1;return}vt.submit({request_id:l.request_id,meeting_type:"Pre-Application Meeting"})}catch(l){console.error("Error in meeting request:",l),alert("Failed to request pre-application meeting. Please try again."),q.value=!1}});return(l,t)=>(n(),i("div",wt,[e("header",Ct,[e("div",At,[e("div",St,[e("div",Mt,[e("button",{onClick:Le,class:"text-gray-500 hover:text-gray-700"},[...t[71]||(t[71]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),e("div",null,[t[72]||(t[72]=e("h1",{class:"text-xl font-bold text-gray-900"},"New Application",-1)),e("p",Vt,"Step "+d(m.value)+" of "+d(W.value),1)])]),H(w(D),{onClick:ke,variant:"outline",theme:"gray",loading:I.value},{default:k(()=>[...t[73]||(t[73]=[g(" Save Draft ",-1)])]),_:1},8,["loading"])])])]),e("div",Pt,[e("div",Ut,[e("div",Rt,[(n(!0),i(x,null,_(J.value,(s,r)=>(n(),i("div",{key:r,class:ee(["flex items-center",{"flex-1":r<J.value.length-1}])},[e("div",qt,[e("div",{class:ee(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",Te(r+1)])},[r+1<m.value?(n(),i("span",jt,"✓")):(n(),i("span",Dt,d(r+1),1))],2),e("span",{class:ee(["text-xs mt-2 text-center",r+1===m.value?"text-blue-600 font-medium":"text-gray-500"])},d(s.title),3)]),r<J.value.length-1?(n(),i("div",{key:0,class:ee(["flex-1 h-1 mx-4 rounded",r+1<m.value?"bg-blue-600":"bg-gray-200"])},null,2)):p("",!0)],2))),128))])])]),e("main",Nt,[e("div",Et,[m.value===1?(n(),i("div",Bt,[t[76]||(t[76]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Application Type",-1)),t[77]||(t[77]=e("p",{class:"text-gray-600 mb-8"},"Choose the type of consent you wish to apply for",-1)),w(oe).loading?(n(),i("div",Ht,[...t[74]||(t[74]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):(n(),i("div",It,[(n(!0),i(x,null,_(w(oe).data,s=>(n(),i("div",{key:s.name,onClick:r=>Fe(s),class:ee(["border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md",o.value.request_type===s.name?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[e("div",Tt,[e("div",Ft,[e("h3",zt,d(s.type_name),1),e("p",{class:"text-sm text-gray-600",innerHTML:s.description||"No description available"},null,8,Ot),e("div",$t,[s.base_fee?(n(),i("span",Wt,"Fee: $"+d(s.base_fee),1)):p("",!0),s.processing_sla_days?(n(),i("span",Gt,d(s.processing_sla_days)+" days",1)):p("",!0),s.category?(n(),i("span",Jt,d(s.category),1)):p("",!0)])]),o.value.request_type===s.name?(n(),i("div",Xt,[...t[75]||(t[75]=[e("div",{class:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):p("",!0)])],10,Lt))),128))]))])):p("",!0),m.value===2?(n(),i("div",Yt,[t[91]||(t[91]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Property Details",-1)),t[92]||(t[92]=e("p",{class:"text-gray-600 mb-8"},"Provide details about the property for this application",-1)),e("div",Qt,[e("div",null,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Existing Property or Enter New ",-1)),a(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.property=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:ze},[t[78]||(t[78]=e("option",{value:""},"-- Select a property or enter new --",-1)),(n(!0),i(x,null,_(w(xe).data,s=>(n(),i("option",{key:s.name,value:s.name},d(s.property_id)+" - "+d(s.street_address)+", "+d(s.suburb),9,Kt))),128))],544),[[C,o.value.property]])]),e("div",Zt,[t[85]||(t[85]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Applicant Contact Information *",-1)),e("div",es,[e("div",null,[t[80]||(t[80]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Contact Phone *",-1)),a(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.applicant_phone=s),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[u,o.value.applicant_phone]]),t[81]||(t[81]=e("p",{class:"mt-1 text-xs text-gray-500"},"Required for application processing",-1))]),e("div",null,[t[83]||(t[83]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Applicant Type *",-1)),a(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.value.applicant_type=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...t[82]||(t[82]=[U('<option value="">Select applicant type</option><option value="Individual">Individual</option><option value="Company">Company</option><option value="Trust">Trust</option><option value="Partnership">Partnership</option>',5)])],512),[[C,o.value.applicant_type]]),t[84]||(t[84]=e("p",{class:"mt-1 text-xs text-gray-500"},"Type of entity making this application",-1))])])]),o.value.property?p("",!0):(n(),i("div",ts,[e("div",null,[t[86]||(t[86]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Property Address *",-1)),a(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.property_address=s),type:"text",placeholder:"123 Main Street, Wellington",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.property_address]])]),e("div",ss,[e("div",null,[t[87]||(t[87]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Legal Description",-1)),a(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.legal_description=s),type:"text",placeholder:"Lot 1 DP 12345",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.legal_description]])]),e("div",null,[t[88]||(t[88]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Valuation Reference",-1)),a(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.value.valuation_reference=s),type:"text",placeholder:"1234567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.valuation_reference]])])]),e("div",null,[t[90]||(t[90]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Zone",-1)),a(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>o.value.zone=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[89]||(t[89]=[U('<option value="">Select zone</option><option value="Residential">Residential</option><option value="Commercial">Commercial</option><option value="Industrial">Industrial</option><option value="Rural">Rural</option><option value="Mixed Use">Mixed Use</option>',6)])],512),[[C,o.value.zone]])])]))])])):p("",!0),m.value===3?(n(),i("div",os,[t[98]||(t[98]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Application Details",-1)),t[99]||(t[99]=e("p",{class:"text-gray-600 mb-8"},"Describe your proposed activity or development",-1)),e("div",ls,[e("div",null,[t[93]||(t[93]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Brief Description *",-1)),a(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>o.value.brief_description=s),type:"text",placeholder:"e.g., Two-storey residential dwelling",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.brief_description]])]),e("div",null,[t[94]||(t[94]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Detailed Description *",-1)),a(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=s=>o.value.detailed_description=s),rows:"6",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Provide a detailed description of the proposed activity, including any relevant technical details, dimensions, materials, and timeframes..."},null,512),[[u,o.value.detailed_description]])]),e("div",rs,[e("div",null,[t[96]||(t[96]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Estimated Project Value",-1)),H(w(ht),{modelValue:o.value.estimated_value,"onUpdate:modelValue":t[9]||(t[9]=s=>o.value.estimated_value=s),placeholder:"e.g., 500000",type:"number"},{prefix:k(()=>[...t[95]||(t[95]=[e("span",{class:"text-gray-500"},"$",-1)])]),_:1},8,["modelValue"])]),e("div",null,[t[97]||(t[97]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Proposed Start Date",-1)),a(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>o.value.proposed_start_date=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.proposed_start_date]])])])])])):p("",!0),F.value&&m.value===4?(n(),i("div",ns,[t[231]||(t[231]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Resource Consent Details",-1)),t[232]||(t[232]=e("p",{class:"text-gray-600 mb-8"},"Provide Resource Management Act (RMA) specific information",-1)),e("div",is,[e("div",as,[e("div",null,[t[100]||(t[100]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Applicant Reference Number ",-1)),a(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>o.value.applicant_reference_number=s),type:"text",placeholder:"e.g., PROJ-2025-001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.applicant_reference_number]]),t[101]||(t[101]=e("p",{class:"mt-1 text-xs text-gray-500"},"Your internal project/file reference (optional)",-1))]),e("div",null,[t[102]||(t[102]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," PIM Reference ",-1)),a(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>o.value.pim_reference=s),type:"text",placeholder:"e.g., PIM-2024-12345",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.pim_reference]]),t[103]||(t[103]=e("p",{class:"mt-1 text-xs text-gray-500"},"Property Information Memorandum number (if applicable)",-1))]),e("div",null,[t[105]||(t[105]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Delivery Preference ",-1)),a(e("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>o.value.delivery_preference=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[104]||(t[104]=[e("option",{value:""},"Select preference",-1),e("option",{value:"Email"},"Email",-1),e("option",{value:"Postal Mail"},"Postal Mail",-1),e("option",{value:"Both Email and Postal"},"Both Email and Postal",-1)])],512),[[C,o.value.delivery_preference]]),t[106]||(t[106]=e("p",{class:"mt-1 text-xs text-gray-500"},"How to receive correspondence",-1))])]),e("div",ds,[e("div",null,[t[107]||(t[107]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Consent Type(s) * ",-1)),e("div",us,[(n(),i(x,null,_(Me,s=>e("label",{key:s,class:"flex items-center"},[e("input",{type:"checkbox",value:s,onChange:r=>Ve(s),checked:Pe(s),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,ps),e("span",cs,d(s),1)])),64))]),t[108]||(t[108]=e("p",{class:"mt-1 text-xs text-gray-500"},"Select all consent types required (multiple allowed)",-1))]),e("div",null,[e("label",ms,[t[110]||(t[110]=g(" Activity Status * ",-1)),e("button",{type:"button",onClick:t[14]||(t[14]=s=>ie.value=!ie.value),class:"ml-1 text-blue-600 hover:text-blue-800",title:"Click for help"},[...t[109]||(t[109]=[e("svg",{class:"w-4 h-4 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])]),ie.value?(n(),i("div",gs,[...t[111]||(t[111]=[U('<p class="font-semibold mb-2">RMA Activity Status Guide:</p><ul class="space-y-1 ml-4 list-disc"><li><strong>Permitted:</strong> Allowed without consent (no application needed)</li><li><strong>Controlled:</strong> Consent must be granted; council sets conditions</li><li><strong>Restricted Discretionary:</strong> Council has limited grounds to decline</li><li><strong>Discretionary:</strong> Council has full discretion to grant or decline</li><li><strong>Non-Complying:</strong> Does not comply with plan; requires special justification</li><li><strong>Prohibited:</strong> Cannot be consented under any circumstances</li></ul><p class="mt-2 text-xs text-blue-700">Check your district plan zone rules to determine status</p>',3)])])):p("",!0),a(e("select",{"onUpdate:modelValue":t[15]||(t[15]=s=>o.value.activity_status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...t[112]||(t[112]=[U('<option value="">Select activity status</option><option value="Controlled">Controlled</option><option value="Restricted Discretionary">Restricted Discretionary</option><option value="Discretionary">Discretionary</option><option value="Non-Complying">Non-Complying</option><option value="Permitted Boundary Activity">Permitted Boundary Activity</option>',6)])],512),[[C,o.value.activity_status]]),t[113]||(t[113]=e("p",{class:"mt-1 text-xs text-gray-500"},"Activity classification under district plan",-1)),fe.value?(n(),i("div",bs,d(fe.value),1)):p("",!0)])]),o.value.activity_status==="Permitted Boundary Activity"?(n(),i("div",vs,[t[119]||(t[119]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Permitted Boundary Activity (RMA s87BA)",-1)),t[120]||(t[120]=e("p",{class:"text-xs text-gray-500 mb-4"},"This is a special consent type for boundary infringements under section 87BA of the Resource Management Act",-1)),e("div",ys,[e("div",null,[t[114]||(t[114]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Boundary Description",-1)),a(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>o.value.boundary_description=s),type:"text",placeholder:"e.g., Side boundary with 123 Main Street",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[u,o.value.boundary_description]])]),e("div",null,[t[115]||(t[115]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Description of Boundary Activity",-1)),a(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=s=>o.value.boundary_activity_description=s),rows:"3",placeholder:"Describe how the activity infringes the boundary setback requirements...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[u,o.value.boundary_activity_description]])]),e("div",fs,[e("div",null,[e("div",xs,[a(e("input",{type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=s=>o.value.boundary_owner_approval_obtained=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[S,o.value.boundary_owner_approval_obtained]]),t[116]||(t[116]=e("label",{class:"ml-3 text-xs font-medium text-gray-700"}," Affected boundary owner approval obtained ",-1))])]),o.value.boundary_owner_approval_obtained?(n(),i("div",_s,[t[117]||(t[117]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Date",-1)),a(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>o.value.boundary_approval_date=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[u,o.value.boundary_approval_date]])])):p("",!0)]),o.value.boundary_owner_approval_obtained?(n(),i("div",ks,[t[118]||(t[118]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Documentation",-1)),e("input",{type:"file",onChange:Ee,accept:".pdf,.doc,.docx,.jpg,.png",class:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"},null,32),o.value.boundary_approval_document?(n(),i("p",hs," ✓ Document uploaded ")):p("",!0)])):p("",!0)])])):p("",!0),e("div",ws,[t[133]||(t[133]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Proposal Details",-1)),t[134]||(t[134]=e("p",{class:"text-xs text-gray-500 mb-4"},"Provide details about your proposed development (all fields optional)",-1)),e("div",Cs,[t[123]||(t[123]=e("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Building/Structure Dimensions",-1)),e("div",As,[e("div",null,[t[121]||(t[121]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Building Height (metres)",-1)),a(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>o.value.building_height=s),type:"number",placeholder:"e.g., 8.5",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.building_height]])]),e("div",null,[t[122]||(t[122]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Total Floor Area (m²)",-1)),a(e("input",{"onUpdate:modelValue":t[21]||(t[21]=s=>o.value.building_floor_area=s),type:"number",placeholder:"e.g., 250",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.building_floor_area]])])])]),e("div",Ss,[t[126]||(t[126]=e("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Earthworks",-1)),e("div",Ms,[e("div",null,[t[124]||(t[124]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Earthworks Volume (m³)",-1)),a(e("input",{"onUpdate:modelValue":t[22]||(t[22]=s=>o.value.earthworks_volume=s),type:"number",placeholder:"e.g., 150",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.earthworks_volume]])]),e("div",null,[t[125]||(t[125]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Maximum Vertical Alteration (metres)",-1)),a(e("input",{"onUpdate:modelValue":t[23]||(t[23]=s=>o.value.earthworks_vertical_alteration=s),type:"number",placeholder:"e.g., 2.5",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.earthworks_vertical_alteration]])])])]),e("div",Vs,[e("div",null,[t[129]||(t[129]=e("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Traffic & Parking",-1)),e("div",Ps,[e("div",null,[t[127]||(t[127]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Additional Vehicle Movements/Day",-1)),a(e("input",{"onUpdate:modelValue":t[24]||(t[24]=s=>o.value.vehicle_movements_daily=s),type:"number",placeholder:"e.g., 20",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.vehicle_movements_daily]])]),e("div",null,[t[128]||(t[128]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Parking Spaces Provided",-1)),a(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>o.value.parking_spaces_provided=s),type:"number",placeholder:"e.g., 4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.parking_spaces_provided]])])])]),e("div",null,[t[132]||(t[132]=e("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Operations",-1)),e("div",Us,[e("div",null,[t[130]||(t[130]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Hours of Operation",-1)),a(e("input",{"onUpdate:modelValue":t[26]||(t[26]=s=>o.value.hours_of_operation=s),type:"text",placeholder:"e.g., Mon-Fri 8am-6pm",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.hours_of_operation]])]),e("div",null,[t[131]||(t[131]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Consent Term Requested",-1)),a(e("input",{"onUpdate:modelValue":t[27]||(t[27]=s=>o.value.consent_term_requested=s),type:"text",placeholder:"e.g., 5 years, Unlimited",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.consent_term_requested]])])])])])]),e("div",Rs,[t[146]||(t[146]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Site & Environment",-1)),t[147]||(t[147]=e("p",{class:"text-xs text-gray-500 mb-4"},"Describe existing site conditions and environmental features (all fields optional)",-1)),e("div",qs,[e("div",null,[t[135]||(t[135]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Site Topography",-1)),a(e("textarea",{"onUpdate:modelValue":t[28]||(t[28]=s=>o.value.site_topography=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Generally flat with gentle slope to north, approximately 10m elevation..."},null,512),[[u,o.value.site_topography]])]),e("div",null,[t[136]||(t[136]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Existing Vegetation",-1)),a(e("textarea",{"onUpdate:modelValue":t[29]||(t[29]=s=>o.value.existing_vegetation_description=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe existing trees, shrubs, native vegetation, notable specimens..."},null,512),[[u,o.value.existing_vegetation_description]])]),e("div",js,[e("div",null,[e("div",Ds,[a(e("input",{type:"checkbox","onUpdate:modelValue":t[30]||(t[30]=s=>o.value.watercourses_present=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[S,o.value.watercourses_present]]),t[137]||(t[137]=e("label",{class:"ml-3 text-xs font-medium text-gray-700"}," Watercourses/Wetlands Present on Site ",-1))]),o.value.watercourses_present?(n(),i("div",Ns,[a(e("textarea",{"onUpdate:modelValue":t[31]||(t[31]=s=>o.value.watercourse_description=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe watercourses, streams, wetlands..."},null,512),[[u,o.value.watercourse_description]])])):p("",!0)]),e("div",null,[t[139]||(t[139]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"HAIL Contamination Status",-1)),a(e("select",{"onUpdate:modelValue":t[32]||(t[32]=s=>o.value.contamination_status_hail=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"},[...t[138]||(t[138]=[U('<option value="">Select contamination status</option><option value="Not Assessed">Not Assessed</option><option value="Not HAIL">Not HAIL (Hazardous Activities and Industries List)</option><option value="HAIL - Not Investigated">HAIL - Not Investigated</option><option value="HAIL - Investigated (Clean)">HAIL - Investigated (Clean)</option><option value="HAIL - Contaminated">HAIL - Contaminated</option>',6)])],512),[[C,o.value.contamination_status_hail]])])]),e("div",Es,[t[143]||(t[143]=e("h4",{class:"text-sm font-semibold text-blue-900 mb-3"},"Natural Hazards Assessment (RMA s104)",-1)),t[144]||(t[144]=e("p",{class:"text-xs text-blue-700 mb-3"},"Indicate which natural hazards are present on or near the site",-1)),e("div",Bs,[(n(),i(x,null,_(Ue,s=>e("div",{key:s,class:"flex items-center"},[a(e("input",{type:"checkbox",id:"hazard-"+s,value:s,"onUpdate:modelValue":t[33]||(t[33]=r=>T.value=r),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Hs),[[S,T.value]]),e("label",{for:"hazard-"+s,class:"ml-2 text-sm text-gray-700"},d(s),9,Is)])),64))]),T.value.length>0?(n(),i("div",Ls,[(n(!0),i(x,null,_(T.value,s=>(n(),i("div",{key:s,class:"mb-4 last:mb-0"},[e("h5",Ts,d(s),1),e("div",Fs,[e("div",null,[t[141]||(t[141]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Risk Level",-1)),a(e("select",{"onUpdate:modelValue":r=>N(s).risk_level=r,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...t[140]||(t[140]=[U('<option value="">Select risk level</option><option value="Low">Low</option><option value="Medium">Medium</option><option value="High">High</option><option value="Extreme">Extreme</option>',5)])],8,zs),[[C,N(s).risk_level]])]),e("div",Os,[e("div",$s,[a(e("input",{type:"checkbox",id:"mitigation-"+s,"onUpdate:modelValue":r=>N(s).mitigation_required=r,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ws),[[S,N(s).mitigation_required]]),e("label",{for:"mitigation-"+s,class:"ml-2 text-xs text-gray-700"},"Mitigation Required",8,Gs)])])]),e("div",Js,[t[142]||(t[142]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Assessment Notes",-1)),a(e("textarea",{"onUpdate:modelValue":r=>N(s).assessment_notes=r,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Describe the hazard and its potential impact..."},null,8,Xs),[[u,N(s).assessment_notes]])])]))),128))])):p("",!0)]),e("div",null,[t[145]||(t[145]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Existing Infrastructure",-1)),a(e("textarea",{"onUpdate:modelValue":t[34]||(t[34]=s=>o.value.existing_infrastructure=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Wastewater, stormwater, electricity connections..."},null,512),[[u,o.value.existing_infrastructure]])])])]),e("div",Ys,[t[159]||(t[159]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"National Environmental Standards (NES) Assessment",-1)),t[160]||(t[160]=e("p",{class:"text-xs text-gray-500 mb-4"},"Indicate which National Environmental Standards apply to this proposal",-1)),e("div",Qs,[t[152]||(t[152]=e("h4",{class:"text-sm font-semibold text-blue-900 mb-2"},"Application Context",-1)),e("div",Ks,[e("div",null,[t[148]||(t[148]=e("span",{class:"font-medium text-blue-800"},"Applicant:",-1)),e("span",Zs,d(o.value.applicant_name||"Not provided"),1)]),e("div",null,[t[149]||(t[149]=e("span",{class:"font-medium text-blue-800"},"Location:",-1)),e("span",eo,d(o.value.property_address||"Not provided"),1)]),e("div",null,[t[150]||(t[150]=e("span",{class:"font-medium text-blue-800"},"Consent Type(s):",-1)),e("span",to,d(o.value.consent_types.map(s=>s.consent_type).join(", ")||"Not selected"),1)]),e("div",null,[t[151]||(t[151]=e("span",{class:"font-medium text-blue-800"},"Activity Status:",-1)),e("span",so,d(o.value.activity_status||"Not selected"),1)])])]),e("div",oo,[(n(),i(x,null,_(ye,s=>e("div",{key:s.value,class:"border border-gray-200 rounded-lg p-3 bg-gray-50"},[e("div",lo,[a(e("input",{type:"checkbox",id:"nes-"+s.value,"onUpdate:modelValue":r=>P(s.value).applies=r,class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,ro),[[S,P(s.value).applies]]),e("label",{for:"nes-"+s.value,class:"ml-3 text-sm font-medium text-gray-900"},d(s.label),9,no)]),P(s.value).applies?(n(),i("div",io,[s.value==="Other"?(n(),i("div",ao,[t[153]||(t[153]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Other NES Description *",-1)),a(e("input",{"onUpdate:modelValue":r=>P(s.value).other_nes_description=r,type:"text",required:"",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Please specify the NES type..."},null,8,uo),[[u,P(s.value).other_nes_description]])])):p("",!0),e("div",null,[t[155]||(t[155]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Compliance Status",-1)),a(e("select",{"onUpdate:modelValue":r=>P(s.value).compliance_status=r,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...t[154]||(t[154]=[e("option",{value:""},"Select compliance status",-1),e("option",{value:"Permitted Activity"},"Permitted Activity",-1),e("option",{value:"Requires Consent"},"Requires Consent",-1),e("option",{value:"Non-Complying Activity"},"Non-Complying Activity",-1)])],8,po),[[C,P(s.value).compliance_status]])]),e("div",null,[t[156]||(t[156]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Assessment Notes",-1)),a(e("textarea",{"onUpdate:modelValue":r=>P(s.value).assessment_notes=r,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Provide details on how the NES applies..."},null,8,co),[[u,P(s.value).assessment_notes]])]),e("div",null,[t[157]||(t[157]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Upload NES Assessment Document",-1)),e("div",mo,[e("input",{type:"file",onChange:r=>Re(r,s.value),accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",class:"text-xs file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,40,go)]),t[158]||(t[158]=e("p",{class:"text-xs text-gray-500 mt-1"},"PDF, Word documents, or images (max 10MB)",-1)),ae(s.value).length>0?(n(),i("div",bo,[(n(!0),i(x,null,_(ae(s.value),(r,c)=>{var ne;return n(),i("div",{key:c,class:"flex items-center justify-between text-xs bg-gray-50 p-2 rounded"},[e("span",vo,d(r.document_type)+" - "+d(((ne=r.file)==null?void 0:ne.name)||"Uploaded"),1),e("button",{onClick:$=>qe(s.value,c),type:"button",class:"text-red-600 hover:text-red-800"}," Remove ",8,yo)])}),128))])):p("",!0)])])):p("",!0)])),64))])]),je.value?(n(),i("div",fo,[t[171]||(t[171]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"HAIL Activities (Hazardous Activities and Industries List)",-1)),t[172]||(t[172]=e("p",{class:"text-xs text-gray-500 mb-4"},"For sites with potential soil contamination under the NES for Assessing and Managing Contaminants in Soil",-1)),e("div",{class:"flex items-center justify-between mb-3"},[t[161]||(t[161]=e("p",{class:"text-xs text-gray-600"},"List any HAIL activities on the site (past, current, or likely)",-1)),e("button",{onClick:De,type:"button",class:"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200"}," + Add HAIL Activity ")]),o.value.hail_activities.length>0?(n(),i("div",xo,[(n(!0),i(x,null,_(o.value.hail_activities,(s,r)=>(n(),i("div",{key:r,class:"border border-gray-300 rounded-lg p-4 bg-white"},[e("div",_o,[e("h4",ko,"HAIL Activity #"+d(r+1),1),e("button",{onClick:c=>Ne(r),type:"button",class:"text-red-600 hover:text-red-800"},[...t[162]||(t[162]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ho)]),e("div",wo,[e("div",null,[t[163]||(t[163]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Activity Description *",-1)),a(e("textarea",{"onUpdate:modelValue":c=>s.activity_description=c,rows:"2",required:"",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Describe the HAIL activity (e.g., Former service station, industrial site)..."},null,8,Co),[[u,s.activity_description]])]),e("div",null,[t[165]||(t[165]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"HAIL Category",-1)),a(e("select",{"onUpdate:modelValue":c=>s.hail_category=c,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...t[164]||(t[164]=[U('<option value="">Select HAIL category</option><option value="Category A - Petroleum/Oil Storage">Category A - Petroleum/Oil Storage</option><option value="Category B - Asbestos Products">Category B - Asbestos Products</option><option value="Category C - Chemicals">Category C - Chemicals</option><option value="Category D - Engineering Workshops">Category D - Engineering Workshops</option><option value="Category E - Gasworks/Coke Works">Category E - Gasworks/Coke Works</option><option value="Category F - Horticulture">Category F - Horticulture</option><option value="Category G - Landfills/Waste Disposal">Category G - Landfills/Waste Disposal</option><option value="Category H - Metal Treatment">Category H - Metal Treatment</option><option value="Category I - Timber Treatment">Category I - Timber Treatment</option>',10)])],8,Ao),[[C,s.hail_category]]),t[166]||(t[166]=e("p",{class:"text-xs text-gray-500 mt-1"},"Select the applicable HAIL category for this activity",-1))]),e("div",So,[e("div",Mo,[a(e("input",{type:"checkbox",id:"hail-current-"+r,"onUpdate:modelValue":c=>s.currently_undertaken=c,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Vo),[[S,s.currently_undertaken]]),e("label",{for:"hail-current-"+r,class:"ml-2 text-xs text-gray-700"},"Currently Being Undertaken",8,Po)]),e("div",Uo,[a(e("input",{type:"checkbox",id:"hail-previous-"+r,"onUpdate:modelValue":c=>s.previously_undertaken=c,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ro),[[S,s.previously_undertaken]]),e("label",{for:"hail-previous-"+r,class:"ml-2 text-xs text-gray-700"},"Previously Undertaken",8,qo)]),e("div",jo,[a(e("input",{type:"checkbox",id:"hail-likely-"+r,"onUpdate:modelValue":c=>s.likely_undertaken=c,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Do),[[S,s.likely_undertaken]]),e("label",{for:"hail-likely-"+r,class:"ml-2 text-xs text-gray-700"},"Likely to Have Been Undertaken",8,No)])]),e("div",Eo,[a(e("input",{type:"checkbox",id:"hail-investigated-"+r,"onUpdate:modelValue":c=>s.preliminary_investigation_done=c,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Bo),[[S,s.preliminary_investigation_done]]),e("label",{for:"hail-investigated-"+r,class:"ml-2 text-xs text-gray-700"},"Preliminary Investigation Completed",8,Ho)]),e("div",null,[t[167]||(t[167]=e("label",{class:"block text-xs font-medium text-gray-700 mb-2"},"Proposed Activities",-1)),e("div",Io,[e("div",Lo,[e("input",{type:"checkbox",id:"hail-activity-fuel-"+r,onChange:c=>X(r,"Removing or replacing fuel storage system"),checked:Y(r,"Removing or replacing fuel storage system"),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,To),e("label",{for:"hail-activity-fuel-"+r,class:"ml-2 text-xs text-gray-700"},"Removing or replacing fuel storage system",8,Fo)]),e("div",zo,[e("input",{type:"checkbox",id:"hail-activity-disturb-"+r,onChange:c=>X(r,"Disturbing soil"),checked:Y(r,"Disturbing soil"),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,Oo),e("label",{for:"hail-activity-disturb-"+r,class:"ml-2 text-xs text-gray-700"},"Disturbing soil",8,$o)]),e("div",Wo,[e("input",{type:"checkbox",id:"hail-activity-sample-"+r,onChange:c=>X(r,"Sampling soil"),checked:Y(r,"Sampling soil"),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,Go),e("label",{for:"hail-activity-sample-"+r,class:"ml-2 text-xs text-gray-700"},"Sampling soil",8,Jo)]),e("div",Xo,[e("input",{type:"checkbox",id:"hail-activity-subdivide-"+r,onChange:c=>X(r,"Subdividing land"),checked:Y(r,"Subdividing land"),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,Yo),e("label",{for:"hail-activity-subdivide-"+r,class:"ml-2 text-xs text-gray-700"},"Subdividing land",8,Qo)]),e("div",Ko,[e("input",{type:"checkbox",id:"hail-activity-change-"+r,onChange:c=>X(r,"Changing use of land"),checked:Y(r,"Changing use of land"),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,Zo),e("label",{for:"hail-activity-change-"+r,class:"ml-2 text-xs text-gray-700"},"Changing use of land",8,el)])]),t[168]||(t[168]=e("p",{class:"text-xs text-gray-500 mt-1"},"Select all proposed activities that apply (multiple allowed)",-1))]),e("div",null,[t[169]||(t[169]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Notes",-1)),a(e("textarea",{"onUpdate:modelValue":c=>s.notes=c,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Additional notes about the HAIL activity..."},null,8,tl),[[u,s.notes]])])])]))),128))])):(n(),i("div",sl,[...t[170]||(t[170]=[e("p",{class:"text-sm text-gray-500"},"No HAIL activities added yet",-1),e("p",{class:"text-xs text-gray-400 mt-1"},'Click "Add HAIL Activity" to document contaminated land activities',-1)])]))])):p("",!0),e("div",ol,[t[173]||(t[173]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Assessment of Environmental Effects (AEE) * ",-1)),a(e("textarea",{"onUpdate:modelValue":t[35]||(t[35]=s=>o.value.assessment_of_effects=s),rows:"8",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the actual and potential effects on the environment as per Schedule 4 of the RMA. Include effects on people, physical environment, ecosystems, and cultural/heritage values...",required:""},null,512),[[u,o.value.assessment_of_effects]]),t[174]||(t[174]=e("p",{class:"mt-1 text-xs text-gray-500"},"Required under Schedule 4 of the Resource Management Act",-1))]),e("div",ll,[t[182]||(t[182]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Detailed Effects Assessment (Optional)",-1)),t[183]||(t[183]=e("p",{class:"text-xs text-gray-500 mb-4"},"Break down your AEE into specific effect categories for a more comprehensive assessment",-1)),e("div",rl,[e("div",null,[t[175]||(t[175]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Effects on People",-1)),a(e("textarea",{"onUpdate:modelValue":t[36]||(t[36]=s=>o.value.effects_on_people=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Privacy, sunlight access, visual amenity, noise impacts..."},null,512),[[u,o.value.effects_on_people]])]),e("div",null,[t[176]||(t[176]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Physical Effects",-1)),a(e("textarea",{"onUpdate:modelValue":t[37]||(t[37]=s=>o.value.physical_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Traffic, parking, stormwater, infrastructure impacts..."},null,512),[[u,o.value.physical_effects]])]),e("div",null,[t[177]||(t[177]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Earthworks Effects",-1)),a(e("textarea",{"onUpdate:modelValue":t[38]||(t[38]=s=>o.value.earthworks_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Soil disturbance, erosion, sediment control, slope stability, construction impacts..."},null,512),[[u,o.value.earthworks_effects]])]),e("div",null,[t[178]||(t[178]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Discharge/Contaminants Effects",-1)),a(e("textarea",{"onUpdate:modelValue":t[39]||(t[39]=s=>o.value.discharge_contaminants_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Stormwater discharge, wastewater, air quality, dust, odour, contaminant management..."},null,512),[[u,o.value.discharge_contaminants_effects]])]),e("div",null,[t[179]||(t[179]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Ecosystem Effects",-1)),a(e("textarea",{"onUpdate:modelValue":t[40]||(t[40]=s=>o.value.ecosystem_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Indigenous vegetation, habitat values, watercourses, biodiversity..."},null,512),[[u,o.value.ecosystem_effects]])]),e("div",null,[t[180]||(t[180]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Hazard Risk Assessment",-1)),a(e("textarea",{"onUpdate:modelValue":t[41]||(t[41]=s=>o.value.hazard_risk_assessment=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Flood risk, liquefaction, slope instability, coastal hazards, seismic risk..."},null,512),[[u,o.value.hazard_risk_assessment]])]),e("div",null,[t[181]||(t[181]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Cultural/Heritage Effects",-1)),a(e("textarea",{"onUpdate:modelValue":t[42]||(t[42]=s=>o.value.cultural_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Heritage values, sites of significance to Māori, archaeological sites..."},null,512),[[u,o.value.cultural_effects]])])])]),e("div",null,[t[184]||(t[184]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Planning Assessment * ",-1)),a(e("textarea",{"onUpdate:modelValue":t[43]||(t[43]=s=>o.value.planning_assessment=s),rows:"6",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Assess the proposal against relevant district plan provisions, objectives and policies. Address how the proposal aligns with planning framework...",required:""},null,512),[[u,o.value.planning_assessment]]),t[185]||(t[185]=e("p",{class:"mt-1 text-xs text-gray-500"},"Assessment against district plan objectives and policies",-1))]),e("div",nl,[e("div",null,[t[186]||(t[186]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Alternatives Considered ",-1)),a(e("textarea",{"onUpdate:modelValue":t[44]||(t[44]=s=>o.value.alternatives_considered=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"What alternative designs, locations, or methods were considered?..."},null,512),[[u,o.value.alternatives_considered]])]),e("div",null,[t[187]||(t[187]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Mitigation Measures ",-1)),a(e("textarea",{"onUpdate:modelValue":t[45]||(t[45]=s=>o.value.mitigation_proposed=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"What measures will be implemented to avoid, remedy or mitigate adverse effects?..."},null,512),[[u,o.value.mitigation_proposed]])])]),e("div",il,[e("div",al,[t[190]||(t[190]=e("h3",{class:"text-sm font-semibold text-gray-900"},"Affected Parties",-1)),H(w(D),{onClick:Ze,variant:"outline",theme:"blue",size:"sm"},{prefix:k(()=>[...t[188]||(t[188]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:k(()=>[t[189]||(t[189]=g(" Add Party ",-1))]),_:1})]),t[199]||(t[199]=e("p",{class:"text-xs text-gray-500 mb-3"}," List any parties (neighbors, landowners, etc.) who may be adversely affected by the proposal ",-1)),o.value.affected_parties.length>0?(n(),i("div",dl,[(n(!0),i(x,null,_(o.value.affected_parties,(s,r)=>(n(),i("div",{key:r,class:"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[e("div",ul,[e("div",pl,[e("div",cl,[e("h4",ml,d(s.party_name),1),e("span",gl,d(s.relationship),1)]),e("div",bl,[s.property_address?(n(),i("div",vl,[t[191]||(t[191]=e("svg",{class:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("span",null,d(s.property_address),1)])):p("",!0),s.email?(n(),i("div",yl,[t[192]||(t[192]=e("svg",{class:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),e("a",{href:"mailto:"+s.email,class:"text-blue-600 hover:underline"},d(s.email),9,fl)])):p("",!0),s.phone?(n(),i("div",xl,[t[193]||(t[193]=e("svg",{class:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),e("a",{href:"tel:"+s.phone,class:"text-blue-600 hover:underline"},d(s.phone),9,_l)])):p("",!0),s.postal_address?(n(),i("div",kl,[t[194]||(t[194]=e("svg",{class:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"})],-1)),e("span",null,"Postal: "+d(s.postal_address),1)])):p("",!0)]),s.approval_obtained?(n(),i("div",hl,[t[195]||(t[195]=e("span",{class:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded"},[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),g(" Written approval obtained ")],-1)),s.approval_date?(n(),i("span",wl,d(s.approval_date),1)):p("",!0)])):p("",!0),s.comments?(n(),i("p",Cl,d(s.comments),1)):p("",!0)]),e("div",Al,[e("button",{onClick:c=>et(r),class:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit party"},[...t[196]||(t[196]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Sl),e("button",{onClick:c=>st(r),class:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove party"},[...t[197]||(t[197]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ml)])])]))),128))])):(n(),i("div",Vl,[...t[198]||(t[198]=[e("p",{class:"text-sm text-gray-500"},"No affected parties added yet",-1)])])),t[200]||(t[200]=U('<div class="mt-4 p-3 bg-green-50 border border-green-200 rounded-lg"><div class="flex items-start gap-2"><svg class="w-5 h-5 text-green-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h4 class="text-sm font-semibold text-green-900">Treaty of Waitangi Obligations</h4><p class="text-xs text-green-700 mt-1"> To record iwi/hapū consultation, add them as affected parties above using the relationship type &quot;Iwi&quot;. Include their response in the comments field. Upload any Cultural Impact Assessment (CIA) as a specialist report. </p></div></div></div>',1))]),e("div",Pl,[e("div",Ul,[t[203]||(t[203]=e("h3",{class:"text-sm font-semibold text-gray-900"},"Specialist Reports",-1)),H(w(D),{onClick:lt,variant:"outline",theme:"blue",size:"sm"},{prefix:k(()=>[...t[201]||(t[201]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:k(()=>[t[202]||(t[202]=g(" Add Report ",-1))]),_:1})]),t[211]||(t[211]=e("p",{class:"text-xs text-gray-500 mb-3"}," Add any specialist technical reports (traffic, geotechnical, acoustic, ecological, etc.) ",-1)),o.value.specialist_reports.length>0?(n(),i("div",Rl,[(n(!0),i(x,null,_(o.value.specialist_reports,(s,r)=>(n(),i("div",{key:r,class:"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[e("div",ql,[e("div",jl,[t[204]||(t[204]=e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("h4",Dl,d(s.report_type),1)]),e("span",Nl,d(s.report_date),1)]),e("div",El,[e("div",Bl,[t[205]||(t[205]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),e("span",Hl,d(s.specialist_name),1),s.specialist_company?(n(),i("span",Il,"• "+d(s.specialist_company),1)):p("",!0)]),s.document?(n(),i("div",Ll,[t[206]||(t[206]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),e("span",null,d(typeof s.document=="object"?s.document.name:"Document attached"),1)])):p("",!0),s.summary?(n(),i("div",Tl,[t[207]||(t[207]=e("span",{class:"font-medium"},"Summary: ",-1)),g(d(s.summary),1)])):p("",!0)]),e("div",Fl,[e("button",{onClick:c=>rt(r),class:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded transition-colors"},[...t[208]||(t[208]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),g(" Edit ",-1)])],8,zl),e("button",{onClick:c=>it(r),class:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded transition-colors"},[...t[209]||(t[209]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),g(" Remove ",-1)])],8,Ol)])]))),128))])):(n(),i("div",$l,[...t[210]||(t[210]=[e("p",{class:"text-sm text-gray-500"},"No specialist reports added yet",-1),e("p",{class:"text-xs text-gray-400 mt-1"},"Upload report files in the Documents step",-1)])]))]),e("div",null,[e("div",{class:"flex items-center justify-between mb-2"},[t[213]||(t[213]=e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"}," Proposed Conditions (Optional) "),e("p",{class:"mt-1 text-xs text-gray-500"},"Select from standard templates or propose custom conditions")],-1)),e("button",{type:"button",onClick:ut,class:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 flex items-center gap-1.5"},[...t[212]||(t[212]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Browse Templates ",-1)])])]),o.value.proposed_conditions&&o.value.proposed_conditions.length>0?(n(),i("div",Wl,[(n(!0),i(x,null,_(o.value.proposed_conditions,(s,r)=>(n(),i("div",{key:r,class:"p-3 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[e("div",Gl,[e("div",Jl,[e("span",Xl,d(s.condition_number),1),e("span",Yl,d(s.condition_category),1)]),e("div",Ql,[e("button",{type:"button",onClick:c=>mt(r),class:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit condition"},[...t[214]||(t[214]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Kl),e("button",{type:"button",onClick:c=>Ce(r),class:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove condition"},[...t[215]||(t[215]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Zl)])]),e("div",{class:"text-xs text-gray-700",innerHTML:s.condition_text},null,8,er),s.compliance_notes?(n(),i("div",tr,d(s.compliance_notes),1)):p("",!0)]))),128))])):(n(),i("div",sr,[...t[216]||(t[216]=[e("svg",{class:"w-10 h-10 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"text-sm text-gray-500"},"No conditions proposed yet",-1),e("p",{class:"text-xs text-gray-400 mt-1"},'Click "Browse Templates" to select standard conditions',-1)])])),t[217]||(t[217]=e("p",{class:"mt-2 text-xs text-gray-500"},[e("svg",{class:"w-3.5 h-3.5 inline mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),g(" The council will determine final consent conditions based on the assessment ")],-1))]),e("div",or,[t[222]||(t[222]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Confidential Information (RMA s42)",-1)),t[223]||(t[223]=e("p",{class:"text-xs text-gray-500 mb-4"},"Under section 42 of the RMA, you may request that certain information be kept confidential if it contains trade secrets or is commercially sensitive",-1)),e("div",lr,[e("div",rr,[a(e("input",{type:"checkbox","onUpdate:modelValue":t[46]||(t[46]=s=>o.value.confidential_information_claimed=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[S,o.value.confidential_information_claimed]]),t[218]||(t[218]=e("label",{class:"ml-3 text-sm font-medium text-gray-700"}," This application contains confidential information that should be withheld from public notification ",-1))]),o.value.confidential_information_claimed?(n(),i("div",nr,[t[219]||(t[219]=e("label",{class:"block text-sm font-medium text-gray-900 mb-2"}," Justification for Confidentiality * ",-1)),t[220]||(t[220]=e("p",{class:"text-xs text-gray-600 mb-3"}," Explain why this information should be withheld under s42 of the RMA. You must demonstrate that the information is a trade secret or that making it public would unreasonably prejudice your commercial position. ",-1)),a(e("textarea",{"onUpdate:modelValue":t[47]||(t[47]=s=>o.value.confidential_information_reason=s),rows:"4",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white",placeholder:"Provide detailed justification for why this information should be kept confidential. Include references to specific documents or sections that contain confidential material..."},null,512),[[u,o.value.confidential_information_reason]]),t[221]||(t[221]=e("p",{class:"mt-2 text-xs text-yellow-700"}," ⚠ Note: The consent authority will determine whether your justification meets the requirements of s42. Confidentiality is not guaranteed. ",-1))])):p("",!0)])]),e("div",ir,[e("div",ar,[e("div",dr,[t[230]||(t[230]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",ur,[t[226]||(t[226]=e("h3",{class:"text-sm font-semibold text-blue-900 mb-2"}," Need Help with Your Application? ",-1)),t[227]||(t[227]=e("p",{class:"text-sm text-blue-800 mb-3"},[g(" For "),e("strong",null,"discretionary"),g(" or "),e("strong",null,"non-complying"),g(" activities, we recommend booking a pre-application meeting with our planning team. This can help: ")],-1)),t[228]||(t[228]=e("ul",{class:"text-sm text-blue-800 space-y-1 ml-4 list-disc mb-4"},[e("li",null,"Clarify district plan requirements"),e("li",null,"Identify potential issues early"),e("li",null,"Understand what information you'll need"),e("li",null,"Get preliminary feedback on your proposal")],-1)),H(w(D),{onClick:yt,variant:"solid",theme:"blue",size:"sm",loading:q.value},{prefix:k(()=>[...t[224]||(t[224]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:k(()=>[t[225]||(t[225]=g(" Request Pre-Application Meeting ",-1))]),_:1},8,["loading"]),t[229]||(t[229]=e("p",{class:"text-xs text-blue-700 mt-2"}," A planning officer will contact you within 2 business days to schedule. ",-1))])])])])])])):p("",!0),m.value===(F.value?5:4)?(n(),i("div",pr,[t[240]||(t[240]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Upload Documents",-1)),t[241]||(t[241]=e("p",{class:"text-gray-600 mb-8"},"Attach all required supporting documents",-1)),e("div",cr,[e("div",mr,[t[234]||(t[234]=e("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),t[235]||(t[235]=e("p",{class:"text-gray-600 mb-2"},"Drag and drop files here, or click to browse",-1)),t[236]||(t[236]=e("p",{class:"text-xs text-gray-500"},"PDF, DOC, DOCX, JPG, PNG (Max 10MB per file)",-1)),H(w(D),{onClick:We,variant:"outline",theme:"blue",class:"mt-4"},{default:k(()=>[...t[233]||(t[233]=[g(" Select Files ",-1)])]),_:1}),e("input",{type:"file",ref_key:"fileInput",ref:L,multiple:"",class:"hidden",onChange:Ge},null,544)]),M.value.length>0?(n(),i("div",gr,[e("h4",br,"Uploaded Documents ("+d(M.value.length)+")",1),(n(!0),i(x,null,_(M.value,(s,r)=>(n(),i("div",{key:r,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200"},[e("div",vr,[t[237]||(t[237]=e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",null,[e("p",yr,d(s.name),1),e("p",fr,d(Xe(s.size)),1)])]),e("button",{onClick:c=>Je(r),class:"text-red-600 hover:text-red-800"},[...t[238]||(t[238]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,xr)]))),128))])):p("",!0),t[239]||(t[239]=U('<div class="bg-blue-50 border border-blue-200 rounded-lg p-6"><h4 class="font-medium text-blue-900 mb-3">Required Documents</h4><ul class="space-y-2 text-sm text-blue-800"><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Site plans and location maps </li><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Architectural drawings and specifications </li><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Assessment of Environmental Effects (AEE) </li><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Written approvals from affected parties (if required) </li></ul></div>',1))])])):p("",!0),m.value===(F.value?6:5)?(n(),i("div",_r,[t[257]||(t[257]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Review & Submit",-1)),t[258]||(t[258]=e("p",{class:"text-gray-600 mb-8"},"Please review your application before submission",-1)),e("div",kr,[e("div",hr,[t[247]||(t[247]=e("h3",{class:"font-semibold text-gray-900 mb-4"},"Application Summary",-1)),e("dl",wr,[e("div",null,[t[242]||(t[242]=e("dt",{class:"text-gray-600"},"Application Type",-1)),e("dd",Cr,d(Ye()),1)]),e("div",null,[t[243]||(t[243]=e("dt",{class:"text-gray-600"},"Property Address",-1)),e("dd",Ar,d(o.value.property_address||"N/A"),1)]),e("div",null,[t[244]||(t[244]=e("dt",{class:"text-gray-600"},"Brief Description",-1)),e("dd",Sr,d(o.value.brief_description||"N/A"),1)]),e("div",null,[t[245]||(t[245]=e("dt",{class:"text-gray-600"},"Estimated Value",-1)),e("dd",Mr,d(o.value.estimated_value?`$${o.value.estimated_value}`:"N/A"),1)]),e("div",null,[t[246]||(t[246]=e("dt",{class:"text-gray-600"},"Documents Uploaded",-1)),e("dd",Vr,d(M.value.length)+" files",1)])])]),e("div",Pr,[e("div",Ur,[a(e("input",{type:"checkbox","onUpdate:modelValue":t[48]||(t[48]=s=>o.value.terms_accepted=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[S,o.value.terms_accepted]]),t[248]||(t[248]=e("label",{class:"ml-3 text-sm text-gray-700"},[g(" I confirm that the information provided in this application is true and accurate to the best of my knowledge. I understand that providing false or misleading information may result in the application being declined or consent being revoked. I have read and agree to the "),e("a",{href:"#",class:"text-blue-600 hover:text-blue-800"},"terms and conditions"),g(". ")],-1))])]),e("div",Rr,[t[251]||(t[251]=e("h4",{class:"font-medium text-blue-900 mb-3"},"Fee Summary",-1)),e("div",qr,[e("div",jr,[t[249]||(t[249]=e("span",{class:"text-blue-800"},"Application Fee",-1)),e("span",Dr,d(he()),1)]),e("div",Nr,[t[250]||(t[250]=e("span",{class:"font-medium text-blue-900"},"Total Due",-1)),e("span",Er,d(he()),1)])]),t[252]||(t[252]=e("p",{class:"text-xs text-blue-700 mt-3"}," Payment will be processed after submission. You will receive an invoice via email. ",-1))]),F.value?(n(),i("div",Br,[t[255]||(t[255]=e("h4",{class:"font-medium text-green-900 mb-2"},"Pre-Application Meeting",-1)),t[256]||(t[256]=e("p",{class:"text-sm text-green-700 mb-4"}," For Resource Consent applications, we strongly recommend booking a pre-application meeting with our planning team. This helps ensure your application meets all requirements and can speed up the approval process. ",-1)),H(w(D),{onClick:Ke,variant:"solid",theme:"green",loading:V.value},{prefix:k(()=>[...t[253]||(t[253]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:k(()=>[t[254]||(t[254]=g(" Book Pre-Application Meeting ",-1))]),_:1},8,["loading"])])):p("",!0)])])):p("",!0),e("div",Hr,[m.value>1?(n(),be(w(D),{key:0,onClick:$e,variant:"outline",theme:"gray"},{prefix:k(()=>[...t[259]||(t[259]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),default:k(()=>[t[260]||(t[260]=g(" Previous ",-1))]),_:1})):(n(),i("div",Ir)),e("div",Lr,[m.value<W.value?(n(),be(w(D),{key:0,onClick:Oe,variant:"solid",theme:"blue",disabled:!_e()},{suffix:k(()=>[...t[261]||(t[261]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),default:k(()=>[t[262]||(t[262]=g(" Next ",-1))]),_:1},8,["disabled"])):Ie.value?(n(),be(w(D),{key:1,onClick:Qe,variant:"solid",theme:"blue",loading:G.value,disabled:!o.value.terms_accepted},{default:k(()=>[...t[263]||(t[263]=[g(" Submit Application ",-1)])]),_:1},8,["loading","disabled"])):(n(),i("div",Tr," Make changes to your application to enable submission "))])])])]),Q.value?(n(),i("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:ve(de,["self"])},[e("div",Fr,[e("div",zr,[e("div",Or,[e("h3",$r,d(z.value!==null?"Edit":"Add")+" Affected Party ",1),e("button",{onClick:de,class:"text-gray-400 hover:text-gray-600"},[...t[264]||(t[264]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Wr,[e("div",null,[t[265]||(t[265]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Party Name "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":t[49]||(t[49]=s=>b.value.party_name=s),type:"text",required:"",placeholder:"e.g., John Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,b.value.party_name]])]),e("div",null,[t[267]||(t[267]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Relationship "),e("span",{class:"text-red-500"},"*")],-1)),a(e("select",{"onUpdate:modelValue":t[50]||(t[50]=s=>b.value.relationship=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[266]||(t[266]=[U('<option value="">Select relationship</option><option value="Adjacent Property Owner">Adjacent Property Owner</option><option value="Neighbor">Neighbor</option><option value="Iwi">Iwi</option><option value="Infrastructure Provider">Infrastructure Provider</option><option value="Other">Other</option>',6)])],512),[[C,b.value.relationship]])]),e("div",Gr,[t[270]||(t[270]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Contact Information",-1)),e("div",Jr,[e("div",null,[t[268]||(t[268]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Email",-1)),a(e("input",{"onUpdate:modelValue":t[51]||(t[51]=s=>b.value.email=s),type:"email",placeholder:"email@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[u,b.value.email]])]),e("div",null,[t[269]||(t[269]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Phone",-1)),a(e("input",{"onUpdate:modelValue":t[52]||(t[52]=s=>b.value.phone=s),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[u,b.value.phone]])])])]),e("div",Xr,[t[275]||(t[275]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Addresses",-1)),e("div",Yr,[e("div",null,[t[271]||(t[271]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Property Address",-1)),a(e("textarea",{"onUpdate:modelValue":t[53]||(t[53]=s=>b.value.property_address=s),rows:"2",placeholder:"123 Main Street, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[u,b.value.property_address]]),t[272]||(t[272]=e("p",{class:"mt-1 text-xs text-gray-500"},"The property address affected by this proposal",-1))]),e("div",null,[t[273]||(t[273]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Postal Address",-1)),a(e("textarea",{"onUpdate:modelValue":t[54]||(t[54]=s=>b.value.postal_address=s),rows:"2",placeholder:"PO Box 123, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[u,b.value.postal_address]]),t[274]||(t[274]=e("p",{class:"mt-1 text-xs text-gray-500"},"For correspondence (if different from property address)",-1))])])]),e("div",Qr,[t[281]||(t[281]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Written Approval",-1)),e("div",Kr,[a(e("input",{type:"checkbox","onUpdate:modelValue":t[55]||(t[55]=s=>b.value.approval_obtained=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[S,b.value.approval_obtained]]),t[276]||(t[276]=e("label",{class:"ml-3 text-sm text-gray-700"}," Written approval obtained from this party ",-1))]),b.value.approval_obtained?(n(),i("div",Zr,[e("div",null,[t[277]||(t[277]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Date",-1)),a(e("input",{"onUpdate:modelValue":t[56]||(t[56]=s=>b.value.approval_date=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[u,b.value.approval_date]])]),e("div",null,[t[279]||(t[279]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Document",-1)),e("input",{type:"file",onChange:ot,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[280]||(t[280]=e("p",{class:"mt-1 text-xs text-gray-500"},"Upload written approval (PDF, Word, or image, max 10MB)",-1)),b.value.approval_document?(n(),i("div",en,[t[278]||(t[278]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,d(typeof b.value.approval_document=="object"?b.value.approval_document.name:"Document attached"),1)])):p("",!0)])])):p("",!0)]),e("div",null,[t[282]||(t[282]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Comments",-1)),a(e("textarea",{"onUpdate:modelValue":t[57]||(t[57]=s=>b.value.comments=s),rows:"3",placeholder:"Any additional notes about this party or their concerns...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[u,b.value.comments]])])]),e("div",tn,[e("button",{onClick:de,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:tt,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},d(z.value!==null?"Update":"Add")+" Party ",1)])])])):p("",!0),K.value?(n(),i("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:ve(ue,["self"])},[e("div",sn,[e("div",on,[e("div",ln,[e("h3",rn,d(O.value!==null?"Edit":"Add")+" Specialist Report ",1),e("button",{onClick:ue,class:"text-gray-400 hover:text-gray-600"},[...t[283]||(t[283]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",nn,[e("div",null,[t[285]||(t[285]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Report Type "),e("span",{class:"text-red-500"},"*")],-1)),a(e("select",{"onUpdate:modelValue":t[58]||(t[58]=s=>y.value.report_type=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[284]||(t[284]=[U('<option value="">Select report type</option><option value="Traffic Impact Assessment">Traffic Impact Assessment</option><option value="Acoustic Assessment">Acoustic Assessment</option><option value="Geotechnical Report">Geotechnical Report</option><option value="Ecological Assessment">Ecological Assessment</option><option value="Archaeological Assessment">Archaeological Assessment</option><option value="Landscape Assessment">Landscape Assessment</option><option value="Contaminated Land Assessment">Contaminated Land Assessment</option><option value="Flood Risk Assessment">Flood Risk Assessment</option><option value="Other">Other</option>',10)])],512),[[C,y.value.report_type]])]),e("div",an,[t[288]||(t[288]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Consultant Details",-1)),e("div",dn,[e("div",null,[t[286]||(t[286]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Specialist Name "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":t[59]||(t[59]=s=>y.value.specialist_name=s),type:"text",required:"",placeholder:"e.g., Dr. Jane Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,y.value.specialist_name]])]),e("div",null,[t[287]||(t[287]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Company/Organization",-1)),a(e("input",{"onUpdate:modelValue":t[60]||(t[60]=s=>y.value.specialist_company=s),type:"text",placeholder:"e.g., ABC Consultants Ltd",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,y.value.specialist_company]])])])]),e("div",un,[t[296]||(t[296]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Report Details",-1)),e("div",pn,[e("div",null,[t[289]||(t[289]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Report Date "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":t[61]||(t[61]=s=>y.value.report_date=s),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,y.value.report_date]]),t[290]||(t[290]=e("p",{class:"mt-1 text-xs text-gray-500"},"Date the report was prepared or finalized",-1))]),e("div",null,[t[292]||(t[292]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Document "),e("span",{class:"text-red-500"},"*")],-1)),e("input",{type:"file",onChange:at,accept:".pdf,.doc,.docx",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[293]||(t[293]=e("p",{class:"mt-1 text-xs text-gray-500"},"Upload the specialist report (PDF or Word, max 10MB)",-1)),y.value.document?(n(),i("div",cn,[t[291]||(t[291]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,d(typeof y.value.document=="object"?y.value.document.name:"Document attached"),1)])):p("",!0)]),e("div",null,[t[294]||(t[294]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Summary",-1)),a(e("textarea",{"onUpdate:modelValue":t[62]||(t[62]=s=>y.value.summary=s),rows:"4",placeholder:"Brief summary of key findings and recommendations...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[u,y.value.summary]]),t[295]||(t[295]=e("p",{class:"mt-1 text-xs text-gray-500"},"Optional: Provide a brief summary of the report's key findings",-1))])])])]),e("div",mn,[e("button",{onClick:ue,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:nt,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},d(O.value!==null?"Update":"Add")+" Report ",1)])])])):p("",!0),Z.value?(n(),i("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t[70]||(t[70]=ve(s=>Z.value=!1,["self"]))},[e("div",gn,[e("div",bn,[e("div",vn,[t[298]||(t[298]=e("h3",{class:"text-lg font-semibold text-gray-900"}," Browse Condition Templates ",-1)),e("button",{onClick:t[63]||(t[63]=s=>Z.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[297]||(t[297]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",yn,[e("div",fn,[e("div",xn,[e("div",_n,[t[299]||(t[299]=e("label",{class:"text-sm font-medium text-gray-700"},"Filter by Category:",-1)),a(e("select",{"onUpdate:modelValue":t[64]||(t[64]=s=>le.value=s),class:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(n(),i(x,null,_(we,s=>e("option",{key:s,value:s},d(s),9,kn)),64))],512),[[C,le.value]]),e("span",hn,d(re.value.length)+" template"+d(re.value.length!==1?"s":""),1)]),ce.value?(n(),i("div",wn,[...t[300]||(t[300]=[e("svg",{class:"animate-spin h-8 w-8 mx-auto text-blue-600",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"},"Loading templates...",-1)])])):re.value.length>0?(n(),i("div",Cn,[(n(!0),i(x,null,_(re.value,s=>(n(),i("div",{key:s.name,class:"p-4 bg-white border border-gray-300 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all"},[e("div",An,[e("div",Sn,[e("div",Mn,[e("h4",Vn,d(s.template_name),1),s.condition_code?(n(),i("span",Pn,d(s.condition_code),1)):p("",!0)]),e("div",Un,[e("span",Rn,d(s.condition_category),1),s.timing?(n(),i("span",qn,d(s.timing),1)):p("",!0),s.monitoring_required?(n(),i("span",jn," Monitoring Required ")):p("",!0)]),e("div",{class:"text-xs text-gray-700 line-clamp-3",innerHTML:s.condition_text},null,8,Dn)]),e("button",{onClick:r=>pt(s),type:"button",class:"ml-3 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 flex items-center gap-1 flex-shrink-0"},[...t[301]||(t[301]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Add ",-1)])],8,Nn)])]))),128))])):(n(),i("div",En,[...t[302]||(t[302]=[e("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"text-sm text-gray-500"},"No templates found for selected category",-1)])])),e("div",{class:"pt-4 border-t border-gray-200"},[e("button",{onClick:ct,type:"button",class:"w-full px-4 py-2.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300"},[...t[303]||(t[303]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Add Custom Condition ",-1)])])])]),e("div",Bn,[e("h4",Hn,[t[304]||(t[304]=e("span",null,"Selected Conditions",-1)),e("span",In,d(o.value.proposed_conditions.length),1)]),o.value.proposed_conditions.length>0?(n(),i("div",Ln,[(n(!0),i(x,null,_(o.value.proposed_conditions,(s,r)=>(n(),i("div",{key:r,class:"p-2 bg-white rounded border border-gray-300 text-xs"},[e("div",Tn,[e("div",Fn,[e("span",zn,d(s.condition_number),1),e("span",On,d(s.condition_category),1)]),e("button",{onClick:c=>Ce(r),type:"button",class:"text-red-600 hover:bg-red-50 rounded p-0.5",title:"Remove"},[...t[305]||(t[305]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,$n)]),e("div",{class:"text-gray-700 line-clamp-2",innerHTML:s.condition_text},null,8,Wn)]))),128))])):(n(),i("div",Gn,[...t[306]||(t[306]=[e("svg",{class:"w-8 h-8 mx-auto text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),g(" No conditions selected ",-1)])]))])]),j.value!==null||f.value.condition_text||f.value.condition_category?(n(),i("div",Jn,[e("h4",Xn,d(j.value!==null?"Edit":"Add Custom")+" Condition ",1),e("div",Yn,[e("div",null,[t[307]||(t[307]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[g(" Condition Number "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":t[65]||(t[65]=s=>f.value.condition_number=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1"},null,512),[[u,f.value.condition_number]])]),e("div",null,[t[309]||(t[309]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[g(" Category "),e("span",{class:"text-red-500"},"*")],-1)),a(e("select",{"onUpdate:modelValue":t[66]||(t[66]=s=>f.value.condition_category=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[308]||(t[308]=e("option",{value:""},"Select category",-1)),(n(!0),i(x,null,_(we.filter(s=>s!=="All"),s=>(n(),i("option",{key:s,value:s},d(s),9,Qn))),128))],512),[[C,f.value.condition_category]])])]),e("div",Kn,[t[310]||(t[310]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[g(" Condition Text "),e("span",{class:"text-red-500"},"*")],-1)),a(e("textarea",{"onUpdate:modelValue":t[67]||(t[67]=s=>f.value.condition_text=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter the condition text..."},null,512),[[u,f.value.condition_text]])]),e("div",null,[t[311]||(t[311]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Notes",-1)),a(e("textarea",{"onUpdate:modelValue":t[68]||(t[68]=s=>f.value.compliance_notes=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional notes about this condition..."},null,512),[[u,f.value.compliance_notes]])]),e("div",Zn,[e("button",{onClick:bt,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:gt,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},d(j.value!==null?"Update":"Add")+" Condition ",1)])])):p("",!0)]),e("div",ei,[e("button",{onClick:t[69]||(t[69]=s=>Z.value=!1),type:"button",class:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Done ")])])])):p("",!0)]))}};export{oi as default};
//# sourceMappingURL=NewRequest-C4xTcuDb.js.map
