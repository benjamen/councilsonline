var qe=Object.defineProperty;var ie=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var we=(a,m,u)=>m in a?qe(a,m,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[m]=u,H=(a,m)=>{for(var u in m||(m={}))Ce.call(m,u)&&we(a,u,m[u]);if(ie)for(var u of ie(m))$e.call(m,u)&&we(a,u,m[u]);return a};var Y=(a,m)=>{var u={};for(var f in a)Ce.call(a,f)&&m.indexOf(f)<0&&(u[f]=a[f]);if(a!=null&&ie)for(var f of ie(a))m.indexOf(f)<0&&$e.call(a,f)&&(u[f]=a[f]);return u};var G=(a,m,u)=>new Promise((f,l)=>{var w=v=>{try{d(u.next(v))}catch(k){l(k)}},p=v=>{try{d(u.throw(v))}catch(k){l(k)}},d=v=>v.done?f(v.value):Promise.resolve(v.value).then(w,p);d((u=u.apply(a,m)).next())});import{r as B,G as Q,Z as he,aM as F,Y as W,j as M,aj as fe,aN as X,aO as A,a2 as ce,aP as je,aQ as pe,aR as ve,aS as me,aT as Ae,aU as te,X as oe,a0 as be,aV as Ue,aW as Pe,aX as ue,aY as ze,E as le,aZ as se,a_ as Oe,F as E,a$ as Ee,b0 as ee,b1 as L,c as o,o as r,a as t,e as ge,d as $,y as J,h as q,t as C,A as T,g as De,x as Re,b as O,w as N,l as R,b2 as Le,m as Ne,b3 as He,k as U,v as re,M as Z,Q as Me,N as Se,b4 as Ge,u as K}from"./index-CQ4Fw3yC.js";import{u as Ke,i as Je,a as Qe}from"./NewRequest-BS_L_p3e.js";import"./request.service-DE0NmQIq.js";import"./RequestHeader-Do0UmZD0.js";import"./CouncilSelector-AkOUnVEs.js";function Ve(a,m){if(a)return a;let u=m!=null?m:"button";if(typeof u=="string"&&u.toLowerCase()==="button")return"button"}function Be(a,m){let u=B(Ve(a.value.type,a.value.as));return Q(()=>{u.value=Ve(a.value.type,a.value.as)}),he(()=>{var f;u.value||F(m)&&F(m)instanceof HTMLButtonElement&&!((f=F(m))!=null&&f.hasAttribute("type"))&&(u.value="button")}),u}var We=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(We||{});let Fe=Symbol("DisclosureContext");function _e(a){let m=oe(Fe,null);if(m===null){let u=new Error(`<${a} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,_e),u}return m}let Ie=Symbol("DisclosurePanelContext");function Ze(){return oe(Ie,null)}let Xe=W({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(a,{slots:m,attrs:u}){let f=B(a.defaultOpen?0:1),l=B(null),w=B(null),p={buttonId:B(`headlessui-disclosure-button-${me()}`),panelId:B(`headlessui-disclosure-panel-${me()}`),disclosureState:f,panel:l,button:w,toggleDisclosure(){f.value=te(f.value,{0:1,1:0})},closeDisclosure(){f.value!==1&&(f.value=1)},close(d){p.closeDisclosure();let v=d?d instanceof HTMLElement?d:d.value instanceof HTMLElement?F(d):F(p.button):F(p.button);v==null||v.focus()}};return ce(Fe,p),Ae(M(()=>te(f.value,{0:pe.Open,1:pe.Closed}))),()=>{let b=a,{defaultOpen:d}=b,v=Y(b,["defaultOpen"]),k={open:f.value===0,close:p.close};return X({theirProps:v,ourProps:{},slot:k,slots:m,attrs:u,name:"Disclosure"})}}}),Ye=W({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(a,{attrs:m,slots:u,expose:f}){let l=_e("DisclosureButton"),w=Ze(),p=M(()=>w===null?!1:w.value===l.panelId.value);Q(()=>{p.value||a.id!==null&&(l.buttonId.value=a.id)}),fe(()=>{p.value||(l.buttonId.value=null)});let d=B(null);f({el:d,$el:d}),p.value||he(()=>{l.button.value=d.value});let v=Be(M(()=>({as:a.as,type:m.type})),d);function k(){var g;a.disabled||(p.value?(l.toggleDisclosure(),(g=F(l.button))==null||g.focus()):l.toggleDisclosure())}function b(g){var V;if(!a.disabled)if(p.value)switch(g.key){case A.Space:case A.Enter:g.preventDefault(),g.stopPropagation(),l.toggleDisclosure(),(V=F(l.button))==null||V.focus();break}else switch(g.key){case A.Space:case A.Enter:g.preventDefault(),g.stopPropagation(),l.toggleDisclosure();break}}function x(g){switch(g.key){case A.Space:g.preventDefault();break}}return()=>{var g;let V={open:l.disclosureState.value===0},P=a,{id:h}=P,i=Y(P,["id"]),y=p.value?{ref:d,type:v.value,onClick:k,onKeydown:b}:{id:(g=l.buttonId.value)!=null?g:h,ref:d,type:v.value,"aria-expanded":l.disclosureState.value===0,"aria-controls":l.disclosureState.value===0||F(l.panel)?l.panelId.value:void 0,disabled:a.disabled?!0:void 0,onClick:k,onKeydown:b,onKeyup:x};return X({ourProps:y,theirProps:i,slot:V,attrs:m,slots:u,name:"DisclosureButton"})}}}),et=W({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:m,slots:u,expose:f}){let l=_e("DisclosurePanel");Q(()=>{a.id!==null&&(l.panelId.value=a.id)}),fe(()=>{l.panelId.value=null}),f({el:l.panel,$el:l.panel}),ce(Ie,l.panelId);let w=je(),p=M(()=>w!==null?(w.value&pe.Open)===pe.Open:l.disclosureState.value===0);return()=>{var d;let v={open:l.disclosureState.value===0,close:l.close},g=a,{id:k}=g,b=Y(g,["id"]),x={id:(d=l.panelId.value)!=null?d:k,ref:l.panel};return X({ourProps:x,theirProps:b,slot:v,attrs:m,slots:u,features:ve.RenderStrategy|ve.Static,visible:p.value,name:"DisclosurePanel"})}}}),tt=W({props:{onFocus:{type:Function,required:!0}},setup(a){let m=B(!0);return()=>m.value?be(Pe,{as:"button",type:"button",features:Ue.Focusable,onFocus(u){u.preventDefault();let f,l=50;function w(){var p;if(l--<=0){f&&cancelAnimationFrame(f);return}if((p=a.onFocus)!=null&&p.call(a)){m.value=!1,cancelAnimationFrame(f);return}f=requestAnimationFrame(w)}f=requestAnimationFrame(w)}}):null}});var lt=(a=>(a[a.Forwards=0]="Forwards",a[a.Backwards=1]="Backwards",a))(lt||{}),at=(a=>(a[a.Less=-1]="Less",a[a.Equal=0]="Equal",a[a.Greater=1]="Greater",a))(at||{});let Te=Symbol("TabsContext");function ne(a){let m=oe(Te,null);if(m===null){let u=new Error(`<${a} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,ne),u}return m}let xe=Symbol("TabsSSRContext"),st=W({name:"TabGroup",emits:{change:a=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(a,{slots:m,attrs:u,emit:f}){var l;let w=B((l=a.selectedIndex)!=null?l:a.defaultIndex),p=B([]),d=B([]),v=M(()=>a.selectedIndex!==null),k=M(()=>v.value?a.selectedIndex:w.value);function b(i){var y;let P=se(x.tabs.value,F),n=se(x.panels.value,F),s=P.filter(e=>{var c;return!((c=F(e))!=null&&c.hasAttribute("disabled"))});if(i<0||i>P.length-1){let e=te(w.value===null?0:Math.sign(i-w.value),{[-1]:()=>1,0:()=>te(Math.sign(i),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),c=te(e,{0:()=>P.indexOf(s[0]),1:()=>P.indexOf(s[s.length-1])});c!==-1&&(w.value=c),x.tabs.value=P,x.panels.value=n}else{let e=P.slice(0,i),c=[...P.slice(i),...e].find(j=>s.includes(j));if(!c)return;let I=(y=P.indexOf(c))!=null?y:x.selectedIndex.value;I===-1&&(I=x.selectedIndex.value),w.value=I,x.tabs.value=P,x.panels.value=n}}let x={selectedIndex:M(()=>{var i,y;return(y=(i=w.value)!=null?i:a.defaultIndex)!=null?y:null}),orientation:M(()=>a.vertical?"vertical":"horizontal"),activation:M(()=>a.manual?"manual":"auto"),tabs:p,panels:d,setSelectedIndex(i){k.value!==i&&f("change",i),v.value||b(i)},registerTab(i){var y;if(p.value.includes(i))return;let P=p.value[w.value];if(p.value.push(i),p.value=se(p.value,F),!v.value){let n=(y=p.value.indexOf(P))!=null?y:w.value;n!==-1&&(w.value=n)}},unregisterTab(i){let y=p.value.indexOf(i);y!==-1&&p.value.splice(y,1)},registerPanel(i){d.value.includes(i)||(d.value.push(i),d.value=se(d.value,F))},unregisterPanel(i){let y=d.value.indexOf(i);y!==-1&&d.value.splice(y,1)}};ce(Te,x);let g=B({tabs:[],panels:[]}),V=B(!1);Q(()=>{V.value=!0}),ce(xe,M(()=>V.value?null:g.value));let h=M(()=>a.selectedIndex);return Q(()=>{le([h],()=>{var i;return b((i=a.selectedIndex)!=null?i:a.defaultIndex)},{immediate:!0})}),he(()=>{if(!v.value||k.value==null||x.tabs.value.length<=0)return;let i=se(x.tabs.value,F);i.some((y,P)=>F(x.tabs.value[P])!==F(y))&&x.setSelectedIndex(i.findIndex(y=>F(y)===F(x.tabs.value[k.value])))}),()=>{let i={selectedIndex:w.value};return be(E,[p.value.length<=0&&be(tt,{onFocus:()=>{for(let y of p.value){let P=F(y);if((P==null?void 0:P.tabIndex)===0)return P.focus(),!0}return!1}}),X({theirProps:H(H({},u),Oe(a,["selectedIndex","defaultIndex","manual","vertical","onChange"])),ourProps:{},slot:i,slots:m,attrs:u,name:"TabGroup"})])}}}),rt=W({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(a,{attrs:m,slots:u}){let f=ne("TabList");return()=>{let l={selectedIndex:f.selectedIndex.value},w={role:"tablist","aria-orientation":f.orientation.value};return X({ourProps:w,theirProps:a,slot:l,attrs:m,slots:u,name:"TabList"})}}}),ot=W({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(a,{attrs:m,slots:u,expose:f}){var l;let w=(l=a.id)!=null?l:`headlessui-tabs-tab-${me()}`,p=ne("Tab"),d=B(null);f({el:d,$el:d}),Q(()=>p.registerTab(d)),fe(()=>p.unregisterTab(d));let v=oe(xe),k=M(()=>{if(v.value){let n=v.value.tabs.indexOf(w);return n===-1?v.value.tabs.push(w)-1:n}return-1}),b=M(()=>{let n=p.tabs.value.indexOf(d);return n===-1?k.value:n}),x=M(()=>b.value===p.selectedIndex.value);function g(n){var s;let e=n();if(e===ue.Success&&p.activation.value==="auto"){let c=(s=Ee(d))==null?void 0:s.activeElement,I=p.tabs.value.findIndex(j=>F(j)===c);I!==-1&&p.setSelectedIndex(I)}return e}function V(n){let s=p.tabs.value.map(e=>F(e)).filter(Boolean);if(n.key===A.Space||n.key===A.Enter){n.preventDefault(),n.stopPropagation(),p.setSelectedIndex(b.value);return}switch(n.key){case A.Home:case A.PageUp:return n.preventDefault(),n.stopPropagation(),g(()=>ee(s,L.First));case A.End:case A.PageDown:return n.preventDefault(),n.stopPropagation(),g(()=>ee(s,L.Last))}if(g(()=>te(p.orientation.value,{vertical(){return n.key===A.ArrowUp?ee(s,L.Previous|L.WrapAround):n.key===A.ArrowDown?ee(s,L.Next|L.WrapAround):ue.Error},horizontal(){return n.key===A.ArrowLeft?ee(s,L.Previous|L.WrapAround):n.key===A.ArrowRight?ee(s,L.Next|L.WrapAround):ue.Error}}))===ue.Success)return n.preventDefault()}let h=B(!1);function i(){var n;h.value||(h.value=!0,!a.disabled&&((n=F(d))==null||n.focus({preventScroll:!0}),p.setSelectedIndex(b.value),ze(()=>{h.value=!1})))}function y(n){n.preventDefault()}let P=Be(M(()=>({as:a.as,type:m.type})),d);return()=>{var n,s;let e={selected:x.value,disabled:(n=a.disabled)!=null?n:!1},c=Y(a,[]),I={ref:d,onKeydown:V,onMousedown:y,onClick:i,id:w,role:"tab",type:P.value,"aria-controls":(s=F(p.panels.value[b.value]))==null?void 0:s.id,"aria-selected":x.value,tabIndex:x.value?0:-1,disabled:a.disabled?!0:void 0};return X({ourProps:I,theirProps:c,slot:e,attrs:m,slots:u,name:"Tab"})}}}),nt=W({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(a,{slots:m,attrs:u}){let f=ne("TabPanels");return()=>{let l={selectedIndex:f.selectedIndex.value};return X({theirProps:a,ourProps:{},slot:l,attrs:u,slots:m,name:"TabPanels"})}}}),it=W({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(a,{attrs:m,slots:u,expose:f}){var l;let w=(l=a.id)!=null?l:`headlessui-tabs-panel-${me()}`,p=ne("TabPanel"),d=B(null);f({el:d,$el:d}),Q(()=>p.registerPanel(d)),fe(()=>p.unregisterPanel(d));let v=oe(xe),k=M(()=>{if(v.value){let g=v.value.panels.indexOf(w);return g===-1?v.value.panels.push(w)-1:g}return-1}),b=M(()=>{let g=p.panels.value.indexOf(d);return g===-1?k.value:g}),x=M(()=>b.value===p.selectedIndex.value);return()=>{var g;let V={selected:x.value},P=a,{tabIndex:h}=P,i=Y(P,["tabIndex"]),y={ref:d,id:w,role:"tabpanel","aria-labelledby":(g=F(p.tabs.value[b.value]))==null?void 0:g.id,tabIndex:x.value?h:-1};return!x.value&&a.unmount&&!a.static?be(Pe,H({as:"span","aria-hidden":!0},y)):X({ourProps:y,theirProps:i,slot:V,attrs:m,slots:u,features:ve.Static|ve.RenderStrategy,visible:x.value,name:"TabPanel"})}}});function ut(a,m){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z","clip-rule":"evenodd"})])}const dt={class:"space-y-4"},ct={class:"block"},pt={class:"text-sm font-medium text-gray-900"},vt={key:0,class:"text-red-500"},mt={key:0,class:"text-xs text-gray-500 mt-1"},bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ft=["disabled"],gt=["disabled"],yt={class:"text-center"},ht={class:"text-xs text-gray-500"},_t=["accept","multiple"],xt={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},kt={class:"flex items-center space-x-3"},wt={class:"flex-1"},Ct={class:"mt-1 w-full bg-blue-200 rounded-full h-2"},$t={key:1,class:"space-y-2"},St={class:"flex items-center space-x-3 flex-1 min-w-0"},Vt={class:"flex-shrink-0"},Pt={key:0,class:"w-12 h-12 rounded-lg overflow-hidden border-2 border-green-300"},Dt=["src","alt"],Mt={key:1,class:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center"},Bt={class:"flex-1 min-w-0"},Ft={class:"text-sm font-medium text-gray-900 truncate"},It={class:"text-xs text-gray-500"},Tt=["onClick"],qt={class:"bg-white rounded-2xl max-w-2xl w-full overflow-hidden shadow-2xl"},jt={class:"relative bg-black aspect-video"},At=["src"],Ut={key:2,class:"absolute inset-0 pointer-events-none"},zt={class:"w-full h-full grid grid-cols-3 grid-rows-3"},Ot={class:"bg-gray-900 px-6 py-6"},Et={key:0,class:"flex items-center justify-center space-x-6"},Rt={key:1,class:"flex items-center justify-center space-x-4"},Lt={__name:"CameraUpload",props:{label:{type:String,required:!0},helpText:{type:String,default:""},modelValue:{type:Array,default:()=>[]},accept:{type:String,default:"image/*,.pdf"},multiple:{type:Boolean,default:!1},required:{type:Boolean,default:!1},allowCamera:{type:Boolean,default:!0},maxSize:{type:Number,default:20*1024*1024}},emits:["update:modelValue","upload"],setup(a,{emit:m}){const u=a,f=m,l=B(null),w=B(null),p=B(!1),d=B(null),v=B(null),k=B(!1),b=B(0),x=M({get:()=>u.modelValue,set:S=>f("update:modelValue",S)}),g=()=>{var S;(S=l.value)==null||S.click()},V=S=>G(this,null,function*(){const _=Array.from(S.target.files);yield h(_),S.target.value=""}),h=S=>G(this,null,function*(){const _=[];for(const D of S){if(D.size>u.maxSize){alert(`File ${D.name} exceeds maximum size of ${ae(u.maxSize)}`);continue}let z=null;D.type.startsWith("image/")&&(z=yield i(D)),_.push({file:D,name:D.name,size:D.size,type:D.type,preview:z,uploadDate:new Date().toISOString()})}if(_.length>0){const D=u.multiple?[...x.value,..._]:_;f("update:modelValue",D),yield y(_)}}),i=S=>new Promise(_=>{const D=new FileReader;D.onload=z=>_(z.target.result),D.onerror=()=>_(null),D.readAsDataURL(S)}),y=S=>G(this,null,function*(){k.value=!0,b.value=0;try{for(let _=0;_<S.length;_++){const D=S[_],z=setInterval(()=>{b.value=Math.min(b.value+10,90)},100);yield new Promise(ke=>{f("upload",D,ke)}),clearInterval(z),b.value=(_+1)/S.length*100}}catch(_){console.error("Upload error:",_),alert("Failed to upload files. Please try again.")}finally{k.value=!1,b.value=0}}),P=S=>{const _=[...x.value];_.splice(S,1),f("update:modelValue",_)},n=()=>G(this,null,function*(){try{p.value=!0,yield s()}catch(S){console.error("Camera error:",S),alert("Unable to access camera. Please check permissions or upload a file instead."),p.value=!1}}),s=()=>G(this,null,function*(){try{const S=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}},audio:!1});v.value=S,w.value&&(w.value.srcObject=S)}catch(S){throw S}}),e=()=>{const S=w.value,_=document.createElement("canvas");_.width=S.videoWidth,_.height=S.videoHeight,_.getContext("2d").drawImage(S,0,0,_.width,_.height),d.value=_.toDataURL("image/jpeg",.9)},c=()=>{d.value=null},I=()=>G(this,null,function*(){if(!d.value)return;const S=yield(yield fetch(d.value)).blob(),_=new File([S],`photo-${Date.now()}.jpg`,{type:"image/jpeg"});yield h([_]),j()}),j=()=>{v.value&&(v.value.getTracks().forEach(S=>S.stop()),v.value=null),d.value=null,p.value=!1},ae=S=>{if(S===0)return"0 Bytes";const _=1024,D=["Bytes","KB","MB","GB"],z=Math.floor(Math.log(S)/Math.log(_));return Math.round(S/Math.pow(_,z)*100)/100+" "+D[z]};return(S,_)=>(r(),o("div",dt,[t("label",ct,[t("span",pt,[q(C(a.label)+" ",1),a.required?(r(),o("span",vt,"*")):$("",!0)]),a.helpText?(r(),o("p",mt,C(a.helpText),1)):$("",!0)]),t("div",bt,[a.allowCamera?(r(),o("button",{key:0,onClick:n,type:"button",class:T(["relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-blue-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",{"opacity-50 cursor-not-allowed":k.value}]),disabled:k.value},[..._[0]||(_[0]=[De('<div class="text-center" data-v-2b18513c><svg class="mx-auto h-10 w-10 text-blue-500 group-hover:text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-2b18513c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" data-v-2b18513c></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" data-v-2b18513c></path></svg><p class="mt-2 text-sm font-medium text-blue-600 group-hover:text-blue-700" data-v-2b18513c>Take Photo</p><p class="text-xs text-gray-500" data-v-2b18513c>Use camera</p></div>',1)])],10,ft)):$("",!0),t("button",{onClick:g,type:"button",class:T(["relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",{"opacity-50 cursor-not-allowed":k.value}]),disabled:k.value},[t("div",yt,[_[1]||(_[1]=t("svg",{class:"mx-auto h-10 w-10 text-gray-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),_[2]||(_[2]=t("p",{class:"mt-2 text-sm font-medium text-gray-700 group-hover:text-blue-700"},"Upload File",-1)),t("p",ht,"Browse "+C(a.multiple?"files":"file"),1)]),t("input",{ref_key:"fileInput",ref:l,type:"file",accept:a.accept,multiple:a.multiple,onChange:V,class:"hidden"},null,40,_t)],10,gt)]),k.value?(r(),o("div",xt,[t("div",kt,[_[4]||(_[4]=t("svg",{class:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t("div",wt,[_[3]||(_[3]=t("p",{class:"text-sm font-medium text-blue-900"},"Uploading...",-1)),t("div",Ct,[t("div",{class:"bg-blue-600 h-2 rounded-full transition-all",style:Re({width:b.value+"%"})},null,4)])])])])):$("",!0),x.value.length>0?(r(),o("div",$t,[O(Le,{name:"list"},{default:N(()=>[(r(!0),o(E,null,R(x.value,(D,z)=>(r(),o("div",{key:D.name+z,class:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg group hover:bg-green-100 transition-colors"},[t("div",St,[t("div",Vt,[D.preview?(r(),o("div",Pt,[t("img",{src:D.preview,alt:D.name,class:"w-full h-full object-cover"},null,8,Dt)])):(r(),o("div",Mt,[..._[5]||(_[5]=[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])]))]),t("div",Bt,[t("p",Ft,C(D.name),1),t("p",It,C(ae(D.size)),1)]),t("button",{onClick:ke=>P(z),type:"button",class:"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-lg transition-colors",title:"Remove"},[..._[6]||(_[6]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Tt)])]))),128))]),_:1})])):$("",!0),(r(),J(He,{to:"body"},[p.value?(r(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:Ne(j,["self"])},[t("div",qt,[t("div",{class:"bg-gray-900 px-6 py-4 flex items-center justify-between"},[_[8]||(_[8]=t("h3",{class:"text-white font-semibold text-lg"},"Take Photo",-1)),t("button",{onClick:j,class:"text-gray-400 hover:text-white transition-colors"},[..._[7]||(_[7]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",jt,[d.value?(r(),o("img",{key:1,src:d.value,alt:"Captured",class:"w-full h-full object-contain"},null,8,At)):(r(),o("video",{key:0,ref_key:"videoElement",ref:w,autoplay:"",playsinline:"",class:"w-full h-full object-contain"},null,512)),d.value?$("",!0):(r(),o("div",Ut,[t("div",zt,[(r(),o(E,null,R(9,D=>t("div",{key:D,class:"border border-white/20"})),64))])]))]),t("div",Ot,[d.value?(r(),o("div",Rt,[t("button",{onClick:c,type:"button",class:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium"}," Retake "),t("button",{onClick:I,type:"button",class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"}," Use Photo ")])):(r(),o("div",Et,[t("button",{onClick:e,type:"button",class:"w-16 h-16 rounded-full bg-white border-4 border-gray-700 hover:border-blue-500 transition-all flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105"},[..._[9]||(_[9]=[t("div",{class:"w-12 h-12 rounded-full bg-blue-500"},null,-1)])])]))])])])):$("",!0)]))]))}},Nt=ge(Lt,[["__scopeId","data-v-2b18513c"]]),Ht={class:"space-y-4"},Gt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Kt={class:"block text-sm font-medium text-gray-700 mb-2"},Jt={key:0,class:"text-red-500"},Qt={class:"relative"},Wt=["required"],Zt=["value"],Xt={class:"block text-sm font-medium text-gray-700 mb-2"},Yt={key:0,class:"text-red-500"},el={class:"relative"},tl=["required","disabled"],ll=["value"],al={key:0,class:"mt-1 text-xs text-gray-500"},sl={class:"block text-sm font-medium text-gray-700 mb-2"},rl={key:0,class:"text-red-500"},ol={class:"relative"},nl=["required","disabled"],il=["value"],ul={key:0,class:"mt-1 text-xs text-gray-500"},dl={class:"block text-sm font-medium text-gray-700 mb-2"},cl={key:0,class:"text-red-500"},pl=["required"],vl={class:"md:col-span-2"},ml={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4"},bl={class:"flex items-start"},fl={class:"flex-1"},gl={class:"text-sm text-green-700 mt-1"},yl={__name:"PhilippinesAddressInput",props:{modelValue:{type:[String,Object],default:""},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:m}){const u=a,f=m,l=B({street:"",barangay:"",municipality:"",province:"",zipCode:""}),w=["Metro Manila","Rizal","Cavite","Laguna","Bulacan","Pampanga","Batangas","Quezon","Cebu","Davao del Sur","Benguet","Iloilo","Negros Occidental","Pangasinan","Albay"],p={"Metro Manila":["Manila City","Quezon City","Makati City","Pasig City","Taguig City","Mandaluyong City","Pasay City","Parañaque City","Las Piñas City","Muntinlupa City","Caloocan City","Malabon City","Navotas City","Valenzuela City","Marikina City","San Juan City","Pateros"],Rizal:["Taytay","Antipolo City","Cainta","Binangonan","San Mateo","Rodriguez (Montalban)","Angono","Cardona","Jalajala","Morong","Pililla","Tanay","Teresa","Baras"],Cavite:["Bacoor City","Cavite City","Dasmarinas City","Imus City","Tagaytay City","Trece Martires City","General Trias","Silang","Kawit","Noveleta","Rosario","Tanza","Naic"]},d={Taytay:["Dolores","San Juan","Muzon","San Isidro","Sta. Ana","Poblacion","Bagumbayan","Bamban","Calumpang","Dalig","Dolores","San Juan","Muzon"],"Manila City":["Ermita","Intramuros","Malate","Paco","Pandacan","Port Area","Quiapo","Sampaloc","San Andres","San Miguel","San Nicolas","Santa Ana","Santa Cruz","Santa Mesa","Tondo"],"Quezon City":["Bagong Pag-asa","Bahay Toro","Batasan Hills","Commonwealth","Cubao","Fairview","Kamuning","Novaliches","Project 4","Tatalon","Teacher's Village"]},v=M(()=>l.value.province?p[l.value.province]||[]:[]),k=M(()=>l.value.municipality?d[l.value.municipality]||["Other - Please specify in Street field"]:[]),b=M(()=>{const h=[];return l.value.street&&h.push(l.value.street),l.value.barangay&&h.push(`Brgy. ${l.value.barangay}`),l.value.municipality&&h.push(l.value.municipality),l.value.province&&h.push(l.value.province),l.value.zipCode&&h.push(l.value.zipCode),h.length>0?h.join(", "):""}),x=()=>{l.value.municipality="",l.value.barangay="",V()},g=()=>{l.value.barangay="",V()},V=()=>{f("update:modelValue",{full_address:b.value,address_line:l.value.street,barangay:l.value.barangay,municipality:l.value.municipality,province:l.value.province,zip_code:l.value.zipCode})};return Q(()=>{var h;if(u.modelValue)if(typeof u.modelValue=="string"){const i=u.modelValue.split(",").map(y=>y.trim());i.length>=3&&(l.value.street=i[0]||"",l.value.barangay=((h=i[1])==null?void 0:h.replace("Brgy. ",""))||"",l.value.municipality=i[2]||"",l.value.province=i[3]||"",l.value.zipCode=i[4]||"")}else typeof u.modelValue=="object"&&(l.value=H(H({},l.value),u.modelValue))}),le(()=>u.modelValue,h=>{h&&typeof h=="object"&&(l.value=H(H({},l.value),h))}),(h,i)=>(r(),o("div",Ht,[i[18]||(i[18]=De('<div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200"><div class="flex items-start"><svg class="h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><div class="flex-1"><h3 class="text-sm font-semibold text-blue-900">Residential Address</h3><p class="text-xs text-blue-700 mt-0.5">Please provide your complete address details</p></div></div></div>',1)),t("div",Gt,[t("div",null,[t("label",Kt,[i[5]||(i[5]=q(" Province ",-1)),a.required?(r(),o("span",Jt,"*")):$("",!0)]),t("div",Qt,[U(t("select",{"onUpdate:modelValue":i[0]||(i[0]=y=>l.value.province=y),onChange:x,required:a.required,class:T(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value.province}])},[i[6]||(i[6]=t("option",{value:""},"Select Province",-1)),(r(),o(E,null,R(w,y=>t("option",{key:y,value:y},C(y),9,Zt)),64))],42,Wt),[[re,l.value.province]]),i[7]||(i[7]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),t("div",null,[t("label",Xt,[i[8]||(i[8]=q(" Municipality/City ",-1)),a.required?(r(),o("span",Yt,"*")):$("",!0)]),t("div",el,[U(t("select",{"onUpdate:modelValue":i[1]||(i[1]=y=>l.value.municipality=y),onChange:g,required:a.required,disabled:!l.value.province,class:T(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",{"border-blue-500 ring-2 ring-blue-100":l.value.municipality}])},[i[9]||(i[9]=t("option",{value:""},"Select Municipality/City",-1)),(r(!0),o(E,null,R(v.value,y=>(r(),o("option",{key:y,value:y},C(y),9,ll))),128))],42,tl),[[re,l.value.municipality]]),i[10]||(i[10]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),l.value.province?$("",!0):(r(),o("p",al,"Select province first"))]),t("div",null,[t("label",sl,[i[11]||(i[11]=q(" Barangay ",-1)),a.required?(r(),o("span",rl,"*")):$("",!0)]),t("div",ol,[U(t("select",{"onUpdate:modelValue":i[2]||(i[2]=y=>l.value.barangay=y),onChange:V,required:a.required,disabled:!l.value.municipality,class:T(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",{"border-blue-500 ring-2 ring-blue-100":l.value.barangay}])},[i[12]||(i[12]=t("option",{value:""},"Select Barangay",-1)),(r(!0),o(E,null,R(k.value,y=>(r(),o("option",{key:y,value:y},C(y),9,il))),128))],42,nl),[[re,l.value.barangay]]),i[13]||(i[13]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),l.value.municipality?$("",!0):(r(),o("p",ul,"Select municipality first"))]),t("div",null,[t("label",dl,[i[14]||(i[14]=q(" Street / House No. ",-1)),a.required?(r(),o("span",cl,"*")):$("",!0)]),U(t("input",{"onUpdate:modelValue":i[3]||(i[3]=y=>l.value.street=y),onInput:V,type:"text",required:a.required,placeholder:"e.g., 123 Main Street, Blk 5 Lot 10",class:T(["block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value.street}])},null,42,pl),[[Z,l.value.street]])]),t("div",vl,[i[15]||(i[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[q(" ZIP Code "),t("span",{class:"text-gray-500 text-xs font-normal"},"(Optional)")],-1)),U(t("input",{"onUpdate:modelValue":i[4]||(i[4]=y=>l.value.zipCode=y),onInput:V,type:"text",placeholder:"e.g., 1630",maxlength:"4",class:"block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all max-w-xs"},null,544),[[Z,l.value.zipCode]])])]),b.value?(r(),o("div",ml,[t("div",bl,[i[17]||(i[17]=t("svg",{class:"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("div",fl,[i[16]||(i[16]=t("p",{class:"text-sm font-medium text-green-900"},"Complete Address",-1)),t("p",gl,C(b.value),1)])])])):$("",!0)]))}},hl={class:"space-y-4"},_l={class:"flex items-center justify-between mb-4"},xl={class:"block text-sm font-medium text-gray-700"},kl={key:0,class:"text-red-500"},wl={key:0,class:"space-y-3"},Cl=["value"],$l={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Sl={class:"flex items-start justify-between"},Vl={class:"flex-1 space-y-1"},Pl={class:"text-sm font-medium text-gray-900"},Dl={class:"text-sm text-gray-700"},Ml={key:0,class:"text-xs text-gray-600"},Bl={key:1},Fl={key:2,class:"flex items-center space-x-2"},Il={__name:"PropertyAddressSelector",props:{modelValue:{type:Object,default:()=>({})},label:{type:String,default:"Residential Address"},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:m}){const u=a,f=m,{loadUserProfile:l,getAllProperties:w,defaultProperty:p}=Ke(),d=B(!1),v=B(""),k=B(!1),b=B(u.modelValue||{}),x=M(()=>w.value||[]),g=M(()=>!v.value||v.value==="__new__"?null:x.value.find(s=>s.name===v.value));function V(s){const e=[];return s.property_name&&e.push(s.property_name),s.street&&e.push(s.street),s.suburb&&e.push(s.suburb),s.city&&e.push(s.city),e.join(", ")||"Unnamed Property"}function h(s){const e=[];return s.street&&e.push(s.street),s.barangay&&e.push(`Brgy. ${s.barangay}`),s.municipality&&e.push(s.municipality),s.province&&e.push(s.province),(s.zip_code||s.postcode)&&e.push(s.zip_code||s.postcode),e.join(", ")}function i(){if(v.value==="__new__"){b.value={},d.value=!1;return}g.value&&(b.value={full_address:h(g.value),address_line:g.value.street||"",barangay:g.value.barangay||"",municipality:g.value.municipality||g.value.city||"",province:g.value.province||"",zip_code:g.value.zip_code||g.value.postcode||""},f("update:modelValue",b.value))}function y(s){b.value=s,f("update:modelValue",s)}function P(){d.value=!1}function n(){confirm("Are you sure you want to remove this property from selection?")&&(v.value="",b.value={},f("update:modelValue",{}))}return Q(()=>G(this,null,function*(){yield l(),(!u.modelValue||Object.keys(u.modelValue).length===0)&&p.value&&(v.value=p.value.name,i()),x.value.length>0&&(d.value=!0)})),le(()=>u.modelValue,s=>{s&&Object.keys(s).length>0&&(b.value=s)},{deep:!0}),(s,e)=>(r(),o("div",hl,[t("div",_l,[t("label",xl,[q(C(a.label)+" ",1),a.required?(r(),o("span",kl,"*")):$("",!0)]),x.value.length>0?(r(),o("button",{key:0,onClick:e[0]||(e[0]=c=>d.value=!d.value),type:"button",class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},C(d.value?"Enter manually":"Select from my properties"),1)):$("",!0)]),d.value&&x.value.length>0?(r(),o("div",wl,[U(t("select",{"onUpdate:modelValue":e[1]||(e[1]=c=>v.value=c),onChange:i,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[e[3]||(e[3]=t("option",{value:""},"Select a property",-1)),(r(!0),o(E,null,R(x.value,c=>(r(),o("option",{key:c.name,value:c.name},C(V(c)),9,Cl))),128)),e[4]||(e[4]=t("option",{value:"__new__"},"+ Add New Property",-1))],544),[[re,v.value]]),g.value&&v.value!=="__new__"?(r(),o("div",$l,[t("div",Sl,[t("div",Vl,[t("p",Pl,C(g.value.property_name||"Property"),1),t("p",Dl,C(h(g.value)),1),g.value.legal_description?(r(),o("p",Ml,C(g.value.legal_description),1)):$("",!0)]),t("div",{class:"flex space-x-2"},[t("button",{onClick:P,type:"button",class:"text-sm text-blue-600 hover:text-blue-700",title:"Edit property"},[...e[5]||(e[5]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),t("button",{onClick:n,type:"button",class:"text-sm text-red-600 hover:text-red-700",title:"Remove property"},[...e[6]||(e[6]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])])])):$("",!0)])):$("",!0),!d.value||v.value==="__new__"||x.value.length===0?(r(),o("div",Bl,[O(yl,{modelValue:b.value,"onUpdate:modelValue":y,required:a.required},null,8,["modelValue","required"])])):$("",!0),(!d.value||v.value==="__new__")&&!v.value?(r(),o("div",Fl,[U(t("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>k.value=c),type:"checkbox",id:"save-property",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[Me,k.value]]),e[7]||(e[7]=t("label",{for:"save-property",class:"text-sm text-gray-700"}," Save this property to my profile for future use ",-1))])):$("",!0)]))}},Tl={class:"inline-block relative group"},ql={__name:"Tooltip",props:{text:{type:String,default:""},position:{type:String,default:"top",validator:a=>["top","bottom","left","right"].includes(a)}},setup(a){const m=a,u=B(!1),f=M(()=>{switch(m.position){case"top":return"bottom-full left-1/2 -translate-x-1/2 mb-2";case"bottom":return"top-full left-1/2 -translate-x-1/2 mt-2";case"left":return"right-full top-1/2 -translate-y-1/2 mr-2";case"right":return"left-full top-1/2 -translate-y-1/2 ml-2";default:return"bottom-full left-1/2 -translate-x-1/2 mb-2"}}),l=M(()=>{switch(m.position){case"top":return"tooltip-arrow-bottom";case"bottom":return"tooltip-arrow-top";case"left":return"tooltip-arrow-right";case"right":return"tooltip-arrow-left";default:return"tooltip-arrow-bottom"}});return(w,p)=>(r(),o("div",Tl,[Se(w.$slots,"trigger",{},()=>[t("button",{type:"button",class:"inline-flex items-center justify-center w-5 h-5 ml-1 text-gray-400 hover:text-blue-600 rounded-full hover:bg-blue-50 transition-colors cursor-help",onMouseenter:p[0]||(p[0]=d=>u.value=!0),onMouseleave:p[1]||(p[1]=d=>u.value=!1)},[...p[2]||(p[2]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])],32)],!0),O(Ge,{name:"tooltip"},{default:N(()=>[u.value?(r(),o("div",{key:0,class:T(["absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg pointer-events-none",f.value]),style:{"max-width":"300px","white-space":"normal"}},[Se(w.$slots,"default",{},()=>[q(C(a.text),1)],!0),t("div",{class:T(["tooltip-arrow",l.value])},null,2)],2)):$("",!0)]),_:3})]))}},de=ge(ql,[["__scopeId","data-v-cfd551b3"]]),jl={class:"space-y-6"},Al={key:0,class:"form-group"},Ul={key:1,class:"form-group"},zl=["for"],Ol={key:0,class:"text-red-500 ml-1"},El={class:"relative"},Rl=["id","name","onUpdate:modelValue","onBlur","required","placeholder"],Ll={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},Nl=["innerHTML"],Hl={key:0,class:"mt-1 text-xs text-red-600"},Gl={key:1,class:"mt-1 text-xs text-gray-500"},Kl={key:2,class:"form-group"},Jl=["for"],Ql={key:0,class:"text-red-500 ml-1"},Wl={class:"relative"},Zl=["id","name","onUpdate:modelValue","onBlur","required"],Xl={value:""},Yl=["value"],ea={key:0,class:"mt-1 text-xs text-red-600"},ta={key:1,class:"mt-1 text-xs text-gray-500"},la={key:3,class:"form-group"},aa={class:"flex items-center h-5"},sa=["id","name","onUpdate:modelValue","onChange","required"],ra={class:"ml-3 text-sm"},oa=["for"],na={key:0,class:"text-red-500 ml-1"},ia={key:0,class:"mt-1 text-xs text-red-600"},ua={key:1,class:"mt-1 text-xs text-gray-500"},da={key:4,class:"form-group"},ca=["for"],pa={key:0,class:"text-red-500 ml-1"},va=["id","name","onUpdate:modelValue","onBlur","required","placeholder"],ma={key:0,class:"mt-1 text-xs text-red-600"},ba={key:1,class:"mt-1 text-xs text-gray-500"},fa={key:5,class:"form-group"},ga=["for"],ya={key:0,class:"text-red-500 ml-1"},ha={class:"relative"},_a=["id","name","onUpdate:modelValue","onBlur","required"],xa={key:0,class:"mt-1 text-xs text-red-600"},ka={key:1,class:"mt-1 text-xs text-gray-500"},wa={key:6,class:"form-group"},Ca=["for"],$a={key:0,class:"text-red-500 ml-1"},Sa={class:"relative"},Va=["id","name","onUpdate:modelValue","required","placeholder"],Pa={key:0,class:"mt-1 text-xs text-gray-500"},Da={key:7,class:"form-group"},Ma=["for"],Ba={key:0,class:"text-red-500 ml-1"},Fa={class:"relative"},Ia=["id","name","onUpdate:modelValue","required","placeholder"],Ta={key:0,class:"mt-1 text-xs text-gray-500"},qa={key:8,class:"form-group"},ja=["for"],Aa={key:0,class:"text-red-500 ml-1"},Ua={class:"relative"},za=["id","name","onUpdate:modelValue","onBlur","required"],Oa={key:0,class:"mt-1 text-xs text-red-600"},Ea={key:1,class:"mt-1 text-xs text-gray-500"},Ra={key:9,class:"form-group"},La={key:10,class:"form-group"},Na={class:"text-sm text-gray-500 italic"},Ha={__name:"DynamicFieldRenderer",props:{fields:{type:Array,required:!0},modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(a,{emit:m}){const u=a,f=m,l=M({get:()=>u.modelValue,set:n=>f("update:modelValue",n)}),w=M(()=>u.fields.filter(n=>{var j;const s=((j=n.parent_section_code)==null?void 0:j.toLowerCase())||"",c=["address","residential_address","permanent_address","property_address","current_address","home_address"].includes(s),I=["barangay","municipality","province","city","region","zip_code","postal_code"];return c&&u.fields.some(S=>S.parent_section_code===n.parent_section_code&&S.field_name==="address_line")&&I.includes(n.field_name)?!1:Je(n,l.value)})),p=n=>{var S,_,D;const s=((S=n.field_name)==null?void 0:S.toLowerCase())||"",e=((_=n.field_label)==null?void 0:_.toLowerCase())||"",c=((D=n.parent_section_code)==null?void 0:D.toLowerCase())||"",I=["address_line","street","residential_address","property_address","home_address","current_address","permanent_address"],j=["address","residential_address","permanent_address","property_address","current_address","home_address"],ae=["residential address","property address","home address","current address","permanent address","street / house number","street address"];return I.includes(s)&&n.field_type==="Data"||j.includes(c)&&(s==="address_line"||s==="street")&&n.field_type==="Data"||ae.some(z=>e.includes(z))&&n.field_type==="Data"&&!e.includes("zip")&&!e.includes("postal")},d=n=>{var e;if(n.placeholder)return n.placeholder;const s=((e=n.field_label)==null?void 0:e.toLowerCase())||"";return s.includes("name")?"e.g., Juan Dela Cruz":s.includes("email")?"e.g., juan@example.com":s.includes("phone")||s.includes("mobile")||s.includes("contact")?"e.g., 0917 123 4567":s.includes("age")?"e.g., 25":s.includes("occupation")?"e.g., Teacher":s.includes("income")||s.includes("salary")?"e.g., 15000":`Enter ${n.field_label}`},v=n=>{var e;const s=((e=n.field_label)==null?void 0:e.toLowerCase())||"";return s.includes("email")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"/></svg>':s.includes("phone")||s.includes("mobile")||s.includes("contact")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>':s.includes("name")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>':null},k=n=>n?n.split(`
`).map(s=>s.trim()).filter(Boolean):[],{errors:b,validateConfigField:x,clearFieldError:g}=Qe(),V=n=>{if(!n.validation&&!n.is_required){g(n.field_name);return}const s=l.value[n.field_name];x(n.field_name,s,n,l.value)},h=n=>b.value[n]||"",i=n=>{const s=l.value[n];return Array.isArray(s)?s:s?typeof s=="string"?[{file_url:s,name:s.split("/").pop(),preview:s}]:[]:[]},y=(n,s)=>{if(console.log("[DynamicFieldRenderer] updateFileField called:",n,s),Array.isArray(s)&&s.length>0){const e=s.filter(c=>c.file_url);if(e.length>0){const c=e[0].file_url;console.log("[DynamicFieldRenderer] Converting uploaded file to URL:",c),l.value[n]=c;return}}l.value[n]=s},P=(n,s)=>G(this,null,function*(){console.log("[DynamicFieldRenderer] handleFileUploadToFrappe called with:",n);try{console.log("[DynamicFieldRenderer] Starting file upload:",n.name);const e=new FormData;e.append("file",n.file),e.append("is_private","0"),e.append("folder","Home/Attachments"),console.log("[DynamicFieldRenderer] Uploading to /api/method/upload_file...");const c=yield fetch("/api/method/upload_file",{method:"POST",credentials:"include",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:e});if(console.log("[DynamicFieldRenderer] Upload response status:",c.status),!c.ok){const j=yield c.text();throw console.error("[DynamicFieldRenderer] Upload failed:",j),new Error(`Upload failed (${c.status}): ${j}`)}const I=yield c.json();console.log("[DynamicFieldRenderer] Upload response:",I),I.message&&I.message.file_url&&(console.log("[DynamicFieldRenderer] File uploaded successfully:",I.message.file_url),n.file_url=I.message.file_url,n.file_name=I.message.file_name,console.log("[DynamicFieldRenderer] Updated fileData:",n)),console.log("[DynamicFieldRenderer] Calling resolveCallback()"),s(),console.log("[DynamicFieldRenderer] File upload completed successfully")}catch(e){console.error("[DynamicFieldRenderer] File upload error:",e),alert(`Failed to upload file: ${e.message}`),console.log("[DynamicFieldRenderer] Calling resolveCallback() after error"),s()}});return le(()=>l.value,n=>{Object.entries(n).forEach(([s,e])=>{if(Array.isArray(e)&&e.length>0&&e[0].file_url){const c=e.map(I=>I.file_url).filter(Boolean);c.length>0&&(l.value[s]=c.length===1?c[0]:c,console.log(`[DynamicFieldRenderer] Converted file array to URL for ${s}:`,l.value[s]))}})},{deep:!0}),le(()=>u.fields,n=>{n.forEach(s=>{s.default_value&&!l.value[s.field_name]&&(s.default_value==="Today"&&s.field_type==="Date"?l.value[s.field_name]=new Date().toISOString().split("T")[0]:l.value[s.field_name]=s.default_value)})},{immediate:!0}),(n,s)=>(r(),o("div",jl,[(r(!0),o(E,null,R(w.value,e=>(r(),o("div",{key:e.field_name,class:"field-wrapper"},[p(e)?(r(),o("div",Al,[O(Il,{modelValue:l.value[e.field_name],"onUpdate:modelValue":c=>l.value[e.field_name]=c,label:e.field_label,required:!!e.is_required},null,8,["modelValue","onUpdate:modelValue","label","required"])])):e.field_type==="Data"?(r(),o("div",Ul,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[t("span",null,C(e.field_label),1),e.is_required?(r(),o("span",Ol,"*")):$("",!0),e.help_text||e.description?(r(),J(de,{key:1,text:e.help_text||e.description},null,8,["text"])):$("",!0)],8,zl),t("div",El,[U(t("input",{id:e.field_name,name:e.field_name,type:"text","onUpdate:modelValue":c=>l.value[e.field_name]=c,onBlur:c=>V(e),required:e.is_required,class:T(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]&&!h(e.field_name),"border-red-500 ring-2 ring-red-100":h(e.field_name)}]),placeholder:d(e)},null,42,Rl),[[Z,l.value[e.field_name]]]),v(e)?(r(),o("div",Ll,[t("span",{innerHTML:v(e),class:"text-gray-400"},null,8,Nl)])):$("",!0)]),h(e.field_name)?(r(),o("p",Hl,C(h(e.field_name)),1)):e.description?(r(),o("p",Gl,C(e.description),1)):$("",!0)])):e.field_type==="Select"?(r(),o("div",Kl,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[t("span",null,C(e.field_label),1),e.is_required?(r(),o("span",Ql,"*")):$("",!0),e.help_text||e.description?(r(),J(de,{key:1,text:e.help_text||e.description},null,8,["text"])):$("",!0)],8,Jl),t("div",Wl,[U(t("select",{id:e.field_name,name:e.field_name,"onUpdate:modelValue":c=>l.value[e.field_name]=c,onBlur:c=>V(e),required:e.is_required,class:T(["block w-full pl-4 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all appearance-none bg-white",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]&&!h(e.field_name),"border-red-500 ring-2 ring-red-100":h(e.field_name)}])},[t("option",Xl,"Select "+C(e.field_label),1),(r(!0),o(E,null,R(k(e.options),c=>(r(),o("option",{key:c,value:c},C(c),9,Yl))),128))],42,Zl),[[re,l.value[e.field_name]]]),s[0]||(s[0]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),h(e.field_name)?(r(),o("p",ea,C(h(e.field_name)),1)):e.description?(r(),o("p",ta,C(e.description),1)):$("",!0)])):e.field_type==="Check"?(r(),o("div",la,[t("div",{class:T(["flex items-start p-4 border rounded-lg hover:border-blue-300 transition-colors",{"border-gray-200":!h(e.field_name),"border-red-500 bg-red-50":h(e.field_name)}])},[t("div",aa,[U(t("input",{id:e.field_name,name:e.field_name,type:"checkbox","onUpdate:modelValue":c=>l.value[e.field_name]=c,onChange:c=>V(e),required:e.is_required,class:"focus:ring-blue-500 h-5 w-5 text-blue-600 border-gray-300 rounded cursor-pointer"},null,40,sa),[[Me,l.value[e.field_name]]])]),t("div",ra,[t("label",{for:e.field_name,class:"font-medium text-gray-700 cursor-pointer"},[q(C(e.field_label)+" ",1),e.is_required?(r(),o("span",na,"*")):$("",!0)],8,oa),h(e.field_name)?(r(),o("p",ia,C(h(e.field_name)),1)):e.description?(r(),o("p",ua,C(e.description),1)):$("",!0)])],2)])):e.field_type==="Text"?(r(),o("div",da,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[q(C(e.field_label)+" ",1),e.is_required?(r(),o("span",pa,"*")):$("",!0)],8,ca),U(t("textarea",{id:e.field_name,name:e.field_name,"onUpdate:modelValue":c=>l.value[e.field_name]=c,onBlur:c=>V(e),required:e.is_required,rows:"4",class:T(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-y",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]&&!h(e.field_name),"border-red-500 ring-2 ring-red-100":h(e.field_name)}]),placeholder:d(e)},null,42,va),[[Z,l.value[e.field_name]]]),h(e.field_name)?(r(),o("p",ma,C(h(e.field_name)),1)):e.description?(r(),o("p",ba,C(e.description),1)):$("",!0)])):e.field_type==="Date"?(r(),o("div",fa,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[t("span",null,C(e.field_label),1),e.is_required?(r(),o("span",ya,"*")):$("",!0),e.help_text||e.description?(r(),J(de,{key:1,text:e.help_text||e.description},null,8,["text"])):$("",!0)],8,ga),t("div",ha,[U(t("input",{id:e.field_name,name:e.field_name,type:"date","onUpdate:modelValue":c=>l.value[e.field_name]=c,onBlur:c=>V(e),required:e.is_required,class:T(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]&&!h(e.field_name),"border-red-500 ring-2 ring-red-100":h(e.field_name)}])},null,42,_a),[[Z,l.value[e.field_name]]]),s[1]||(s[1]=t("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),h(e.field_name)?(r(),o("p",xa,C(h(e.field_name)),1)):e.description?(r(),o("p",ka,C(e.description),1)):$("",!0)])):e.field_type==="Int"?(r(),o("div",wa,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[t("span",null,C(e.field_label),1),e.is_required?(r(),o("span",$a,"*")):$("",!0),e.help_text||e.description?(r(),J(de,{key:1,text:e.help_text||e.description},null,8,["text"])):$("",!0)],8,Ca),t("div",Sa,[U(t("input",{id:e.field_name,name:e.field_name,type:"number","onUpdate:modelValue":c=>l.value[e.field_name]=c,required:e.is_required,step:"1",class:T(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]}]),placeholder:d(e)},null,10,Va),[[Z,l.value[e.field_name],void 0,{number:!0}]]),s[2]||(s[2]=t("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})])],-1))]),e.description?(r(),o("p",Pa,C(e.description),1)):$("",!0)])):e.field_type==="Float"?(r(),o("div",Da,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[q(C(e.field_label)+" ",1),e.is_required?(r(),o("span",Ba,"*")):$("",!0)],8,Ma),t("div",Fa,[U(t("input",{id:e.field_name,name:e.field_name,type:"number","onUpdate:modelValue":c=>l.value[e.field_name]=c,required:e.is_required,step:"0.01",class:T(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]}]),placeholder:d(e)},null,10,Ia),[[Z,l.value[e.field_name],void 0,{number:!0}]]),s[3]||(s[3]=t("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})])],-1))]),e.description?(r(),o("p",Ta,C(e.description),1)):$("",!0)])):e.field_type==="Currency"?(r(),o("div",qa,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[q(C(e.field_label)+" ",1),e.is_required?(r(),o("span",Aa,"*")):$("",!0)],8,ja),t("div",Ua,[s[4]||(s[4]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 text-base font-medium"},"₱")],-1)),U(t("input",{id:e.field_name,name:e.field_name,type:"number","onUpdate:modelValue":c=>l.value[e.field_name]=c,onBlur:c=>V(e),required:e.is_required,step:"0.01",class:T(["block w-full pl-10 pr-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]&&!h(e.field_name),"border-red-500 ring-2 ring-red-100":h(e.field_name)}]),placeholder:"0.00"},null,42,za),[[Z,l.value[e.field_name],void 0,{number:!0}]])]),h(e.field_name)?(r(),o("p",Oa,C(h(e.field_name)),1)):e.description?(r(),o("p",Ea,C(e.description),1)):$("",!0)])):e.field_type==="Attach"||e.field_type==="Attach Image"?(r(),o("div",Ra,[O(Nt,{label:e.field_label,required:e.is_required,accept:e.field_type==="Attach Image"?"image/*":"*",multiple:!1,modelValue:i(e.field_name),"onUpdate:modelValue":c=>y(e.field_name,c),onUpload:P},null,8,["label","required","accept","modelValue","onUpdate:modelValue"])])):(r(),o("div",La,[t("div",Na,' Field type "'+C(e.field_type)+'" not yet supported for '+C(e.field_label),1)]))]))),128))]))}},ye=ge(Ha,[["__scopeId","data-v-fe1a91d1"]]),Ga={class:"dynamic-step max-w-4xl mx-auto"},Ka={class:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200"},Ja={class:"flex items-start"},Qa={class:"ml-4 flex-1"},Wa={class:"text-2xl font-bold text-blue-900"},Za={key:0,class:"mt-2 text-sm text-blue-700"},Xa={class:"space-y-6"},Ya={class:"mb-4 pb-3 border-b-2 border-gray-200"},es={class:"flex items-center"},ts={class:"text-lg font-semibold text-gray-900"},ls={key:0,class:"text-red-500 ml-1"},as={key:0,class:"text-sm text-gray-600 mt-0.5"},ss={key:0,class:"text-xs text-gray-500 mt-2 ml-11"},rs={class:"section-content"},os={key:2,class:"bg-white p-6 rounded-lg border-2 border-gray-200 shadow-sm hover:shadow-md transition-shadow"},ns={__name:"DynamicStepRenderer",props:{stepConfig:{type:Object,required:!0},modelValue:{type:Object,required:!0},stepDescription:{type:String,default:""}},emits:["update:modelValue"],setup(a,{emit:m}){const u=a,f=m,l=M({get:()=>u.modelValue,set:v=>f("update:modelValue",v)}),w=M(()=>u.stepConfig.sections?u.stepConfig.sections.filter(v=>{if(!v.depends_on)return!0;try{return isSectionVisible(v,l.value)}catch(k){return console.error(`Error evaluating section visibility for ${v.section_code}:`,k),!0}}):[]),p=v=>[v.section_title],d=()=>{console.log("--- DYNAMIC STEP DATA LOG ---"),console.log("Full Form Data (localData):",JSON.parse(JSON.stringify(l.value))),console.log("-----------------------------"),alert("Data logged to console. Check browser console (F12) for the Full Form Data.")};return le(()=>u.stepConfig,v=>{v.sections&&v.sections.forEach(k=>{k.fields.forEach(b=>{if(b.default_value&&!l.value[b.field_name]){const x=H({},l.value);b.default_value==="Today"&&b.field_type==="Date"?x[b.field_name]=new Date().toISOString().split("T")[0]:x[b.field_name]=b.default_value,f("update:modelValue",x)}})})},{immediate:!0,deep:!0}),(v,k)=>(r(),o("div",Ga,[t("div",Ka,[t("div",Ja,[k[3]||(k[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",Qa,[t("h2",Wa,C(a.stepConfig.step_title),1),a.stepDescription?(r(),o("p",Za,C(a.stepDescription),1)):$("",!0)])])]),t("div",Xa,[(r(!0),o(E,null,R(w.value,b=>(r(),o("div",{key:b.section_code,class:"section"},[t("div",Ya,[t("div",es,[k[4]||(k[4]=t("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3"},[t("svg",{class:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),t("div",null,[t("h3",ts,[q(C(b.section_title)+" ",1),b.is_required?(r(),o("span",ls,"*")):$("",!0)]),b.section_description?(r(),o("p",as,C(b.section_description),1)):$("",!0)])]),b.is_required?(r(),o("div",ss,[...k[5]||(k[5]=[q(" All fields marked with ",-1),t("span",{class:"text-red-500"},"*",-1),q(" are required ",-1)])])):$("",!0)]),t("div",rs,[b.section_type==="Tab"?(r(),J(K(st),{key:0},{default:N(()=>[O(K(rt),{class:"flex space-x-1 rounded-xl bg-blue-900/20 p-1 mb-4"},{default:N(()=>[(r(!0),o(E,null,R(p(b),(x,g)=>(r(),J(K(ot),{key:g,class:T(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700 ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",v.selected?"bg-white shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"])},{default:N(({selected:V})=>[q(C(x),1)]),_:2},1032,["class"]))),128))]),_:2},1024),O(K(nt),null,{default:N(()=>[(r(!0),o(E,null,R(p(b),(x,g)=>(r(),J(K(it),{key:g},{default:N(()=>[O(ye,{fields:b.fields,modelValue:l.value,"onUpdate:modelValue":k[0]||(k[0]=V=>l.value=V)},null,8,["fields","modelValue"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)):b.section_type==="Accordion"?(r(),J(K(Xe),{key:1},{default:N(({open:x})=>[O(K(Ye),{class:"flex w-full justify-between rounded-lg bg-blue-50 px-4 py-3 text-left text-sm font-medium text-blue-900 hover:bg-blue-100 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75 mb-2"},{default:N(()=>[t("span",null,C(b.section_title),1),O(K(ut),{class:T([x?"rotate-180 transform":"","h-5 w-5 text-blue-500"])},null,8,["class"])]),_:2},1024),O(K(et),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:N(()=>[O(ye,{fields:b.fields,modelValue:l.value,"onUpdate:modelValue":k[1]||(k[1]=g=>l.value=g)},null,8,["fields","modelValue"])]),_:2},1024)]),_:2},1024)):(r(),o("div",os,[O(ye,{fields:b.fields,modelValue:l.value,"onUpdate:modelValue":k[2]||(k[2]=x=>l.value=x)},null,8,["fields","modelValue"])]))])]))),128))]),t("div",{class:"mt-8 pt-4 border-t border-gray-200"},[t("button",{onClick:d,class:"px-4 py-2 bg-red-500 text-white rounded-lg shadow hover:bg-red-600 transition"}," 🚨 Log Current Data (Debug) "),k[6]||(k[6]=t("p",{class:"text-xs text-gray-500 mt-2"},"Use this button to check if data is being saved correctly to localData/formData.",-1))])]))}},ms=ge(ns,[["__scopeId","data-v-5d6a1c4c"]]);export{ms as default};
//# sourceMappingURL=DynamicStepRenderer-Bh-aUxNJ.js.map
