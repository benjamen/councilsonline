{"version":3,"file":"Register-C9SEmFER.js","sources":["../../../../frontend/src/pages/Register.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-4\">\n    <div class=\"w-full max-w-2xl\">\n      <!-- Logo & Header -->\n      <div class=\"text-center mb-8\">\n        <div class=\"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4 shadow-lg\">\n          <svg class=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n        </div>\n        <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Create Your Account</h1>\n        <p class=\"text-gray-600\">Join thousands using Lodgeick for council requests</p>\n      </div>\n\n      <!-- Applicant vs Agent Selection -->\n      <div class=\"bg-white rounded-2xl shadow-xl p-6 border border-gray-100 mb-6\">\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4 text-center\">Choose Account Type</h2>\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div class=\"p-6 border-2 border-blue-600 bg-blue-50 rounded-lg\">\n            <div class=\"text-center\">\n              <svg class=\"w-12 h-12 mx-auto mb-3 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n              </svg>\n              <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">Register as Applicant</h3>\n              <p class=\"text-sm text-gray-600 mb-4\">Apply for resource consents for yourself or your organization</p>\n              <div class=\"text-sm text-blue-900 font-medium\">✓ Currently selected</div>\n            </div>\n          </div>\n          <button\n            type=\"button\"\n            @click=\"$router.push({ name: 'CompanyRegistration' })\"\n            class=\"p-6 border-2 border-gray-200 hover:border-blue-300 hover:bg-blue-50 rounded-lg transition text-left\"\n          >\n            <div class=\"text-center\">\n              <svg class=\"w-12 h-12 mx-auto mb-3 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n              </svg>\n              <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">Register as Agent</h3>\n              <p class=\"text-sm text-gray-600 mb-4\">Planning consultants assisting applicants with resource consents</p>\n              <div class=\"text-sm text-blue-600 font-medium\">Click to register as agent →</div>\n            </div>\n          </button>\n        </div>\n      </div>\n\n      <!-- Registration Card -->\n      <div class=\"bg-white rounded-2xl shadow-xl p-8 border border-gray-100\">\n        <form @submit.prevent=\"submit\" class=\"space-y-6\">\n          <!-- Applicant Type Selection -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-3\">\n              Applicant Type <span class=\"text-red-500\">*</span>\n            </label>\n            <p class=\"text-xs text-gray-500 mb-3\">Select the type of applicant you are</p>\n            <div class=\"grid grid-cols-2 gap-3\">\n              <button\n                type=\"button\"\n                @click=\"applicantType = 'Individual'\"\n                :class=\"[\n                  'p-4 border-2 rounded-lg text-center transition',\n                  applicantType === 'Individual'\n                    ? 'border-blue-600 bg-blue-50'\n                    : 'border-gray-200 hover:border-gray-300'\n                ]\"\n              >\n                <svg class=\"w-8 h-8 mx-auto mb-2\" :class=\"applicantType === 'Individual' ? 'text-blue-600' : 'text-gray-400'\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                </svg>\n                <div class=\"text-sm font-medium\" :class=\"applicantType === 'Individual' ? 'text-blue-900' : 'text-gray-700'\">\n                  Individual\n                </div>\n                <div class=\"text-xs text-gray-500 mt-1\">Person/Civilian</div>\n              </button>\n              <button\n                type=\"button\"\n                @click=\"applicantType = 'Company'\"\n                :class=\"[\n                  'p-4 border-2 rounded-lg text-center transition',\n                  applicantType === 'Company'\n                    ? 'border-blue-600 bg-blue-50'\n                    : 'border-gray-200 hover:border-gray-300'\n                ]\"\n              >\n                <svg class=\"w-8 h-8 mx-auto mb-2\" :class=\"applicantType === 'Company' ? 'text-blue-600' : 'text-gray-400'\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                </svg>\n                <div class=\"text-sm font-medium\" :class=\"applicantType === 'Company' ? 'text-blue-900' : 'text-gray-700'\">\n                  Company\n                </div>\n                <div class=\"text-xs text-gray-500 mt-1\">NZ Registered</div>\n              </button>\n              <button\n                type=\"button\"\n                @click=\"applicantType = 'Trust'\"\n                :class=\"[\n                  'p-4 border-2 rounded-lg text-center transition',\n                  applicantType === 'Trust'\n                    ? 'border-blue-600 bg-blue-50'\n                    : 'border-gray-200 hover:border-gray-300'\n                ]\"\n              >\n                <svg class=\"w-8 h-8 mx-auto mb-2\" :class=\"applicantType === 'Trust' ? 'text-blue-600' : 'text-gray-400'\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n                </svg>\n                <div class=\"text-sm font-medium\" :class=\"applicantType === 'Trust' ? 'text-blue-900' : 'text-gray-700'\">\n                  Trust\n                </div>\n                <div class=\"text-xs text-gray-500 mt-1\">Trust Entity</div>\n              </button>\n              <button\n                type=\"button\"\n                @click=\"applicantType = 'Organisation'\"\n                :class=\"[\n                  'p-4 border-2 rounded-lg text-center transition',\n                  applicantType === 'Organisation'\n                    ? 'border-blue-600 bg-blue-50'\n                    : 'border-gray-200 hover:border-gray-300'\n                ]\"\n              >\n                <svg class=\"w-8 h-8 mx-auto mb-2\" :class=\"applicantType === 'Organisation' ? 'text-blue-600' : 'text-gray-400'\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                </svg>\n                <div class=\"text-sm font-medium\" :class=\"applicantType === 'Organisation' ? 'text-blue-900' : 'text-gray-700'\">\n                  Organisation\n                </div>\n                <div class=\"text-xs text-gray-500 mt-1\">Charity/NPO</div>\n              </button>\n            </div>\n          </div>\n\n          <!-- Council Selection (Optional) -->\n          <div>\n            <CouncilSelector\n              v-model=\"selectedCouncil\"\n              label=\"Default Council (Optional)\"\n              description=\"Select your preferred council for submitting requests. You can change this later.\"\n              display-mode=\"dropdown\"\n              :required=\"false\"\n              :show-clear-button=\"true\"\n            />\n          </div>\n\n          <!-- Personal Information -->\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <label for=\"first_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                First Name <span class=\"text-red-500\">*</span>\n              </label>\n              <Input\n                id=\"first_name\"\n                v-model=\"formData.first_name\"\n                type=\"text\"\n                required\n                placeholder=\"John\"\n                class=\"w-full\"\n              />\n            </div>\n            <div>\n              <label for=\"last_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Last Name <span class=\"text-red-500\">*</span>\n              </label>\n              <Input\n                id=\"last_name\"\n                v-model=\"formData.last_name\"\n                type=\"text\"\n                required\n                placeholder=\"Doe\"\n                class=\"w-full\"\n              />\n            </div>\n          </div>\n\n          <!-- Contact Information -->\n          <div>\n            <label for=\"email\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Email Address <span class=\"text-red-500\">*</span>\n            </label>\n            <Input\n              id=\"email\"\n              v-model=\"formData.email\"\n              type=\"email\"\n              required\n              placeholder=\"you@example.com\"\n              class=\"w-full\"\n              @blur=\"validateEmailField\"\n            />\n            <p v-if=\"emailError\" class=\"mt-1 text-xs text-red-600\">{{ emailError }}</p>\n          </div>\n\n          <div>\n            <label for=\"phone\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Phone Number <span class=\"text-red-500\">*</span>\n            </label>\n            <Input\n              id=\"phone\"\n              v-model=\"formData.phone\"\n              type=\"tel\"\n              required\n              placeholder=\"021 234 5678 or 09 123 4567\"\n              class=\"w-full\"\n              @blur=\"validatePhoneField\"\n            />\n            <p v-if=\"phoneError\" class=\"mt-1 text-xs text-red-600\">{{ phoneError }}</p>\n            <p v-else class=\"mt-1 text-xs text-gray-500\">NZ mobile (02x) or landline (03-09)</p>\n          </div>\n\n          <!-- Property Address (for all applicants - optional for Company/Trust/Organisation) -->\n          <div>\n            <AddressLookup\n              v-model=\"selectedAddress\"\n              id=\"property_address\"\n              label=\"Property Address\"\n              placeholder=\"Start typing your property address...\"\n              description=\"Search for your property address in New Zealand\"\n              :required=\"applicantType === 'Individual'\"\n              @address-selected=\"handleAddressSelected\"\n            />\n          </div>\n\n          <!-- Company/Organisation Details -->\n          <div v-if=\"applicantType === 'Company' || applicantType === 'Organisation'\" class=\"space-y-4\">\n            <div>\n              <label for=\"organization_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                {{ applicantType === 'Company' ? 'Company Name' : 'Organisation Name' }} <span class=\"text-red-500\">*</span>\n              </label>\n              <Input\n                id=\"organization_name\"\n                v-model=\"formData.organization_name\"\n                type=\"text\"\n                required\n                :placeholder=\"applicantType === 'Company' ? 'ABC Construction Ltd' : 'Community Trust'\"\n                class=\"w-full\"\n              />\n            </div>\n            <div v-if=\"applicantType === 'Company'\">\n              <label for=\"company_number\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Company Number (Optional)\n              </label>\n              <Input\n                id=\"company_number\"\n                v-model=\"formData.company_number\"\n                type=\"text\"\n                placeholder=\"1234567\"\n                class=\"w-full\"\n              />\n            </div>\n          </div>\n\n          <!-- Trust Details -->\n          <div v-if=\"applicantType === 'Trust'\" class=\"space-y-4\">\n            <div>\n              <label for=\"trust_name\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Trust Name <span class=\"text-red-500\">*</span>\n              </label>\n              <Input\n                id=\"trust_name\"\n                v-model=\"formData.trust_name\"\n                type=\"text\"\n                required\n                placeholder=\"Smith Family Trust\"\n                class=\"w-full\"\n              />\n            </div>\n          </div>\n\n          <!-- Password -->\n          <div class=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <label for=\"password\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Password <span class=\"text-red-500\">*</span>\n              </label>\n              <Input\n                id=\"password\"\n                v-model=\"formData.password\"\n                type=\"password\"\n                required\n                placeholder=\"Min. 8 characters\"\n                class=\"w-full\"\n                @input=\"validatePasswordField\"\n              />\n              <p v-if=\"passwordError\" class=\"mt-1 text-xs text-red-600\">{{ passwordError }}</p>\n              <p v-else-if=\"passwordStrength\" class=\"mt-1 text-xs\" :class=\"passwordStrengthClass\">\n                Password strength: {{ passwordStrength }}\n              </p>\n            </div>\n            <div>\n              <label for=\"confirm_password\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Confirm Password <span class=\"text-red-500\">*</span>\n              </label>\n              <Input\n                id=\"confirm_password\"\n                v-model=\"formData.confirm_password\"\n                type=\"password\"\n                required\n                placeholder=\"Repeat password\"\n                class=\"w-full\"\n                @blur=\"validatePasswordMatch\"\n              />\n              <p v-if=\"confirmPasswordError\" class=\"mt-1 text-xs text-red-600\">{{ confirmPasswordError }}</p>\n            </div>\n          </div>\n\n          <!-- Terms and Conditions -->\n          <div class=\"flex items-start\">\n            <input\n              id=\"terms\"\n              v-model=\"formData.terms\"\n              type=\"checkbox\"\n              required\n              class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1\"\n            />\n            <label for=\"terms\" class=\"ml-2 block text-sm text-gray-700\">\n              I agree to the\n              <a href=\"#\" class=\"text-blue-600 hover:text-blue-700 font-medium\">Terms of Service</a>\n              and\n              <a href=\"#\" class=\"text-blue-600 hover:text-blue-700 font-medium\">Privacy Policy</a>\n            </label>\n          </div>\n\n          <!-- Error Message -->\n          <div v-if=\"errorMessage\" class=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n            <div class=\"flex items-start\">\n              <svg class=\"w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <p class=\"text-sm text-red-700\">{{ errorMessage }}</p>\n            </div>\n          </div>\n\n          <!-- Submit Button -->\n          <Button\n            type=\"submit\"\n            :loading=\"isLoading\"\n            variant=\"solid\"\n            class=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 text-base font-medium\"\n          >\n            <template v-if=\"!isLoading\">\n              Create Applicant Account\n            </template>\n            <template v-else>\n              Creating account...\n            </template>\n          </Button>\n        </form>\n\n        <!-- Divider -->\n        <div class=\"relative my-6\">\n          <div class=\"absolute inset-0 flex items-center\">\n            <div class=\"w-full border-t border-gray-200\"></div>\n          </div>\n          <div class=\"relative flex justify-center text-sm\">\n            <span class=\"px-4 bg-white text-gray-500\">or</span>\n          </div>\n        </div>\n\n        <!-- SSO Options -->\n        <div class=\"space-y-3\">\n          <button\n            type=\"button\"\n            class=\"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition\"\n          >\n            <svg class=\"w-5 h-5 mr-2\" viewBox=\"0 0 24 24\">\n              <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n              <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n              <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n              <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n            </svg>\n            Sign up with Google\n          </button>\n        </div>\n      </div>\n\n      <!-- Sign In Link -->\n      <div class=\"text-center mt-6\">\n        <p class=\"text-sm text-gray-600\">\n          Already have an account?\n          <router-link :to=\"{ name: 'Login' }\" class=\"font-medium text-blue-600 hover:text-blue-700\">\n            Sign in\n          </router-link>\n        </p>\n      </div>\n\n      <!-- Back to Home -->\n      <div class=\"text-center mt-4\">\n        <router-link to=\"/\" class=\"text-sm text-gray-500 hover:text-gray-700 inline-flex items-center\">\n          <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n          </svg>\n          Back to home\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from \"vue\"\nimport { useRouter, useRoute } from \"vue-router\"\nimport { Input, Button } from \"frappe-ui\"\nimport CouncilSelector from \"../components/CouncilSelector.vue\"\nimport AddressLookup from \"../components/AddressLookup.vue\"\nimport { useCouncilStore } from \"../stores/councilStore\"\nimport { validateNZPhoneNumber, validateEmail, validatePassword } from \"../utils/validation\"\n\nconst router = useRouter()\nconst route = useRoute()\nconst councilStore = useCouncilStore()\n\nconst applicantType = ref('Individual')\nconst selectedCouncil = ref(null)\nconst selectedAddress = ref(null)\nconst isLoading = ref(false)\nconst errorMessage = ref('')\n\n// Form data\nconst formData = ref({\n  first_name: '',\n  last_name: '',\n  email: '',\n  phone: '',\n  password: '',\n  confirm_password: '',\n  organization_name: '',\n  company_number: '',\n  trust_name: '',\n  terms: false\n})\n\n// Validation errors\nconst phoneError = ref('')\nconst emailError = ref('')\nconst passwordError = ref('')\nconst confirmPasswordError = ref('')\nconst passwordStrength = ref('')\n\nconst passwordStrengthClass = computed(() => {\n  if (passwordStrength.value === 'strong') return 'text-green-600'\n  if (passwordStrength.value === 'medium') return 'text-yellow-600'\n  return 'text-red-600'\n})\n\nonMounted(() => {\n  // Check if council was preselected via URL\n  if (councilStore.preselectedFromUrl) {\n    selectedCouncil.value = councilStore.preselectedFromUrl\n  }\n})\n\n// Validation functions\nconst validatePhoneField = () => {\n  const validation = validateNZPhoneNumber(formData.value.phone)\n  if (!validation.isValid) {\n    phoneError.value = validation.message\n  } else {\n    phoneError.value = ''\n    // Auto-format phone number\n    formData.value.phone = validation.formatted\n  }\n  return validation.isValid\n}\n\nconst validateEmailField = () => {\n  const validation = validateEmail(formData.value.email)\n  if (!validation.isValid) {\n    emailError.value = validation.message\n  } else {\n    emailError.value = ''\n  }\n  return validation.isValid\n}\n\nconst validatePasswordField = () => {\n  const validation = validatePassword(formData.value.password)\n  if (!validation.isValid) {\n    passwordError.value = validation.message\n    passwordStrength.value = ''\n  } else {\n    passwordError.value = ''\n    passwordStrength.value = validation.strength\n  }\n  return validation.isValid\n}\n\nconst validatePasswordMatch = () => {\n  if (formData.value.password !== formData.value.confirm_password) {\n    confirmPasswordError.value = 'Passwords do not match'\n    return false\n  }\n  confirmPasswordError.value = ''\n  return true\n}\n\nconst handleAddressSelected = (address) => {\n  selectedAddress.value = address\n}\n\nfunction submit() {\n  // Clear previous errors\n  errorMessage.value = ''\n  phoneError.value = ''\n  emailError.value = ''\n  passwordError.value = ''\n  confirmPasswordError.value = ''\n\n  // Validate all fields\n  const isPhoneValid = validatePhoneField()\n  const isEmailValid = validateEmailField()\n  const isPasswordValid = validatePasswordField()\n  const isPasswordMatch = validatePasswordMatch()\n\n  if (!isPhoneValid || !isEmailValid || !isPasswordValid || !isPasswordMatch) {\n    errorMessage.value = 'Please correct the errors above before submitting'\n    return\n  }\n\n  // Validate applicant-type specific fields\n  if (applicantType.value === 'Individual' && !selectedAddress.value) {\n    errorMessage.value = 'Property address is required for individual applicants'\n    return\n  }\n\n  if ((applicantType.value === 'Company' || applicantType.value === 'Organisation') && !formData.value.organization_name) {\n    errorMessage.value = `${applicantType.value} name is required`\n    return\n  }\n\n  if (applicantType.value === 'Trust' && !formData.value.trust_name) {\n    errorMessage.value = 'Trust name is required'\n    return\n  }\n\n  if (!formData.value.terms) {\n    errorMessage.value = 'You must agree to the Terms of Service and Privacy Policy'\n    return\n  }\n\n  isLoading.value = true\n\n  // Prepare user data\n  const userData = {\n    email: formData.value.email,\n    first_name: formData.value.first_name,\n    last_name: formData.value.last_name,\n    phone: formData.value.phone,\n    password: formData.value.password,\n    user_role: 'applicant', // This is an applicant registration\n    applicant_type: applicantType.value // Individual, Company, Trust, Organisation\n  }\n\n  // Add address data if selected\n  if (selectedAddress.value) {\n    userData.property_address = selectedAddress.value.full_address\n    userData.property_street = selectedAddress.value.street_address\n    userData.property_suburb = selectedAddress.value.suburb\n    userData.property_city = selectedAddress.value.city\n    userData.property_postcode = selectedAddress.value.postcode\n    userData.property_id = selectedAddress.value.property_id\n    userData.address_id = selectedAddress.value.address_id\n  }\n\n  // Add type-specific data\n  if (applicantType.value === 'Company' || applicantType.value === 'Organisation') {\n    userData.organization_name = formData.value.organization_name\n    userData.company_number = formData.value.company_number\n  } else if (applicantType.value === 'Trust') {\n    userData.trust_name = formData.value.trust_name\n  }\n\n  // Add council_code if selected\n  if (selectedCouncil.value) {\n    userData.council_code = selectedCouncil.value\n  }\n\n  // Call registration API\n  fetch('/api/method/lodgeick.api.register_user', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Frappe-CSRF-Token': window.csrf_token\n    },\n    body: JSON.stringify(userData)\n  })\n  .then(response => response.json())\n  .then(data => {\n    isLoading.value = false\n\n    if (data.message && data.message.success) {\n      // Success - redirect to login with success message\n      router.push({\n        name: 'Login',\n        query: { registered: 'true' }\n      })\n    } else if (data.exc || data._server_messages) {\n      // Server error\n      const serverMessages = data._server_messages ? JSON.parse(data._server_messages) : []\n      const errorMsg = serverMessages.length > 0\n        ? JSON.parse(serverMessages[0]).message\n        : 'Registration failed. Please try again.'\n      errorMessage.value = errorMsg\n      console.error('Registration error:', data.exc || data._server_messages)\n    } else {\n      errorMessage.value = 'Registration failed. Please try again.'\n    }\n  })\n  .catch(error => {\n    isLoading.value = false\n    errorMessage.value = 'Network error. Please check your connection and try again.'\n    console.error('Registration error:', error)\n  })\n}\n</script>\n"],"names":["router","useRouter","useRoute","councilStore","useCouncilStore","applicantType","ref","selectedCouncil","selectedAddress","isLoading","errorMessage","formData","phoneError","emailError","passwordError","confirmPasswordError","passwordStrength","passwordStrengthClass","computed","onMounted","validatePhoneField","validation","validateNZPhoneNumber","validateEmailField","validateEmail","validatePasswordField","validatePassword","validatePasswordMatch","handleAddressSelected","address","submit","isPhoneValid","isEmailValid","isPasswordValid","isPasswordMatch","userData","response","data","serverMessages","errorMsg","error","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_cache","_hoisted_4","$event","$router","_hoisted_5","_hoisted_6","_normalizeClass","_createVNode","CouncilSelector","_hoisted_7","_unref","Input","_hoisted_8","_toDisplayString","_hoisted_9","_hoisted_10","AddressLookup","_hoisted_11","_hoisted_12","_createTextVNode","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_vModelCheckbox","_hoisted_19","_hoisted_20","_hoisted_21","Button","_Fragment","_hoisted_22","_hoisted_23","_component_router_link","_hoisted_24"],"mappings":"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"}