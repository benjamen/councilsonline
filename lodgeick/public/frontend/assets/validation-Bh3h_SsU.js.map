{"version":3,"file":"validation-Bh3h_SsU.js","sources":["../../../../frontend/src/components/AddressLookup.vue","../../../../frontend/src/utils/validation.js"],"sourcesContent":["<template>\n  <div class=\"relative\">\n    <label v-if=\"label\" :for=\"id\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n      {{ label }}\n      <span v-if=\"required\" class=\"text-red-500\">*</span>\n    </label>\n\n    <!-- Search Input -->\n    <div class=\"relative\">\n      <input\n        :id=\"id\"\n        v-model=\"searchQuery\"\n        @input=\"handleSearch\"\n        @focus=\"showDropdown = true\"\n        @blur=\"handleBlur\"\n        type=\"text\"\n        :placeholder=\"placeholder\"\n        :required=\"required\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        autocomplete=\"off\"\n      />\n      <div v-if=\"loading\" class=\"absolute right-3 top-1/2 -translate-y-1/2\">\n        <svg class=\"animate-spin h-5 w-5 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n          <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n      </div>\n    </div>\n\n    <p v-if=\"description\" class=\"mt-1 text-xs text-gray-500\">{{ description }}</p>\n\n    <!-- Validation Error -->\n    <p v-if=\"validationError\" class=\"mt-1 text-xs text-red-600\">{{ validationError }}</p>\n\n    <!-- Search Results Dropdown -->\n    <div\n      v-if=\"showDropdown && (searchResults.length > 0 || loading)\"\n      class=\"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto\"\n    >\n      <div v-if=\"loading\" class=\"p-4 text-center text-gray-500\">\n        <div class=\"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mb-2\"></div>\n        <p class=\"text-sm\">Searching addresses...</p>\n      </div>\n\n      <div v-else>\n        <button\n          v-for=\"(result, index) in searchResults\"\n          :key=\"index\"\n          @mousedown.prevent=\"selectAddress(result)\"\n          type=\"button\"\n          class=\"w-full text-left px-4 py-3 hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors\"\n        >\n          <div class=\"font-medium text-gray-900\">{{ result.full_address }}</div>\n          <div v-if=\"result.suburb\" class=\"text-sm text-gray-600 mt-1\">{{ result.suburb }}, {{ result.city }}</div>\n          <div v-if=\"result.address_id\" class=\"text-xs text-gray-500 mt-1\">\n            ID: {{ result.address_id }}\n          </div>\n        </button>\n      </div>\n\n      <div v-if=\"!loading && searchResults.length === 0 && searchQuery.length >= 3\" class=\"p-4 text-center text-gray-500\">\n        <p class=\"text-sm\">No addresses found. Try a different search.</p>\n        <p class=\"text-xs mt-2 text-gray-400\">Make sure to include street number and name</p>\n      </div>\n    </div>\n\n    <!-- Selected Address Display -->\n    <div v-if=\"selectedAddress\" class=\"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg\">\n      <div class=\"flex items-start justify-between\">\n        <div class=\"flex-1\">\n          <p class=\"text-sm font-medium text-green-900\">Selected Address</p>\n          <p class=\"text-sm text-green-700 mt-1\">{{ selectedAddress.full_address }}</p>\n          <div v-if=\"selectedAddress.suburb || selectedAddress.city\" class=\"text-xs text-green-600 mt-1\">\n            <span v-if=\"selectedAddress.suburb\">{{ selectedAddress.suburb }}, </span>\n            <span>{{ selectedAddress.city }}</span>\n            <span v-if=\"selectedAddress.postcode\"> {{ selectedAddress.postcode }}</span>\n          </div>\n        </div>\n        <button\n          @click=\"clearAddress\"\n          type=\"button\"\n          class=\"text-green-600 hover:text-green-700 ml-2\"\n          title=\"Clear selection\"\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { call } from \"frappe-ui\"\nimport { ref, watch } from \"vue\"\n\nconst props = defineProps({\n\tmodelValue: {\n\t\ttype: Object,\n\t\tdefault: null,\n\t},\n\tid: {\n\t\ttype: String,\n\t\tdefault: \"address-lookup\",\n\t},\n\tlabel: {\n\t\ttype: String,\n\t\tdefault: \"Property Address\",\n\t},\n\tplaceholder: {\n\t\ttype: String,\n\t\tdefault: \"Start typing address... e.g., 123 Main Street\",\n\t},\n\tdescription: {\n\t\ttype: String,\n\t\tdefault: \"Type to search for addresses in New Zealand\",\n\t},\n\trequired: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\tapiMethod: {\n\t\ttype: String,\n\t\tdefault: \"lodgeick.api.search_property_addresses\",\n\t},\n})\n\nconst emit = defineEmits([\"update:modelValue\", \"address-selected\"])\n\nconst searchQuery = ref(\"\")\nconst searchResults = ref([])\nconst loading = ref(false)\nconst showDropdown = ref(false)\nconst selectedAddress = ref(props.modelValue)\nconst validationError = ref(\"\")\nlet searchTimeout = null\n\n// Watch for external changes to modelValue\nwatch(\n\t() => props.modelValue,\n\t(newVal) => {\n\t\tselectedAddress.value = newVal\n\t\tif (newVal) {\n\t\t\tsearchQuery.value = newVal.full_address || \"\"\n\t\t}\n\t},\n)\n\n// Handle search input\nconst handleSearch = async () => {\n\tif (searchTimeout) {\n\t\tclearTimeout(searchTimeout)\n\t}\n\n\tconst query = searchQuery.value.trim()\n\n\t// Clear validation error\n\tvalidationError.value = \"\"\n\n\t// Clear selected address if user is typing new search\n\tif (selectedAddress.value && query !== selectedAddress.value.full_address) {\n\t\tselectedAddress.value = null\n\t\temit(\"update:modelValue\", null)\n\t}\n\n\tif (query.length < 3) {\n\t\tsearchResults.value = []\n\t\treturn\n\t}\n\n\tsearchTimeout = setTimeout(async () => {\n\t\tloading.value = true\n\t\ttry {\n\t\t\t// TODO: Replace with actual LINZ API integration\n\t\t\t// For now, we'll use the existing property search or create a stub\n\t\t\tconst results = await searchAddresses(query)\n\t\t\tsearchResults.value = results || []\n\t\t} catch (error) {\n\t\t\tconsole.error(\"[AddressLookup] Error searching addresses:\", error)\n\t\t\tsearchResults.value = []\n\t\t\tvalidationError.value = \"Error searching addresses. Please try again.\"\n\t\t} finally {\n\t\t\tloading.value = false\n\t\t}\n\t}, 300)\n}\n\n// Search for addresses - integrates with backend API\nconst searchAddresses = async (query) => {\n\ttry {\n\t\t// Call backend API that searches LINZ or property database\n\t\tconst results = await call(props.apiMethod, {\n\t\t\tquery: query,\n\t\t})\n\n\t\t// Transform results to standardized format\n\t\treturn results.map((result) => ({\n\t\t\tfull_address: result.address || result.full_address,\n\t\t\tstreet_address: result.street_address || extractStreet(result.address),\n\t\t\tsuburb: result.suburb || result.locality,\n\t\t\tcity: result.city || result.town,\n\t\t\tpostcode: result.postcode || result.postal_code,\n\t\t\taddress_id: result.address_id || result.id,\n\t\t\t// Additional property data if available\n\t\t\tproperty_id: result.property?.parcel_id,\n\t\t\tlegal_description: result.property?.legal_description,\n\t\t\ttitle_no: result.property?.title_no,\n\t\t\tvaluation_reference: result.property?.valuation_reference,\n\t\t\tzone: result.property?.zone,\n\t\t}))\n\t} catch (error) {\n\t\tconsole.error(\"[AddressLookup] API error:\", error)\n\t\t// Return empty array or stub data for development\n\t\treturn []\n\t}\n}\n\n// Extract street address from full address\nconst extractStreet = (fullAddress) => {\n\tif (!fullAddress) return \"\"\n\t// Simple extraction - take first part before comma\n\treturn fullAddress.split(\",\")[0]?.trim() || fullAddress\n}\n\n// Select an address from search results\nconst selectAddress = (address) => {\n\tselectedAddress.value = address\n\tsearchQuery.value = address.full_address\n\tsearchResults.value = []\n\tshowDropdown.value = false\n\tvalidationError.value = \"\"\n\n\temit(\"update:modelValue\", address)\n\temit(\"address-selected\", address)\n}\n\n// Clear selected address\nconst clearAddress = () => {\n\tselectedAddress.value = null\n\tsearchQuery.value = \"\"\n\tsearchResults.value = []\n\tvalidationError.value = \"\"\n\n\temit(\"update:modelValue\", null)\n\temit(\"address-selected\", null)\n}\n\n// Handle blur event (delayed to allow click on dropdown)\nconst handleBlur = () => {\n\tsetTimeout(() => {\n\t\tshowDropdown.value = false\n\t}, 200)\n}\n\n// Expose methods for parent component\ndefineExpose({\n\tclearAddress,\n\tselectedAddress,\n})\n</script>\n","/**\n * Validation utilities for Lodgeick\n */\n\n/**\n * Validates New Zealand phone numbers\n * Accepts landline and mobile formats:\n * - Mobile: 021, 022, 027, 028, 029 (with or without spaces)\n * - Landline: 03-09 area codes (with or without spaces)\n * - International format: +64 prefix\n *\n * @param {string} phone - Phone number to validate\n * @returns {Object} - { isValid: boolean, message: string, formatted: string }\n */\nexport function validateNZPhoneNumber(phone) {\n\tif (!phone || phone.trim() === \"\") {\n\t\treturn {\n\t\t\tisValid: false,\n\t\t\tmessage: \"Phone number is required\",\n\t\t\tformatted: \"\",\n\t\t}\n\t}\n\n\t// Remove spaces, hyphens, and parentheses\n\tconst cleaned = phone.replace(/[\\s\\-()]/g, \"\")\n\n\t// Check for international prefix\n\tconst hasInternationalPrefix =\n\t\tcleaned.startsWith(\"+64\") || cleaned.startsWith(\"0064\")\n\n\t// Remove international prefix for validation\n\tlet numberToValidate = cleaned\n\tif (cleaned.startsWith(\"+64\")) {\n\t\tnumberToValidate = \"0\" + cleaned.substring(3)\n\t} else if (cleaned.startsWith(\"0064\")) {\n\t\tnumberToValidate = \"0\" + cleaned.substring(4)\n\t}\n\n\t// Check if it contains only digits (after removing valid prefixes)\n\tif (!/^[0-9]+$/.test(numberToValidate)) {\n\t\treturn {\n\t\t\tisValid: false,\n\t\t\tmessage:\n\t\t\t\t\"Phone number should contain only numbers, spaces, hyphens, or parentheses\",\n\t\t\tformatted: \"\",\n\t\t}\n\t}\n\n\t// Mobile number validation (021, 022, 027, 028, 029)\n\tconst mobilePattern = /^0(2[1278]|29)[0-9]{6,8}$/\n\tif (mobilePattern.test(numberToValidate)) {\n\t\t// Format as: 021 234 5678\n\t\tconst formatted = numberToValidate.replace(\n\t\t\t/^(0\\d{2})(\\d{3})(\\d{4})$/,\n\t\t\t\"$1 $2 $3\",\n\t\t)\n\t\treturn {\n\t\t\tisValid: true,\n\t\t\tmessage: \"\",\n\t\t\tformatted: formatted,\n\t\t}\n\t}\n\n\t// Landline validation (03-09 area codes)\n\tconst landlinePattern = /^0[3-9][0-9]{7,8}$/\n\tif (landlinePattern.test(numberToValidate)) {\n\t\t// Format as: 09 123 4567 or 03 123 4567\n\t\tif (numberToValidate.length === 9) {\n\t\t\tconst formatted = numberToValidate.replace(\n\t\t\t\t/^(0\\d)(\\d{3})(\\d{4})$/,\n\t\t\t\t\"$1 $2 $3\",\n\t\t\t)\n\t\t\treturn {\n\t\t\t\tisValid: true,\n\t\t\t\tmessage: \"\",\n\t\t\t\tformatted: formatted,\n\t\t\t}\n\t\t} else if (numberToValidate.length === 10) {\n\t\t\tconst formatted = numberToValidate.replace(\n\t\t\t\t/^(0\\d)(\\d{3})(\\d{5})$/,\n\t\t\t\t\"$1 $2 $3\",\n\t\t\t)\n\t\t\treturn {\n\t\t\t\tisValid: true,\n\t\t\t\tmessage: \"\",\n\t\t\t\tformatted: formatted,\n\t\t\t}\n\t\t}\n\t}\n\n\t// Too short\n\tif (numberToValidate.length < 9) {\n\t\treturn {\n\t\t\tisValid: false,\n\t\t\tmessage: \"Phone number is too short. NZ phone numbers are 9-10 digits.\",\n\t\t\tformatted: \"\",\n\t\t}\n\t}\n\n\t// Too long\n\tif (numberToValidate.length > 11) {\n\t\treturn {\n\t\t\tisValid: false,\n\t\t\tmessage: \"Phone number is too long. NZ phone numbers are 9-10 digits.\",\n\t\t\tformatted: \"\",\n\t\t}\n\t}\n\n\t// Invalid format\n\treturn {\n\t\tisValid: false,\n\t\tmessage:\n\t\t\t\"Invalid NZ phone number. Mobile numbers start with 02, landlines with 03-09.\",\n\t\tformatted: \"\",\n\t}\n}\n\n/**\n * Format phone number for display\n * @param {string} phone - Phone number to format\n * @returns {string} - Formatted phone number\n */\nexport function formatPhoneNumber(phone) {\n\tconst validation = validateNZPhoneNumber(phone)\n\treturn validation.formatted || phone\n}\n\n/**\n * Validates email address\n * @param {string} email - Email address to validate\n * @returns {Object} - { isValid: boolean, message: string }\n */\nexport function validateEmail(email) {\n\tif (!email || email.trim() === \"\") {\n\t\treturn {\n\t\t\tisValid: false,\n\t\t\tmessage: \"Email address is required\",\n\t\t}\n\t}\n\n\tconst emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n\tif (!emailPattern.test(email)) {\n\t\treturn {\n\t\t\tisValid: false,\n\t\t\tmessage: \"Please enter a valid email address\",\n\t\t}\n\t}\n\n\treturn {\n\t\tisValid: true,\n\t\tmessage: \"\",\n\t}\n}\n\n/**\n * Validates NZBN (New Zealand Business Number)\n * @param {string} nzbn - NZBN to validate\n * @returns {Object} - { isValid: boolean, message: string }\n */\nexport function validateNZBN(nzbn) {\n\tif (!nzbn || nzbn.trim() === \"\") {\n\t\treturn { isValid: true, message: \"\" } // Optional field\n\t}\n\n\tconst cleaned = nzbn.replace(/[\\s\\-]/g, \"\")\n\n\tif (!/^\\d{13}$/.test(cleaned)) {\n\t\treturn {\n\t\t\tisValid: false,\n\t\t\tmessage: \"NZBN must be exactly 13 digits\",\n\t\t}\n\t}\n\n\treturn {\n\t\tisValid: true,\n\t\tmessage: \"\",\n\t}\n}\n\n/**\n * Validates password strength\n * @param {string} password - Password to validate\n * @returns {Object} - { isValid: boolean, message: string, strength: string }\n */\nexport function validatePassword(password) {\n\tif (!password || password.trim() === \"\") {\n\t\treturn {\n\t\t\tisValid: false,\n\t\t\tmessage: \"Password is required\",\n\t\t\tstrength: \"none\",\n\t\t}\n\t}\n\n\tif (password.length < 8) {\n\t\treturn {\n\t\t\tisValid: false,\n\t\t\tmessage: \"Password must be at least 8 characters long\",\n\t\t\tstrength: \"weak\",\n\t\t}\n\t}\n\n\tlet strength = \"weak\"\n\tlet strengthScore = 0\n\n\t// Check for length\n\tif (password.length >= 12) strengthScore++\n\n\t// Check for uppercase\n\tif (/[A-Z]/.test(password)) strengthScore++\n\n\t// Check for lowercase\n\tif (/[a-z]/.test(password)) strengthScore++\n\n\t// Check for numbers\n\tif (/[0-9]/.test(password)) strengthScore++\n\n\t// Check for special characters\n\tif (/[^A-Za-z0-9]/.test(password)) strengthScore++\n\n\tif (strengthScore >= 4) strength = \"strong\"\n\telse if (strengthScore >= 2) strength = \"medium\"\n\n\treturn {\n\t\tisValid: true,\n\t\tmessage: \"\",\n\t\tstrength: strength,\n\t}\n}\n"],"names":["props","__props","emit","__emit","searchQuery","ref","searchResults","loading","showDropdown","selectedAddress","validationError","searchTimeout","watch","newVal","handleSearch","__async","query","results","searchAddresses","error","call","result","extractStreet","_a","_b","_c","_d","_e","fullAddress","selectAddress","address","clearAddress","handleBlur","__expose","_openBlock","_createElementBlock","_hoisted_1","_createTextVNode","_toDisplayString","_hoisted_3","_createElementVNode","_hoisted_4","$event","_hoisted_6","_cache","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_Fragment","_renderList","index","_withModifiers","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","validateNZPhoneNumber","phone","cleaned","numberToValidate","validateEmail","email","validateNZBN","nzbn","validatePassword","password","strength","strengthScore"],"mappings":"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"}