{"version":3,"mappings":"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","names":["SendMessageModal","defineAsyncComponent","__vitePreload","BookMeetingModal","route","useRoute","router","useRouter","fileInput","ref","uploading","submitting","deleting","cancellingMeeting","showSendMessageModal","showBookMeetingModal","request","createResource","meetings","requestTypeConfig","councilDetails","watch","_a","requestType","councilCode","clockData","progressPercent","useStatutoryClock","parsedFormData","computed","formData","standardFields","filtered","key","error","reviewSections","step","hasPropertyDetails","_b","hasReviewContent","section","field","formatFieldValue","value","e","formatFieldLabel","fieldName","word","formatSimpleValue","goBack","formatMeetingDate","dateStr","formatDate","handleUploadDocument","handleFileUpload","event","__async","files","file","handleSendMessage","handleMessageSent","handlePrintApplication","handleEditDraft","url","handleDeleteDraft","handleSubmitApplication","result","handleMakePayment","handleBookMeeting","handleMeetingBooked","meetingData","handleEditMeeting","meeting","handleCancelMeeting","_openBlock","_createElementBlock","_hoisted_1","_createVNode","RequestHeader","_unref","_createBlock","StatusBadge","Button","_cache","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_Fragment","_renderList","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","slot","index","_hoisted_80","$event","_hoisted_83","_hoisted_84","_hoisted_85","s","_hoisted_86","_hoisted_87","f","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_130","_hoisted_131","_hoisted_132","_hoisted_133","_hoisted_134","_hoisted_135","_hoisted_136","_hoisted_137"],"ignoreList":[],"sources":["../../../../frontend/src/pages/RequestDetail.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <RequestHeader\n      :title=\"request.data?.request_number || 'Loading...'\"\n      :subtitle=\"request.data?.request_type\"\n      :loading=\"request.loading\"\n      @back=\"goBack\"\n    >\n      <template #actions>\n        <StatusBadge v-if=\"request.data\" :status=\"request.data.status\" />\n        <Button\n          v-if=\"request.data?.status === 'Draft'\"\n          @click=\"handleSubmitApplication\"\n          variant=\"solid\"\n          theme=\"blue\"\n          :loading=\"submitting\"\n        >\n          Submit Application\n        </Button>\n      </template>\n    </RequestHeader>\n\n    <!-- Hidden file input -->\n    <input\n      ref=\"fileInput\"\n      type=\"file\"\n      multiple\n      class=\"hidden\"\n      @change=\"handleFileUpload\"\n    />\n\n    <!-- Loading State -->\n    <div v-if=\"request.loading\" class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n      <div class=\"text-center\">\n        <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        <p class=\"mt-4 text-gray-500\">Loading request details...</p>\n      </div>\n    </div>\n\n    <!-- Main Content -->\n    <div v-else-if=\"request.data\" class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <!-- Main Content Column -->\n        <div class=\"lg:col-span-2 space-y-6\">\n          <!-- Overview Card -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Application Overview</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Request Number</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.request_number }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Type</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.request_type }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Status</label>\n                <div class=\"mt-1\">\n                  <StatusBadge :status=\"request.data.status\" />\n                </div>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Submitted Date</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ formatDate(request.data.creation) }}</p>\n              </div>\n            </div>\n\n            <div class=\"mt-6 pt-6 border-t border-gray-200\">\n              <label class=\"text-sm font-medium text-gray-500\">Brief Description</label>\n              <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.brief_description || 'N/A' }}</p>\n            </div>\n\n            <div class=\"mt-4\">\n              <label class=\"text-sm font-medium text-gray-500\">Detailed Description</label>\n              <div class=\"mt-1 text-sm text-gray-900 prose prose-sm max-w-none\" v-html=\"request.data.detailed_description || 'N/A'\"></div>\n            </div>\n          </div>\n\n          <!-- Property Information - only show if request type has property -->\n          <div v-if=\"hasPropertyDetails\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Property Information</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div v-if=\"request.data.property_address\">\n                <label class=\"text-sm font-medium text-gray-500\">Address</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.property_address }}</p>\n              </div>\n              <div v-if=\"request.data.legal_description\">\n                <label class=\"text-sm font-medium text-gray-500\">Legal Description</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.legal_description }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Applicant Information -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Applicant Information</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Name</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.requester_name || 'N/A' }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Email</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.requester_email || 'N/A' }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Phone</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.requester_phone || 'N/A' }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Address</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.applicant_address || 'N/A' }}</p>\n              </div>\n              <div v-if=\"request.data.applicant_company\">\n                <label class=\"text-sm font-medium text-gray-500\">Company/Organization</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.applicant_company }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- SPISC Application Details - only show if request is SPISC -->\n          <div v-if=\"request.data?.request_type?.includes('SPISC') && request.data.application_name\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">SPISC Application Details</h2>\n\n            <div class=\"space-y-6\">\n              <!-- Personal Information -->\n              <div>\n                <h3 class=\"text-sm font-semibold text-gray-700 mb-3\">Personal Information</h3>\n                <div class=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Birth Date</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ formatDate(request.data.birth_date) || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Age</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.age || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Sex</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.sex || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Civil Status</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.civil_status || 'N/A' }}</p>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Household & Economic Information -->\n              <div>\n                <h3 class=\"text-sm font-semibold text-gray-700 mb-3\">Household & Economic Information</h3>\n                <div class=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Household Size</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.household_size || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Living Arrangement</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.living_arrangement || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Monthly Income</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">â‚±{{ request.data.monthly_income || '0' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Income Source</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.income_source || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">4Ps Beneficiary</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.is_4ps_beneficiary ? 'Yes' : 'No' }}</p>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Identity Documents -->\n              <div>\n                <h3 class=\"text-sm font-semibold text-gray-700 mb-3\">Identity Documents</h3>\n                <div class=\"grid grid-cols-2 gap-4\">\n                  <div v-if=\"request.data.philsys_id\">\n                    <label class=\"text-sm font-medium text-gray-500\">PhilSys ID</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.philsys_id }}</p>\n                  </div>\n                  <div v-if=\"request.data.sss_number\">\n                    <label class=\"text-sm font-medium text-gray-500\">SSS Number</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.sss_number }}</p>\n                  </div>\n                  <div v-if=\"request.data.osca_id\">\n                    <label class=\"text-sm font-medium text-gray-500\">OSCA ID</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.osca_id }}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Delivery & Payment Preferences - only show if request type collects payment -->\n          <div v-if=\"requestTypeConfig.data?.collect_payment\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Delivery & Payment Preferences</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div v-if=\"request.data.delivery_preference\">\n                <label class=\"text-sm font-medium text-gray-500\">Delivery Preference</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.delivery_preference }}</p>\n              </div>\n              <div v-if=\"request.data.invoice_to\">\n                <label class=\"text-sm font-medium text-gray-500\">Invoice To</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.invoice_to }}</p>\n              </div>\n              <div v-if=\"request.data.invoice_recipient_name\">\n                <label class=\"text-sm font-medium text-gray-500\">Invoice Recipient Name</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.invoice_recipient_name }}</p>\n              </div>\n              <div v-if=\"request.data.invoice_recipient_email\">\n                <label class=\"text-sm font-medium text-gray-500\">Invoice Recipient Email</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.invoice_recipient_email }}</p>\n              </div>\n              <div v-if=\"request.data.purchase_order_number\" class=\"col-span-2\">\n                <label class=\"text-sm font-medium text-gray-500\">Purchase Order Number</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.purchase_order_number }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Council Meeting Section -->\n          <div v-if=\"requestTypeConfig.data?.council_meeting_available\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div class=\"flex justify-between items-start mb-4\">\n              <div>\n                <h2 class=\"text-lg font-semibold text-gray-900\">Council Meeting</h2>\n                <p class=\"text-sm text-gray-600 mt-1\">\n                  Schedule a meeting with council planners to discuss your application\n                </p>\n              </div>\n\n              <!-- Status Badge if meeting exists -->\n              <span\n                v-if=\"meetings.data && meetings.data.length > 0\"\n                class=\"px-3 py-1 rounded-full text-sm font-medium\"\n                :class=\"{\n                  'bg-yellow-100 text-yellow-800': meetings.data[0].status === 'Requested',\n                  'bg-blue-100 text-blue-800': meetings.data[0].status === 'Scheduled' || meetings.data[0].status === 'Confirmed',\n                  'bg-green-100 text-green-800': meetings.data[0].status === 'Completed',\n                  'bg-gray-100 text-gray-800': meetings.data[0].status === 'Cancelled'\n                }\"\n              >\n                {{ meetings.data[0].status }}\n              </span>\n            </div>\n\n            <!-- Meeting Details (if exists) -->\n            <div v-if=\"meetings.data && meetings.data.length > 0\" class=\"space-y-4\">\n              <div v-for=\"meeting in meetings.data\" :key=\"meeting.name\" class=\"border-l-4 border-blue-500 bg-blue-50 p-4 rounded\">\n                <div class=\"grid grid-cols-2 gap-3 text-sm\">\n                  <div>\n                    <span class=\"font-medium text-gray-700\">Type:</span>\n                    <span class=\"ml-2 text-gray-900\">{{ meeting.meeting_type }}</span>\n                  </div>\n                  <div>\n                    <span class=\"font-medium text-gray-700\">Status:</span>\n                    <span class=\"ml-2 text-gray-900\">{{ meeting.status }}</span>\n                  </div>\n                  <div v-if=\"meeting.scheduled_start\" class=\"col-span-2\">\n                    <span class=\"font-medium text-gray-700\">Scheduled:</span>\n                    <span class=\"ml-2 text-gray-900\">{{ formatMeetingDate(meeting.scheduled_start) }}</span>\n                  </div>\n                  <div v-if=\"meeting.meeting_format\" class=\"col-span-2\">\n                    <span class=\"font-medium text-gray-700\">Format:</span>\n                    <span class=\"ml-2 text-gray-900\">{{ meeting.meeting_format }}</span>\n                  </div>\n                  <div v-if=\"meeting.meeting_location\" class=\"col-span-2\">\n                    <span class=\"font-medium text-gray-700\">Location:</span>\n                    <span class=\"ml-2 text-gray-900\">{{ meeting.meeting_location }}</span>\n                  </div>\n                  <div v-if=\"meeting.google_meet_link\" class=\"col-span-2\">\n                    <span class=\"font-medium text-gray-700\">Meeting Link:</span>\n                    <a :href=\"meeting.google_meet_link\" target=\"_blank\" class=\"ml-2 text-blue-600 hover:underline\">Join Meeting</a>\n                  </div>\n                </div>\n\n                <div v-if=\"meeting.meeting_purpose\" class=\"mt-3 pt-3 border-t border-blue-200\">\n                  <span class=\"font-medium text-gray-700 text-sm\">Purpose:</span>\n                  <p class=\"mt-1 text-sm text-gray-900\">{{ meeting.meeting_purpose }}</p>\n                </div>\n\n                <!-- Proposed Time Slots (if status is Requested and slots exist) -->\n                <div v-if=\"meeting.status === 'Requested' && meeting.proposed_slots && meeting.proposed_slots.length > 0\" class=\"mt-3 pt-3 border-t border-blue-200\">\n                  <span class=\"font-medium text-gray-700 text-sm\">Proposed Time Slots:</span>\n                  <ul class=\"mt-2 space-y-1\">\n                    <li v-for=\"(slot, index) in meeting.proposed_slots\" :key=\"index\" class=\"text-sm text-gray-900 flex items-center\">\n                      <svg class=\"w-4 h-4 mr-2 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                      {{ formatMeetingDate(slot) }}\n                    </li>\n                  </ul>\n                </div>\n\n                <!-- Action Buttons (Edit/Cancel) - only show if meeting is Requested or Scheduled -->\n                <div v-if=\"meeting.status === 'Requested' || meeting.status === 'Scheduled'\" class=\"mt-4 pt-3 border-t border-blue-200 flex space-x-3\">\n                  <button\n                    @click=\"handleEditMeeting(meeting)\"\n                    class=\"flex-1 px-4 py-2 bg-white border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-sm font-medium\"\n                  >\n                    <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                    </svg>\n                    Edit Request\n                  </button>\n                  <button\n                    @click=\"handleCancelMeeting(meeting)\"\n                    :disabled=\"cancellingMeeting\"\n                    class=\"flex-1 px-4 py-2 bg-white border border-red-600 text-red-600 rounded-lg hover:bg-red-50 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                    Cancel Meeting\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            <!-- Request Meeting Button (if no meeting) -->\n            <div v-else class=\"text-center py-6\">\n              <svg class=\"mx-auto h-12 w-12 text-gray-400 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n              </svg>\n              <p class=\"text-sm text-gray-600 mb-4\">\n                No meeting scheduled yet. Book a meeting to discuss your application with council planners.\n              </p>\n              <button\n                @click=\"handleBookMeeting\"\n                class=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                Request Council Meeting\n              </button>\n            </div>\n          </div>\n\n          <!-- Dynamic Application Data (using step configuration OR fallback to raw data) -->\n          <template v-if=\"reviewSections.length > 0\">\n            <div\n              v-for=\"step in reviewSections\"\n              :key=\"step.step_code\"\n              class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\"\n            >\n              <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">{{ step.step_title }}</h2>\n              <div class=\"space-y-4\">\n                <div\n                  v-for=\"section in step.sections.filter(s => s.show_on_review)\"\n                  :key=\"section.section_code\"\n                >\n                  <h3 v-if=\"section.section_title\" class=\"text-md font-medium text-gray-700 mb-3\">\n                    {{ section.section_title }}\n                  </h3>\n                  <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div\n                      v-for=\"field in section.fields.filter(f => f.show_on_review)\"\n                      :key=\"field.field_name\"\n                      class=\"border-b border-gray-100 pb-3\"\n                    >\n                      <label class=\"text-sm font-medium text-gray-500\">{{ field.review_label || field.field_label }}</label>\n                      <p class=\"mt-1 text-sm text-gray-900\">{{ formatFieldValue(field, request.data[field.field_name]) }}</p>\n                    </div>\n                  </div>\n                </div>\n                <p v-if=\"!hasReviewContent(step)\" class=\"text-gray-500 text-sm\">\n                  No information to display\n                </p>\n              </div>\n            </div>\n          </template>\n\n          <!-- Fallback: Show raw application data if config not loaded -->\n          <div v-else-if=\"parsedFormData && Object.keys(parsedFormData).length > 0\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Application Details</h2>\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div v-for=\"(value, fieldName) in parsedFormData\" :key=\"fieldName\" class=\"border-b border-gray-100 pb-3\">\n                <label class=\"text-sm font-medium text-gray-500\">{{ formatFieldLabel(fieldName) }}</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ formatSimpleValue(value) }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Fees & Payments -->\n          <div v-if=\"requestTypeConfig.data?.collect_payment\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h2 class=\"text-lg font-semibold text-gray-900\">Fees & Payments</h2>\n              <span class=\"text-sm font-medium\" :class=\"request.data.payment_status === 'Paid' ? 'text-green-600' : 'text-orange-600'\">\n                {{ request.data.payment_status || 'Unpaid' }}\n              </span>\n            </div>\n\n            <div class=\"space-y-3\">\n              <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                <span class=\"text-sm text-gray-600\">Total Fees</span>\n                <span class=\"text-sm font-semibold text-gray-900\">${{ (request.data.total_fees || 0).toFixed(2) }}</span>\n              </div>\n              <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                <span class=\"text-sm text-gray-600\">Total Paid</span>\n                <span class=\"text-sm font-semibold text-green-600\">${{ (request.data.total_paid || 0).toFixed(2) }}</span>\n              </div>\n              <div class=\"flex justify-between items-center py-2\">\n                <span class=\"text-sm font-medium text-gray-900\">Outstanding</span>\n                <span class=\"text-sm font-bold text-orange-600\">${{ ((request.data.total_fees || 0) - (request.data.total_paid || 0)).toFixed(2) }}</span>\n              </div>\n            </div>\n\n            <Button\n              v-if=\"(request.data.total_fees || 0) > (request.data.total_paid || 0)\"\n              @click=\"handleMakePayment\"\n              variant=\"solid\"\n              theme=\"blue\"\n              class=\"w-full mt-4\"\n            >\n              Make Payment\n            </Button>\n          </div>\n\n          <!-- Payment to be Received (for social services / benefits) -->\n          <div v-if=\"requestTypeConfig.data?.make_payment\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h2 class=\"text-lg font-semibold text-gray-900\">Payment to be Received</h2>\n              <span class=\"text-sm font-medium\" :class=\"request.data.payment_status === 'Paid' ? 'text-green-600' : 'text-orange-600'\">\n                {{ request.data.payment_status || 'Pending' }}\n              </span>\n            </div>\n\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n              <div class=\"flex items-start\">\n                <svg class=\"h-5 w-5 text-blue-600 mt-0.5 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <div class=\"flex-1\">\n                  <p class=\"text-sm font-medium text-blue-900\">Benefit Payment Information</p>\n                  <p class=\"text-sm text-blue-700 mt-1\">\n                    Once your application is approved, you will receive payment from the council.\n                    Please ensure your bank details are up to date.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"space-y-3\">\n              <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                <span class=\"text-sm text-gray-600\">Benefit Amount</span>\n                <span class=\"text-sm font-semibold text-gray-900\">\n                  ${{ requestTypeConfig.data?.base_fee ? requestTypeConfig.data.base_fee.toFixed(2) : '0.00' }}\n                </span>\n              </div>\n              <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                <span class=\"text-sm text-gray-600\">Payment Status</span>\n                <span class=\"text-sm font-semibold\" :class=\"request.data.payment_status === 'Paid' ? 'text-green-600' : 'text-orange-600'\">\n                  {{ request.data.payment_status || 'Pending Approval' }}\n                </span>\n              </div>\n              <div v-if=\"request.data.selected_bank_account\" class=\"flex justify-between items-center py-2\">\n                <span class=\"text-sm text-gray-600\">Payment Method</span>\n                <span class=\"text-sm font-medium text-gray-900\">Bank Transfer</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Documents -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h2 class=\"text-lg font-semibold text-gray-900\">Documents</h2>\n              <Button\n                @click=\"handleUploadDocument\"\n                variant=\"outline\"\n                size=\"sm\"\n                :loading=\"uploading\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                  </svg>\n                </template>\n                Upload Document\n              </Button>\n            </div>\n\n            <div v-if=\"!request.data.attachments || request.data.attachments.length === 0\" class=\"text-center py-8\">\n              <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n              </svg>\n              <p class=\"mt-2 text-sm text-gray-500\">No documents uploaded yet</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Sidebar Column -->\n        <div class=\"space-y-6\">\n          <!-- Timeline -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Processing Timeline</h2>\n\n            <!-- SLA / Statutory Clock -->\n            <div v-if=\"clockData.statutory_clock_started\" class=\"mb-6 p-4 bg-blue-50 rounded-lg\">\n              <div class=\"flex items-center justify-between mb-2\">\n                <span class=\"text-sm font-medium text-blue-900\">SLA / Statutory Clock</span>\n                <span class=\"text-xs text-blue-700\">{{ clockData.working_days_elapsed }} of 20 days</span>\n              </div>\n              <div class=\"w-full bg-blue-200 rounded-full h-2\">\n                <div\n                  class=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                  :style=\"{ width: `${progressPercent}%` }\"\n                ></div>\n              </div>\n              <p class=\"mt-2 text-xs text-blue-700\">\n                {{ clockData.statutory_clock_stopped ? 'Clock stopped (RFI issued)' : `${clockData.working_days_remaining} days remaining` }}\n              </p>\n            </div>\n\n            <!-- Status History -->\n            <div class=\"space-y-4\">\n              <div class=\"flex items-start space-x-3\">\n                <div class=\"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\n                  <svg class=\"w-4 h-4 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\n                  </svg>\n                </div>\n                <div class=\"flex-1\">\n                  <p class=\"text-sm font-medium text-gray-900\">Application Created</p>\n                  <p class=\"text-xs text-gray-500\">{{ formatDate(request.data.creation) }}</p>\n                </div>\n              </div>\n\n              <div v-if=\"request.data.modified !== request.data.creation\" class=\"flex items-start space-x-3\">\n                <div class=\"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <svg class=\"w-4 h-4 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" />\n                  </svg>\n                </div>\n                <div class=\"flex-1\">\n                  <p class=\"text-sm font-medium text-gray-900\">Last Updated</p>\n                  <p class=\"text-xs text-gray-500\">{{ formatDate(request.data.modified) }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Quick Actions -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h2>\n\n            <div class=\"space-y-3\">\n              <Button\n                v-if=\"request.data.status === 'Draft'\"\n                @click=\"handleEditDraft\"\n                variant=\"solid\"\n                theme=\"blue\"\n                class=\"w-full justify-start\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                  </svg>\n                </template>\n                Edit Draft\n              </Button>\n\n              <Button\n                @click=\"handleSendMessage\"\n                variant=\"outline\"\n                class=\"w-full justify-start\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n                  </svg>\n                </template>\n                Send Message\n              </Button>\n\n              <Button\n                @click=\"handlePrintApplication\"\n                variant=\"outline\"\n                class=\"w-full justify-start\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\" />\n                  </svg>\n                </template>\n                Print Application\n              </Button>\n\n              <Button\n                v-if=\"request.data.status === 'Draft'\"\n                @click=\"handleDeleteDraft\"\n                variant=\"outline\"\n                class=\"w-full justify-start text-red-600 hover:text-red-700\"\n                :loading=\"deleting\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 1 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </template>\n                Delete Draft\n              </Button>\n            </div>\n          </div>\n\n          <!-- Contact Info -->\n          <div class=\"bg-blue-50 rounded-lg border border-blue-200 p-6\">\n            <h3 class=\"text-sm font-semibold text-blue-900 mb-3\">Need Help?</h3>\n            <p class=\"text-xs text-blue-800 mb-4\">Contact {{ councilDetails.data?.council_name || 'the council' }} for assistance with your application.</p>\n            <div v-if=\"councilDetails.loading\" class=\"text-xs text-blue-800\">\n              Loading contact information...\n            </div>\n            <div v-else-if=\"councilDetails.data\" class=\"space-y-2 text-xs text-blue-900\">\n              <div v-if=\"councilDetails.data.contact_email\" class=\"flex items-center space-x-2\">\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                </svg>\n                <a :href=\"`mailto:${councilDetails.data.contact_email}`\" class=\"hover:underline\">\n                  {{ councilDetails.data.contact_email }}\n                </a>\n              </div>\n              <div v-if=\"councilDetails.data.contact_phone\" class=\"flex items-center space-x-2\">\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                </svg>\n                <a :href=\"`tel:${councilDetails.data.contact_phone}`\" class=\"hover:underline\">\n                  {{ councilDetails.data.contact_phone }}\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Modals -->\n    <SendMessageModal\n      v-model:show=\"showSendMessageModal\"\n      :request-id=\"route.params.id\"\n      @sent=\"handleMessageSent\"\n    />\n\n    <BookMeetingModal\n      v-model:show=\"showBookMeetingModal\"\n      :request-id=\"route.params.id\"\n      :request-type-code=\"requestTypeConfig.data?.type_code\"\n      :council-code=\"request.data?.council\"\n      @booked=\"handleMeetingBooked\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, defineAsyncComponent } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { createResource, Button } from 'frappe-ui'\nimport RequestHeader from '../components/request/RequestHeader.vue'\nimport StatusBadge from '../components/StatusBadge.vue'\n// Lazy-loaded modals (load on demand to reduce bundle size)\nconst SendMessageModal = defineAsyncComponent(() => import('../components/modals/SendMessageModal.vue'))\nconst BookMeetingModal = defineAsyncComponent(() => import('../components/modals/BookMeetingModal.vue'))\nimport { useStatutoryClock } from '../composables/useStatutoryClock'\n\nconst route = useRoute()\nconst router = useRouter()\n\n// State\nconst fileInput = ref(null)\nconst uploading = ref(false)\nconst submitting = ref(false)\nconst deleting = ref(false)\nconst cancellingMeeting = ref(false)\nconst showSendMessageModal = ref(false)\nconst showBookMeetingModal = ref(false)\n\n// Get request details\nconst request = createResource({\n  url: 'frappe.client.get',\n  params: {\n    doctype: 'Request',\n    name: route.params.id\n  },\n  auto: true,\n})\n\n// Get meetings for this request\nconst meetings = createResource({\n  url: 'lodgeick.api.get_request_meetings',\n  params: {\n    request_id: route.params.id\n  },\n  auto: true,\n})\n\n// Get request type configuration\nconst requestTypeConfig = createResource({\n  url: 'lodgeick.api.get_request_type_config',\n  auto: false,\n})\n\n// Get council details for contact information\nconst councilDetails = createResource({\n  url: 'frappe.client.get',\n  auto: false,\n})\n\n// Watch for request data and load config\nwatch(() => request.data?.request_type, (requestType) => {\n  if (requestType) {\n    // Pass params directly to fetch() instead of in createResource\n    requestTypeConfig.fetch({ request_type_code: requestType })\n  }\n}, { immediate: true })\n\n// Watch for council code and load council details\nwatch(() => request.data?.council, (councilCode) => {\n  if (councilCode) {\n    councilDetails.fetch({\n      doctype: 'Council',\n      name: councilCode,\n      fields: ['name', 'council_name', 'contact_email', 'contact_phone']\n    })\n  }\n}, { immediate: true })\n\n// Get statutory clock data from appropriate source (RC Application or Request)\nconst { clockData, progressPercent } = useStatutoryClock(request)\n\n// Parse form data from draft_full_data as fallback\nconst parsedFormData = computed(() => {\n  if (!request.data) return {}\n\n  try {\n    let formData = null\n    if (request.data.draft_full_data) {\n      formData = typeof request.data.draft_full_data === 'string'\n        ? JSON.parse(request.data.draft_full_data)\n        : request.data.draft_full_data\n    }\n\n    if (!formData) return {}\n\n    // Filter out standard fields\n    const standardFields = [\n      'name', 'owner', 'creation', 'modified', 'modified_by', 'docstatus', 'idx',\n      'council', 'request_type', 'request_number', 'status', 'requester',\n      'requester_name', 'requester_email', 'requester_phone', 'requester_signature',\n      'applicant_address', 'applicant_company', 'property', 'property_address',\n      'legal_description', 'brief_description', 'detailed_description',\n      'delivery_preference', 'invoice_to', 'invoice_recipient_name',\n      'invoice_recipient_email', 'purchase_order_number', 'total_fees',\n      'total_paid', 'payment_status', 'request_category', 'draft_current_step',\n      'draft_total_steps', 'draft_full_data', 'form_data', 'signature_date'\n    ]\n\n    const filtered = {}\n    Object.keys(formData).forEach(key => {\n      if (!standardFields.includes(key) && formData[key] !== null && formData[key] !== '') {\n        filtered[key] = formData[key]\n      }\n    })\n\n    return filtered\n  } catch (error) {\n    console.error('Error parsing form data:', error)\n    return {}\n  }\n})\n\n// Get review sections from request type configuration (same logic as ReviewStep)\nconst reviewSections = computed(() => {\n  if (!requestTypeConfig.data?.steps) return []\n\n  // Filter steps that should show on review\n  return requestTypeConfig.data.steps.filter(step => step.show_on_review)\n})\n\n// Check if property details should be displayed (same logic as ReviewStep)\nconst hasPropertyDetails = computed(() => {\n  // Show if request has property address\n  if (request.data?.property_address) {\n    return true\n  }\n\n  // Check if request type config indicates property is needed\n  if (requestTypeConfig.data?.property_required) {\n    return true\n  }\n\n  return false\n})\n\n// Check if a step has any content to show on review\nconst hasReviewContent = (step) => {\n  if (!step.sections) return false\n\n  for (const section of step.sections) {\n    if (!section.show_on_review) continue\n\n    for (const field of section.fields) {\n      if (field.show_on_review && request.data[field.field_name]) {\n        return true\n      }\n    }\n  }\n\n  return false\n}\n\n// Format field value for display (same as ReviewStep)\nconst formatFieldValue = (field, value) => {\n  if (value === undefined || value === null || value === '') {\n    return 'Not provided'\n  }\n\n  // Check field type\n  if (field.field_type === 'Check') {\n    return value ? 'Yes' : 'No'\n  }\n\n  if (field.field_type === 'Date' && value) {\n    // Format date nicely\n    try {\n      return new Date(value).toLocaleDateString('en-NZ', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })\n    } catch (e) {\n      return value\n    }\n  }\n\n  if (field.field_type === 'Currency' && value) {\n    return `$${parseFloat(value).toFixed(2)}`\n  }\n\n  if (Array.isArray(value)) {\n    return value.join(', ')\n  }\n\n  return value\n}\n\n// Helper function to format field labels (convert snake_case to Title Case)\nconst formatFieldLabel = (fieldName) => {\n  return fieldName\n    .split('_')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ')\n}\n\n// Helper function to format simple values (for fallback display)\nconst formatSimpleValue = (value) => {\n  if (value === null || value === undefined || value === '') {\n    return 'Not provided'\n  }\n\n  if (typeof value === 'boolean') {\n    return value ? 'Yes' : 'No'\n  }\n\n  if (Array.isArray(value)) {\n    return value.join(', ')\n  }\n\n  if (typeof value === 'object') {\n    return JSON.stringify(value)\n  }\n\n  // Handle dates\n  if (typeof value === 'string' && /^\\d{4}-\\d{2}-\\d{2}/.test(value)) {\n    try {\n      return new Date(value).toLocaleDateString('en-NZ', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })\n    } catch (e) {\n      return value\n    }\n  }\n\n  return value\n}\n\nconst goBack = () => {\n  router.push({ name: 'Dashboard' })\n}\n\n// Format meeting date with time\nconst formatMeetingDate = (dateStr) => {\n  if (!dateStr) return 'Not scheduled'\n  try {\n    return new Date(dateStr).toLocaleString('en-NZ', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    })\n  } catch (e) {\n    return dateStr\n  }\n}\n\nconst formatDate = (dateStr) => {\n  if (!dateStr) return 'N/A'\n  const date = new Date(dateStr)\n  return date.toLocaleDateString('en-NZ', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\n// Quick Actions\nconst handleUploadDocument = () => {\n  fileInput.value.click()\n}\n\nconst handleFileUpload = async (event) => {\n  const files = Array.from(event.target.files)\n  if (files.length === 0) return\n\n  uploading.value = true\n  try {\n    for (const file of files) {\n      const formData = new FormData()\n      formData.append('file', file)\n      formData.append('doctype', 'Request')\n      formData.append('docname', request.data.name)\n      formData.append('is_private', 0)\n\n      await fetch('/api/method/upload_file', {\n        method: 'POST',\n        headers: {\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: formData\n      })\n    }\n\n    alert(`${files.length} document(s) uploaded successfully!`)\n    request.reload()\n    event.target.value = '' // Reset file input\n  } catch (error) {\n    console.error('Error uploading file:', error)\n    alert('Failed to upload document. Please try again.')\n  } finally {\n    uploading.value = false\n  }\n}\n\nconst handleSendMessage = () => {\n  showSendMessageModal.value = true\n}\n\nconst handleMessageSent = () => {\n  // Toast notification would be better than alert to avoid blocking modal close\n  // alert('Message sent successfully! The council will respond within 2-3 business days.')\n  request.reload()\n}\n\nconst handlePrintApplication = () => {\n  window.print()\n}\n\nconst handleEditDraft = () => {\n  if (!request.data) {\n    alert('Error: Request data not loaded')\n    return\n  }\n\n  if (!request.data.request_type) {\n    alert('Error: Request type missing')\n    return\n  }\n\n  const url = `/request/new?type=${encodeURIComponent(request.data.request_type)}&draft=${encodeURIComponent(request.data.name)}`\n  router.push(url)\n}\n\nconst handleDeleteDraft = async () => {\n  if (!confirm('Are you sure you want to delete this draft application? This action cannot be undone.')) {\n    return\n  }\n\n  deleting.value = true\n  try {\n    await fetch('/api/method/frappe.client.delete', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        doctype: 'Request',\n        name: request.data.name\n      })\n    })\n\n    alert('Draft deleted successfully')\n    router.push({ name: 'Dashboard' })\n  } catch (error) {\n    console.error('Error deleting draft:', error)\n    alert('Failed to delete draft. Please try again.')\n  } finally {\n    deleting.value = false\n  }\n}\n\nconst handleSubmitApplication = async () => {\n  if (!confirm('Are you sure you want to submit this application? Once submitted, it cannot be edited.')) {\n    return\n  }\n\n  submitting.value = true\n  try {\n    const response = await fetch('/api/method/lodgeick.lodgeick.doctype.request.request.submit_application', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: request.data.name\n      })\n    })\n\n    const result = await response.json()\n\n    if (result.message && result.message.success) {\n      alert(`Application submitted successfully! Request Number: ${result.message.request_number}`)\n      request.reload()\n    } else {\n      throw new Error('Failed to submit application')\n    }\n  } catch (error) {\n    console.error('Error submitting application:', error)\n    alert('Failed to submit application. Please try again.')\n  } finally {\n    submitting.value = false\n  }\n}\n\nconst handleMakePayment = () => {\n  // TODO: Implement payment integration\n  alert('Payment feature - Coming soon!\\n\\nYou will receive an invoice via email.')\n}\n\nconst handleBookMeeting = () => {\n  showBookMeetingModal.value = true\n}\n\nconst handleMeetingBooked = async (meetingData) => {\n  alert(`Meeting request submitted successfully!\\n\\nMeeting ID: ${meetingData.meeting_id}\\nStatus: ${meetingData.status}\\n\\nA council planner will contact you within 2 business days.`)\n  // Reload meetings list\n  await meetings.reload()\n}\n\nconst handleEditMeeting = (meeting) => {\n  // Re-open the booking modal with existing meeting data\n  // The modal should be enhanced to accept a meeting prop for editing\n  showBookMeetingModal.value = true\n  // TODO: Pass meeting data to modal for pre-filling\n  alert('Edit meeting functionality - opening booking modal.\\n\\nNote: You can submit a new request with updated time slots. The previous request will be updated.')\n}\n\nconst handleCancelMeeting = async (meeting) => {\n  if (!confirm(`Are you sure you want to cancel this meeting request?\\n\\nMeeting Type: ${meeting.meeting_type}\\nStatus: ${meeting.status}\\n\\nThis action cannot be undone.`)) {\n    return\n  }\n\n  cancellingMeeting.value = true\n  try {\n    const response = await fetch('/api/method/lodgeick.api.cancel_meeting', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        meeting_id: meeting.name\n      })\n    })\n\n    const result = await response.json()\n\n    if (result.message && result.message.success) {\n      alert('Meeting cancelled successfully.')\n      await meetings.reload()\n    } else {\n      throw new Error(result.message?.error || 'Failed to cancel meeting')\n    }\n  } catch (error) {\n    console.error('Error cancelling meeting:', error)\n    alert(`Failed to cancel meeting: ${error.message}\\n\\nPlease try again or contact support.`)\n  } finally {\n    cancellingMeeting.value = false\n  }\n}\n</script>\n"],"file":"assets/RequestDetail-F-PiJlFQ.js"}