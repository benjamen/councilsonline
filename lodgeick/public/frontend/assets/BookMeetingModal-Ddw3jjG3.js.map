{"version":3,"file":"BookMeetingModal-Ddw3jjG3.js","sources":["../../../../frontend/src/components/modals/BookMeetingModal.vue"],"sourcesContent":["<script setup>\nimport { ref, computed, watch } from 'vue'\nimport { Dialog, createResource } from 'frappe-ui'\n\nconst props = defineProps({\n\tshow: {\n\t\ttype: Boolean,\n\t\trequired: true\n\t},\n\trequestId: {\n\t\ttype: String,\n\t\tdefault: null  // Allow null for draft requests\n\t},\n\trequestTypeCode: {\n\t\ttype: String,\n\t\tdefault: null\n\t},\n\tcouncilCode: {\n\t\ttype: String,\n\t\tdefault: null\n\t}\n})\n\nconst emit = defineEmits(['update:show', 'booked'])\n\nconst isOpen = computed({\n\tget: () => props.show,\n\tset: (value) => emit('update:show', value)\n})\n\nconst meetingType = ref('Pre-Application Meeting')\nconst meetingPurpose = ref('')\nconst discussionPoints = ref('')\nconst booking = ref(false)\nconst error = ref(null)\nconst success = ref(false)\nconst emailError = ref('')\n\n// Attendees\nconst attendees = ref([])\nconst newAttendeeName = ref('')\nconst newAttendeeEmail = ref('')\nconst newAttendeeRole = ref('')\n\n// Constants\nconst MEETING_DURATION_MS = 60 * 60 * 1000 // 1 hour in milliseconds\n\n// Available slots mode\nconst showAvailableSlots = ref(false)\n\n// Fetch meeting configuration\nconst meetingConfig = createResource({\n\turl: 'lodgeick.api.get_meeting_config',\n\tauto: false,\n})\n\n// Fetch available slots\nconst availableSlots = createResource({\n\turl: 'lodgeick.api.get_available_meeting_slots',\n\tauto: false,\n})\n\n// Watch for modal open to fetch slots if council code is available\nwatch(() => props.show, (newVal) => {\n\tif (newVal && props.councilCode) {\n\t\t// Pass params directly to fetch() to avoid circular JSON reference\n\t\tmeetingConfig.fetch({\n\t\t\tcouncil_code: props.councilCode,\n\t\t\tmeeting_type: meetingType.value\n\t\t})\n\n\t\tconst today = new Date()\n\t\tconst endDate = new Date()\n\t\tendDate.setDate(today.getDate() + 30) // Next 30 days\n\n\t\tavailableSlots.fetch({\n\t\t\tcouncil_code: props.councilCode,\n\t\t\tmeeting_type: meetingType.value,\n\t\t\tstart_date: today.toISOString().split('T')[0],\n\t\t\tend_date: endDate.toISOString().split('T')[0]\n\t\t})\n\t}\n})\n\n// Preferred Time Slots (3 options)\nconst preferredTimes = ref([\n\t{ preference_order: 1, preferred_start: '' },\n\t{ preference_order: 2, preferred_start: '' },\n\t{ preference_order: 3, preferred_start: '' }\n])\n\n// Auto-calculate end time (1 hour after start time)\nconst calculateEndTime = (startTime) => {\n\tif (!startTime) return ''\n\ttry {\n\t\tconst start = new Date(startTime)\n\t\tif (isNaN(start.getTime())) throw new Error('Invalid date')\n\t\tconst end = new Date(start.getTime() + MEETING_DURATION_MS)\n\t\treturn end.toISOString().slice(0, 16) // Format for datetime-local input\n\t} catch (e) {\n\t\tconsole.error('Error calculating end time:', e)\n\t\treturn ''\n\t}\n}\n\n// Format end time for display\nconst formatEndTime = (startTime) => {\n\tif (!startTime) return ''\n\ttry {\n\t\tconst endTime = calculateEndTime(startTime)\n\t\tif (!endTime) return 'Invalid date'\n\t\treturn new Date(endTime).toLocaleString()\n\t} catch (e) {\n\t\treturn 'Invalid date'\n\t}\n}\n\nconst isValidEmail = (email) => {\n\treturn /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\n}\n\nconst isValid = computed(() => {\n\t// Meeting type and purpose are required\n\tif (!meetingType.value || !meetingPurpose.value.trim()) return false\n\n\t// At least one preferred time slot must have a start time (end time is auto-calculated)\n\tconst hasAtLeastOneTimeSlot = preferredTimes.value.some(slot => {\n\t\treturn slot.preferred_start && slot.preferred_start.trim() !== ''\n\t})\n\n\treturn hasAtLeastOneTimeSlot\n})\n\nconst addAttendee = () => {\n\temailError.value = ''\n\n\tif (newAttendeeName.value.trim() && newAttendeeEmail.value.trim()) {\n\t\t// Validate email format\n\t\tif (!isValidEmail(newAttendeeEmail.value.trim())) {\n\t\t\temailError.value = 'Please enter a valid email address'\n\t\t\treturn\n\t\t}\n\n\t\tattendees.value.push({\n\t\t\tattendee_name: newAttendeeName.value.trim(),\n\t\t\tattendee_email: newAttendeeEmail.value.trim(),\n\t\t\tattendee_role: newAttendeeRole.value.trim() || 'Applicant Representative'\n\t\t})\n\n\t\t// Clear form\n\t\tnewAttendeeName.value = ''\n\t\tnewAttendeeEmail.value = ''\n\t\tnewAttendeeRole.value = ''\n\t}\n}\n\nconst removeAttendee = (index) => {\n\tattendees.value.splice(index, 1)\n}\n\nconst selectAvailableSlot = (slotIndex, slot) => {\n\t// Set the specified preferred time slot to this slot\n\tif (slotIndex >= 0 && slotIndex < preferredTimes.value.length) {\n\t\tpreferredTimes.value[slotIndex].preferred_start = slot.start.slice(0, 16) // Format for datetime-local\n\t}\n}\n\nconst toggleAvailableSlotsView = () => {\n\tshowAvailableSlots.value = !showAvailableSlots.value\n\tif (showAvailableSlots.value && props.councilCode && !availableSlots.data) {\n\t\tconst today = new Date()\n\t\tconst endDate = new Date()\n\t\tendDate.setDate(today.getDate() + 30) // Next 30 days\n\n\t\tavailableSlots.fetch({\n\t\t\tcouncil_code: props.councilCode,\n\t\t\tmeeting_type: meetingType.value,\n\t\t\tstart_date: today.toISOString().split('T')[0],\n\t\t\tend_date: endDate.toISOString().split('T')[0]\n\t\t})\n\t}\n}\n\nconst handleClose = () => {\n\tif (!booking.value) {\n\t\tmeetingType.value = 'Pre-Application Meeting'\n\t\tmeetingPurpose.value = ''\n\t\tdiscussionPoints.value = ''\n\t\tattendees.value = []\n\t\tpreferredTimes.value = [\n\t\t\t{ preference_order: 1, preferred_start: '' },\n\t\t\t{ preference_order: 2, preferred_start: '' },\n\t\t\t{ preference_order: 3, preferred_start: '' }\n\t\t]\n\t\terror.value = null\n\t\tsuccess.value = false\n\t\temit('update:show', false)\n\t}\n}\n\nconst handleBook = async () => {\n\tif (!isValid.value) return\n\n\tbooking.value = true\n\terror.value = null\n\n\ttry {\n\t\t// Filter out empty time slots and add calculated end times\n\t\tconst filledTimeSlots = preferredTimes.value\n\t\t\t.filter(slot => slot.preferred_start && slot.preferred_start.trim() !== '')\n\t\t\t.map(slot => ({\n\t\t\t\t...slot,\n\t\t\t\tpreferred_end: calculateEndTime(slot.preferred_start)\n\t\t\t}))\n\n\t\tconst response = await fetch('/api/method/lodgeick.api.book_council_meeting', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-Frappe-CSRF-Token': window.csrf_token\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\trequest_id: props.requestId || 'draft',\n\t\t\t\trequest_type_code: props.requestTypeCode,\n\t\t\t\tmeeting_type: meetingType.value,\n\t\t\t\tmeeting_purpose: meetingPurpose.value,\n\t\t\t\tdiscussion_points: discussionPoints.value,\n\t\t\t\tattendees: attendees.value,\n\t\t\t\tpreferred_time_slots: filledTimeSlots\n\t\t\t})\n\t\t})\n\n\t\tconst data = await response.json()\n\n\t\tif (data.message?.success) {\n\t\t\t// Show success message\n\t\t\tsuccess.value = true\n\t\t\terror.value = null\n\n\t\t\t// Emit booked event immediately\n\t\t\temit('booked', data.message)\n\n\t\t\t// Close modal after 2 seconds so user sees success message\n\t\t\tsetTimeout(() => {\n\t\t\t\thandleClose()\n\t\t\t}, 2000)\n\t\t} else {\n\t\t\terror.value = data.exc || data._server_messages || 'Failed to book meeting'\n\t\t}\n\t} catch (err) {\n\t\tconsole.error('Book meeting error:', err)\n\t\terror.value = 'Network error. Please try again.'\n\t} finally {\n\t\tbooking.value = false\n\t}\n}\n</script>\n\n<template>\n\t<Dialog v-model=\"isOpen\" :options=\"{ size: 'lg' }\">\n\t\t<template #body>\n\t\t\t<div class=\"p-6 max-h-[80vh] overflow-y-auto\">\n\t\t\t\t<h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Request Pre-Application Council Meeting</h3>\n\n\t\t\t\t<div class=\"space-y-6\">\n\t\t\t\t\t<!-- Meeting Type -->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"block text-sm font-medium text-gray-700 mb-2\">Meeting Type *</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tv-model=\"meetingType\"\n\t\t\t\t\t\t\tclass=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Pre-Application Meeting\">Pre-Application Meeting</option>\n\t\t\t\t\t\t\t<option value=\"Site Visit\">Site Visit</option>\n\t\t\t\t\t\t\t<option value=\"Follow-up Meeting\">Follow-up Meeting</option>\n\t\t\t\t\t\t\t<option value=\"Technical Review\">Technical Review</option>\n\t\t\t\t\t\t\t<option value=\"Other\">Other</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Meeting Purpose -->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"block text-sm font-medium text-gray-700 mb-2\">Meeting Purpose *</label>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tv-model=\"meetingPurpose\"\n\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\tclass=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n\t\t\t\t\t\t\tplaceholder=\"Brief summary of why you need this meeting...\"\n\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t></textarea>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Discussion Points -->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"block text-sm font-medium text-gray-700 mb-2\">Discussion Points (Optional)</label>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tv-model=\"discussionPoints\"\n\t\t\t\t\t\t\trows=\"4\"\n\t\t\t\t\t\t\tclass=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n\t\t\t\t\t\t\tplaceholder=\"Key topics you'd like to discuss (bullet points)...\"\n\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t></textarea>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Preferred Time Slots -->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"flex items-center justify-between mb-2\">\n\t\t\t\t\t\t\t<label class=\"block text-sm font-medium text-gray-700\">Preferred Meeting Times *</label>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tv-if=\"councilCode && !availableSlots.loading\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"toggleAvailableSlotsView\"\n\t\t\t\t\t\t\t\tclass=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n\t\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ availableSlots.data ? 'Refresh Available Slots' : 'Load Available Slots' }}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p class=\"text-xs text-gray-500 mb-3\">Select up to 3 preferred time slots (each meeting is 1 hour). The council will confirm or propose alternatives.</p>\n\n\t\t\t\t\t\t<!-- Loading State -->\n\t\t\t\t\t\t<div v-if=\"availableSlots.loading\" class=\"mb-4 border border-blue-200 rounded-lg p-4 bg-blue-50\">\n\t\t\t\t\t\t\t<div class=\"text-center py-4\">\n\t\t\t\t\t\t\t\t<div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n\t\t\t\t\t\t\t\t<p class=\"text-sm text-gray-600 mt-2\">Loading available time slots...</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Error State -->\n\t\t\t\t\t\t<div v-else-if=\"availableSlots.error\" class=\"mb-4 border border-red-200 rounded-lg p-4 bg-red-50\">\n\t\t\t\t\t\t\t<p class=\"text-sm text-red-600\">Failed to load available slots. Please enter your preferred times manually below.</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Time Slot Selection -->\n\t\t\t\t\t\t<div class=\"space-y-3\">\n\t\t\t\t\t\t\t<div v-for=\"(slot, index) in preferredTimes\" :key=\"index\" class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n\t\t\t\t\t\t\t\t<div class=\"flex items-center justify-between mb-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-sm font-medium text-gray-700\">Option {{ slot.preference_order }}</span>\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"index === 0\" class=\"ml-2 text-xs text-red-600\">*</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span v-if=\"slot.preferred_start\" class=\"text-xs text-gray-500\">1 hour duration</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label class=\"block text-xs text-gray-600 mb-1\">\n\t\t\t\t\t\t\t\t\t\t{{ availableSlots.data?.slots?.length > 0 ? 'Select Time Slot' : 'Enter Time' }}\n\t\t\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t\t\t<!-- Dropdown if slots are available -->\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tv-if=\"availableSlots.data?.slots?.length > 0\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"slot.preferred_start\"\n\t\t\t\t\t\t\t\t\t\t@change=\"(e) => selectAvailableSlot(index, availableSlots.data.slots.find(s => s.start.slice(0, 16) === e.target.value))\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n\t\t\t\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">-- Select a time slot --</option>\n\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(availSlot, idx) in availableSlots.data.slots.slice(0, 30)\"\n\t\t\t\t\t\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t\t\t\t\t\t:value=\"availSlot.start.slice(0, 16)\"\n\t\t\t\t\t\t\t\t\t\t\t:disabled=\"preferredTimes.some((pt, ptIdx) => ptIdx !== index && pt.preferred_start === availSlot.start.slice(0, 16))\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ availSlot.start_display }} - {{ availSlot.end_display }} ({{ availSlot.day }})\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t\t\t<!-- Manual input if no slots available -->\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"slot.preferred_start\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n\t\t\t\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<p v-if=\"slot.preferred_start\" class=\"text-xs text-gray-500 mt-1\">\n\t\t\t\t\t\t\t\t\t\tMeeting will end at {{ formatEndTime(slot.preferred_start) }}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Message when no slots loaded yet -->\n\t\t\t\t\t\t\t<div v-if=\"!availableSlots.data && !availableSlots.loading && !availableSlots.error\" class=\"text-center py-2\">\n\t\t\t\t\t\t\t\t<p class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\tClick \"Load Available Slots\" above to see available meeting times, or manually enter your preferred times.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Message when no slots available -->\n\t\t\t\t\t\t\t<div v-if=\"availableSlots.data?.slots?.length === 0\" class=\"text-center py-2\">\n\t\t\t\t\t\t\t\t<p class=\"text-xs text-gray-600\">\n\t\t\t\t\t\t\t\t\tNo available slots found in the next 30 days. Please enter your preferred times manually above.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Additional Attendees -->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"block text-sm font-medium text-gray-700 mb-2\">Additional Attendees (Optional)</label>\n\t\t\t\t\t\t<p class=\"text-xs text-gray-500 mb-3\">Add any representatives, consultants, or advisors who will attend with you.</p>\n\n\t\t\t\t\t\t<!-- Attendee List -->\n\t\t\t\t\t\t<div v-if=\"attendees.length > 0\" class=\"mb-3 space-y-2\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-for=\"(attendee, index) in attendees\"\n\t\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t\tclass=\"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<div class=\"text-sm font-medium text-gray-900\">{{ attendee.attendee_name }}</div>\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-600\">{{ attendee.attendee_email }} â€¢ {{ attendee.attendee_role }}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t@click=\"removeAttendee(index)\"\n\t\t\t\t\t\t\t\t\tclass=\"ml-3 text-red-600 hover:text-red-700\"\n\t\t\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Add Attendee Form -->\n\t\t\t\t\t\t<div class=\"border border-gray-300 rounded-lg p-4 bg-white space-y-3\">\n\t\t\t\t\t\t\t<div class=\"grid grid-cols-2 gap-3\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label class=\"block text-xs text-gray-600 mb-1\">Name</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"newAttendeeName\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"John Smith\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n\t\t\t\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label class=\"block text-xs text-gray-600 mb-1\">Email</label>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"newAttendeeEmail\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"john@example.com\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n\t\t\t\t\t\t\t\t\t\t:class=\"{ 'border-red-500': emailError }\"\n\t\t\t\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<p v-if=\"emailError\" class=\"text-xs text-red-600 mt-1\">{{ emailError }}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label class=\"block text-xs text-gray-600 mb-1\">Role/Title</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tv-model=\"newAttendeeRole\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"e.g., Architect, Consultant, Representative\"\n\t\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n\t\t\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t@click=\"addAttendee\"\n\t\t\t\t\t\t\t\t:disabled=\"!newAttendeeName || !newAttendeeEmail || booking\"\n\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-2 text-sm font-medium text-blue-600 border border-blue-300 hover:bg-blue-50 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAdd Attendee\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Info Box -->\n\t\t\t\t\t<div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n\t\t\t\t\t\t<h4 class=\"text-sm font-semibold text-blue-900 mb-2\">What happens next?</h4>\n\t\t\t\t\t\t<ul class=\"text-sm text-blue-800 space-y-1 list-disc list-inside\">\n\t\t\t\t\t\t\t<li>Your meeting request will be sent to the council processing team</li>\n\t\t\t\t\t\t\t<li>A council planner will contact you within 2 business days</li>\n\t\t\t\t\t\t\t<li>They will confirm one of your preferred times or propose alternatives</li>\n\t\t\t\t\t\t\t<li>A calendar invitation will be sent once confirmed</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Success Display -->\n\t\t\t\t\t<div v-if=\"success\" class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t<svg class=\"w-5 h-5 text-green-600 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<p class=\"text-sm text-green-800 font-medium\">Meeting request submitted successfully! The council will review and confirm your preferred time slots.</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Error Display -->\n\t\t\t\t\t<div v-if=\"error\" class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n\t\t\t\t\t\t<p class=\"text-sm text-red-800\">{{ error }}</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Buttons inside body to avoid overlay issues -->\n\t\t\t\t\t<div class=\"flex justify-end space-x-3 pt-4 border-t border-gray-200\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click=\"handleClose\"\n\t\t\t\t\t\t\t:disabled=\"booking\"\n\t\t\t\t\t\t\tclass=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click=\"handleBook\"\n\t\t\t\t\t\t\t:disabled=\"!isValid || booking\"\n\t\t\t\t\t\t\tclass=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span v-if=\"booking\">Requesting...</span>\n\t\t\t\t\t\t\t<span v-else>Request Meeting</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n"],"names":["MEETING_DURATION_MS","props","__props","emit","__emit","isOpen","computed","value","meetingType","ref","meetingPurpose","discussionPoints","booking","error","success","emailError","attendees","newAttendeeName","newAttendeeEmail","newAttendeeRole","showAvailableSlots","meetingConfig","createResource","availableSlots","watch","newVal","today","endDate","preferredTimes","calculateEndTime","startTime","start","formatEndTime","endTime","isValidEmail","email","isValid","slot","addAttendee","removeAttendee","index","selectAvailableSlot","slotIndex","toggleAvailableSlotsView","handleClose","handleBook","__async","filledTimeSlots","__spreadProps","__spreadValues","data","_a","err","_createBlock","_unref","Dialog","$event","_createElementVNode","_hoisted_1","_cache","_hoisted_2","_hoisted_6","_createElementBlock","_toDisplayString","_hoisted_7","_openBlock","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","_renderList","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","e","s","availSlot","idx","pt","ptIdx","_hoisted_18","_vModelSelect","_vModelText","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","attendee","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_28","_hoisted_29","_normalizeClass","_hoisted_32","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39"],"mappings":"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"}