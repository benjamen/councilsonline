import{aA as w,f as k,at as M,r as C,c as n,o as l,a as t,b as i,t as o,u as a,E as u,w as d,h as m,d as x,an as j,g as A,aB as B}from"./index-C9ps62F8.js";import{_ as b}from"./StatusBadge-CGSC2sy0.js";const N={class:"min-h-screen bg-gray-50"},D={class:"bg-white shadow-sm border-b border-gray-200"},V={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},z={class:"flex justify-between items-center py-4"},L={class:"flex items-center space-x-4"},H={class:"text-xl font-bold text-gray-900"},q={class:"text-sm text-gray-500"},P={class:"flex items-center space-x-3"},S={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},R={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},T={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},F={class:"lg:col-span-2 space-y-6"},$={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},I={class:"grid grid-cols-2 gap-4"},E={class:"mt-1 text-sm text-gray-900"},O={class:"mt-1 text-sm text-gray-900"},U={class:"mt-1"},G={class:"mt-1 text-sm text-gray-900"},K={class:"mt-6 pt-6 border-t border-gray-200"},Q={class:"mt-1 text-sm text-gray-900"},Z={class:"mt-4"},J=["innerHTML"],W={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},X={class:"grid grid-cols-2 gap-4"},Y={class:"mt-1 text-sm text-gray-900"},tt={class:"mt-1 text-sm text-gray-900"},st={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},et={class:"grid grid-cols-2 gap-4"},at={class:"mt-1 text-sm text-gray-900"},ot={class:"mt-1 text-sm text-gray-900"},lt={class:"mt-1 text-sm text-gray-900"},dt={class:"mt-1 text-sm text-gray-900"},it={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},rt={class:"flex justify-between items-center mb-4"},nt={class:"space-y-3"},mt={class:"flex justify-between items-center py-2 border-b border-gray-100"},ut={class:"text-sm font-semibold text-gray-900"},xt={class:"flex justify-between items-center py-2 border-b border-gray-100"},pt={class:"text-sm font-semibold text-green-600"},gt={class:"flex justify-between items-center py-2"},ct={class:"text-sm font-bold text-orange-600"},yt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ft={class:"flex justify-between items-center mb-4"},bt={key:0,class:"text-center py-8"},vt={class:"space-y-6"},_t={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ht={key:0,class:"mb-6 p-4 bg-blue-50 rounded-lg"},wt={class:"flex items-center justify-between mb-2"},kt={class:"text-xs text-blue-700"},Mt={class:"w-full bg-blue-200 rounded-full h-2"},Ct={class:"mt-2 text-xs text-blue-700"},jt={class:"space-y-4"},At={class:"flex items-start space-x-3"},Bt={class:"flex-1"},Nt={class:"text-xs text-gray-500"},Dt={key:0,class:"flex items-start space-x-3"},Vt={class:"flex-1"},zt={class:"text-xs text-gray-500"},Lt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Ht={class:"space-y-3"},Rt={__name:"RequestDetail",setup(qt){const v=w(),_=k(),e=M({url:"frappe.client.get",params:{doctype:"Request",name:v.params.id},auto:!0}),h=()=>{_.push({name:"Dashboard"})},p=g=>g?new Date(g).toLocaleDateString("en-NZ",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return(g,s)=>{var c,y,f;const r=C("Button");return l(),n("div",N,[t("header",D,[t("div",V,[t("div",z,[t("div",L,[t("button",{onClick:h,class:"text-gray-600 hover:text-gray-900"},[...s[0]||(s[0]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),t("div",null,[t("h1",H,o(((c=a(e).data)==null?void 0:c.request_number)||"Loading..."),1),t("p",q,o((y=a(e).data)==null?void 0:y.request_type),1)])]),t("div",P,[a(e).data?(l(),u(b,{key:0,status:a(e).data.status},null,8,["status"])):i("",!0),((f=a(e).data)==null?void 0:f.status)==="Draft"?(l(),u(r,{key:1,variant:"solid",theme:"blue"},{default:d(()=>[...s[1]||(s[1]=[m(" Submit Application ",-1)])]),_:1})):i("",!0)])])])]),a(e).loading?(l(),n("div",S,[...s[2]||(s[2]=[t("div",{class:"text-center"},[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t("p",{class:"mt-4 text-gray-500"},"Loading request details...")],-1)])])):a(e).data?(l(),n("div",R,[t("div",T,[t("div",F,[t("div",$,[s[9]||(s[9]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Application Overview",-1)),t("div",I,[t("div",null,[s[3]||(s[3]=t("label",{class:"text-sm font-medium text-gray-500"},"Request Number",-1)),t("p",E,o(a(e).data.request_number),1)]),t("div",null,[s[4]||(s[4]=t("label",{class:"text-sm font-medium text-gray-500"},"Type",-1)),t("p",O,o(a(e).data.request_type),1)]),t("div",null,[s[5]||(s[5]=t("label",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("div",U,[x(b,{status:a(e).data.status},null,8,["status"])])]),t("div",null,[s[6]||(s[6]=t("label",{class:"text-sm font-medium text-gray-500"},"Submitted Date",-1)),t("p",G,o(p(a(e).data.creation)),1)])]),t("div",K,[s[7]||(s[7]=t("label",{class:"text-sm font-medium text-gray-500"},"Brief Description",-1)),t("p",Q,o(a(e).data.brief_description||"N/A"),1)]),t("div",Z,[s[8]||(s[8]=t("label",{class:"text-sm font-medium text-gray-500"},"Detailed Description",-1)),t("div",{class:"mt-1 text-sm text-gray-900 prose prose-sm max-w-none",innerHTML:a(e).data.detailed_description||"N/A"},null,8,J)])]),t("div",W,[s[12]||(s[12]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Property Information",-1)),t("div",X,[t("div",null,[s[10]||(s[10]=t("label",{class:"text-sm font-medium text-gray-500"},"Property ID",-1)),t("p",Y,o(a(e).data.property||"N/A"),1)]),t("div",null,[s[11]||(s[11]=t("label",{class:"text-sm font-medium text-gray-500"},"Address",-1)),t("p",tt,o(a(e).data.property_address||"N/A"),1)])])]),t("div",st,[s[17]||(s[17]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Applicant Information",-1)),t("div",et,[t("div",null,[s[13]||(s[13]=t("label",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("p",at,o(a(e).data.applicant_name||"N/A"),1)]),t("div",null,[s[14]||(s[14]=t("label",{class:"text-sm font-medium text-gray-500"},"Email",-1)),t("p",ot,o(a(e).data.applicant_email||"N/A"),1)]),t("div",null,[s[15]||(s[15]=t("label",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),t("p",lt,o(a(e).data.applicant_phone||"N/A"),1)]),t("div",null,[s[16]||(s[16]=t("label",{class:"text-sm font-medium text-gray-500"},"Address",-1)),t("p",dt,o(a(e).data.applicant_address||"N/A"),1)])])]),t("div",it,[t("div",rt,[s[18]||(s[18]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Fees & Payments",-1)),t("span",{class:j(["text-sm font-medium",a(e).data.payment_status==="Paid"?"text-green-600":"text-orange-600"])},o(a(e).data.payment_status||"Unpaid"),3)]),t("div",nt,[t("div",mt,[s[19]||(s[19]=t("span",{class:"text-sm text-gray-600"},"Total Fees",-1)),t("span",ut,"$"+o((a(e).data.total_fees||0).toFixed(2)),1)]),t("div",xt,[s[20]||(s[20]=t("span",{class:"text-sm text-gray-600"},"Total Paid",-1)),t("span",pt,"$"+o((a(e).data.total_paid||0).toFixed(2)),1)]),t("div",gt,[s[21]||(s[21]=t("span",{class:"text-sm font-medium text-gray-900"},"Outstanding",-1)),t("span",ct,"$"+o(((a(e).data.total_fees||0)-(a(e).data.total_paid||0)).toFixed(2)),1)])]),(a(e).data.total_fees||0)>(a(e).data.total_paid||0)?(l(),u(r,{key:0,variant:"solid",theme:"blue",class:"w-full mt-4"},{default:d(()=>[...s[22]||(s[22]=[m(" Make Payment ",-1)])]),_:1})):i("",!0)]),t("div",yt,[t("div",ft,[s[25]||(s[25]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Documents",-1)),x(r,{variant:"outline",size:"sm"},{prefix:d(()=>[...s[23]||(s[23]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)])]),default:d(()=>[s[24]||(s[24]=m(" Upload Document ",-1))]),_:1})]),!a(e).data.attachments||a(e).data.attachments.length===0?(l(),n("div",bt,[...s[26]||(s[26]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",{class:"mt-2 text-sm text-gray-500"},"No documents uploaded yet",-1)])])):i("",!0)])]),t("div",vt,[t("div",_t,[s[32]||(s[32]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Processing Timeline",-1)),a(e).data.statutory_clock_started?(l(),n("div",ht,[t("div",wt,[s[27]||(s[27]=t("span",{class:"text-sm font-medium text-blue-900"},"Statutory Clock",-1)),t("span",kt,o(a(e).data.working_days_elapsed||0)+" of 20 days",1)]),t("div",Mt,[t("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:B({width:`${Math.min((a(e).data.working_days_elapsed||0)/20*100,100)}%`})},null,4)]),t("p",Ct,o(a(e).data.statutory_clock_stopped?"Clock stopped (RFI issued)":`${20-(a(e).data.working_days_elapsed||0)} days remaining`),1)])):i("",!0),t("div",jt,[t("div",At,[s[29]||(s[29]=t("div",{class:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),t("div",Bt,[s[28]||(s[28]=t("p",{class:"text-sm font-medium text-gray-900"},"Application Created",-1)),t("p",Nt,o(p(a(e).data.creation)),1)])]),a(e).data.modified!==a(e).data.creation?(l(),n("div",Dt,[s[31]||(s[31]=t("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})])],-1)),t("div",Vt,[s[30]||(s[30]=t("p",{class:"text-sm font-medium text-gray-900"},"Last Updated",-1)),t("p",zt,o(p(a(e).data.modified)),1)])])):i("",!0)])]),t("div",Lt,[s[39]||(s[39]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Quick Actions",-1)),t("div",Ht,[x(r,{variant:"outline",class:"w-full justify-start"},{prefix:d(()=>[...s[33]||(s[33]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})],-1)])]),default:d(()=>[s[34]||(s[34]=m(" Send Message ",-1))]),_:1}),x(r,{variant:"outline",class:"w-full justify-start"},{prefix:d(()=>[...s[35]||(s[35]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1)])]),default:d(()=>[s[36]||(s[36]=m(" Print Application ",-1))]),_:1}),a(e).data.status==="Draft"?(l(),u(r,{key:0,variant:"outline",class:"w-full justify-start text-red-600 hover:text-red-700"},{prefix:d(()=>[...s[37]||(s[37]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])]),default:d(()=>[s[38]||(s[38]=m(" Delete Draft ",-1))]),_:1})):i("",!0)])]),s[40]||(s[40]=A('<div class="bg-blue-50 rounded-lg border border-blue-200 p-6"><h3 class="text-sm font-semibold text-blue-900 mb-3">Need Help?</h3><p class="text-xs text-blue-800 mb-4">Contact our planning team for assistance with your application.</p><div class="space-y-2 text-xs text-blue-900"><div class="flex items-center space-x-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg><span>consents@council.govt.nz</span></div><div class="flex items-center space-x-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg><span>0800 LODGEICK</span></div></div></div>',1))])])])):i("",!0)])}}};export{Rt as default};
//# sourceMappingURL=RequestDetail-VeVd1975.js.map
