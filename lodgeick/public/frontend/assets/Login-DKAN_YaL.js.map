{"version":3,"file":"Login-DKAN_YaL.js","sources":["../../../../frontend/src/pages/Login.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gradient-to-br from-brand-light to-slate-100 flex items-center justify-center p-4\">\n    <div class=\"w-full max-w-md\">\n      <!-- Logo & Header -->\n      <div class=\"text-center mb-8\">\n        <div v-if=\"logo\" class=\"inline-flex items-center justify-center w-16 h-16 rounded-2xl mb-4 shadow-lg overflow-hidden\">\n          <img :src=\"logo\" :alt=\"displayName\" class=\"w-full h-full object-contain\" />\n        </div>\n        <div v-else class=\"inline-flex items-center justify-center w-16 h-16 bg-brand rounded-2xl mb-4 shadow-lg\">\n          <svg class=\"w-10 h-10 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n        </div>\n        <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Welcome Back</h1>\n        <p class=\"text-gray-600\">Sign in to your {{ displayName }} account</p>\n      </div>\n\n      <!-- Login Card -->\n      <div class=\"bg-white rounded-2xl shadow-xl p-8 border border-gray-100\">\n        <form @submit.prevent=\"submit\" class=\"space-y-5\">\n          <!-- Email/Username Input -->\n          <div>\n            <label for=\"email\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Email or Username\n            </label>\n            <Input\n              id=\"email\"\n              name=\"email\"\n              type=\"text\"\n              required\n              placeholder=\"Administrator or you@example.com\"\n              class=\"w-full\"\n            />\n          </div>\n\n          <!-- Password Input -->\n          <div>\n            <div class=\"flex items-center justify-between mb-2\">\n              <label for=\"password\" class=\"block text-sm font-medium text-gray-700\">\n                Password\n              </label>\n              <a href=\"#\" class=\"text-sm text-brand hover:text-brand-hover font-medium\">\n                Forgot password?\n              </a>\n            </div>\n            <Input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              required\n              placeholder=\"Enter your password\"\n              class=\"w-full\"\n            />\n          </div>\n\n          <!-- Remember Me -->\n          <div class=\"flex items-center\">\n            <input\n              id=\"remember-me\"\n              name=\"remember-me\"\n              type=\"checkbox\"\n              class=\"h-4 w-4 text-brand focus:ring-brand border-gray-300 rounded\"\n            />\n            <label for=\"remember-me\" class=\"ml-2 block text-sm text-gray-700\">\n              Remember me for 30 days\n            </label>\n          </div>\n\n          <!-- Error Message -->\n          <div v-if=\"session.login.error\" class=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n            <div class=\"flex items-start\">\n              <svg class=\"w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <p class=\"text-sm text-red-700\">{{ session.login.error }}</p>\n            </div>\n          </div>\n\n          <!-- Submit Button -->\n          <Button\n            type=\"submit\"\n            :loading=\"session.login.loading\"\n            variant=\"solid\"\n            class=\"w-full bg-brand hover:bg-brand-hover text-white py-3 text-base font-medium\"\n          >\n            <template v-if=\"!session.login.loading\">\n              Sign In\n            </template>\n            <template v-else>\n              Signing in...\n            </template>\n          </Button>\n        </form>\n\n        <!-- Divider -->\n        <div class=\"relative my-6\">\n          <div class=\"absolute inset-0 flex items-center\">\n            <div class=\"w-full border-t border-gray-200\"></div>\n          </div>\n          <div class=\"relative flex justify-center text-sm\">\n            <span class=\"px-4 bg-white text-gray-500\">or</span>\n          </div>\n        </div>\n\n        <!-- SSO Options (Optional) -->\n        <div class=\"space-y-3\">\n          <button\n            type=\"button\"\n            class=\"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition\"\n          >\n            <svg class=\"w-5 h-5 mr-2\" viewBox=\"0 0 24 24\">\n              <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n              <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n              <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n              <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n            </svg>\n            Continue with Google\n          </button>\n        </div>\n      </div>\n\n      <!-- Sign Up Link -->\n      <div class=\"text-center mt-6\">\n        <p class=\"text-sm text-gray-600\">\n          Don't have an account?\n          <router-link :to=\"{ name: 'Register' }\" class=\"font-medium text-brand hover:text-brand-hover\">\n            Create one now\n          </router-link>\n        </p>\n      </div>\n\n      <!-- Back to Home -->\n      <div class=\"text-center mt-4\">\n        <router-link to=\"/\" class=\"text-sm text-gray-500 hover:text-gray-700 inline-flex items-center\">\n          <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n          </svg>\n          Back to home\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { Button, Input } from \"frappe-ui\"\nimport { watch, computed } from \"vue\"\nimport { useRouter } from \"vue-router\"\nimport { session } from \"../data/session\"\nimport { useTheme } from \"@/composables/useTheme\"\n\nconst router = useRouter()\nconst { appName, logo, branding } = useTheme()\n\nconst displayName = computed(() => appName.value || \"Councils Online\")\n\nfunction submit(e) {\n\tconst formData = new FormData(e.target)\n\tsession.login.submit({\n\t\temail: formData.get(\"email\"),\n\t\tpassword: formData.get(\"password\"),\n\t})\n}\n\n// Watch for successful login and redirect\nwatch(\n\t() => session.isLoggedIn,\n\t(isLoggedIn) => {\n\t\tif (isLoggedIn) {\n\t\t\trouter.push({ name: \"Dashboard\" })\n\t\t}\n\t},\n)\n</script>\n"],"names":["router","useRouter","appName","logo","useTheme","displayName","computed","submit","e","formData","session","watch","isLoggedIn","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_unref","_hoisted_4","_hoisted_6","_cache","_hoisted_7","_toDisplayString","_hoisted_8","_createVNode","Input","_hoisted_9","_hoisted_10","_hoisted_11","Button","_Fragment","_hoisted_12","_hoisted_13","_component_router_link","_hoisted_14"],"mappings":"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"}