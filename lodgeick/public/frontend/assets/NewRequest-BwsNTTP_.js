var he=Object.defineProperty;var K=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var Z=(k,f,i)=>f in k?he(k,f,{enumerable:!0,configurable:!0,writable:!0,value:i}):k[f]=i,H=(k,f)=>{for(var i in f||(f={}))Ce.call(f,i)&&Z(k,i,f[i]);if(K)for(var i of K(f))Ae.call(f,i)&&Z(k,i,f[i]);return k};var j=(k,f,i)=>new Promise((U,S)=>{var F=x=>{try{P(i.next(x))}catch(_){S(_)}},y=x=>{try{P(i.throw(x))}catch(_){S(_)}},P=x=>x.done?U(x.value):Promise.resolve(x.value).then(F,y);P((i=i.apply(k,f)).next())});import{f as qe,r as w,j as M,k as L,c as n,o as r,a as t,b as A,t as p,w as c,h as g,u as v,i as h,F as V,m as D,q as E,d as m,l as a,v as T,x as d,g as q,I as Se,y as O,z as $}from"./index-CiFm1OZZ.js";const Pe={class:"min-h-screen bg-gray-50"},Re={class:"bg-white shadow-sm border-b border-gray-200"},Me={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ve={class:"flex items-center justify-between py-4"},De={class:"flex items-center space-x-3"},Te={class:"text-sm text-gray-500"},Ue={class:"bg-white border-b border-gray-200"},Fe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Ne={class:"flex items-center justify-between mb-2"},je={class:"flex flex-col items-center"},Ee={key:0},Ie={key:1},Be={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ze={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},He={key:0},Le={key:0,class:"text-center py-12"},Oe={key:1,class:"grid md:grid-cols-2 gap-4"},$e=["onClick"],We={class:"flex items-start justify-between"},Je={class:"flex-1"},Ge={class:"text-lg font-semibold text-gray-900 mb-2"},Xe=["innerHTML"],Ye={class:"mt-4 flex items-center space-x-4 text-xs text-gray-500"},Ke={key:0},Ze={key:1},Qe={key:2,class:"px-2 py-1 bg-gray-100 rounded"},et={key:0,class:"ml-4"},tt={key:1},st={class:"space-y-6"},ot=["value"],lt={class:"border-t border-gray-200 pt-6 mt-6"},rt={class:"grid md:grid-cols-2 gap-4"},nt={key:0,class:"space-y-4"},at={class:"grid md:grid-cols-2 gap-4"},it={key:2},dt={class:"space-y-6"},ut={class:"grid md:grid-cols-2 gap-4"},pt={key:3},mt={class:"space-y-6"},ct={class:"grid md:grid-cols-2 gap-4"},gt={class:"block text-sm font-medium text-gray-700 mb-2"},ft={key:0,class:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-900"},bt={key:1,class:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800"},vt={class:"border-t border-gray-200 pt-6 mt-6"},yt={class:"mb-4"},xt={class:"grid md:grid-cols-2 gap-4"},wt={class:"mb-4"},kt={class:"grid md:grid-cols-2 gap-4"},_t={class:"grid md:grid-cols-2 gap-4"},ht={class:"space-y-3"},Ct={class:"space-y-3"},At={class:"border-t border-gray-200 pt-6 mt-6"},qt={class:"space-y-4"},St={class:"grid md:grid-cols-2 gap-4"},Pt={class:"flex items-start mb-2"},Rt={key:0},Mt={class:"grid md:grid-cols-2 gap-4"},Vt={class:"border-t border-gray-200 pt-6 mt-6"},Dt={class:"border-t border-gray-200 pt-4"},Tt={class:"space-y-4"},Ut={class:"grid md:grid-cols-2 gap-4"},Ft={class:"border-t border-gray-200 pt-4"},Nt={class:"flex items-center justify-between mb-3"},jt={key:0,class:"space-y-2 mb-3"},Et={class:"flex-1"},It={class:"text-sm font-medium text-gray-900"},Bt={class:"text-xs text-gray-500"},zt={key:0,class:"text-xs text-green-600 mt-1"},Ht=["onClick"],Lt={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Ot={class:"border-t border-gray-200 pt-4"},$t={class:"flex items-center justify-between mb-3"},Wt={key:0,class:"space-y-2 mb-3"},Jt={class:"flex-1"},Gt={class:"text-sm font-medium text-gray-900"},Xt={class:"text-xs text-gray-500"},Yt=["onClick"],Kt={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Zt={class:"bg-green-50 border border-green-200 rounded-lg p-4"},Qt={class:"space-y-3"},es={class:"flex items-start"},ts={key:0},ss={key:0,class:"text-xs text-green-600 mt-1"},os={class:"border-t border-gray-200 pt-6 mt-6"},ls={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},rs={class:"flex items-start"},ns={class:"ml-3 flex-1"},as={key:4},is={class:"space-y-6"},ds={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition"},us={key:0,class:"space-y-2"},ps={class:"font-medium text-gray-900"},ms={class:"flex items-center space-x-3"},cs={class:"text-sm font-medium text-gray-900"},gs={class:"text-xs text-gray-500"},fs=["onClick"],bs={key:5},vs={class:"space-y-6"},ys={class:"border border-gray-200 rounded-lg p-6"},xs={class:"grid md:grid-cols-2 gap-4 text-sm"},ws={class:"font-medium text-gray-900 mt-1"},ks={class:"font-medium text-gray-900 mt-1"},_s={class:"font-medium text-gray-900 mt-1"},hs={class:"font-medium text-gray-900 mt-1"},Cs={class:"font-medium text-gray-900 mt-1"},As={class:"bg-gray-50 border border-gray-200 rounded-lg p-6"},qs={class:"flex items-start"},Ss={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},Ps={class:"space-y-2 text-sm"},Rs={class:"flex justify-between"},Ms={class:"font-medium text-blue-900"},Vs={class:"flex justify-between pt-2 border-t border-blue-200"},Ds={class:"text-lg font-bold text-blue-900"},Ts={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-6"},Us={class:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200"},Fs={key:1},Ns={class:"flex space-x-3"},js={key:2,class:"text-sm text-gray-500"},Bs={__name:"NewRequest",setup(k){const f=qe(),i=w(1),U=M(()=>N.value.length),S=w(!1),F=w(!1),y=w([]),P=w(null),x=w(!1),_=w(!1),B=w(!1),N=M(()=>{const l=[{title:"Type",number:1},{title:"Property",number:2},{title:"Details",number:3}];return R.value&&l.push({title:"RC Details",number:4}),l.push({title:"Documents",number:l.length+1},{title:"Review",number:l.length+2}),l}),o=w({request_type:"",request_category:"",property:"",property_address:"",legal_description:"",valuation_reference:"",zone:"",brief_description:"",detailed_description:"",estimated_value:null,proposed_start_date:"",terms_accepted:!1,applicant_phone:"",applicant_type:"",consent_types:"",activity_status:"",building_height:null,building_floor_area:null,earthworks_volume:null,earthworks_vertical_alteration:null,vehicle_movements_daily:null,parking_spaces_provided:null,hours_of_operation:"",consent_term_requested:"",site_topography:"",existing_vegetation_description:"",watercourses_present:!1,watercourse_description:"",natural_hazards_identified:"",existing_infrastructure:"",contamination_status_hail:"",assessment_of_effects:"",effects_on_people:"",physical_effects:"",earthworks_effects:"",discharge_contaminants_effects:"",ecosystem_effects:"",hazard_risk_assessment:"",cultural_effects:"",planning_assessment:"",alternatives_considered:"",mitigation_proposed:"",iwi_consultation_undertaken:!1,iwi_consulted:"",cultural_impact_assessment:null,proposed_conditions:"",affected_parties:[],specialist_reports:[]}),Q=w(JSON.parse(JSON.stringify(o.value))),ee=M(()=>{const l=H({},o.value),e=H({},Q.value);delete l.terms_accepted,delete e.terms_accepted;const s=JSON.stringify(l),u=JSON.stringify(e);return s!==u}),R=M(()=>o.value.request_category==="Resource Consent"),W=M(()=>{if(!o.value.activity_status)return null;switch(o.value.activity_status){case"Non-Complying":return"⚠️ Non-complying activities face higher scrutiny and longer processing times. Consider pre-application meeting.";case"Discretionary":return"ℹ️ Discretionary activities may require public notification depending on effects assessment.";case"Controlled":return"✓ Controlled activities must be granted consent. Council will focus on appropriate conditions.";default:return null}}),te=M(()=>ee.value||y.value.length>0),I=L({url:"lodgeick.lodgeick.doctype.request_type.request_type.get_active_request_types",auto:!0,onError(l){var e;console.error("[NewRequest] Failed to load Request Types:",l),alert(`Error loading Request Types: ${((e=l.messages)==null?void 0:e[0])||l.message||"Unknown error"}. Please refresh the page or contact support.`)},onSuccess(l){console.log("[NewRequest] Loaded Request Types:",(l==null?void 0:l.length)||0,"types")}}),J=L({url:"frappe.client.get_list",params:{doctype:"Property",fields:["name","property_id","street_address","suburb","city"],limit_page_length:100},auto:!0}),se=()=>{confirm("Are you sure you want to leave? Any unsaved changes will be lost.")&&f.push({name:"Dashboard"})},oe=l=>l<i.value||l===i.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-600",le=l=>{console.log("[NewRequest] Selecting Request Type:",l.name,l.type_name),o.value.request_type=l.name,o.value.request_category=l.category||"",console.log("[NewRequest] Form data updated:",{request_type:o.value.request_type,request_category:o.value.request_category})},re=()=>{if(o.value.property){const l=J.data.find(e=>e.name===o.value.property);l&&(o.value.property_address=`${l.street_address}, ${l.suburb}, ${l.city}`)}},G=()=>{switch(i.value){case 1:const l=!!o.value.request_type;return console.log("[NewRequest] canProceed Step 1:",l,"request_type:",o.value.request_type),l;case 2:const e=o.value.property||o.value.property_address,s=o.value.applicant_phone&&o.value.applicant_type;return!!(e&&s);case 3:return!!o.value.brief_description&&!!o.value.detailed_description;case 4:return R.value?!!(o.value.consent_types&&o.value.activity_status&&o.value.assessment_of_effects&&o.value.planning_assessment):!0;case 5:return!0;default:return!0}},ne=()=>{const l=U.value,e=i.value,s=G();console.log("[NewRequest] nextStep called",{canProceed:s,currentStep:e,totalSteps:l,steps:N.value,willProceed:s&&e<l}),s&&e<l?(i.value++,console.log("[NewRequest] Moved to step:",i.value)):console.warn("[NewRequest] Cannot proceed:",{canProceed:s,currentStep:e,totalSteps:l,reason:s?"at last step":"canProceed returned false"})},ae=()=>{i.value>1&&i.value--},X=()=>j(this,null,function*(){S.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:o.value})})).json();if(e.message&&e.message.success)alert(`Draft saved successfully! Request ID: ${e.message.request_number}`);else throw new Error(e.message||"Failed to save draft")}catch(l){console.error("Error saving draft:",l),alert("Failed to save draft. Please try again.")}finally{S.value=!1}}),ie=()=>{P.value.click()},de=l=>{const e=Array.from(l.target.files);y.value.push(...e)},ue=l=>{y.value.splice(l,1)},pe=l=>{if(l===0)return"0 Bytes";const e=1024,s=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(l)/Math.log(e));return Math.round(l/Math.pow(e,u)*100)/100+" "+s[u]},me=()=>{var e;const l=(e=I.data)==null?void 0:e.find(s=>s.name===o.value.request_type);return(l==null?void 0:l.type_name)||"N/A"},Y=()=>{var e;const l=(e=I.data)==null?void 0:e.find(s=>s.name===o.value.request_type);return l!=null&&l.base_fee?`$${l.base_fee}`:"TBD"},ce=()=>j(this,null,function*(){if(!o.value.terms_accepted){alert("Please accept the terms and conditions");return}F.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:o.value})})).json();if(!e.message||!e.message.success)throw new Error("Failed to create request");const s=e.message.request_id;if(y.value.length>0)for(const z of y.value){const C=new FormData;C.append("file",z),C.append("doctype","Request"),C.append("docname",s),C.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:C})}const b=yield(yield fetch("/api/method/lodgeick.lodgeick.doctype.request.request.submit_application",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:s})})).json();if(b.message&&b.message.success)alert(`Application submitted successfully! Request Number: ${b.message.request_number}`),f.push({name:"Dashboard"});else throw new Error("Failed to submit application")}catch(l){console.error("Error submitting application:",l),alert("Failed to submit application")}finally{F.value=!1}}),ge=()=>j(this,null,function*(){if(!o.value.request_type){alert("Please complete your application details first");return}x.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:o.value})})).json();if(!e.message||!e.message.success)throw new Error("Failed to save application");const s=e.message.request_id,b=yield(yield fetch("/api/method/lodgeick.api.book_council_meeting",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:s,meeting_type:"Pre-Application Meeting"})})).json();if(b.message&&b.message.success)alert(`Pre-Application Meeting request has been submitted! A council officer will contact you within 2 business days to schedule the meeting. Task ID: ${b.message.task_id}`);else throw new Error(b.message||"Failed to book meeting")}catch(l){console.error("Error booking meeting:",l),alert("Failed to book pre-application meeting. Please try again.")}finally{x.value=!1}}),fe=w(null),be=()=>{const l=prompt("Enter affected party name:");if(!l)return;const e=prompt("Enter address:");if(!e)return;const s=confirm("Has written approval been obtained from this party?");o.value.affected_parties.push({party_name:l,address:e,written_approval_obtained:s})},ve=l=>{confirm("Remove this affected party?")&&o.value.affected_parties.splice(l,1)},ye=()=>{const l=["Traffic Assessment","Geotechnical Report","Acoustic Assessment","Stormwater Design","Ecological Assessment","Heritage Impact Assessment","Archaeological Assessment","Landscape Assessment","Other"],e=prompt(`Select report type:
${l.map((z,C)=>`${C+1}. ${z}`).join(`
`)}

Enter number or type custom:`);if(!e)return;const s=l[parseInt(e)-1]||e,u=prompt("Enter specialist/consultant name:");if(!u)return;const b=prompt("Enter date prepared (YYYY-MM-DD):");o.value.specialist_reports.push({report_type:s,specialist_name:u,date_prepared:b||new Date().toISOString().split("T")[0]})},xe=l=>{confirm("Remove this specialist report?")&&o.value.specialist_reports.splice(l,1)},we=l=>{const e=l.target.files[0];if(e){if(e.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type)){alert("Only PDF and Word documents are allowed"),l.target.value="";return}o.value.cultural_impact_assessment=e}},ke=L({url:"lodgeick.api.book_council_meeting",makeParams:l=>l,onSuccess:l=>{l&&l.success?alert(`✅ Pre-Application Meeting Request Sent!

Task #${l.task_id} has been created for the planning team.

They will contact you within 2 business days to schedule.`):alert("Meeting request sent successfully! The planning team will contact you soon."),_.value=!1},onError:l=>{console.error("Error requesting meeting:",l),alert("Failed to request pre-application meeting. Please try again or contact the planning team directly."),_.value=!1}}),_e=()=>j(this,null,function*(){if(!o.value.request_type||!o.value.property_address){alert("Please complete the Request Type and Property Details first.");return}if(confirm(`Request a pre-application meeting? A planning officer will contact you within 2 business days to schedule.

Note: You should save your application as a draft first.`))try{_.value=!0;const l=yield X();if(!l||!l.request_id){alert("Please save your draft application first."),_.value=!1;return}ke.submit({request_id:l.request_id,meeting_type:"Pre-Application Meeting"})}catch(l){console.error("Error in meeting request:",l),alert("Failed to request pre-application meeting. Please try again."),_.value=!1}});return(l,e)=>(r(),n("div",Pe,[t("header",Re,[t("div",Me,[t("div",Ve,[t("div",De,[t("button",{onClick:se,class:"text-gray-500 hover:text-gray-700"},[...e[44]||(e[44]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),t("div",null,[e[45]||(e[45]=t("h1",{class:"text-xl font-bold text-gray-900"},"New Application",-1)),t("p",Te,"Step "+p(i.value)+" of "+p(U.value),1)])]),A(v(h),{onClick:X,variant:"outline",theme:"gray",loading:S.value},{default:c(()=>[...e[46]||(e[46]=[g(" Save Draft ",-1)])]),_:1},8,["loading"])])])]),t("div",Ue,[t("div",Fe,[t("div",Ne,[(r(!0),n(V,null,D(N.value,(s,u)=>(r(),n("div",{key:u,class:E(["flex items-center",{"flex-1":u<N.value.length-1}])},[t("div",je,[t("div",{class:E(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",oe(u+1)])},[u+1<i.value?(r(),n("span",Ee,"✓")):(r(),n("span",Ie,p(u+1),1))],2),t("span",{class:E(["text-xs mt-2 text-center",u+1===i.value?"text-blue-600 font-medium":"text-gray-500"])},p(s.title),3)]),u<N.value.length-1?(r(),n("div",{key:0,class:E(["flex-1 h-1 mx-4 rounded",u+1<i.value?"bg-blue-600":"bg-gray-200"])},null,2)):m("",!0)],2))),128))])])]),t("main",Be,[t("div",ze,[i.value===1?(r(),n("div",He,[e[49]||(e[49]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Application Type",-1)),e[50]||(e[50]=t("p",{class:"text-gray-600 mb-8"},"Choose the type of consent you wish to apply for",-1)),v(I).loading?(r(),n("div",Le,[...e[47]||(e[47]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):(r(),n("div",Oe,[(r(!0),n(V,null,D(v(I).data,s=>(r(),n("div",{key:s.name,onClick:u=>le(s),class:E(["border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md",o.value.request_type===s.name?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[t("div",We,[t("div",Je,[t("h3",Ge,p(s.type_name),1),t("p",{class:"text-sm text-gray-600",innerHTML:s.description||"No description available"},null,8,Xe),t("div",Ye,[s.base_fee?(r(),n("span",Ke,"Fee: $"+p(s.base_fee),1)):m("",!0),s.processing_sla_days?(r(),n("span",Ze,p(s.processing_sla_days)+" days",1)):m("",!0),s.category?(r(),n("span",Qe,p(s.category),1)):m("",!0)])]),o.value.request_type===s.name?(r(),n("div",et,[...e[48]||(e[48]=[t("div",{class:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):m("",!0)])],10,$e))),128))]))])):m("",!0),i.value===2?(r(),n("div",tt,[e[64]||(e[64]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Property Details",-1)),e[65]||(e[65]=t("p",{class:"text-gray-600 mb-8"},"Provide details about the property for this application",-1)),t("div",st,[t("div",null,[e[52]||(e[52]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Existing Property or Enter New ",-1)),a(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.value.property=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:re},[e[51]||(e[51]=t("option",{value:""},"-- Select a property or enter new --",-1)),(r(!0),n(V,null,D(v(J).data,s=>(r(),n("option",{key:s.name,value:s.name},p(s.property_id)+" - "+p(s.street_address)+", "+p(s.suburb),9,ot))),128))],544),[[T,o.value.property]])]),t("div",lt,[e[58]||(e[58]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Applicant Contact Information *",-1)),t("div",rt,[t("div",null,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Contact Phone *",-1)),a(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.applicant_phone=s),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[d,o.value.applicant_phone]]),e[54]||(e[54]=t("p",{class:"mt-1 text-xs text-gray-500"},"Required for application processing",-1))]),t("div",null,[e[56]||(e[56]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Applicant Type *",-1)),a(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.applicant_type=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...e[55]||(e[55]=[q('<option value="">Select applicant type</option><option value="Individual">Individual</option><option value="Company">Company</option><option value="Trust">Trust</option><option value="Partnership">Partnership</option>',5)])],512),[[T,o.value.applicant_type]]),e[57]||(e[57]=t("p",{class:"mt-1 text-xs text-gray-500"},"Type of entity making this application",-1))])])]),o.value.property?m("",!0):(r(),n("div",nt,[t("div",null,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Property Address *",-1)),a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.property_address=s),type:"text",placeholder:"123 Main Street, Wellington",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.property_address]])]),t("div",at,[t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Legal Description",-1)),a(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.legal_description=s),type:"text",placeholder:"Lot 1 DP 12345",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.legal_description]])]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Valuation Reference",-1)),a(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.value.valuation_reference=s),type:"text",placeholder:"1234567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.valuation_reference]])])]),t("div",null,[e[63]||(e[63]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Zone",-1)),a(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.value.zone=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...e[62]||(e[62]=[q('<option value="">Select zone</option><option value="Residential">Residential</option><option value="Commercial">Commercial</option><option value="Industrial">Industrial</option><option value="Rural">Rural</option><option value="Mixed Use">Mixed Use</option>',6)])],512),[[T,o.value.zone]])])]))])])):m("",!0),i.value===3?(r(),n("div",it,[e[71]||(e[71]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Application Details",-1)),e[72]||(e[72]=t("p",{class:"text-gray-600 mb-8"},"Describe your proposed activity or development",-1)),t("div",dt,[t("div",null,[e[66]||(e[66]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Brief Description *",-1)),a(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.brief_description=s),type:"text",placeholder:"e.g., Two-storey residential dwelling",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.brief_description]])]),t("div",null,[e[67]||(e[67]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Detailed Description *",-1)),a(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=s=>o.value.detailed_description=s),rows:"6",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Provide a detailed description of the proposed activity, including any relevant technical details, dimensions, materials, and timeframes..."},null,512),[[d,o.value.detailed_description]])]),t("div",ut,[t("div",null,[e[69]||(e[69]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Estimated Project Value",-1)),A(v(Se),{modelValue:o.value.estimated_value,"onUpdate:modelValue":e[9]||(e[9]=s=>o.value.estimated_value=s),placeholder:"e.g., 500000",type:"number"},{prefix:c(()=>[...e[68]||(e[68]=[t("span",{class:"text-gray-500"},"$",-1)])]),_:1},8,["modelValue"])]),t("div",null,[e[70]||(e[70]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Proposed Start Date",-1)),a(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>o.value.proposed_start_date=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.proposed_start_date]])])])])])):m("",!0),R.value&&i.value===4?(r(),n("div",pt,[e[144]||(e[144]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Resource Consent Details",-1)),e[145]||(e[145]=t("p",{class:"text-gray-600 mb-8"},"Provide Resource Management Act (RMA) specific information",-1)),t("div",mt,[t("div",ct,[t("div",null,[e[74]||(e[74]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Consent Type * ",-1)),a(t("select",{"onUpdate:modelValue":e[11]||(e[11]=s=>o.value.consent_types=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...e[73]||(e[73]=[q('<option value="">Select consent type</option><option value="Land Use">Land Use</option><option value="Subdivision">Subdivision</option><option value="Discharge Permit">Discharge Permit</option><option value="Water Permit">Water Permit</option><option value="Coastal Permit">Coastal Permit</option>',6)])],512),[[T,o.value.consent_types]]),e[75]||(e[75]=t("p",{class:"mt-1 text-xs text-gray-500"},"Type of resource consent under the RMA",-1))]),t("div",null,[t("label",gt,[e[77]||(e[77]=g(" Activity Status * ",-1)),t("button",{type:"button",onClick:e[12]||(e[12]=s=>B.value=!B.value),class:"ml-1 text-blue-600 hover:text-blue-800",title:"Click for help"},[...e[76]||(e[76]=[t("svg",{class:"w-4 h-4 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])]),B.value?(r(),n("div",ft,[...e[78]||(e[78]=[q('<p class="font-semibold mb-2">RMA Activity Status Guide:</p><ul class="space-y-1 ml-4 list-disc"><li><strong>Permitted:</strong> Allowed without consent (no application needed)</li><li><strong>Controlled:</strong> Consent must be granted; council sets conditions</li><li><strong>Restricted Discretionary:</strong> Council has limited grounds to decline</li><li><strong>Discretionary:</strong> Council has full discretion to grant or decline</li><li><strong>Non-Complying:</strong> Does not comply with plan; requires special justification</li><li><strong>Prohibited:</strong> Cannot be consented under any circumstances</li></ul><p class="mt-2 text-xs text-blue-700">Check your district plan zone rules to determine status</p>',3)])])):m("",!0),a(t("select",{"onUpdate:modelValue":e[13]||(e[13]=s=>o.value.activity_status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...e[79]||(e[79]=[q('<option value="">Select activity status</option><option value="Controlled">Controlled</option><option value="Restricted Discretionary">Restricted Discretionary</option><option value="Discretionary">Discretionary</option><option value="Non-Complying">Non-Complying</option>',5)])],512),[[T,o.value.activity_status]]),e[80]||(e[80]=t("p",{class:"mt-1 text-xs text-gray-500"},"Activity classification under district plan",-1)),W.value?(r(),n("div",bt,p(W.value),1)):m("",!0)])]),t("div",vt,[e[93]||(e[93]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Proposal Details",-1)),e[94]||(e[94]=t("p",{class:"text-xs text-gray-500 mb-4"},"Provide details about your proposed development (all fields optional)",-1)),t("div",yt,[e[83]||(e[83]=t("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Building/Structure Dimensions",-1)),t("div",xt,[t("div",null,[e[81]||(e[81]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Building Height (metres)",-1)),a(t("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>o.value.building_height=s),type:"number",placeholder:"e.g., 8.5",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.building_height]])]),t("div",null,[e[82]||(e[82]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Total Floor Area (m²)",-1)),a(t("input",{"onUpdate:modelValue":e[15]||(e[15]=s=>o.value.building_floor_area=s),type:"number",placeholder:"e.g., 250",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.building_floor_area]])])])]),t("div",wt,[e[86]||(e[86]=t("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Earthworks",-1)),t("div",kt,[t("div",null,[e[84]||(e[84]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Earthworks Volume (m³)",-1)),a(t("input",{"onUpdate:modelValue":e[16]||(e[16]=s=>o.value.earthworks_volume=s),type:"number",placeholder:"e.g., 150",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.earthworks_volume]])]),t("div",null,[e[85]||(e[85]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Maximum Vertical Alteration (metres)",-1)),a(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>o.value.earthworks_vertical_alteration=s),type:"number",placeholder:"e.g., 2.5",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.earthworks_vertical_alteration]])])])]),t("div",_t,[t("div",null,[e[89]||(e[89]=t("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Traffic & Parking",-1)),t("div",ht,[t("div",null,[e[87]||(e[87]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Additional Vehicle Movements/Day",-1)),a(t("input",{"onUpdate:modelValue":e[18]||(e[18]=s=>o.value.vehicle_movements_daily=s),type:"number",placeholder:"e.g., 20",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.vehicle_movements_daily]])]),t("div",null,[e[88]||(e[88]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Parking Spaces Provided",-1)),a(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>o.value.parking_spaces_provided=s),type:"number",placeholder:"e.g., 4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.parking_spaces_provided]])])])]),t("div",null,[e[92]||(e[92]=t("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Operations",-1)),t("div",Ct,[t("div",null,[e[90]||(e[90]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Hours of Operation",-1)),a(t("input",{"onUpdate:modelValue":e[20]||(e[20]=s=>o.value.hours_of_operation=s),type:"text",placeholder:"e.g., Mon-Fri 8am-6pm",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.hours_of_operation]])]),t("div",null,[e[91]||(e[91]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Consent Term Requested",-1)),a(t("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>o.value.consent_term_requested=s),type:"text",placeholder:"e.g., 5 years, Unlimited",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,o.value.consent_term_requested]])])])])])]),t("div",At,[e[102]||(e[102]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Site & Environment",-1)),e[103]||(e[103]=t("p",{class:"text-xs text-gray-500 mb-4"},"Describe existing site conditions and environmental features (all fields optional)",-1)),t("div",qt,[t("div",null,[e[95]||(e[95]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Site Topography",-1)),a(t("textarea",{"onUpdate:modelValue":e[22]||(e[22]=s=>o.value.site_topography=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Generally flat with gentle slope to north, approximately 10m elevation..."},null,512),[[d,o.value.site_topography]])]),t("div",null,[e[96]||(e[96]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Existing Vegetation",-1)),a(t("textarea",{"onUpdate:modelValue":e[23]||(e[23]=s=>o.value.existing_vegetation_description=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe existing trees, shrubs, native vegetation, notable specimens..."},null,512),[[d,o.value.existing_vegetation_description]])]),t("div",St,[t("div",null,[t("div",Pt,[a(t("input",{type:"checkbox","onUpdate:modelValue":e[24]||(e[24]=s=>o.value.watercourses_present=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[O,o.value.watercourses_present]]),e[97]||(e[97]=t("label",{class:"ml-3 text-xs font-medium text-gray-700"}," Watercourses/Wetlands Present on Site ",-1))]),o.value.watercourses_present?(r(),n("div",Rt,[a(t("textarea",{"onUpdate:modelValue":e[25]||(e[25]=s=>o.value.watercourse_description=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe watercourses, streams, wetlands..."},null,512),[[d,o.value.watercourse_description]])])):m("",!0)]),t("div",null,[e[99]||(e[99]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"HAIL Contamination Status",-1)),a(t("select",{"onUpdate:modelValue":e[26]||(e[26]=s=>o.value.contamination_status_hail=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"},[...e[98]||(e[98]=[q('<option value="">Select contamination status</option><option value="Not Assessed">Not Assessed</option><option value="Not HAIL">Not HAIL (Hazardous Activities and Industries List)</option><option value="HAIL - Not Investigated">HAIL - Not Investigated</option><option value="HAIL - Investigated (Clean)">HAIL - Investigated (Clean)</option><option value="HAIL - Contaminated">HAIL - Contaminated</option>',6)])],512),[[T,o.value.contamination_status_hail]])])]),t("div",Mt,[t("div",null,[e[100]||(e[100]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Natural Hazards",-1)),a(t("textarea",{"onUpdate:modelValue":e[27]||(e[27]=s=>o.value.natural_hazards_identified=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Flood zone, liquefaction risk, slope instability..."},null,512),[[d,o.value.natural_hazards_identified]])]),t("div",null,[e[101]||(e[101]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Existing Infrastructure",-1)),a(t("textarea",{"onUpdate:modelValue":e[28]||(e[28]=s=>o.value.existing_infrastructure=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Wastewater, stormwater, electricity connections..."},null,512),[[d,o.value.existing_infrastructure]])])])])]),t("div",Vt,[e[104]||(e[104]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Assessment of Environmental Effects (AEE) * ",-1)),a(t("textarea",{"onUpdate:modelValue":e[29]||(e[29]=s=>o.value.assessment_of_effects=s),rows:"8",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the actual and potential effects on the environment as per Schedule 4 of the RMA. Include effects on people, physical environment, ecosystems, and cultural/heritage values...",required:""},null,512),[[d,o.value.assessment_of_effects]]),e[105]||(e[105]=t("p",{class:"mt-1 text-xs text-gray-500"},"Required under Schedule 4 of the Resource Management Act",-1))]),t("div",Dt,[e[113]||(e[113]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Detailed Effects Assessment (Optional)",-1)),e[114]||(e[114]=t("p",{class:"text-xs text-gray-500 mb-4"},"Break down your AEE into specific effect categories for a more comprehensive assessment",-1)),t("div",Tt,[t("div",null,[e[106]||(e[106]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Effects on People",-1)),a(t("textarea",{"onUpdate:modelValue":e[30]||(e[30]=s=>o.value.effects_on_people=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Privacy, sunlight access, visual amenity, noise impacts..."},null,512),[[d,o.value.effects_on_people]])]),t("div",null,[e[107]||(e[107]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Physical Effects",-1)),a(t("textarea",{"onUpdate:modelValue":e[31]||(e[31]=s=>o.value.physical_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Traffic, parking, stormwater, infrastructure impacts..."},null,512),[[d,o.value.physical_effects]])]),t("div",null,[e[108]||(e[108]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Earthworks Effects",-1)),a(t("textarea",{"onUpdate:modelValue":e[32]||(e[32]=s=>o.value.earthworks_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Soil disturbance, erosion, sediment control, slope stability, construction impacts..."},null,512),[[d,o.value.earthworks_effects]])]),t("div",null,[e[109]||(e[109]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Discharge/Contaminants Effects",-1)),a(t("textarea",{"onUpdate:modelValue":e[33]||(e[33]=s=>o.value.discharge_contaminants_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Stormwater discharge, wastewater, air quality, dust, odour, contaminant management..."},null,512),[[d,o.value.discharge_contaminants_effects]])]),t("div",null,[e[110]||(e[110]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Ecosystem Effects",-1)),a(t("textarea",{"onUpdate:modelValue":e[34]||(e[34]=s=>o.value.ecosystem_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Indigenous vegetation, habitat values, watercourses, biodiversity..."},null,512),[[d,o.value.ecosystem_effects]])]),t("div",null,[e[111]||(e[111]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Hazard Risk Assessment",-1)),a(t("textarea",{"onUpdate:modelValue":e[35]||(e[35]=s=>o.value.hazard_risk_assessment=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Flood risk, liquefaction, slope instability, coastal hazards, seismic risk..."},null,512),[[d,o.value.hazard_risk_assessment]])]),t("div",null,[e[112]||(e[112]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Cultural/Heritage Effects",-1)),a(t("textarea",{"onUpdate:modelValue":e[36]||(e[36]=s=>o.value.cultural_effects=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Heritage values, sites of significance to Māori, archaeological sites..."},null,512),[[d,o.value.cultural_effects]])])])]),t("div",null,[e[115]||(e[115]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Planning Assessment * ",-1)),a(t("textarea",{"onUpdate:modelValue":e[37]||(e[37]=s=>o.value.planning_assessment=s),rows:"6",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Assess the proposal against relevant district plan provisions, objectives and policies. Address how the proposal aligns with planning framework...",required:""},null,512),[[d,o.value.planning_assessment]]),e[116]||(e[116]=t("p",{class:"mt-1 text-xs text-gray-500"},"Assessment against district plan objectives and policies",-1))]),t("div",Ut,[t("div",null,[e[117]||(e[117]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Alternatives Considered ",-1)),a(t("textarea",{"onUpdate:modelValue":e[38]||(e[38]=s=>o.value.alternatives_considered=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"What alternative designs, locations, or methods were considered?..."},null,512),[[d,o.value.alternatives_considered]])]),t("div",null,[e[118]||(e[118]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Mitigation Measures ",-1)),a(t("textarea",{"onUpdate:modelValue":e[39]||(e[39]=s=>o.value.mitigation_proposed=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"What measures will be implemented to avoid, remedy or mitigate adverse effects?..."},null,512),[[d,o.value.mitigation_proposed]])])]),t("div",Ft,[t("div",Nt,[e[121]||(e[121]=t("h3",{class:"text-sm font-semibold text-gray-900"},"Affected Parties",-1)),A(v(h),{onClick:be,variant:"outline",theme:"blue",size:"sm"},{prefix:c(()=>[...e[119]||(e[119]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:c(()=>[e[120]||(e[120]=g(" Add Party ",-1))]),_:1})]),e[124]||(e[124]=t("p",{class:"text-xs text-gray-500 mb-3"}," List any parties (neighbors, landowners, etc.) who may be adversely affected by the proposal ",-1)),o.value.affected_parties.length>0?(r(),n("div",jt,[(r(!0),n(V,null,D(o.value.affected_parties,(s,u)=>(r(),n("div",{key:u,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200"},[t("div",Et,[t("p",It,p(s.party_name),1),t("p",Bt,p(s.address),1),s.written_approval_obtained?(r(),n("p",zt," ✓ Written approval obtained ")):m("",!0)]),t("button",{onClick:b=>ve(u),class:"text-red-600 hover:text-red-800"},[...e[122]||(e[122]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ht)]))),128))])):(r(),n("div",Lt,[...e[123]||(e[123]=[t("p",{class:"text-sm text-gray-500"},"No affected parties added yet",-1)])]))]),t("div",Ot,[t("div",$t,[e[127]||(e[127]=t("h3",{class:"text-sm font-semibold text-gray-900"},"Specialist Reports",-1)),A(v(h),{onClick:ye,variant:"outline",theme:"blue",size:"sm"},{prefix:c(()=>[...e[125]||(e[125]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:c(()=>[e[126]||(e[126]=g(" Add Report ",-1))]),_:1})]),e[130]||(e[130]=t("p",{class:"text-xs text-gray-500 mb-3"}," Add any specialist technical reports (traffic, geotechnical, acoustic, ecological, etc.) ",-1)),o.value.specialist_reports.length>0?(r(),n("div",Wt,[(r(!0),n(V,null,D(o.value.specialist_reports,(s,u)=>(r(),n("div",{key:u,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200"},[t("div",Jt,[t("p",Gt,p(s.report_type),1),t("p",Xt,p(s.specialist_name)+" | "+p(s.date_prepared),1)]),t("button",{onClick:b=>xe(u),class:"text-red-600 hover:text-red-800"},[...e[128]||(e[128]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Yt)]))),128))])):(r(),n("div",Kt,[...e[129]||(e[129]=[t("p",{class:"text-sm text-gray-500"},"No specialist reports added yet",-1),t("p",{class:"text-xs text-gray-400 mt-1"},"Upload report files in the Documents step",-1)])]))]),t("div",Zt,[e[134]||(e[134]=t("h3",{class:"text-sm font-semibold text-green-900 mb-3"},[g(" Iwi Consultation "),t("span",{class:"ml-2 text-xs font-normal text-green-700"},"(Treaty of Waitangi obligations)")],-1)),t("div",Qt,[t("div",es,[a(t("input",{type:"checkbox","onUpdate:modelValue":e[40]||(e[40]=s=>o.value.iwi_consultation_undertaken=s),class:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"},null,512),[[O,o.value.iwi_consultation_undertaken]]),e[131]||(e[131]=t("label",{class:"ml-3 text-sm text-green-800"}," Consultation with iwi/hapū has been undertaken ",-1))]),o.value.iwi_consultation_undertaken?(r(),n("div",ts,[e[132]||(e[132]=t("label",{class:"block text-xs font-medium text-green-700 mb-1"}," Iwi/Hapū Consulted ",-1)),a(t("textarea",{"onUpdate:modelValue":e[41]||(e[41]=s=>o.value.iwi_consulted=s),rows:"2",class:"w-full px-3 py-2 border border-green-300 rounded-lg text-sm bg-white",placeholder:"List the iwi/hapū that were consulted and summarize their response..."},null,512),[[d,o.value.iwi_consulted]]),e[133]||(e[133]=t("label",{class:"block text-xs font-medium text-green-700 mb-1 mt-3"}," Cultural Impact Assessment (CIA) Document ",-1)),t("input",{type:"file",ref_key:"ciaFileInput",ref:fe,onChange:we,accept:".pdf,.doc,.docx",class:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-green-100 file:text-green-700 hover:file:bg-green-200"},null,544),o.value.cultural_impact_assessment?(r(),n("p",ss," ✓ "+p(o.value.cultural_impact_assessment.name)+" uploaded ",1)):m("",!0)])):m("",!0)])]),t("div",null,[e[135]||(e[135]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Proposed Conditions (Optional) ",-1)),a(t("textarea",{"onUpdate:modelValue":e[42]||(e[42]=s=>o.value.proposed_conditions=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"If you wish to propose specific conditions of consent, list them here..."},null,512),[[d,o.value.proposed_conditions]]),e[136]||(e[136]=t("p",{class:"mt-1 text-xs text-gray-500"},"The council will determine final consent conditions",-1))]),t("div",os,[t("div",ls,[t("div",rs,[e[143]||(e[143]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t("div",ns,[e[139]||(e[139]=t("h3",{class:"text-sm font-semibold text-blue-900 mb-2"}," Need Help with Your Application? ",-1)),e[140]||(e[140]=t("p",{class:"text-sm text-blue-800 mb-3"},[g(" For "),t("strong",null,"discretionary"),g(" or "),t("strong",null,"non-complying"),g(" activities, we recommend booking a pre-application meeting with our planning team. This can help: ")],-1)),e[141]||(e[141]=t("ul",{class:"text-sm text-blue-800 space-y-1 ml-4 list-disc mb-4"},[t("li",null,"Clarify district plan requirements"),t("li",null,"Identify potential issues early"),t("li",null,"Understand what information you'll need"),t("li",null,"Get preliminary feedback on your proposal")],-1)),A(v(h),{onClick:_e,variant:"solid",theme:"blue",size:"sm",loading:_.value},{prefix:c(()=>[...e[137]||(e[137]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:c(()=>[e[138]||(e[138]=g(" Request Pre-Application Meeting ",-1))]),_:1},8,["loading"]),e[142]||(e[142]=t("p",{class:"text-xs text-blue-700 mt-2"}," A planning officer will contact you within 2 business days to schedule. ",-1))])])])])])])):m("",!0),i.value===(R.value?5:4)?(r(),n("div",as,[e[153]||(e[153]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Upload Documents",-1)),e[154]||(e[154]=t("p",{class:"text-gray-600 mb-8"},"Attach all required supporting documents",-1)),t("div",is,[t("div",ds,[e[147]||(e[147]=t("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),e[148]||(e[148]=t("p",{class:"text-gray-600 mb-2"},"Drag and drop files here, or click to browse",-1)),e[149]||(e[149]=t("p",{class:"text-xs text-gray-500"},"PDF, DOC, DOCX, JPG, PNG (Max 10MB per file)",-1)),A(v(h),{onClick:ie,variant:"outline",theme:"blue",class:"mt-4"},{default:c(()=>[...e[146]||(e[146]=[g(" Select Files ",-1)])]),_:1}),t("input",{type:"file",ref_key:"fileInput",ref:P,multiple:"",class:"hidden",onChange:de},null,544)]),y.value.length>0?(r(),n("div",us,[t("h4",ps,"Uploaded Documents ("+p(y.value.length)+")",1),(r(!0),n(V,null,D(y.value,(s,u)=>(r(),n("div",{key:u,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200"},[t("div",ms,[e[150]||(e[150]=t("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("div",null,[t("p",cs,p(s.name),1),t("p",gs,p(pe(s.size)),1)])]),t("button",{onClick:b=>ue(u),class:"text-red-600 hover:text-red-800"},[...e[151]||(e[151]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,fs)]))),128))])):m("",!0),e[152]||(e[152]=q('<div class="bg-blue-50 border border-blue-200 rounded-lg p-6"><h4 class="font-medium text-blue-900 mb-3">Required Documents</h4><ul class="space-y-2 text-sm text-blue-800"><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Site plans and location maps </li><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Architectural drawings and specifications </li><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Assessment of Environmental Effects (AEE) </li><li class="flex items-start"><svg class="w-5 h-5 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> Written approvals from affected parties (if required) </li></ul></div>',1))])])):m("",!0),i.value===(R.value?6:5)?(r(),n("div",bs,[e[170]||(e[170]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Review & Submit",-1)),e[171]||(e[171]=t("p",{class:"text-gray-600 mb-8"},"Please review your application before submission",-1)),t("div",vs,[t("div",ys,[e[160]||(e[160]=t("h3",{class:"font-semibold text-gray-900 mb-4"},"Application Summary",-1)),t("dl",xs,[t("div",null,[e[155]||(e[155]=t("dt",{class:"text-gray-600"},"Application Type",-1)),t("dd",ws,p(me()),1)]),t("div",null,[e[156]||(e[156]=t("dt",{class:"text-gray-600"},"Property Address",-1)),t("dd",ks,p(o.value.property_address||"N/A"),1)]),t("div",null,[e[157]||(e[157]=t("dt",{class:"text-gray-600"},"Brief Description",-1)),t("dd",_s,p(o.value.brief_description||"N/A"),1)]),t("div",null,[e[158]||(e[158]=t("dt",{class:"text-gray-600"},"Estimated Value",-1)),t("dd",hs,p(o.value.estimated_value?`$${o.value.estimated_value}`:"N/A"),1)]),t("div",null,[e[159]||(e[159]=t("dt",{class:"text-gray-600"},"Documents Uploaded",-1)),t("dd",Cs,p(y.value.length)+" files",1)])])]),t("div",As,[t("div",qs,[a(t("input",{type:"checkbox","onUpdate:modelValue":e[43]||(e[43]=s=>o.value.terms_accepted=s),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[O,o.value.terms_accepted]]),e[161]||(e[161]=t("label",{class:"ml-3 text-sm text-gray-700"},[g(" I confirm that the information provided in this application is true and accurate to the best of my knowledge. I understand that providing false or misleading information may result in the application being declined or consent being revoked. I have read and agree to the "),t("a",{href:"#",class:"text-blue-600 hover:text-blue-800"},"terms and conditions"),g(". ")],-1))])]),t("div",Ss,[e[164]||(e[164]=t("h4",{class:"font-medium text-blue-900 mb-3"},"Fee Summary",-1)),t("div",Ps,[t("div",Rs,[e[162]||(e[162]=t("span",{class:"text-blue-800"},"Application Fee",-1)),t("span",Ms,p(Y()),1)]),t("div",Vs,[e[163]||(e[163]=t("span",{class:"font-medium text-blue-900"},"Total Due",-1)),t("span",Ds,p(Y()),1)])]),e[165]||(e[165]=t("p",{class:"text-xs text-blue-700 mt-3"}," Payment will be processed after submission. You will receive an invoice via email. ",-1))]),R.value?(r(),n("div",Ts,[e[168]||(e[168]=t("h4",{class:"font-medium text-green-900 mb-2"},"Pre-Application Meeting",-1)),e[169]||(e[169]=t("p",{class:"text-sm text-green-700 mb-4"}," For Resource Consent applications, we strongly recommend booking a pre-application meeting with our planning team. This helps ensure your application meets all requirements and can speed up the approval process. ",-1)),A(v(h),{onClick:ge,variant:"solid",theme:"green",loading:x.value},{prefix:c(()=>[...e[166]||(e[166]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:c(()=>[e[167]||(e[167]=g(" Book Pre-Application Meeting ",-1))]),_:1},8,["loading"])])):m("",!0)])])):m("",!0),t("div",Us,[i.value>1?(r(),$(v(h),{key:0,onClick:ae,variant:"outline",theme:"gray"},{prefix:c(()=>[...e[172]||(e[172]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),default:c(()=>[e[173]||(e[173]=g(" Previous ",-1))]),_:1})):(r(),n("div",Fs)),t("div",Ns,[i.value<U.value?(r(),$(v(h),{key:0,onClick:ne,variant:"solid",theme:"blue",disabled:!G()},{suffix:c(()=>[...e[174]||(e[174]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),default:c(()=>[e[175]||(e[175]=g(" Next ",-1))]),_:1},8,["disabled"])):te.value?(r(),$(v(h),{key:1,onClick:ce,variant:"solid",theme:"blue",loading:F.value,disabled:!o.value.terms_accepted},{default:c(()=>[...e[176]||(e[176]=[g(" Submit Application ",-1)])]),_:1},8,["loading","disabled"])):(r(),n("div",js," Make changes to your application to enable submission "))])])])])]))}};export{Bs as default};
//# sourceMappingURL=NewRequest-BwsNTTP_.js.map
