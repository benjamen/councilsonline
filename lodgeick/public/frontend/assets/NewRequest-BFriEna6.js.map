{"version":3,"file":"NewRequest-BFriEna6.js","sources":["../../../../frontend/src/pages/NewRequest.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <header class=\"bg-white shadow-sm border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex items-center justify-between py-4\">\n          <div class=\"flex items-center space-x-3\">\n            <button @click=\"goBack\" class=\"text-gray-500 hover:text-gray-700\">\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n              </svg>\n            </button>\n            <div>\n              <h1 class=\"text-xl font-bold text-gray-900\">New Application</h1>\n              <p class=\"text-sm text-gray-500\">Step {{ currentStep }} of {{ totalSteps }}</p>\n            </div>\n          </div>\n          <Button @click=\"saveDraft\" variant=\"outline\" theme=\"gray\" :loading=\"savingDraft\">\n            Save Draft\n          </Button>\n        </div>\n      </div>\n    </header>\n\n    <!-- Progress Bar -->\n    <div class=\"bg-white border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n        <div class=\"flex items-center justify-between mb-2\">\n          <div\n            v-for=\"(step, index) in steps\"\n            :key=\"index\"\n            class=\"flex items-center\"\n            :class=\"{ 'flex-1': index < steps.length - 1 }\"\n          >\n            <div class=\"flex flex-col items-center\">\n              <div\n                class=\"w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm\"\n                :class=\"getStepClass(index + 1)\"\n              >\n                <span v-if=\"index + 1 < currentStep\">✓</span>\n                <span v-else>{{ index + 1 }}</span>\n              </div>\n              <span\n                class=\"text-xs mt-2 text-center\"\n                :class=\"index + 1 === currentStep ? 'text-blue-600 font-medium' : 'text-gray-500'\"\n              >\n                {{ step.title }}\n              </span>\n            </div>\n            <div\n              v-if=\"index < steps.length - 1\"\n              class=\"flex-1 h-1 mx-4 rounded\"\n              :class=\"index + 1 < currentStep ? 'bg-blue-600' : 'bg-gray-200'\"\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main Content -->\n    <main class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8\">\n        <!-- Step 1: Council Selection -->\n        <div v-if=\"currentStep === 1\">\n          <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Select Council</h2>\n          <p class=\"text-gray-600 mb-8\">Choose the council that will process your application</p>\n\n          <CouncilSelector\n            v-model=\"formData.council\"\n            @change=\"onCouncilChange\"\n            display-mode=\"cards\"\n            :required=\"true\"\n            :show-selected-info=\"true\"\n            label=\"\"\n            :show-label=\"false\"\n          />\n        </div>\n\n        <!-- Step 2: Request Type -->\n        <div v-if=\"currentStep === 2\">\n          <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Select Application Type</h2>\n          <p class=\"text-gray-600 mb-8\">Choose the type of consent you wish to apply for</p>\n\n          <div v-if=\"requestTypes.loading\" class=\"text-center py-12\">\n            <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          </div>\n\n          <div v-else class=\"grid md:grid-cols-2 gap-4\">\n            <div\n              v-for=\"type in requestTypes.data\"\n              :key=\"type.name\"\n              @click=\"selectRequestType(type)\"\n              class=\"border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md\"\n              :class=\"formData.request_type === type.name ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\"\n            >\n              <div class=\"flex items-start justify-between\">\n                <div class=\"flex-1\">\n                  <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">{{ type.type_name }}</h3>\n                  <p class=\"text-sm text-gray-600\" v-html=\"type.description || 'No description available'\"></p>\n                  <div class=\"mt-4 flex items-center space-x-4 text-xs text-gray-500\">\n                    <span v-if=\"type.base_fee\">Fee: ${{ type.base_fee }}</span>\n                    <span v-if=\"type.processing_sla_days\">{{ type.processing_sla_days }} days</span>\n                    <span v-if=\"type.category\" class=\"px-2 py-1 bg-gray-100 rounded\">{{ type.category }}</span>\n                  </div>\n                </div>\n                <div v-if=\"formData.request_type === type.name\" class=\"ml-4\">\n                  <div class=\"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center\">\n                    <svg class=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Step 3: Process Information -->\n        <div v-if=\"currentStep === 3\">\n          <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Council Process Information</h2>\n          <p class=\"text-gray-600 mb-6\">Understanding {{ councilStore.councils?.find(c => c.council_code === formData.council)?.council_name }}'s process for this application</p>\n\n          <div v-if=\"selectedRequestTypeDetails\" class=\"space-y-6\">\n            <!-- Request Type Summary -->\n            <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n              <div class=\"flex items-start justify-between mb-4\">\n                <div>\n                  <h3 class=\"text-xl font-semibold text-gray-900\">{{ selectedRequestTypeDetails.request_type_name }}</h3>\n                  <p v-if=\"selectedRequestTypeDetails.category\" class=\"text-sm text-gray-500 mt-1\">\n                    {{ selectedRequestTypeDetails.category }}\n                  </p>\n                </div>\n              </div>\n\n              <!-- Key Information -->\n              <div class=\"grid md:grid-cols-3 gap-4 mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                <div>\n                  <div class=\"text-xs text-blue-600 font-medium uppercase\">Application Fee</div>\n                  <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n                    ${{ selectedRequestTypeDetails.base_fee || '0' }}\n                  </div>\n                  <div class=\"text-xs text-blue-600 mt-1\">Plus any additional costs</div>\n                </div>\n                <div>\n                  <div class=\"text-xs text-blue-600 font-medium uppercase\">Processing Time</div>\n                  <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n                    {{ selectedRequestTypeDetails.sla_days || 'N/A' }} <span class=\"text-base\">days</span>\n                  </div>\n                  <div class=\"text-xs text-blue-600 mt-1\">Standard timeframe</div>\n                </div>\n                <div>\n                  <div class=\"text-xs text-blue-600 font-medium uppercase\">Payment Required</div>\n                  <div class=\"text-2xl font-bold text-blue-900 mt-1\">\n                    {{ selectedRequestTypeDetails.requires_payment ? 'Yes' : 'No' }}\n                  </div>\n                  <div class=\"text-xs text-blue-600 mt-1\">Before processing</div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Council Process Description -->\n            <div v-if=\"selectedRequestTypeDetails.process_description\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n              <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">How This Works</h4>\n              <div class=\"prose prose-sm max-w-none text-gray-700\" v-html=\"selectedRequestTypeDetails.process_description\"></div>\n            </div>\n\n            <!-- Brief Description (if no process description) -->\n            <div v-else-if=\"selectedRequestTypeDetails.description\" class=\"bg-white border border-gray-200 rounded-lg p-6\">\n              <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">About This Application</h4>\n              <p class=\"text-gray-700\">{{ selectedRequestTypeDetails.description }}</p>\n            </div>\n\n            <!-- Important Notice -->\n            <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n              <div class=\"flex items-start\">\n                <svg class=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                </svg>\n                <div>\n                  <h5 class=\"font-semibold text-yellow-900 text-sm\">Before You Continue</h5>\n                  <p class=\"text-yellow-800 text-sm mt-1\">\n                    Please review this information carefully. Make sure you understand the process, fees, and timeframes before proceeding with your application.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Continue Button -->\n            <div class=\"flex justify-center pt-4\">\n              <button\n                @click=\"currentStep++\"\n                class=\"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                I Understand - Continue to Application\n              </button>\n            </div>\n          </div>\n\n          <!-- No request type selected (shouldn't happen) -->\n          <div v-else class=\"text-center py-12\">\n            <p class=\"text-gray-500\">No request type selected. Please go back and select a request type.</p>\n          </div>\n        </div>\n\n        <!-- Step 4: Property Details -->\n        <div v-if=\"currentStep === 4\">\n          <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Property Details</h2>\n          <p class=\"text-gray-600 mb-8\">Provide details about the property for this application</p>\n\n          <div class=\"space-y-6\">\n            <!-- Property Search/Select -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Select Existing Property or Enter New\n              </label>\n              <select\n                v-model=\"formData.property\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                @change=\"onPropertySelect\"\n              >\n                <option value=\"\">-- Select a property or enter new --</option>\n                <option v-for=\"prop in properties.data\" :key=\"prop.name\" :value=\"prop.name\">\n                  {{ prop.street_address }}, {{ prop.suburb }}{{ prop.legal_description ? ' - ' + prop.legal_description : '' }}\n                </option>\n              </select>\n            </div>\n\n            <!-- Company Submission Selector -->\n            <div v-if=\"userCompanyAccount\" class=\"border-t border-gray-200 pt-6 mt-6\">\n              <div class=\"mb-6\">\n                <h3 class=\"text-sm font-semibold text-gray-900 mb-3\">Submitting As</h3>\n                <div class=\"space-y-3\">\n                  <label class=\"flex items-start space-x-3 cursor-pointer p-4 border-2 rounded-lg transition-colors\" :class=\"formData.submitted_on_behalf_of === 'Myself' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\">\n                    <input\n                      type=\"radio\"\n                      value=\"Myself\"\n                      v-model=\"formData.submitted_on_behalf_of\"\n                      class=\"mt-1\"\n                    />\n                    <div class=\"flex-1\">\n                      <div class=\"font-medium text-gray-900\">Individual - Submit for Myself</div>\n                      <div class=\"text-sm text-gray-500\">This application is submitted as an individual</div>\n                    </div>\n                  </label>\n                  <label class=\"flex items-start space-x-3 cursor-pointer p-4 border-2 rounded-lg transition-colors\" :class=\"formData.submitted_on_behalf_of === 'Company' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'\">\n                    <input\n                      type=\"radio\"\n                      value=\"Company\"\n                      v-model=\"formData.submitted_on_behalf_of\"\n                      class=\"mt-1\"\n                    />\n                    <div class=\"flex-1\">\n                      <div class=\"font-medium text-gray-900\">Company - {{ userCompanyAccount.company_name }}</div>\n                      <div class=\"text-sm text-gray-500\">Submit on behalf of your company account</div>\n                      <div class=\"text-xs text-blue-600 mt-1\">You are logged in as: {{ userCompanyAccount.user_role }}</div>\n                    </div>\n                  </label>\n                </div>\n              </div>\n            </div>\n\n            <!-- Acting on Behalf Section -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <div class=\"mb-6\">\n                <h3 class=\"text-sm font-semibold text-gray-900 mb-3\">Who is this application for?</h3>\n                <div class=\"space-y-3\">\n                  <label class=\"flex items-start space-x-3 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      :value=\"false\"\n                      v-model=\"formData.acting_on_behalf\"\n                      class=\"mt-1\"\n                    />\n                    <div>\n                      <div class=\"font-medium text-gray-900\">This application is for myself</div>\n                      <div class=\"text-sm text-gray-500\">I am the applicant submitting this request</div>\n                    </div>\n                  </label>\n                  <label class=\"flex items-start space-x-3 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      :value=\"true\"\n                      v-model=\"formData.acting_on_behalf\"\n                      class=\"mt-1\"\n                    />\n                    <div>\n                      <div class=\"font-medium text-gray-900\">I am acting on behalf of a client</div>\n                      <div class=\"text-sm text-gray-500\">I am an agent submitting this request for someone else</div>\n                    </div>\n                  </label>\n                </div>\n              </div>\n\n              <!-- Applicant Contact Details (Required) -->\n              <div>\n                <h3 class=\"text-sm font-semibold text-gray-900 mb-4\">\n                  {{ formData.acting_on_behalf ? 'Client Information *' : 'Applicant Contact Information *' }}\n                </h3>\n\n                <div class=\"space-y-4\">\n                  <div class=\"grid md:grid-cols-2 gap-4\">\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">Full Name *</label>\n                      <input\n                        v-model=\"formData.applicant_name\"\n                        type=\"text\"\n                        placeholder=\"John Smith\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        :disabled=\"!formData.acting_on_behalf && userProfile\"\n                        required\n                      />\n                      <p v-if=\"!formData.acting_on_behalf\" class=\"mt-1 text-xs text-gray-500\">Auto-populated from your profile</p>\n                    </div>\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">Email Address *</label>\n                      <input\n                        v-model=\"formData.applicant_email\"\n                        type=\"email\"\n                        placeholder=\"john@example.com\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        :disabled=\"!formData.acting_on_behalf && userProfile\"\n                        required\n                      />\n                      <p v-if=\"!formData.acting_on_behalf\" class=\"mt-1 text-xs text-gray-500\">Auto-populated from your profile</p>\n                    </div>\n                  </div>\n\n                  <div class=\"grid md:grid-cols-2 gap-4\">\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">Contact Phone *</label>\n                      <input\n                        v-model=\"formData.applicant_phone\"\n                        type=\"tel\"\n                        placeholder=\"021 123 4567\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        required\n                      />\n                      <p class=\"mt-1 text-xs text-gray-500\">\n                        {{ formData.acting_on_behalf ? 'Required for application processing' : 'Will be saved to your profile for future applications' }}\n                      </p>\n                    </div>\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">Applicant Type *</label>\n                      <select\n                        v-model=\"formData.applicant_type\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        required\n                      >\n                        <option value=\"\">Select applicant type</option>\n                        <option value=\"Individual\">Individual</option>\n                        <option value=\"Company\">Company</option>\n                        <option value=\"Trust\">Trust</option>\n                        <option value=\"Partnership\">Partnership</option>\n                        <option value=\"Other\">Other</option>\n                      </select>\n                      <p class=\"mt-1 text-xs text-gray-500\">Type of entity making this application</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Property Owner Details (Conditional) -->\n              <div class=\"mt-6 border-t border-gray-200 pt-6\">\n                <div class=\"flex items-start mb-4\">\n                  <input\n                    type=\"checkbox\"\n                    v-model=\"formData.applicant_is_not_owner\"\n                    class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                  />\n                  <label class=\"ml-3 text-sm font-medium text-gray-700\">\n                    I am not the property owner\n                  </label>\n                </div>\n\n                <div v-if=\"formData.applicant_is_not_owner\" class=\"space-y-4 pl-7\">\n                  <p class=\"text-xs text-gray-600 mb-4\">\n                    Under Section 88 of the RMA, you must provide the property owner's contact details.\n                  </p>\n\n                  <div class=\"grid md:grid-cols-2 gap-4\">\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Name *</label>\n                      <input\n                        v-model=\"formData.owner_name\"\n                        type=\"text\"\n                        placeholder=\"Property owner's full name\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        :required=\"formData.applicant_is_not_owner\"\n                      />\n                    </div>\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Email</label>\n                      <input\n                        v-model=\"formData.owner_email\"\n                        type=\"email\"\n                        placeholder=\"owner@example.com\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"grid md:grid-cols-2 gap-4\">\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Phone</label>\n                      <input\n                        v-model=\"formData.owner_phone\"\n                        type=\"tel\"\n                        placeholder=\"021 123 4567\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      />\n                    </div>\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-2\">Owner Address</label>\n                      <textarea\n                        v-model=\"formData.owner_address\"\n                        rows=\"3\"\n                        placeholder=\"Owner's postal address\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      ></textarea>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Manual Property Entry with Autocomplete -->\n            <div class=\"space-y-4\">\n              <!-- Property Address Display (after selection) -->\n              <div v-if=\"formData.property_address\" class=\"relative\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Property Address *</label>\n                <div class=\"flex gap-2\">\n                  <input\n                    v-model=\"formData.property_address\"\n                    type=\"text\"\n                    readonly\n                    class=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-900\"\n                  />\n                  <button\n                    @click=\"clearPropertyAddress\"\n                    type=\"button\"\n                    class=\"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 border border-blue-600 rounded-lg hover:bg-blue-50\"\n                  >\n                    Change\n                  </button>\n                </div>\n                <p class=\"mt-1 text-xs text-green-600\">✓ Address selected from LINZ database</p>\n              </div>\n\n              <!-- Property Address Search (before selection) -->\n              <div v-else class=\"relative\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">Search Property Address *</label>\n                <input\n                    v-model=\"propertySearchQuery\"\n                    @input=\"handlePropertySearch\"\n                    @focus=\"showPropertyDropdown = true\"\n                    type=\"text\"\n                    placeholder=\"Start typing address... e.g., 123 Main Street\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    autocomplete=\"off\"\n                  />\n                <p class=\"mt-1 text-xs text-gray-500\">Type to search LINZ property database</p>\n\n                <!-- Autocomplete Dropdown -->\n                <div\n                  v-if=\"showPropertyDropdown && (propertySearchResults.length > 0 || propertySearchLoading)\"\n                  class=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto\"\n                >\n                  <!-- Loading State -->\n                  <div v-if=\"propertySearchLoading\" class=\"p-4 text-center text-gray-500\">\n                    <div class=\"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mb-2\"></div>\n                    <p class=\"text-sm\">Searching properties...</p>\n                  </div>\n\n                  <!-- Results -->\n                  <div v-else>\n                    <button\n                      v-for=\"(result, index) in propertySearchResults\"\n                      :key=\"index\"\n                      @click=\"selectProperty(result)\"\n                      type=\"button\"\n                      class=\"w-full text-left px-4 py-3 hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors focus:outline-none focus:bg-blue-50\"\n                    >\n                      <div class=\"font-medium text-gray-900\">{{ result.address }}</div>\n                      <div class=\"text-sm text-gray-600 mt-1\">{{ result.property?.legal_description || 'Legal description not available' }}</div>\n                      <div v-if=\"result.property?.title_no\" class=\"text-xs text-gray-500 mt-1\">\n                        Title: {{ result.property.title_no }}\n                      </div>\n                    </button>\n                  </div>\n\n                  <!-- No Results -->\n                  <div v-if=\"!propertySearchLoading && propertySearchResults.length === 0 && propertySearchQuery.length >= 3\" class=\"p-4 text-center text-gray-500\">\n                    <p class=\"text-sm\">No properties found. Try a different search.</p>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">Legal Description</label>\n                  <input\n                    v-model=\"formData.legal_description\"\n                    type=\"text\"\n                    placeholder=\"Lot 1 DP 12345\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n                    readonly\n                  />\n                  <p v-if=\"formData.legal_description\" class=\"mt-1 text-xs text-green-600\">\n                    ✓ Auto-populated from LINZ\n                  </p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">Certificate of Title</label>\n                  <input\n                    v-model=\"formData.ct_reference\"\n                    type=\"text\"\n                    placeholder=\"WN123/456\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n                    readonly\n                  />\n                  <p v-if=\"formData.ct_reference\" class=\"mt-1 text-xs text-green-600\">\n                    ✓ Auto-populated from LINZ\n                  </p>\n                </div>\n              </div>\n\n              <!-- Certificate of Title Document Upload -->\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Upload Certificate of Title (Optional)\n                </label>\n                <input\n                  type=\"file\"\n                  @change=\"handleCTUpload\"\n                  accept=\".pdf,.jpg,.jpeg,.png\"\n                  class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\"\n                />\n                <p v-if=\"formData.certificate_of_title_document\" class=\"text-xs text-green-600 mt-1\">\n                  ✓ Document uploaded\n                </p>\n                <p class=\"mt-1 text-xs text-gray-500\">Upload a copy of the Certificate of Title if available</p>\n              </div>\n\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">Valuation Reference</label>\n                  <input\n                    v-model=\"formData.valuation_reference\"\n                    type=\"text\"\n                    placeholder=\"1234567\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                  <p class=\"mt-1 text-xs text-gray-500\">Property valuation number (optional)</p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">Parcel ID</label>\n                  <input\n                    v-model=\"formData.parcel_id\"\n                    type=\"text\"\n                    placeholder=\"Auto-populated\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n                    readonly\n                  />\n                  <p v-if=\"formData.parcel_id\" class=\"mt-1 text-xs text-green-600\">\n                    ✓ LINZ Parcel ID\n                  </p>\n                </div>\n              </div>\n\n              <div class=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">Zone</label>\n                  <input\n                    v-model=\"formData.zone\"\n                    type=\"text\"\n                    placeholder=\"Auto-populated from District Plan\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n                    readonly\n                  />\n                  <p v-if=\"formData.zone\" class=\"mt-1 text-xs text-green-600\">\n                    ✓ District Plan zone\n                  </p>\n                  <p v-else class=\"mt-1 text-xs text-gray-500\">\n                    Will be populated when address is selected\n                  </p>\n                </div>\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Activity Status\n                    <span v-if=\"isResourceConsent\" class=\"text-red-600\">*</span>\n                  </label>\n                  <select\n                    v-model=\"formData.activity_zone\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    :required=\"isResourceConsent\"\n                  >\n                    <option value=\"\">Select activity status</option>\n                    <option value=\"Permitted\">Permitted</option>\n                    <option value=\"Controlled\">Controlled</option>\n                    <option value=\"Restricted Discretionary\">Restricted Discretionary</option>\n                    <option value=\"Discretionary\">Discretionary</option>\n                    <option value=\"Non-Complying\">Non-Complying</option>\n                    <option value=\"Prohibited\">Prohibited</option>\n                  </select>\n                  <p class=\"mt-1 text-xs text-gray-500\">\n                    What is the activity status of your proposal under the zone rules?\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Step 5: RC Details (Resource Consent Only) -->\n        <div v-if=\"currentStep === 5 && isResourceConsent\">\n          <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Resource Consent Details</h2>\n          <p class=\"text-gray-600 mb-8\">Provide Resource Management Act (RMA) specific information</p>\n\n          <div class=\"space-y-6\">\n            <!-- Reference and Delivery -->\n            <div class=\"grid md:grid-cols-3 gap-4 mb-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Applicant Reference Number\n                </label>\n                <input\n                  v-model=\"formData.applicant_reference_number\"\n                  type=\"text\"\n                  placeholder=\"e.g., PROJ-2025-001\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Your internal project/file reference (optional)</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  PIM Reference\n                </label>\n                <input\n                  v-model=\"formData.pim_reference\"\n                  type=\"text\"\n                  placeholder=\"e.g., PIM-2024-12345\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Property Information Memorandum number (if applicable)</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Delivery Preference\n                </label>\n                <select\n                  v-model=\"formData.delivery_preference\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select preference</option>\n                  <option value=\"Email\">Email</option>\n                  <option value=\"Postal Mail\">Postal Mail</option>\n                  <option value=\"Both Email and Postal\">Both Email and Postal</option>\n                </select>\n                <p class=\"mt-1 text-xs text-gray-500\">How to receive correspondence</p>\n              </div>\n            </div>\n\n            <!-- Transfer Deposit from Existing Consent -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6 mb-6\">\n              <div class=\"flex items-start mb-4\">\n                <input\n                  type=\"checkbox\"\n                  v-model=\"formData.transfer_deposit_required\"\n                  class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label class=\"ml-3 text-sm font-medium text-gray-700\">\n                  Transfer deposit from existing consent\n                </label>\n              </div>\n\n              <div v-if=\"formData.transfer_deposit_required\" class=\"pl-7\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Existing Consent Number *\n                </label>\n                <input\n                  v-model=\"formData.transfer_deposit_consent_number\"\n                  type=\"text\"\n                  placeholder=\"e.g., RC123456\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  :required=\"formData.transfer_deposit_required\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">\n                  Enter the consent number from which the deposit should be transferred\n                </p>\n              </div>\n            </div>\n\n            <!-- Consent Types and Activity Status -->\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Consent Type(s) *\n                </label>\n                <div class=\"space-y-2 p-3 border border-gray-300 rounded-lg\">\n                  <label v-for=\"consentType in availableConsentTypes\" :key=\"consentType\" class=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      :value=\"consentType\"\n                      @change=\"toggleConsentType(consentType)\"\n                      :checked=\"isConsentTypeSelected(consentType)\"\n                      class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    />\n                    <span class=\"ml-2 text-sm text-gray-700\">{{ consentType }}</span>\n                  </label>\n                </div>\n                <p class=\"mt-1 text-xs text-gray-500\">Select all consent types required (multiple allowed)</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Activity Status *\n                  <button\n                    type=\"button\"\n                    @click=\"showActivityStatusHelp = !showActivityStatusHelp\"\n                    class=\"ml-1 text-blue-600 hover:text-blue-800\"\n                    title=\"Click for help\"\n                  >\n                    <svg class=\"w-4 h-4 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </button>\n                </label>\n\n                <div v-if=\"showActivityStatusHelp\" class=\"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-900\">\n                  <p class=\"font-semibold mb-2\">RMA Activity Status Guide:</p>\n                  <ul class=\"space-y-1 ml-4 list-disc\">\n                    <li><strong>Permitted:</strong> Allowed without consent (no application needed)</li>\n                    <li><strong>Controlled:</strong> Consent must be granted; council sets conditions</li>\n                    <li><strong>Restricted Discretionary:</strong> Council has limited grounds to decline</li>\n                    <li><strong>Discretionary:</strong> Council has full discretion to grant or decline</li>\n                    <li><strong>Non-Complying:</strong> Does not comply with plan; requires special justification</li>\n                    <li><strong>Prohibited:</strong> Cannot be consented under any circumstances</li>\n                  </ul>\n                  <p class=\"mt-2 text-xs text-blue-700\">Check your district plan zone rules to determine status</p>\n                </div>\n\n                <select\n                  v-model=\"formData.activity_status\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  required\n                >\n                  <option value=\"\">Select activity status</option>\n                  <option value=\"Controlled\">Controlled</option>\n                  <option value=\"Restricted Discretionary\">Restricted Discretionary</option>\n                  <option value=\"Discretionary\">Discretionary</option>\n                  <option value=\"Non-Complying\">Non-Complying</option>\n                  <option value=\"Permitted Boundary Activity\">Permitted Boundary Activity</option>\n                </select>\n                <p class=\"mt-1 text-xs text-gray-500\">Activity classification under district plan</p>\n\n                <div v-if=\"activityStatusWarning\" class=\"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800\">\n                  {{ activityStatusWarning }}\n                </div>\n              </div>\n            </div>\n\n            <!-- Permitted Boundary Activity (RMA s87BA) -->\n            <div v-if=\"formData.activity_status === 'Permitted Boundary Activity'\" class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-2\">Permitted Boundary Activity (RMA s87BA)</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">This is a special consent type for boundary infringements under section 87BA of the Resource Management Act</p>\n\n              <div class=\"space-y-4\">\n                <div>\n                  <label class=\"block text-xs font-medium text-gray-700 mb-1\">Boundary Description</label>\n                  <input\n                    v-model=\"formData.boundary_description\"\n                    type=\"text\"\n                    placeholder=\"e.g., Side boundary with 123 Main Street\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                  />\n                </div>\n\n                <div>\n                  <label class=\"block text-xs font-medium text-gray-700 mb-1\">Description of Boundary Activity</label>\n                  <textarea\n                    v-model=\"formData.boundary_activity_description\"\n                    rows=\"3\"\n                    placeholder=\"Describe how the activity infringes the boundary setback requirements...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                  ></textarea>\n                </div>\n\n                <div class=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <div class=\"flex items-start mb-2\">\n                      <input\n                        type=\"checkbox\"\n                        v-model=\"formData.boundary_owner_approval_obtained\"\n                        class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                      />\n                      <label class=\"ml-3 text-xs font-medium text-gray-700\">\n                        Affected boundary owner approval obtained\n                      </label>\n                    </div>\n                  </div>\n\n                  <div v-if=\"formData.boundary_owner_approval_obtained\">\n                    <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Date</label>\n                    <input\n                      v-model=\"formData.boundary_approval_date\"\n                      type=\"date\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                    />\n                  </div>\n                </div>\n\n                <div v-if=\"formData.boundary_owner_approval_obtained\">\n                  <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Documentation</label>\n                  <input\n                    type=\"file\"\n                    @change=\"handleBoundaryApprovalUpload\"\n                    accept=\".pdf,.doc,.docx,.jpg,.png\"\n                    class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\"\n                  />\n                  <p v-if=\"formData.boundary_approval_document\" class=\"text-xs text-blue-600 mt-1\">\n                    ✓ Document uploaded\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Proposal Details -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-4\">Proposal Details</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">Provide details about your proposed development (all fields optional)</p>\n\n              <!-- Collapsible Accordion Sections -->\n              <div class=\"space-y-3\">\n                <!-- Building/Structure Accordion -->\n                <div class=\"border border-gray-300 rounded-lg overflow-hidden\">\n                  <button\n                    @click=\"toggleProposalSection('building')\"\n                    type=\"button\"\n                    class=\"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors\"\n                  >\n                    <span class=\"text-sm font-medium text-gray-900\">Building/Structure Dimensions</span>\n                    <svg\n                      :class=\"{ 'rotate-180': proposalAccordion.building }\"\n                      class=\"w-5 h-5 text-gray-600 transition-transform\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  <div v-if=\"proposalAccordion.building\" class=\"p-4 bg-white\">\n                    <div class=\"grid md:grid-cols-2 gap-4\">\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Building Height (metres)</label>\n                        <input\n                          v-model=\"formData.building_height\"\n                          type=\"number\"\n                          placeholder=\"e.g., 8.5\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Total Floor Area (m²)</label>\n                        <input\n                          v-model=\"formData.building_floor_area\"\n                          type=\"number\"\n                          placeholder=\"e.g., 250\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Earthworks Accordion -->\n                <div class=\"border border-gray-300 rounded-lg overflow-hidden\">\n                  <button\n                    @click=\"toggleProposalSection('earthworks')\"\n                    type=\"button\"\n                    class=\"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors\"\n                  >\n                    <span class=\"text-sm font-medium text-gray-900\">Earthworks</span>\n                    <svg\n                      :class=\"{ 'rotate-180': proposalAccordion.earthworks }\"\n                      class=\"w-5 h-5 text-gray-600 transition-transform\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  <div v-if=\"proposalAccordion.earthworks\" class=\"p-4 bg-white\">\n                    <div class=\"grid md:grid-cols-2 gap-4\">\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Earthworks Volume (m³)</label>\n                        <input\n                          v-model=\"formData.earthworks_volume\"\n                          type=\"number\"\n                          placeholder=\"e.g., 150\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Maximum Vertical Alteration (metres)</label>\n                        <input\n                          v-model=\"formData.earthworks_vertical_alteration\"\n                          type=\"number\"\n                          placeholder=\"e.g., 2.5\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Traffic & Parking Accordion -->\n                <div class=\"border border-gray-300 rounded-lg overflow-hidden\">\n                  <button\n                    @click=\"toggleProposalSection('traffic')\"\n                    type=\"button\"\n                    class=\"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors\"\n                  >\n                    <span class=\"text-sm font-medium text-gray-900\">Traffic & Parking</span>\n                    <svg\n                      :class=\"{ 'rotate-180': proposalAccordion.traffic }\"\n                      class=\"w-5 h-5 text-gray-600 transition-transform\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  <div v-if=\"proposalAccordion.traffic\" class=\"p-4 bg-white\">\n                    <div class=\"space-y-3\">\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Additional Vehicle Movements/Day</label>\n                        <input\n                          v-model=\"formData.vehicle_movements_daily\"\n                          type=\"number\"\n                          placeholder=\"e.g., 20\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Parking Spaces Provided</label>\n                        <input\n                          v-model=\"formData.parking_spaces_provided\"\n                          type=\"number\"\n                          placeholder=\"e.g., 4\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Operations Accordion -->\n                <div class=\"border border-gray-300 rounded-lg overflow-hidden\">\n                  <button\n                    @click=\"toggleProposalSection('operations')\"\n                    type=\"button\"\n                    class=\"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors\"\n                  >\n                    <span class=\"text-sm font-medium text-gray-900\">Operations</span>\n                    <svg\n                      :class=\"{ 'rotate-180': proposalAccordion.operations }\"\n                      class=\"w-5 h-5 text-gray-600 transition-transform\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  <div v-if=\"proposalAccordion.operations\" class=\"p-4 bg-white\">\n                    <div class=\"space-y-3\">\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Hours of Operation</label>\n                        <input\n                          v-model=\"formData.hours_of_operation\"\n                          type=\"text\"\n                          placeholder=\"e.g., Mon-Fri 8am-6pm\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Consent Term Requested</label>\n                        <input\n                          v-model=\"formData.consent_term_requested\"\n                          type=\"text\"\n                          placeholder=\"e.g., 5 years, Unlimited\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Site & Environment -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-4\">Site & Environment</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">Describe existing site conditions and environmental features (all fields optional)</p>\n\n              <div class=\"space-y-4\">\n                <div>\n                  <label class=\"block text-xs font-medium text-gray-600 mb-1\">Site Topography</label>\n                  <textarea\n                    v-model=\"formData.site_topography\"\n                    rows=\"2\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"e.g., Generally flat with gentle slope to north, approximately 10m elevation...\"\n                  ></textarea>\n                </div>\n\n                <div>\n                  <label class=\"block text-xs font-medium text-gray-600 mb-1\">Existing Vegetation</label>\n                  <textarea\n                    v-model=\"formData.existing_vegetation_description\"\n                    rows=\"3\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"Describe existing trees, shrubs, native vegetation, notable specimens...\"\n                  ></textarea>\n                </div>\n\n                <div class=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <div class=\"flex items-start mb-2\">\n                      <input\n                        type=\"checkbox\"\n                        v-model=\"formData.watercourses_present\"\n                        class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                      />\n                      <label class=\"ml-3 text-xs font-medium text-gray-700\">\n                        Watercourses/Wetlands Present on Site\n                      </label>\n                    </div>\n                    <div v-if=\"formData.watercourses_present\">\n                      <textarea\n                        v-model=\"formData.watercourse_description\"\n                        rows=\"2\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Describe watercourses, streams, wetlands...\"\n                      ></textarea>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label class=\"block text-xs font-medium text-gray-600 mb-1\">HAIL Contamination Status</label>\n                    <select\n                      v-model=\"formData.contamination_status_hail\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    >\n                      <option value=\"\">Select contamination status</option>\n                      <option value=\"Not Assessed\">Not Assessed</option>\n                      <option value=\"Not HAIL\">Not HAIL (Hazardous Activities and Industries List)</option>\n                      <option value=\"HAIL - Not Investigated\">HAIL - Not Investigated</option>\n                      <option value=\"HAIL - Investigated (Clean)\">HAIL - Investigated (Clean)</option>\n                      <option value=\"HAIL - Contaminated\">HAIL - Contaminated</option>\n                    </select>\n                  </div>\n                </div>\n\n                <!-- Natural Hazards Assessment (RMA s104) -->\n                <div class=\"border border-blue-200 rounded-lg p-4 bg-blue-50\">\n                  <h4 class=\"text-sm font-semibold text-blue-900 mb-3\">Natural Hazards Assessment (RMA s104)</h4>\n                  <p class=\"text-xs text-blue-700 mb-3\">Indicate which natural hazards are present on or near the site</p>\n\n                  <div class=\"space-y-2 mb-3\">\n                    <div v-for=\"hazard in naturalHazardTypes\" :key=\"hazard\" class=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        :id=\"'hazard-' + hazard\"\n                        :value=\"hazard\"\n                        v-model=\"selectedHazards\"\n                        class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                      />\n                      <label :for=\"'hazard-' + hazard\" class=\"ml-2 text-sm text-gray-700\">{{ hazard }}</label>\n                    </div>\n                  </div>\n\n                  <div v-if=\"selectedHazards.length > 0\" class=\"border-t border-blue-300 pt-3 mt-3\">\n                    <div v-for=\"hazard in selectedHazards\" :key=\"hazard\" class=\"mb-4 last:mb-0\">\n                      <h5 class=\"text-xs font-semibold text-blue-900 mb-2\">{{ hazard }}</h5>\n                      <div class=\"grid md:grid-cols-2 gap-3\">\n                        <div>\n                          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Risk Level</label>\n                          <select\n                            v-model=\"getHazardData(hazard).risk_level\"\n                            class=\"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white\"\n                          >\n                            <option value=\"\">Select risk level</option>\n                            <option value=\"Low\">Low</option>\n                            <option value=\"Medium\">Medium</option>\n                            <option value=\"High\">High</option>\n                            <option value=\"Extreme\">Extreme</option>\n                          </select>\n                        </div>\n                        <div class=\"flex items-end\">\n                          <div class=\"flex items-center mb-1\">\n                            <input\n                              type=\"checkbox\"\n                              :id=\"'mitigation-' + hazard\"\n                              v-model=\"getHazardData(hazard).mitigation_required\"\n                              class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                            />\n                            <label :for=\"'mitigation-' + hazard\" class=\"ml-2 text-xs text-gray-700\">Mitigation Required</label>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"mt-2\">\n                        <label class=\"block text-xs font-medium text-gray-700 mb-1\">Assessment Notes</label>\n                        <textarea\n                          v-model=\"getHazardData(hazard).assessment_notes\"\n                          rows=\"2\"\n                          class=\"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white\"\n                          placeholder=\"Describe the hazard and its potential impact...\"\n                        ></textarea>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div>\n                  <label class=\"block text-xs font-medium text-gray-600 mb-1\">Existing Infrastructure</label>\n                  <textarea\n                    v-model=\"formData.existing_infrastructure\"\n                    rows=\"2\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"e.g., Wastewater, stormwater, electricity connections...\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n\n            <!-- National Environmental Standards (NES) Assessment -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-2\">National Environmental Standards (NES) Assessment</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">Indicate which National Environmental Standards apply to this proposal</p>\n\n              <!-- Context Summary Panel -->\n              <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n                <h4 class=\"text-sm font-semibold text-blue-900 mb-2\">Application Context</h4>\n                <div class=\"grid md:grid-cols-2 gap-3 text-xs\">\n                  <div>\n                    <span class=\"font-medium text-blue-800\">Applicant:</span>\n                    <span class=\"text-blue-700 ml-1\">{{ formData.applicant_name || 'Not provided' }}</span>\n                  </div>\n                  <div>\n                    <span class=\"font-medium text-blue-800\">Location:</span>\n                    <span class=\"text-blue-700 ml-1\">{{ formData.property_address || 'Not provided' }}</span>\n                  </div>\n                  <div>\n                    <span class=\"font-medium text-blue-800\">Consent Type(s):</span>\n                    <span class=\"text-blue-700 ml-1\">{{ formData.consent_types.map(ct => ct.consent_type).join(', ') || 'Not selected' }}</span>\n                  </div>\n                  <div>\n                    <span class=\"font-medium text-blue-800\">Activity Status:</span>\n                    <span class=\"text-blue-700 ml-1\">{{ formData.activity_status || 'Not selected' }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"space-y-3\">\n                <div v-for=\"nesType in nesTypes\" :key=\"nesType.value\" class=\"border border-gray-200 rounded-lg p-3 bg-gray-50\">\n                  <div class=\"flex items-start mb-2\">\n                    <input\n                      type=\"checkbox\"\n                      :id=\"'nes-' + nesType.value\"\n                      v-model=\"getNESData(nesType.value).applies\"\n                      class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    />\n                    <label :for=\"'nes-' + nesType.value\" class=\"ml-3 text-sm font-medium text-gray-900\">\n                      {{ nesType.label }}\n                    </label>\n                  </div>\n\n                  <div v-if=\"getNESData(nesType.value).applies\" class=\"ml-7 mt-3 space-y-3 border-l-2 border-blue-300 pl-3\">\n                    <!-- Other NES Description (conditional) -->\n                    <div v-if=\"nesType.value === 'Other'\">\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Other NES Description *</label>\n                      <input\n                        v-model=\"getNESData(nesType.value).other_nes_description\"\n                        type=\"text\"\n                        required\n                        class=\"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white\"\n                        placeholder=\"Please specify the NES type...\"\n                      />\n                    </div>\n\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Compliance Status</label>\n                      <select\n                        v-model=\"getNESData(nesType.value).compliance_status\"\n                        class=\"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white\"\n                      >\n                        <option value=\"\">Select compliance status</option>\n                        <option value=\"Permitted Activity\">Permitted Activity</option>\n                        <option value=\"Requires Consent\">Requires Consent</option>\n                        <option value=\"Non-Complying Activity\">Non-Complying Activity</option>\n                      </select>\n                    </div>\n\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Assessment Notes</label>\n                      <textarea\n                        v-model=\"getNESData(nesType.value).assessment_notes\"\n                        rows=\"2\"\n                        class=\"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white\"\n                        placeholder=\"Provide details on how the NES applies...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- In-context NES Document Upload -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Upload NES Assessment Document</label>\n                      <div class=\"flex items-center gap-2\">\n                        <input\n                          type=\"file\"\n                          @change=\"handleNESDocumentUpload($event, nesType.value)\"\n                          accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n                          class=\"text-xs file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                        />\n                      </div>\n                      <p class=\"text-xs text-gray-500 mt-1\">PDF, Word documents, or images (max 10MB)</p>\n                      <!-- Show uploaded NES documents for this type -->\n                      <div v-if=\"getNESDocuments(nesType.value).length > 0\" class=\"mt-2 space-y-1\">\n                        <div v-for=\"(doc, docIdx) in getNESDocuments(nesType.value)\" :key=\"docIdx\" class=\"flex items-center justify-between text-xs bg-gray-50 p-2 rounded\">\n                          <span class=\"text-gray-700\">{{ doc.document_type }} - {{ doc.file?.name || 'Uploaded' }}</span>\n                          <button\n                            @click=\"removeNESDocument(nesType.value, docIdx)\"\n                            type=\"button\"\n                            class=\"text-red-600 hover:text-red-800\"\n                          >\n                            Remove\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- HAIL Activities (Contaminated Land) -->\n            <div v-if=\"isNESSoilsSelected\" class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-2\">HAIL Activities (Hazardous Activities and Industries List)</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">For sites with potential soil contamination under the NES for Assessing and Managing Contaminants in Soil</p>\n\n              <div class=\"flex items-center justify-between mb-3\">\n                <p class=\"text-xs text-gray-600\">List any HAIL activities on the site (past, current, or likely)</p>\n                <button\n                  @click=\"addHAILActivity\"\n                  type=\"button\"\n                  class=\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200\"\n                >\n                  + Add HAIL Activity\n                </button>\n              </div>\n\n              <div v-if=\"formData.hail_activities.length > 0\" class=\"space-y-3\">\n                <div\n                  v-for=\"(hail, index) in formData.hail_activities\"\n                  :key=\"index\"\n                  class=\"border border-gray-300 rounded-lg p-4 bg-white hover:shadow-md transition-shadow\"\n                >\n                  <div class=\"flex items-start justify-between\">\n                    <div class=\"flex-1\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <h4 class=\"text-sm font-semibold text-gray-900\">HAIL Activity #{{ index + 1 }}</h4>\n                        <span v-if=\"hail.hail_category\" class=\"px-2 py-0.5 text-xs font-medium bg-purple-100 text-purple-700 rounded\">\n                          {{ hail.hail_category }}\n                        </span>\n                        <span v-if=\"hail.preliminary_investigation_done\" class=\"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded\">\n                          ✓ Investigated\n                        </span>\n                      </div>\n                      <p class=\"text-sm text-gray-700 mb-2\">{{ hail.activity_description || 'No description provided' }}</p>\n\n                      <!-- Status badges -->\n                      <div class=\"flex flex-wrap gap-2 mb-2\">\n                        <span v-if=\"hail.currently_undertaken\" class=\"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded\">Currently Undertaken</span>\n                        <span v-if=\"hail.previously_undertaken\" class=\"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded\">Previously Undertaken</span>\n                        <span v-if=\"hail.likely_undertaken\" class=\"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded\">Likely Undertaken</span>\n                      </div>\n\n                      <!-- Proposed activities -->\n                      <div v-if=\"hail.proposed_activities && hail.proposed_activities.length > 0\" class=\"text-xs text-gray-600\">\n                        <strong>Proposed:</strong> {{ hail.proposed_activities.map(a => a.activity_type).join(', ') }}\n                      </div>\n\n                      <!-- Notes -->\n                      <p v-if=\"hail.notes\" class=\"text-xs text-gray-600 mt-2 italic\">{{ hail.notes }}</p>\n                    </div>\n\n                    <div class=\"flex gap-2 ml-4\">\n                      <button\n                        @click=\"editHAILActivity(index)\"\n                        type=\"button\"\n                        class=\"text-blue-600 hover:text-blue-800\"\n                        title=\"Edit activity\"\n                      >\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                        </svg>\n                      </button>\n                      <button\n                        @click=\"removeHAILActivity(index)\"\n                        type=\"button\"\n                        class=\"text-red-600 hover:text-red-800\"\n                        title=\"Remove activity\"\n                      >\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <p class=\"text-sm text-gray-500\">No HAIL activities added yet</p>\n                <p class=\"text-xs text-gray-400 mt-1\">Click \"Add HAIL Activity\" to document contaminated land activities</p>\n              </div>\n            </div>\n\n            <!-- Assessment of Environmental Effects (AEE) -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6 mb-6\">\n              <h3 class=\"text-base font-semibold text-gray-900 mb-3\">Assessment of Environmental Effects (AEE)</h3>\n              <p class=\"text-sm text-gray-600 mb-4\">\n                Under Schedule 4 of the RMA, you must assess the actual and potential effects of your proposed activity on the environment.\n                Complete all required sections below to provide a comprehensive assessment.\n              </p>\n\n              <!-- Structured AEE Questions -->\n              <div class=\"space-y-6\">\n                <!-- Question 1: Description of Activity -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    1. Description of Activity and Purpose *\n                  </label>\n                  <textarea\n                    v-model=\"formData.aee_activity_description\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Describe what you propose to do and why. Include the scale, duration, and key features of the activity...\"\n                    required\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">What is the activity and why is it proposed?</p>\n                </div>\n\n                <!-- Activity Status -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Activity Status under District/Unitary Plan\n                  </label>\n                  <select\n                    v-model=\"formData.aee_activity_status\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"\">Select activity status...</option>\n                    <option value=\"Permitted\">Permitted</option>\n                    <option value=\"Controlled\">Controlled</option>\n                    <option value=\"Restricted Discretionary\">Restricted Discretionary</option>\n                    <option value=\"Discretionary\">Discretionary</option>\n                    <option value=\"Non-Complying\">Non-Complying</option>\n                    <option value=\"Prohibited\">Prohibited</option>\n                  </select>\n                  <p class=\"mt-1 text-xs text-gray-500\">Overall classification of the proposed activity</p>\n                </div>\n\n                <!-- Question 2: Existing Environment -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    2. Description of Existing Environment *\n                  </label>\n                  <textarea\n                    v-model=\"formData.aee_existing_environment\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Describe the current state of the site and surrounding area. Include topography, vegetation, neighboring uses, zoning, existing infrastructure...\"\n                    required\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">What is the current state of the site and surrounding environment?</p>\n                </div>\n\n                <!-- Site Details (Optional) -->\n                <div class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n                  <h4 class=\"text-sm font-medium text-gray-800 mb-3\">Site Details (Optional)</h4>\n                  <div class=\"grid md:grid-cols-2 gap-4\">\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Site Area (m²)</label>\n                      <input\n                        v-model.number=\"formData.aee_site_area\"\n                        type=\"number\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"e.g., 800\"\n                      />\n                    </div>\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Current Use</label>\n                      <input\n                        v-model=\"formData.aee_current_use\"\n                        type=\"text\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"e.g., Residential dwelling\"\n                      />\n                    </div>\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Zoning</label>\n                      <input\n                        v-model=\"formData.aee_zoning\"\n                        type=\"text\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"e.g., Residential Medium Density\"\n                      />\n                    </div>\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Overlays</label>\n                      <textarea\n                        v-model=\"formData.aee_overlays\"\n                        rows=\"2\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"e.g., Flood Hazard, Heritage\"\n                      ></textarea>\n                    </div>\n                    <div class=\"md:col-span-2\">\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Designations</label>\n                      <textarea\n                        v-model=\"formData.aee_designations\"\n                        rows=\"2\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"e.g., Future road corridor\"\n                      ></textarea>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Question 3: Effects on the Environment -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-3\">\n                    3. Actual and Potential Effects on the Environment *\n                  </label>\n                  <p class=\"text-xs text-gray-600 mb-3\">\n                    Assess effects across the following categories. Complete all that are relevant to your proposal:\n                  </p>\n\n                  <div class=\"space-y-4 pl-4\">\n                    <!-- Effects on People -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">a) Effects on People</label>\n                      <textarea\n                        v-model=\"formData.effects_on_people\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Privacy, sunlight access, visual amenity, noise impacts, safety, community wellbeing...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Physical Effects -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">b) Physical Effects</label>\n                      <textarea\n                        v-model=\"formData.physical_effects\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Traffic, parking, stormwater, wastewater, infrastructure impacts, building scale...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Earthworks Effects -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">c) Earthworks and Land Disturbance</label>\n                      <textarea\n                        v-model=\"formData.earthworks_effects\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Soil disturbance, erosion, sediment control, slope stability, construction impacts...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Discharges/Contaminants -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">d) Discharges and Contaminants</label>\n                      <textarea\n                        v-model=\"formData.discharge_contaminants_effects\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Stormwater discharge, wastewater, air quality, dust, odour, contaminant management...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Ecosystem Effects -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">e) Effects on Ecosystems and Biodiversity</label>\n                      <textarea\n                        v-model=\"formData.ecosystem_effects\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Indigenous vegetation, habitat values, watercourses, wetlands, biodiversity...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Hazards -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">f) Natural Hazard Risks</label>\n                      <textarea\n                        v-model=\"formData.hazard_risk_assessment\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Flood risk, liquefaction, slope instability, coastal hazards, seismic risk...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Cultural/Heritage -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">g) Cultural and Heritage Effects</label>\n                      <textarea\n                        v-model=\"formData.cultural_effects\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Heritage values, sites of significance to Māori, archaeological sites, Treaty considerations...\"\n                      ></textarea>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Question 4: Mitigation Measures -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    4. Measures to Avoid, Remedy, or Mitigate Adverse Effects\n                  </label>\n                  <textarea\n                    v-model=\"formData.mitigation_proposed\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"Describe measures you will implement to manage adverse effects. Include design features, construction methods, operational controls, conditions you're willing to accept...\"\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">How will you avoid, remedy, or mitigate adverse effects?</p>\n                </div>\n\n                <!-- Question 5: Alternatives -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    5. Alternative Locations, Methods, or Designs Considered\n                  </label>\n                  <textarea\n                    v-model=\"formData.alternatives_considered\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"What alternative designs, locations, methods, or approaches were considered? Why was this proposal selected?...\"\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">What alternatives did you consider?</p>\n                </div>\n\n                <!-- Question 6: RMA Part 2 Assessment -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    6. Assessment Against RMA Part 2 Matters\n                  </label>\n                  <textarea\n                    v-model=\"formData.aee_part2_assessment\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"Address sustainable management (s5), matters of national importance (s6), other matters (s7), Treaty of Waitangi (s8)...\"\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">How does your proposal align with the purpose and principles of the RMA?</p>\n                </div>\n\n                <!-- Question 7: Summary -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    7. Overall Summary of Environmental Effects *\n                  </label>\n                  <textarea\n                    v-model=\"formData.assessment_of_effects\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Provide a concise summary of the overall environmental effects. Will effects be minor, more than minor, or significant? What is your overall conclusion?...\"\n                    required\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">Summarize the overall environmental effects of your proposal</p>\n                </div>\n              </div>\n\n              <div class=\"mt-4 p-3 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600\">\n                <strong>Note:</strong> Questions 1, 2, and 7 are required as a minimum.\n                Questions 3-6 and all supporting sections are recommended for comprehensive applications.\n              </div>\n            </div>\n\n            <!-- Plan Assessment -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6 mb-6\">\n              <h3 class=\"text-base font-semibold text-gray-900 mb-3\">Plan Assessment</h3>\n              <p class=\"text-sm text-gray-600 mb-4\">\n                Identify the plan rules that apply to your proposal and assess compliance with plan standards.\n              </p>\n\n              <!-- Plan Rules Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center justify-between mb-3\">\n                  <h4 class=\"text-sm font-semibold text-gray-900\">Plan Rules</h4>\n                  <Button @click=\"addPlanRule\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                    <template #prefix>\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                    </template>\n                    Add Rule\n                  </Button>\n                </div>\n\n                <p class=\"text-xs text-gray-500 mb-3\">\n                  List the specific plan rules that trigger the need for resource consent\n                </p>\n\n                <div v-if=\"formData.aee_plan_rules.length > 0\" class=\"space-y-3 mb-3\">\n                  <div\n                    v-for=\"(rule, index) in formData.aee_plan_rules\"\n                    :key=\"index\"\n                    class=\"p-4 bg-white rounded-lg border border-gray-300\"\n                  >\n                    <div class=\"flex items-start justify-between\">\n                      <div class=\"flex-1\">\n                        <div class=\"flex items-center gap-2 mb-2\">\n                          <h5 class=\"text-sm font-semibold text-gray-900\">{{ rule.rule_reference }}</h5>\n                          <span class=\"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded\">\n                            {{ rule.activity_status }}\n                          </span>\n                        </div>\n                        <p v-if=\"rule.rule_description\" class=\"text-xs text-gray-600\">{{ rule.rule_description }}</p>\n                      </div>\n                      <Button @click=\"removePlanRule(index)\" variant=\"ghost\" theme=\"red\" size=\"sm\">\n                        <template #prefix>\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </template>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                <p v-else class=\"text-xs text-gray-500 italic\">No plan rules added yet</p>\n              </div>\n\n              <!-- Compliance Standards Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center justify-between mb-3\">\n                  <h4 class=\"text-sm font-semibold text-gray-900\">Compliance Standards</h4>\n                  <Button @click=\"addComplianceStandard\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                    <template #prefix>\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                    </template>\n                    Add Standard\n                  </Button>\n                </div>\n\n                <p class=\"text-xs text-gray-500 mb-3\">\n                  Assess compliance with plan standards (e.g., height, setbacks, car parking)\n                </p>\n\n                <div v-if=\"formData.aee_compliance_standards.length > 0\" class=\"space-y-3 mb-3\">\n                  <div\n                    v-for=\"(standard, index) in formData.aee_compliance_standards\"\n                    :key=\"index\"\n                    class=\"p-4 bg-white rounded-lg border border-gray-300\"\n                  >\n                    <div class=\"flex items-start justify-between\">\n                      <div class=\"flex-1\">\n                        <div class=\"flex items-center gap-2 mb-2\">\n                          <h5 class=\"text-sm font-semibold text-gray-900\">{{ standard.standard_reference }}</h5>\n                          <span :class=\"['px-2 py-0.5 text-xs font-medium rounded', standard.complies ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700']\">\n                            {{ standard.complies ? 'Complies' : 'Non-Complying' }}\n                          </span>\n                        </div>\n                        <p v-if=\"standard.compliance_analysis\" class=\"text-xs text-gray-600\">{{ standard.compliance_analysis }}</p>\n                      </div>\n                      <Button @click=\"removeComplianceStandard(index)\" variant=\"ghost\" theme=\"red\" size=\"sm\">\n                        <template #prefix>\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </template>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                <p v-else class=\"text-xs text-gray-500 italic\">No compliance standards added yet</p>\n              </div>\n\n              <!-- Written Approvals Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center justify-between mb-3\">\n                  <h4 class=\"text-sm font-semibold text-gray-900\">Written Approvals</h4>\n                  <Button @click=\"addWrittenApproval\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                    <template #prefix>\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                    </template>\n                    Add Approval\n                  </Button>\n                </div>\n\n                <p class=\"text-xs text-gray-500 mb-3\">\n                  Written approvals obtained from affected parties under RMA s104(3)(a)(ii)\n                </p>\n\n                <div v-if=\"formData.aee_written_approvals.length > 0\" class=\"space-y-3 mb-3\">\n                  <div\n                    v-for=\"(approval, index) in formData.aee_written_approvals\"\n                    :key=\"index\"\n                    class=\"p-4 bg-white rounded-lg border border-gray-300\"\n                  >\n                    <div class=\"flex items-start justify-between\">\n                      <div class=\"flex-1\">\n                        <div class=\"flex items-center gap-2 mb-1\">\n                          <h5 class=\"text-sm font-semibold text-gray-900\">{{ approval.party_name }}</h5>\n                          <span v-if=\"approval.approval_attached\" class=\"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded\">\n                            ✓ Attached\n                          </span>\n                        </div>\n                        <p v-if=\"approval.party_address\" class=\"text-xs text-gray-600\">{{ approval.party_address }}</p>\n                      </div>\n                      <Button @click=\"removeWrittenApproval(index)\" variant=\"ghost\" theme=\"red\" size=\"sm\">\n                        <template #prefix>\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </template>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                <p v-else class=\"text-xs text-gray-500 italic\">No written approvals added yet</p>\n              </div>\n\n              <!-- AEE Proposed Conditions Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center justify-between mb-3\">\n                  <h4 class=\"text-sm font-semibold text-gray-900\">Proposed Conditions</h4>\n                  <Button @click=\"addAEECondition\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                    <template #prefix>\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                    </template>\n                    Add Condition\n                  </Button>\n                </div>\n\n                <p class=\"text-xs text-gray-500 mb-3\">\n                  Conditions you propose to accept as part of the consent\n                </p>\n\n                <div v-if=\"formData.aee_proposed_conditions.length > 0\" class=\"space-y-3 mb-3\">\n                  <div\n                    v-for=\"(condition, index) in formData.aee_proposed_conditions\"\n                    :key=\"index\"\n                    class=\"p-4 bg-white rounded-lg border border-gray-300\"\n                  >\n                    <div class=\"flex items-start justify-between\">\n                      <div class=\"flex-1\">\n                        <div class=\"flex items-center gap-2 mb-1\">\n                          <span class=\"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-700 rounded\">\n                            Condition {{ condition.condition_number }}\n                          </span>\n                        </div>\n                        <p class=\"text-sm text-gray-900\">{{ condition.condition_text }}</p>\n                      </div>\n                      <Button @click=\"removeAEECondition(index)\" variant=\"ghost\" theme=\"red\" size=\"sm\">\n                        <template #prefix>\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </template>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                <p v-else class=\"text-xs text-gray-500 italic\">No proposed conditions added yet</p>\n              </div>\n            </div>\n\n            <!-- Affected Parties -->\n            <div class=\"border-t border-gray-200 pt-4\">\n              <div class=\"flex items-center justify-between mb-3\">\n                <h3 class=\"text-sm font-semibold text-gray-900\">Affected Parties</h3>\n                <Button @click=\"addAffectedParty\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                  <template #prefix>\n                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                  </template>\n                  Add Party\n                </Button>\n              </div>\n\n              <p class=\"text-xs text-gray-500 mb-3\">\n                List any parties (neighbors, landowners, etc.) who may be adversely affected by the proposal\n              </p>\n\n              <div v-if=\"formData.affected_parties.length > 0\" class=\"space-y-3 mb-3\">\n                <div\n                  v-for=\"(party, index) in formData.affected_parties\"\n                  :key=\"index\"\n                  class=\"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors\"\n                >\n                  <div class=\"flex items-start justify-between\">\n                    <div class=\"flex-1\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <h4 class=\"text-sm font-semibold text-gray-900\">{{ party.party_name }}</h4>\n                        <span class=\"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded\">\n                          {{ party.relationship }}\n                        </span>\n                      </div>\n\n                      <div class=\"grid md:grid-cols-2 gap-x-6 gap-y-1 text-xs text-gray-600\">\n                        <div v-if=\"party.property_address\" class=\"flex items-start gap-1\">\n                          <svg class=\"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                          </svg>\n                          <span>{{ party.property_address }}</span>\n                        </div>\n\n                        <div v-if=\"party.email\" class=\"flex items-center gap-1\">\n                          <svg class=\"w-4 h-4 text-gray-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                          </svg>\n                          <a :href=\"'mailto:' + party.email\" class=\"text-blue-600 hover:underline\">{{ party.email }}</a>\n                        </div>\n\n                        <div v-if=\"party.phone\" class=\"flex items-center gap-1\">\n                          <svg class=\"w-4 h-4 text-gray-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                          </svg>\n                          <a :href=\"'tel:' + party.phone\" class=\"text-blue-600 hover:underline\">{{ party.phone }}</a>\n                        </div>\n\n                        <div v-if=\"party.postal_address\" class=\"flex items-start gap-1\">\n                          <svg class=\"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76\" />\n                          </svg>\n                          <span>Postal: {{ party.postal_address }}</span>\n                        </div>\n                      </div>\n\n                      <div v-if=\"party.approval_obtained\" class=\"mt-2 flex items-center gap-2\">\n                        <span class=\"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded\">\n                          <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n                          </svg>\n                          Written approval obtained\n                        </span>\n                        <span v-if=\"party.approval_date\" class=\"text-xs text-gray-500\">{{ party.approval_date }}</span>\n                      </div>\n\n                      <p v-if=\"party.comments\" class=\"mt-2 text-xs text-gray-600 italic\">{{ party.comments }}</p>\n                    </div>\n\n                    <div class=\"flex gap-1 ml-3\">\n                      <button\n                        @click=\"editAffectedParty(index)\"\n                        class=\"p-1 text-blue-600 hover:bg-blue-50 rounded\"\n                        title=\"Edit party\"\n                      >\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                        </svg>\n                      </button>\n                      <button\n                        @click=\"removeAffectedParty(index)\"\n                        class=\"p-1 text-red-600 hover:bg-red-50 rounded\"\n                        title=\"Remove party\"\n                      >\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <p class=\"text-sm text-gray-500\">No affected parties added yet</p>\n              </div>\n\n              <!-- Written Approvals Count -->\n              <div v-if=\"formData.affected_parties.length > 0\" class=\"mt-3\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Number of Written Approvals Obtained\n                </label>\n                <input\n                  v-model.number=\"formData.written_approvals_obtained\"\n                  type=\"number\"\n                  min=\"0\"\n                  :max=\"formData.affected_parties.length\"\n                  class=\"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">\n                  How many of the {{ formData.affected_parties.length }} affected parties have provided written approval?\n                </p>\n              </div>\n\n              <!-- Consultation Summary -->\n              <div class=\"mt-6\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Consultation Summary (Optional)\n                </label>\n                <textarea\n                  v-model=\"formData.aee_consultation_summary\"\n                  rows=\"4\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                  placeholder=\"Summarize consultation undertaken with affected parties, including methods used, responses received, and how concerns have been addressed...\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">Provide a summary of consultation efforts with affected parties</p>\n              </div>\n\n              <!-- Iwi Consultation Note -->\n              <div class=\"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg\">\n                <div class=\"flex items-start gap-2\">\n                  <svg class=\"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div>\n                    <h4 class=\"text-sm font-semibold text-green-900\">Treaty of Waitangi Obligations</h4>\n                    <p class=\"text-xs text-green-700 mt-1\">\n                      To record iwi/hapū consultation, add them as affected parties above using the relationship type \"Iwi\".\n                      Include their response in the comments field. Upload any Cultural Impact Assessment (CIA) as a specialist report.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Iwi Consultation (Dedicated Section) -->\n            <div class=\"border-t border-gray-200 pt-4\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-3\">Iwi Consultation</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">\n                Details of consultation with iwi and hapū under RMA s8 (Treaty of Waitangi)\n              </p>\n\n              <div class=\"space-y-4\">\n                <!-- Consultation Undertaken -->\n                <div class=\"flex items-center\">\n                  <input\n                    v-model=\"formData.iwi_consultation_undertaken\"\n                    type=\"checkbox\"\n                    class=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                  />\n                  <label class=\"ml-2 text-sm text-gray-700\">\n                    Iwi/Hapū consultation has been undertaken\n                  </label>\n                </div>\n\n                <!-- Iwi Consulted -->\n                <div v-if=\"formData.iwi_consultation_undertaken\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Iwi/Hapū Consulted\n                  </label>\n                  <textarea\n                    v-model=\"formData.iwi_consulted\"\n                    rows=\"2\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                    placeholder=\"List the iwi and hapū groups that were consulted...\"\n                  ></textarea>\n                </div>\n\n                <!-- Response Summary -->\n                <div v-if=\"formData.iwi_consultation_undertaken\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Response Summary\n                  </label>\n                  <textarea\n                    v-model=\"formData.iwi_response_summary\"\n                    rows=\"3\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                    placeholder=\"Summarize the responses received from iwi/hapū, including any concerns raised and how they are addressed...\"\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">\n                    Summary of feedback and responses from consulted iwi/hapū\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Specialist Reports -->\n            <div class=\"border-t border-gray-200 pt-4\">\n              <div class=\"flex items-center justify-between mb-3\">\n                <h3 class=\"text-sm font-semibold text-gray-900\">Specialist Reports</h3>\n                <Button @click=\"addSpecialistReport\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                  <template #prefix>\n                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                  </template>\n                  Add Report\n                </Button>\n              </div>\n\n              <p class=\"text-xs text-gray-500 mb-3\">\n                Add any specialist technical reports (traffic, geotechnical, acoustic, ecological, etc.)\n              </p>\n\n              <div v-if=\"formData.specialist_reports.length > 0\" class=\"space-y-3 mb-3\">\n                <div\n                  v-for=\"(report, index) in formData.specialist_reports\"\n                  :key=\"index\"\n                  class=\"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors\"\n                >\n                  <div class=\"flex items-start justify-between mb-2\">\n                    <div class=\"flex items-center gap-2\">\n                      <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                      </svg>\n                      <h4 class=\"text-sm font-semibold text-gray-900\">{{ report.report_type }}</h4>\n                    </div>\n                    <span class=\"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded font-medium\">\n                      {{ report.report_date }}\n                    </span>\n                  </div>\n\n                  <div class=\"space-y-2 text-xs text-gray-600 mb-3\">\n                    <div class=\"flex items-center gap-2\">\n                      <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                      </svg>\n                      <span class=\"font-medium\">{{ report.specialist_name }}</span>\n                      <span v-if=\"report.specialist_company\" class=\"text-gray-400\">• {{ report.specialist_company }}</span>\n                    </div>\n\n                    <div v-if=\"report.document\" class=\"flex items-center gap-2 text-blue-600\">\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                      </svg>\n                      <span>{{ typeof report.document === 'object' ? report.document.name : 'Document attached' }}</span>\n                    </div>\n\n                    <div v-if=\"report.summary\" class=\"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-700\">\n                      <span class=\"font-medium\">Summary: </span>{{ report.summary }}\n                    </div>\n                  </div>\n\n                  <div class=\"flex gap-2\">\n                    <button\n                      @click=\"editSpecialistReport(index)\"\n                      class=\"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded transition-colors\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                      </svg>\n                      Edit\n                    </button>\n                    <button\n                      @click=\"removeSpecialistReport(index)\"\n                      class=\"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded transition-colors\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                      Remove\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <p class=\"text-sm text-gray-500\">No specialist reports added yet</p>\n                <p class=\"text-xs text-gray-400 mt-1\">Upload report files in the Documents step</p>\n              </div>\n            </div>\n\n            <!-- Proposed Conditions -->\n            <div>\n              <div class=\"flex items-center justify-between mb-2\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700\">\n                    Proposed Conditions (Optional)\n                  </label>\n                  <p class=\"mt-1 text-xs text-gray-500\">Select from standard templates or propose custom conditions</p>\n                </div>\n                <button\n                  type=\"button\"\n                  @click=\"openConditionsModal\"\n                  class=\"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 flex items-center gap-1.5\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                  </svg>\n                  Browse Templates\n                </button>\n              </div>\n\n              <!-- Selected Conditions Display -->\n              <div v-if=\"formData.proposed_conditions && formData.proposed_conditions.length > 0\" class=\"space-y-3 mt-3\">\n                <div v-for=\"(condition, index) in formData.proposed_conditions\" :key=\"index\" class=\"p-3 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors\">\n                  <div class=\"flex items-start justify-between mb-2\">\n                    <div class=\"flex items-center gap-2\">\n                      <span class=\"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-mono rounded\">{{ condition.condition_number }}</span>\n                      <span class=\"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded\">{{ condition.condition_category }}</span>\n                    </div>\n                    <div class=\"flex gap-1\">\n                      <button type=\"button\" @click=\"editCondition(index)\" class=\"p-1 text-blue-600 hover:bg-blue-50 rounded\" title=\"Edit condition\">\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                        </svg>\n                      </button>\n                      <button type=\"button\" @click=\"removeCondition(index)\" class=\"p-1 text-red-600 hover:bg-red-50 rounded\" title=\"Remove condition\">\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                  <div class=\"text-xs text-gray-700\" v-html=\"condition.condition_text\"></div>\n                  <div v-if=\"condition.compliance_notes\" class=\"mt-2 text-xs text-gray-500 italic\">{{ condition.compliance_notes }}</div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <svg class=\"w-10 h-10 mx-auto text-gray-400 mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <p class=\"text-sm text-gray-500\">No conditions proposed yet</p>\n                <p class=\"text-xs text-gray-400 mt-1\">Click \"Browse Templates\" to select standard conditions</p>\n              </div>\n\n              <p class=\"mt-2 text-xs text-gray-500\">\n                <svg class=\"w-3.5 h-3.5 inline mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\" />\n                </svg>\n                The council will determine final consent conditions based on the assessment\n              </p>\n            </div>\n\n            <!-- Confidential Information (RMA s42) -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-2\">Confidential Information (RMA s42)</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">Under section 42 of the RMA, you may request that certain information be kept confidential if it contains trade secrets or is commercially sensitive</p>\n\n              <div class=\"space-y-4\">\n                <div class=\"flex items-start\">\n                  <input\n                    type=\"checkbox\"\n                    v-model=\"formData.confidential_information_claimed\"\n                    class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                  />\n                  <label class=\"ml-3 text-sm font-medium text-gray-700\">\n                    This application contains confidential information that should be withheld from public notification\n                  </label>\n                </div>\n\n                <div v-if=\"formData.confidential_information_claimed\" class=\"ml-7 border-l-2 border-yellow-300 pl-4 bg-yellow-50 p-4 rounded-r-lg\">\n                  <label class=\"block text-sm font-medium text-gray-900 mb-2\">\n                    Justification for Confidentiality *\n                  </label>\n                  <p class=\"text-xs text-gray-600 mb-3\">\n                    Explain why this information should be withheld under s42 of the RMA. You must demonstrate that the information is a trade secret or that making it public would unreasonably prejudice your commercial position.\n                  </p>\n                  <textarea\n                    v-model=\"formData.confidential_information_reason\"\n                    rows=\"4\"\n                    required\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white\"\n                    placeholder=\"Provide detailed justification for why this information should be kept confidential. Include references to specific documents or sections that contain confidential material...\"\n                  ></textarea>\n                  <p class=\"mt-2 text-xs text-yellow-700\">\n                    ⚠ Note: The consent authority will determine whether your justification meets the requirements of s42. Confidentiality is not guaranteed.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Invoicing Details -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-base font-semibold text-gray-900 mb-3\">Invoicing Details</h3>\n              <p class=\"text-sm text-gray-600 mb-4\">\n                Specify where the invoice for this application should be sent.\n              </p>\n\n              <div class=\"space-y-4\">\n                <!-- Invoice To -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Send Invoice To *\n                  </label>\n                  <div class=\"space-y-2\">\n                    <label class=\"flex items-center\">\n                      <input\n                        type=\"radio\"\n                        v-model=\"formData.invoice_to\"\n                        value=\"Applicant\"\n                        class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                      />\n                      <span class=\"ml-2 text-sm text-gray-700\">Applicant (use contact details from Step 1)</span>\n                    </label>\n                    <label class=\"flex items-center\">\n                      <input\n                        type=\"radio\"\n                        v-model=\"formData.invoice_to\"\n                        value=\"Other\"\n                        class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"\n                      />\n                      <span class=\"ml-2 text-sm text-gray-700\">Other (specify below)</span>\n                    </label>\n                  </div>\n                </div>\n\n                <!-- Other Invoice Details (conditional) -->\n                <div v-if=\"formData.invoice_to === 'Other'\" class=\"pl-6 border-l-2 border-blue-300 space-y-4\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Invoice Contact Name *\n                    </label>\n                    <input\n                      v-model=\"formData.invoice_name\"\n                      type=\"text\"\n                      placeholder=\"Full name\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      :required=\"formData.invoice_to === 'Other'\"\n                    />\n                  </div>\n\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Invoice Email *\n                    </label>\n                    <input\n                      v-model=\"formData.invoice_email\"\n                      type=\"email\"\n                      placeholder=\"email@example.com\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      :required=\"formData.invoice_to === 'Other'\"\n                    />\n                  </div>\n\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Invoice Postal Address *\n                    </label>\n                    <textarea\n                      v-model=\"formData.invoice_address\"\n                      rows=\"3\"\n                      placeholder=\"Full postal address\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                      :required=\"formData.invoice_to === 'Other'\"\n                    ></textarea>\n                  </div>\n                </div>\n\n                <!-- Purchase Order Number -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Purchase Order Number (Optional)\n                  </label>\n                  <input\n                    v-model=\"formData.purchase_order_number\"\n                    type=\"text\"\n                    placeholder=\"e.g., PO-2024-12345\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                  <p class=\"mt-1 text-xs text-gray-500\">If your organization uses purchase orders, enter the PO number here</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Statutory Declarations -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-base font-semibold text-gray-900 mb-3\">Statutory Declarations</h3>\n              <p class=\"text-sm text-gray-600 mb-4\">\n                Before submitting your application, you must confirm the following declarations under the Resource Management Act 1991.\n              </p>\n\n              <div class=\"space-y-4 bg-gray-50 border border-gray-300 rounded-lg p-4\">\n                <!-- Declaration 1: RMA Compliance -->\n                <div class=\"flex items-start\">\n                  <input\n                    type=\"checkbox\"\n                    v-model=\"formData.declaration_rma_compliance\"\n                    class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    required\n                  />\n                  <label class=\"ml-3 text-sm text-gray-700\">\n                    <span class=\"font-medium\">RMA Compliance:</span> I declare that, to the best of my knowledge, the information provided in this application is true and correct. I understand that providing false or misleading information is an offense under section 43 of the Resource Management Act 1991. *\n                  </label>\n                </div>\n\n                <!-- Declaration 2: Public Information -->\n                <div class=\"flex items-start\">\n                  <input\n                    type=\"checkbox\"\n                    v-model=\"formData.declaration_public_information\"\n                    class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    required\n                  />\n                  <label class=\"ml-3 text-sm text-gray-700\">\n                    <span class=\"font-medium\">Public Information:</span> I understand that this application and supporting documents (except information claimed as confidential under s42) will be made publicly available and may be subject to public notification under the RMA. *\n                  </label>\n                </div>\n\n                <!-- Declaration 3: Authorization -->\n                <div class=\"flex items-start\">\n                  <input\n                    type=\"checkbox\"\n                    v-model=\"formData.declaration_authorized\"\n                    class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    required\n                  />\n                  <label class=\"ml-3 text-sm text-gray-700\">\n                    <span class=\"font-medium\">Authorization:</span> I confirm that I am authorized to submit this application on behalf of the applicant, and that I have obtained all necessary consents from property owners, affected parties, and other relevant stakeholders as required by the RMA. *\n                  </label>\n                </div>\n              </div>\n\n              <p class=\"mt-3 text-xs text-gray-600\">\n                <svg class=\"w-4 h-4 inline mr-1 text-yellow-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\" />\n                </svg>\n                All three declarations are required to submit your application.\n              </p>\n            </div>\n\n            <!-- Pre-Application Meeting -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n                <div class=\"flex items-start\">\n                  <div class=\"flex-shrink-0\">\n                    <svg class=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                    </svg>\n                  </div>\n                  <div class=\"ml-3 flex-1\">\n                    <h3 class=\"text-sm font-semibold text-blue-900 mb-2\">\n                      Need Help with Your Application?\n                    </h3>\n                    <p class=\"text-sm text-blue-800 mb-3\">\n                      For <strong>discretionary</strong> or <strong>non-complying</strong> activities, we recommend booking a pre-application meeting with our planning team. This can help:\n                    </p>\n                    <ul class=\"text-sm text-blue-800 space-y-1 ml-4 list-disc mb-4\">\n                      <li>Clarify district plan requirements</li>\n                      <li>Identify potential issues early</li>\n                      <li>Understand what information you'll need</li>\n                      <li>Get preliminary feedback on your proposal</li>\n                    </ul>\n                    <Button\n                      @click=\"requestPreAppMeeting\"\n                      variant=\"solid\"\n                      theme=\"blue\"\n                      size=\"sm\"\n                      :loading=\"requestingMeeting\"\n                    >\n                      <template #prefix>\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                        </svg>\n                      </template>\n                      Request Pre-Application Meeting\n                    </Button>\n                    <p class=\"text-xs text-blue-700 mt-2\">\n                      A planning officer will contact you within 2 business days to schedule.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Step 5 content moved to Step 4 - this section will be deleted -->\n        <div v-if=\"false\">\n          <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Resource Consent Details</h2>\n          <p class=\"text-gray-600 mb-8\">Provide Resource Management Act (RMA) specific information</p>\n\n          <div class=\"space-y-6\">\n            <!-- Reference and Delivery -->\n            <div class=\"grid md:grid-cols-3 gap-4 mb-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Applicant Reference Number\n                </label>\n                <input\n                  v-model=\"formData.applicant_reference_number\"\n                  type=\"text\"\n                  placeholder=\"e.g., PROJ-2025-001\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Your internal project/file reference (optional)</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  PIM Reference\n                </label>\n                <input\n                  v-model=\"formData.pim_reference\"\n                  type=\"text\"\n                  placeholder=\"e.g., PIM-2024-12345\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Property Information Memorandum number (if applicable)</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Delivery Preference\n                </label>\n                <select\n                  v-model=\"formData.delivery_preference\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select preference</option>\n                  <option value=\"Email\">Email</option>\n                  <option value=\"Postal Mail\">Postal Mail</option>\n                  <option value=\"Both Email and Postal\">Both Email and Postal</option>\n                </select>\n                <p class=\"mt-1 text-xs text-gray-500\">How to receive correspondence</p>\n              </div>\n            </div>\n\n            <!-- Consent Types and Activity Status -->\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Consent Type(s) *\n                </label>\n                <div class=\"space-y-2 p-3 border border-gray-300 rounded-lg\">\n                  <label v-for=\"consentType in availableConsentTypes\" :key=\"consentType\" class=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      :value=\"consentType\"\n                      @change=\"toggleConsentType(consentType)\"\n                      :checked=\"isConsentTypeSelected(consentType)\"\n                      class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    />\n                    <span class=\"ml-2 text-sm text-gray-700\">{{ consentType }}</span>\n                  </label>\n                </div>\n                <p class=\"mt-1 text-xs text-gray-500\">Select all consent types required (multiple allowed)</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Activity Status *\n                  <button\n                    type=\"button\"\n                    @click=\"showActivityStatusHelp = !showActivityStatusHelp\"\n                    class=\"ml-1 text-blue-600 hover:text-blue-800\"\n                    title=\"Click for help\"\n                  >\n                    <svg class=\"w-4 h-4 inline\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </button>\n                </label>\n\n                <div v-if=\"showActivityStatusHelp\" class=\"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-900\">\n                  <p class=\"font-semibold mb-2\">RMA Activity Status Guide:</p>\n                  <ul class=\"space-y-1 ml-4 list-disc\">\n                    <li><strong>Permitted:</strong> Allowed without consent (no application needed)</li>\n                    <li><strong>Controlled:</strong> Consent must be granted; council sets conditions</li>\n                    <li><strong>Restricted Discretionary:</strong> Council has limited grounds to decline</li>\n                    <li><strong>Discretionary:</strong> Council has full discretion to grant or decline</li>\n                    <li><strong>Non-Complying:</strong> Does not comply with plan; requires special justification</li>\n                    <li><strong>Prohibited:</strong> Cannot be consented under any circumstances</li>\n                  </ul>\n                  <p class=\"mt-2 text-xs text-blue-700\">Check your district plan zone rules to determine status</p>\n                </div>\n\n                <select\n                  v-model=\"formData.activity_status\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  required\n                >\n                  <option value=\"\">Select activity status</option>\n                  <option value=\"Controlled\">Controlled</option>\n                  <option value=\"Restricted Discretionary\">Restricted Discretionary</option>\n                  <option value=\"Discretionary\">Discretionary</option>\n                  <option value=\"Non-Complying\">Non-Complying</option>\n                  <option value=\"Permitted Boundary Activity\">Permitted Boundary Activity</option>\n                </select>\n                <p class=\"mt-1 text-xs text-gray-500\">Activity classification under district plan</p>\n\n                <div v-if=\"activityStatusWarning\" class=\"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800\">\n                  {{ activityStatusWarning }}\n                </div>\n              </div>\n            </div>\n\n            <!-- Permitted Boundary Activity (RMA s87BA) -->\n            <div v-if=\"formData.activity_status === 'Permitted Boundary Activity'\" class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-2\">Permitted Boundary Activity (RMA s87BA)</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">This is a special consent type for boundary infringements under section 87BA of the Resource Management Act</p>\n\n              <div class=\"space-y-4\">\n                <div>\n                  <label class=\"block text-xs font-medium text-gray-700 mb-1\">Boundary Description</label>\n                  <input\n                    v-model=\"formData.boundary_description\"\n                    type=\"text\"\n                    placeholder=\"e.g., Side boundary with 123 Main Street\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                  />\n                </div>\n\n                <div>\n                  <label class=\"block text-xs font-medium text-gray-700 mb-1\">Description of Boundary Activity</label>\n                  <textarea\n                    v-model=\"formData.boundary_activity_description\"\n                    rows=\"3\"\n                    placeholder=\"Describe how the activity infringes the boundary setback requirements...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                  ></textarea>\n                </div>\n\n                <div class=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <div class=\"flex items-start mb-2\">\n                      <input\n                        type=\"checkbox\"\n                        v-model=\"formData.boundary_owner_approval_obtained\"\n                        class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                      />\n                      <label class=\"ml-3 text-xs font-medium text-gray-700\">\n                        Affected boundary owner approval obtained\n                      </label>\n                    </div>\n                  </div>\n\n                  <div v-if=\"formData.boundary_owner_approval_obtained\">\n                    <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Date</label>\n                    <input\n                      v-model=\"formData.boundary_approval_date\"\n                      type=\"date\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                    />\n                  </div>\n                </div>\n\n                <div v-if=\"formData.boundary_owner_approval_obtained\">\n                  <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Documentation</label>\n                  <input\n                    type=\"file\"\n                    @change=\"handleBoundaryApprovalUpload\"\n                    accept=\".pdf,.doc,.docx,.jpg,.png\"\n                    class=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200\"\n                  />\n                  <p v-if=\"formData.boundary_approval_document\" class=\"text-xs text-blue-600 mt-1\">\n                    ✓ Document uploaded\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Proposal Details -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-4\">Proposal Details</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">Provide details about your proposed development (all fields optional)</p>\n\n              <!-- Collapsible Accordion Sections -->\n              <div class=\"space-y-3\">\n                <!-- Building/Structure Accordion -->\n                <div class=\"border border-gray-300 rounded-lg overflow-hidden\">\n                  <button\n                    @click=\"toggleProposalSection('building')\"\n                    type=\"button\"\n                    class=\"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors\"\n                  >\n                    <span class=\"text-sm font-medium text-gray-900\">Building/Structure Dimensions</span>\n                    <svg\n                      :class=\"{ 'rotate-180': proposalAccordion.building }\"\n                      class=\"w-5 h-5 text-gray-600 transition-transform\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  <div v-if=\"proposalAccordion.building\" class=\"p-4 bg-white\">\n                    <div class=\"grid md:grid-cols-2 gap-4\">\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Building Height (metres)</label>\n                        <input\n                          v-model=\"formData.building_height\"\n                          type=\"number\"\n                          placeholder=\"e.g., 8.5\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Total Floor Area (m²)</label>\n                        <input\n                          v-model=\"formData.building_floor_area\"\n                          type=\"number\"\n                          placeholder=\"e.g., 250\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Earthworks Accordion -->\n                <div class=\"border border-gray-300 rounded-lg overflow-hidden\">\n                  <button\n                    @click=\"toggleProposalSection('earthworks')\"\n                    type=\"button\"\n                    class=\"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors\"\n                  >\n                    <span class=\"text-sm font-medium text-gray-900\">Earthworks</span>\n                    <svg\n                      :class=\"{ 'rotate-180': proposalAccordion.earthworks }\"\n                      class=\"w-5 h-5 text-gray-600 transition-transform\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  <div v-if=\"proposalAccordion.earthworks\" class=\"p-4 bg-white\">\n                    <div class=\"grid md:grid-cols-2 gap-4\">\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Earthworks Volume (m³)</label>\n                        <input\n                          v-model=\"formData.earthworks_volume\"\n                          type=\"number\"\n                          placeholder=\"e.g., 150\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Maximum Vertical Alteration (metres)</label>\n                        <input\n                          v-model=\"formData.earthworks_vertical_alteration\"\n                          type=\"number\"\n                          placeholder=\"e.g., 2.5\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Traffic & Parking Accordion -->\n                <div class=\"border border-gray-300 rounded-lg overflow-hidden\">\n                  <button\n                    @click=\"toggleProposalSection('traffic')\"\n                    type=\"button\"\n                    class=\"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors\"\n                  >\n                    <span class=\"text-sm font-medium text-gray-900\">Traffic & Parking</span>\n                    <svg\n                      :class=\"{ 'rotate-180': proposalAccordion.traffic }\"\n                      class=\"w-5 h-5 text-gray-600 transition-transform\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  <div v-if=\"proposalAccordion.traffic\" class=\"p-4 bg-white\">\n                    <div class=\"space-y-3\">\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Additional Vehicle Movements/Day</label>\n                        <input\n                          v-model=\"formData.vehicle_movements_daily\"\n                          type=\"number\"\n                          placeholder=\"e.g., 20\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Parking Spaces Provided</label>\n                        <input\n                          v-model=\"formData.parking_spaces_provided\"\n                          type=\"number\"\n                          placeholder=\"e.g., 4\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Operations Accordion -->\n                <div class=\"border border-gray-300 rounded-lg overflow-hidden\">\n                  <button\n                    @click=\"toggleProposalSection('operations')\"\n                    type=\"button\"\n                    class=\"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors\"\n                  >\n                    <span class=\"text-sm font-medium text-gray-900\">Operations</span>\n                    <svg\n                      :class=\"{ 'rotate-180': proposalAccordion.operations }\"\n                      class=\"w-5 h-5 text-gray-600 transition-transform\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                    </svg>\n                  </button>\n                  <div v-if=\"proposalAccordion.operations\" class=\"p-4 bg-white\">\n                    <div class=\"space-y-3\">\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Hours of Operation</label>\n                        <input\n                          v-model=\"formData.hours_of_operation\"\n                          type=\"text\"\n                          placeholder=\"e.g., Mon-Fri 8am-6pm\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                      <div>\n                        <label class=\"block text-xs font-medium text-gray-600 mb-1\">Consent Term Requested</label>\n                        <input\n                          v-model=\"formData.consent_term_requested\"\n                          type=\"text\"\n                          placeholder=\"e.g., 5 years, Unlimited\"\n                          class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Site & Environment -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-4\">Site & Environment</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">Describe existing site conditions and environmental features (all fields optional)</p>\n\n              <div class=\"space-y-4\">\n                <div>\n                  <label class=\"block text-xs font-medium text-gray-600 mb-1\">Site Topography</label>\n                  <textarea\n                    v-model=\"formData.site_topography\"\n                    rows=\"2\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"e.g., Generally flat with gentle slope to north, approximately 10m elevation...\"\n                  ></textarea>\n                </div>\n\n                <div>\n                  <label class=\"block text-xs font-medium text-gray-600 mb-1\">Existing Vegetation</label>\n                  <textarea\n                    v-model=\"formData.existing_vegetation_description\"\n                    rows=\"3\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"Describe existing trees, shrubs, native vegetation, notable specimens...\"\n                  ></textarea>\n                </div>\n\n                <div class=\"grid md:grid-cols-2 gap-4\">\n                  <div>\n                    <div class=\"flex items-start mb-2\">\n                      <input\n                        type=\"checkbox\"\n                        v-model=\"formData.watercourses_present\"\n                        class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                      />\n                      <label class=\"ml-3 text-xs font-medium text-gray-700\">\n                        Watercourses/Wetlands Present on Site\n                      </label>\n                    </div>\n                    <div v-if=\"formData.watercourses_present\">\n                      <textarea\n                        v-model=\"formData.watercourse_description\"\n                        rows=\"2\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Describe watercourses, streams, wetlands...\"\n                      ></textarea>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label class=\"block text-xs font-medium text-gray-600 mb-1\">HAIL Contamination Status</label>\n                    <select\n                      v-model=\"formData.contamination_status_hail\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    >\n                      <option value=\"\">Select contamination status</option>\n                      <option value=\"Not Assessed\">Not Assessed</option>\n                      <option value=\"Not HAIL\">Not HAIL (Hazardous Activities and Industries List)</option>\n                      <option value=\"HAIL - Not Investigated\">HAIL - Not Investigated</option>\n                      <option value=\"HAIL - Investigated (Clean)\">HAIL - Investigated (Clean)</option>\n                      <option value=\"HAIL - Contaminated\">HAIL - Contaminated</option>\n                    </select>\n                  </div>\n                </div>\n\n                <!-- Natural Hazards Assessment (RMA s104) -->\n                <div class=\"border border-blue-200 rounded-lg p-4 bg-blue-50\">\n                  <h4 class=\"text-sm font-semibold text-blue-900 mb-3\">Natural Hazards Assessment (RMA s104)</h4>\n                  <p class=\"text-xs text-blue-700 mb-3\">Indicate which natural hazards are present on or near the site</p>\n\n                  <div class=\"space-y-2 mb-3\">\n                    <div v-for=\"hazard in naturalHazardTypes\" :key=\"hazard\" class=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        :id=\"'hazard-' + hazard\"\n                        :value=\"hazard\"\n                        v-model=\"selectedHazards\"\n                        class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                      />\n                      <label :for=\"'hazard-' + hazard\" class=\"ml-2 text-sm text-gray-700\">{{ hazard }}</label>\n                    </div>\n                  </div>\n\n                  <div v-if=\"selectedHazards.length > 0\" class=\"border-t border-blue-300 pt-3 mt-3\">\n                    <div v-for=\"hazard in selectedHazards\" :key=\"hazard\" class=\"mb-4 last:mb-0\">\n                      <h5 class=\"text-xs font-semibold text-blue-900 mb-2\">{{ hazard }}</h5>\n                      <div class=\"grid md:grid-cols-2 gap-3\">\n                        <div>\n                          <label class=\"block text-xs font-medium text-gray-700 mb-1\">Risk Level</label>\n                          <select\n                            v-model=\"getHazardData(hazard).risk_level\"\n                            class=\"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white\"\n                          >\n                            <option value=\"\">Select risk level</option>\n                            <option value=\"Low\">Low</option>\n                            <option value=\"Medium\">Medium</option>\n                            <option value=\"High\">High</option>\n                            <option value=\"Extreme\">Extreme</option>\n                          </select>\n                        </div>\n                        <div class=\"flex items-end\">\n                          <div class=\"flex items-center mb-1\">\n                            <input\n                              type=\"checkbox\"\n                              :id=\"'mitigation-' + hazard\"\n                              v-model=\"getHazardData(hazard).mitigation_required\"\n                              class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                            />\n                            <label :for=\"'mitigation-' + hazard\" class=\"ml-2 text-xs text-gray-700\">Mitigation Required</label>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"mt-2\">\n                        <label class=\"block text-xs font-medium text-gray-700 mb-1\">Assessment Notes</label>\n                        <textarea\n                          v-model=\"getHazardData(hazard).assessment_notes\"\n                          rows=\"2\"\n                          class=\"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white\"\n                          placeholder=\"Describe the hazard and its potential impact...\"\n                        ></textarea>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div>\n                  <label class=\"block text-xs font-medium text-gray-600 mb-1\">Existing Infrastructure</label>\n                  <textarea\n                    v-model=\"formData.existing_infrastructure\"\n                    rows=\"2\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"e.g., Wastewater, stormwater, electricity connections...\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n\n            <!-- National Environmental Standards (NES) Assessment -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-2\">National Environmental Standards (NES) Assessment</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">Indicate which National Environmental Standards apply to this proposal</p>\n\n              <!-- Context Summary Panel -->\n              <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n                <h4 class=\"text-sm font-semibold text-blue-900 mb-2\">Application Context</h4>\n                <div class=\"grid md:grid-cols-2 gap-3 text-xs\">\n                  <div>\n                    <span class=\"font-medium text-blue-800\">Applicant:</span>\n                    <span class=\"text-blue-700 ml-1\">{{ formData.applicant_name || 'Not provided' }}</span>\n                  </div>\n                  <div>\n                    <span class=\"font-medium text-blue-800\">Location:</span>\n                    <span class=\"text-blue-700 ml-1\">{{ formData.property_address || 'Not provided' }}</span>\n                  </div>\n                  <div>\n                    <span class=\"font-medium text-blue-800\">Consent Type(s):</span>\n                    <span class=\"text-blue-700 ml-1\">{{ formData.consent_types.map(ct => ct.consent_type).join(', ') || 'Not selected' }}</span>\n                  </div>\n                  <div>\n                    <span class=\"font-medium text-blue-800\">Activity Status:</span>\n                    <span class=\"text-blue-700 ml-1\">{{ formData.activity_status || 'Not selected' }}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"space-y-3\">\n                <div v-for=\"nesType in nesTypes\" :key=\"nesType.value\" class=\"border border-gray-200 rounded-lg p-3 bg-gray-50\">\n                  <div class=\"flex items-start mb-2\">\n                    <input\n                      type=\"checkbox\"\n                      :id=\"'nes-' + nesType.value\"\n                      v-model=\"getNESData(nesType.value).applies\"\n                      class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    />\n                    <label :for=\"'nes-' + nesType.value\" class=\"ml-3 text-sm font-medium text-gray-900\">\n                      {{ nesType.label }}\n                    </label>\n                  </div>\n\n                  <div v-if=\"getNESData(nesType.value).applies\" class=\"ml-7 mt-3 space-y-3 border-l-2 border-blue-300 pl-3\">\n                    <!-- Other NES Description (conditional) -->\n                    <div v-if=\"nesType.value === 'Other'\">\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Other NES Description *</label>\n                      <input\n                        v-model=\"getNESData(nesType.value).other_nes_description\"\n                        type=\"text\"\n                        required\n                        class=\"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white\"\n                        placeholder=\"Please specify the NES type...\"\n                      />\n                    </div>\n\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Compliance Status</label>\n                      <select\n                        v-model=\"getNESData(nesType.value).compliance_status\"\n                        class=\"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white\"\n                      >\n                        <option value=\"\">Select compliance status</option>\n                        <option value=\"Permitted Activity\">Permitted Activity</option>\n                        <option value=\"Requires Consent\">Requires Consent</option>\n                        <option value=\"Non-Complying Activity\">Non-Complying Activity</option>\n                      </select>\n                    </div>\n\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Assessment Notes</label>\n                      <textarea\n                        v-model=\"getNESData(nesType.value).assessment_notes\"\n                        rows=\"2\"\n                        class=\"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white\"\n                        placeholder=\"Provide details on how the NES applies...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- In-context NES Document Upload -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Upload NES Assessment Document</label>\n                      <div class=\"flex items-center gap-2\">\n                        <input\n                          type=\"file\"\n                          @change=\"handleNESDocumentUpload($event, nesType.value)\"\n                          accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n                          class=\"text-xs file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                        />\n                      </div>\n                      <p class=\"text-xs text-gray-500 mt-1\">PDF, Word documents, or images (max 10MB)</p>\n                      <!-- Show uploaded NES documents for this type -->\n                      <div v-if=\"getNESDocuments(nesType.value).length > 0\" class=\"mt-2 space-y-1\">\n                        <div v-for=\"(doc, docIdx) in getNESDocuments(nesType.value)\" :key=\"docIdx\" class=\"flex items-center justify-between text-xs bg-gray-50 p-2 rounded\">\n                          <span class=\"text-gray-700\">{{ doc.document_type }} - {{ doc.file?.name || 'Uploaded' }}</span>\n                          <button\n                            @click=\"removeNESDocument(nesType.value, docIdx)\"\n                            type=\"button\"\n                            class=\"text-red-600 hover:text-red-800\"\n                          >\n                            Remove\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- HAIL Activities (Contaminated Land) -->\n            <div v-if=\"isNESSoilsSelected\" class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-2\">HAIL Activities (Hazardous Activities and Industries List)</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">For sites with potential soil contamination under the NES for Assessing and Managing Contaminants in Soil</p>\n\n              <div class=\"flex items-center justify-between mb-3\">\n                <p class=\"text-xs text-gray-600\">List any HAIL activities on the site (past, current, or likely)</p>\n                <button\n                  @click=\"addHAILActivity\"\n                  type=\"button\"\n                  class=\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200\"\n                >\n                  + Add HAIL Activity\n                </button>\n              </div>\n\n              <div v-if=\"formData.hail_activities.length > 0\" class=\"space-y-3\">\n                <div\n                  v-for=\"(hail, index) in formData.hail_activities\"\n                  :key=\"index\"\n                  class=\"border border-gray-300 rounded-lg p-4 bg-white hover:shadow-md transition-shadow\"\n                >\n                  <div class=\"flex items-start justify-between\">\n                    <div class=\"flex-1\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <h4 class=\"text-sm font-semibold text-gray-900\">HAIL Activity #{{ index + 1 }}</h4>\n                        <span v-if=\"hail.hail_category\" class=\"px-2 py-0.5 text-xs font-medium bg-purple-100 text-purple-700 rounded\">\n                          {{ hail.hail_category }}\n                        </span>\n                        <span v-if=\"hail.preliminary_investigation_done\" class=\"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded\">\n                          ✓ Investigated\n                        </span>\n                      </div>\n                      <p class=\"text-sm text-gray-700 mb-2\">{{ hail.activity_description || 'No description provided' }}</p>\n\n                      <!-- Status badges -->\n                      <div class=\"flex flex-wrap gap-2 mb-2\">\n                        <span v-if=\"hail.currently_undertaken\" class=\"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded\">Currently Undertaken</span>\n                        <span v-if=\"hail.previously_undertaken\" class=\"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded\">Previously Undertaken</span>\n                        <span v-if=\"hail.likely_undertaken\" class=\"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded\">Likely Undertaken</span>\n                      </div>\n\n                      <!-- Proposed activities -->\n                      <div v-if=\"hail.proposed_activities && hail.proposed_activities.length > 0\" class=\"text-xs text-gray-600\">\n                        <strong>Proposed:</strong> {{ hail.proposed_activities.map(a => a.activity_type).join(', ') }}\n                      </div>\n\n                      <!-- Notes -->\n                      <p v-if=\"hail.notes\" class=\"text-xs text-gray-600 mt-2 italic\">{{ hail.notes }}</p>\n                    </div>\n\n                    <div class=\"flex gap-2 ml-4\">\n                      <button\n                        @click=\"editHAILActivity(index)\"\n                        type=\"button\"\n                        class=\"text-blue-600 hover:text-blue-800\"\n                        title=\"Edit activity\"\n                      >\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                        </svg>\n                      </button>\n                      <button\n                        @click=\"removeHAILActivity(index)\"\n                        type=\"button\"\n                        class=\"text-red-600 hover:text-red-800\"\n                        title=\"Remove activity\"\n                      >\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <p class=\"text-sm text-gray-500\">No HAIL activities added yet</p>\n                <p class=\"text-xs text-gray-400 mt-1\">Click \"Add HAIL Activity\" to document contaminated land activities</p>\n              </div>\n            </div>\n\n            <!-- Assessment of Environmental Effects (AEE) -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6 mb-6\">\n              <h3 class=\"text-base font-semibold text-gray-900 mb-3\">Assessment of Environmental Effects (AEE)</h3>\n              <p class=\"text-sm text-gray-600 mb-4\">\n                Under Schedule 4 of the RMA, you must assess the actual and potential effects of your proposed activity on the environment.\n                Complete all required sections below to provide a comprehensive assessment.\n              </p>\n\n              <!-- Structured AEE Questions -->\n              <div class=\"space-y-6\">\n                <!-- Question 1: Description of Activity -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    1. Description of Activity and Purpose *\n                  </label>\n                  <textarea\n                    v-model=\"formData.aee_activity_description\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Describe what you propose to do and why. Include the scale, duration, and key features of the activity...\"\n                    required\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">What is the activity and why is it proposed?</p>\n                </div>\n\n                <!-- Activity Status -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Activity Status under District/Unitary Plan\n                  </label>\n                  <select\n                    v-model=\"formData.aee_activity_status\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"\">Select activity status...</option>\n                    <option value=\"Permitted\">Permitted</option>\n                    <option value=\"Controlled\">Controlled</option>\n                    <option value=\"Restricted Discretionary\">Restricted Discretionary</option>\n                    <option value=\"Discretionary\">Discretionary</option>\n                    <option value=\"Non-Complying\">Non-Complying</option>\n                    <option value=\"Prohibited\">Prohibited</option>\n                  </select>\n                  <p class=\"mt-1 text-xs text-gray-500\">Overall classification of the proposed activity</p>\n                </div>\n\n                <!-- Question 2: Existing Environment -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    2. Description of Existing Environment *\n                  </label>\n                  <textarea\n                    v-model=\"formData.aee_existing_environment\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Describe the current state of the site and surrounding area. Include topography, vegetation, neighboring uses, zoning, existing infrastructure...\"\n                    required\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">What is the current state of the site and surrounding environment?</p>\n                </div>\n\n                <!-- Site Details (Optional) -->\n                <div class=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n                  <h4 class=\"text-sm font-medium text-gray-800 mb-3\">Site Details (Optional)</h4>\n                  <div class=\"grid md:grid-cols-2 gap-4\">\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Site Area (m²)</label>\n                      <input\n                        v-model.number=\"formData.aee_site_area\"\n                        type=\"number\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"e.g., 800\"\n                      />\n                    </div>\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Current Use</label>\n                      <input\n                        v-model=\"formData.aee_current_use\"\n                        type=\"text\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"e.g., Residential dwelling\"\n                      />\n                    </div>\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Zoning</label>\n                      <input\n                        v-model=\"formData.aee_zoning\"\n                        type=\"text\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"e.g., Residential Medium Density\"\n                      />\n                    </div>\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Overlays</label>\n                      <textarea\n                        v-model=\"formData.aee_overlays\"\n                        rows=\"2\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"e.g., Flood Hazard, Heritage\"\n                      ></textarea>\n                    </div>\n                    <div class=\"md:col-span-2\">\n                      <label class=\"block text-xs font-medium text-gray-700 mb-1\">Designations</label>\n                      <textarea\n                        v-model=\"formData.aee_designations\"\n                        rows=\"2\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"e.g., Future road corridor\"\n                      ></textarea>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Question 3: Effects on the Environment -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-3\">\n                    3. Actual and Potential Effects on the Environment *\n                  </label>\n                  <p class=\"text-xs text-gray-600 mb-3\">\n                    Assess effects across the following categories. Complete all that are relevant to your proposal:\n                  </p>\n\n                  <div class=\"space-y-4 pl-4\">\n                    <!-- Effects on People -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">a) Effects on People</label>\n                      <textarea\n                        v-model=\"formData.effects_on_people\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Privacy, sunlight access, visual amenity, noise impacts, safety, community wellbeing...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Physical Effects -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">b) Physical Effects</label>\n                      <textarea\n                        v-model=\"formData.physical_effects\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Traffic, parking, stormwater, wastewater, infrastructure impacts, building scale...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Earthworks Effects -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">c) Earthworks and Land Disturbance</label>\n                      <textarea\n                        v-model=\"formData.earthworks_effects\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Soil disturbance, erosion, sediment control, slope stability, construction impacts...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Discharges/Contaminants -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">d) Discharges and Contaminants</label>\n                      <textarea\n                        v-model=\"formData.discharge_contaminants_effects\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Stormwater discharge, wastewater, air quality, dust, odour, contaminant management...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Ecosystem Effects -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">e) Effects on Ecosystems and Biodiversity</label>\n                      <textarea\n                        v-model=\"formData.ecosystem_effects\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Indigenous vegetation, habitat values, watercourses, wetlands, biodiversity...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Hazards -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">f) Natural Hazard Risks</label>\n                      <textarea\n                        v-model=\"formData.hazard_risk_assessment\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Flood risk, liquefaction, slope instability, coastal hazards, seismic risk...\"\n                      ></textarea>\n                    </div>\n\n                    <!-- Cultural/Heritage -->\n                    <div>\n                      <label class=\"block text-xs font-medium text-gray-600 mb-1\">g) Cultural and Heritage Effects</label>\n                      <textarea\n                        v-model=\"formData.cultural_effects\"\n                        rows=\"3\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                        placeholder=\"Heritage values, sites of significance to Māori, archaeological sites, Treaty considerations...\"\n                      ></textarea>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Question 4: Mitigation Measures -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    4. Measures to Avoid, Remedy, or Mitigate Adverse Effects\n                  </label>\n                  <textarea\n                    v-model=\"formData.mitigation_proposed\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"Describe measures you will implement to manage adverse effects. Include design features, construction methods, operational controls, conditions you're willing to accept...\"\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">How will you avoid, remedy, or mitigate adverse effects?</p>\n                </div>\n\n                <!-- Question 5: Alternatives -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    5. Alternative Locations, Methods, or Designs Considered\n                  </label>\n                  <textarea\n                    v-model=\"formData.alternatives_considered\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"What alternative designs, locations, methods, or approaches were considered? Why was this proposal selected?...\"\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">What alternatives did you consider?</p>\n                </div>\n\n                <!-- Question 6: RMA Part 2 Assessment -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    6. Assessment Against RMA Part 2 Matters\n                  </label>\n                  <textarea\n                    v-model=\"formData.aee_part2_assessment\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                    placeholder=\"Address sustainable management (s5), matters of national importance (s6), other matters (s7), Treaty of Waitangi (s8)...\"\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">How does your proposal align with the purpose and principles of the RMA?</p>\n                </div>\n\n                <!-- Question 7: Summary -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    7. Overall Summary of Environmental Effects *\n                  </label>\n                  <textarea\n                    v-model=\"formData.assessment_of_effects\"\n                    rows=\"4\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Provide a concise summary of the overall environmental effects. Will effects be minor, more than minor, or significant? What is your overall conclusion?...\"\n                    required\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">Summarize the overall environmental effects of your proposal</p>\n                </div>\n              </div>\n\n              <div class=\"mt-4 p-3 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600\">\n                <strong>Note:</strong> Questions 1, 2, and 7 are required as a minimum.\n                Questions 3-6 and all supporting sections are recommended for comprehensive applications.\n              </div>\n            </div>\n\n            <!-- Plan Assessment -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6 mb-6\">\n              <h3 class=\"text-base font-semibold text-gray-900 mb-3\">Plan Assessment</h3>\n              <p class=\"text-sm text-gray-600 mb-4\">\n                Identify the plan rules that apply to your proposal and assess compliance with plan standards.\n              </p>\n\n              <!-- Plan Rules Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center justify-between mb-3\">\n                  <h4 class=\"text-sm font-semibold text-gray-900\">Plan Rules</h4>\n                  <Button @click=\"addPlanRule\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                    <template #prefix>\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                    </template>\n                    Add Rule\n                  </Button>\n                </div>\n\n                <p class=\"text-xs text-gray-500 mb-3\">\n                  List the specific plan rules that trigger the need for resource consent\n                </p>\n\n                <div v-if=\"formData.aee_plan_rules.length > 0\" class=\"space-y-3 mb-3\">\n                  <div\n                    v-for=\"(rule, index) in formData.aee_plan_rules\"\n                    :key=\"index\"\n                    class=\"p-4 bg-white rounded-lg border border-gray-300\"\n                  >\n                    <div class=\"flex items-start justify-between\">\n                      <div class=\"flex-1\">\n                        <div class=\"flex items-center gap-2 mb-2\">\n                          <h5 class=\"text-sm font-semibold text-gray-900\">{{ rule.rule_reference }}</h5>\n                          <span class=\"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded\">\n                            {{ rule.activity_status }}\n                          </span>\n                        </div>\n                        <p v-if=\"rule.rule_description\" class=\"text-xs text-gray-600\">{{ rule.rule_description }}</p>\n                      </div>\n                      <Button @click=\"removePlanRule(index)\" variant=\"ghost\" theme=\"red\" size=\"sm\">\n                        <template #prefix>\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </template>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                <p v-else class=\"text-xs text-gray-500 italic\">No plan rules added yet</p>\n              </div>\n\n              <!-- Compliance Standards Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center justify-between mb-3\">\n                  <h4 class=\"text-sm font-semibold text-gray-900\">Compliance Standards</h4>\n                  <Button @click=\"addComplianceStandard\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                    <template #prefix>\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                    </template>\n                    Add Standard\n                  </Button>\n                </div>\n\n                <p class=\"text-xs text-gray-500 mb-3\">\n                  Assess compliance with plan standards (e.g., height, setbacks, car parking)\n                </p>\n\n                <div v-if=\"formData.aee_compliance_standards.length > 0\" class=\"space-y-3 mb-3\">\n                  <div\n                    v-for=\"(standard, index) in formData.aee_compliance_standards\"\n                    :key=\"index\"\n                    class=\"p-4 bg-white rounded-lg border border-gray-300\"\n                  >\n                    <div class=\"flex items-start justify-between\">\n                      <div class=\"flex-1\">\n                        <div class=\"flex items-center gap-2 mb-2\">\n                          <h5 class=\"text-sm font-semibold text-gray-900\">{{ standard.standard_reference }}</h5>\n                          <span :class=\"['px-2 py-0.5 text-xs font-medium rounded', standard.complies ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700']\">\n                            {{ standard.complies ? 'Complies' : 'Non-Complying' }}\n                          </span>\n                        </div>\n                        <p v-if=\"standard.compliance_analysis\" class=\"text-xs text-gray-600\">{{ standard.compliance_analysis }}</p>\n                      </div>\n                      <Button @click=\"removeComplianceStandard(index)\" variant=\"ghost\" theme=\"red\" size=\"sm\">\n                        <template #prefix>\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </template>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                <p v-else class=\"text-xs text-gray-500 italic\">No compliance standards added yet</p>\n              </div>\n\n              <!-- Written Approvals Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center justify-between mb-3\">\n                  <h4 class=\"text-sm font-semibold text-gray-900\">Written Approvals</h4>\n                  <Button @click=\"addWrittenApproval\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                    <template #prefix>\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                    </template>\n                    Add Approval\n                  </Button>\n                </div>\n\n                <p class=\"text-xs text-gray-500 mb-3\">\n                  Written approvals obtained from affected parties under RMA s104(3)(a)(ii)\n                </p>\n\n                <div v-if=\"formData.aee_written_approvals.length > 0\" class=\"space-y-3 mb-3\">\n                  <div\n                    v-for=\"(approval, index) in formData.aee_written_approvals\"\n                    :key=\"index\"\n                    class=\"p-4 bg-white rounded-lg border border-gray-300\"\n                  >\n                    <div class=\"flex items-start justify-between\">\n                      <div class=\"flex-1\">\n                        <div class=\"flex items-center gap-2 mb-1\">\n                          <h5 class=\"text-sm font-semibold text-gray-900\">{{ approval.party_name }}</h5>\n                          <span v-if=\"approval.approval_attached\" class=\"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded\">\n                            ✓ Attached\n                          </span>\n                        </div>\n                        <p v-if=\"approval.party_address\" class=\"text-xs text-gray-600\">{{ approval.party_address }}</p>\n                      </div>\n                      <Button @click=\"removeWrittenApproval(index)\" variant=\"ghost\" theme=\"red\" size=\"sm\">\n                        <template #prefix>\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </template>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                <p v-else class=\"text-xs text-gray-500 italic\">No written approvals added yet</p>\n              </div>\n\n              <!-- AEE Proposed Conditions Section -->\n              <div class=\"mb-6\">\n                <div class=\"flex items-center justify-between mb-3\">\n                  <h4 class=\"text-sm font-semibold text-gray-900\">Proposed Conditions</h4>\n                  <Button @click=\"addAEECondition\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                    <template #prefix>\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                    </template>\n                    Add Condition\n                  </Button>\n                </div>\n\n                <p class=\"text-xs text-gray-500 mb-3\">\n                  Conditions you propose to accept as part of the consent\n                </p>\n\n                <div v-if=\"formData.aee_proposed_conditions.length > 0\" class=\"space-y-3 mb-3\">\n                  <div\n                    v-for=\"(condition, index) in formData.aee_proposed_conditions\"\n                    :key=\"index\"\n                    class=\"p-4 bg-white rounded-lg border border-gray-300\"\n                  >\n                    <div class=\"flex items-start justify-between\">\n                      <div class=\"flex-1\">\n                        <div class=\"flex items-center gap-2 mb-1\">\n                          <span class=\"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-700 rounded\">\n                            Condition {{ condition.condition_number }}\n                          </span>\n                        </div>\n                        <p class=\"text-sm text-gray-900\">{{ condition.condition_text }}</p>\n                      </div>\n                      <Button @click=\"removeAEECondition(index)\" variant=\"ghost\" theme=\"red\" size=\"sm\">\n                        <template #prefix>\n                          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </template>\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n\n                <p v-else class=\"text-xs text-gray-500 italic\">No proposed conditions added yet</p>\n              </div>\n            </div>\n\n            <!-- Affected Parties -->\n            <div class=\"border-t border-gray-200 pt-4\">\n              <div class=\"flex items-center justify-between mb-3\">\n                <h3 class=\"text-sm font-semibold text-gray-900\">Affected Parties</h3>\n                <Button @click=\"addAffectedParty\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                  <template #prefix>\n                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                  </template>\n                  Add Party\n                </Button>\n              </div>\n\n              <p class=\"text-xs text-gray-500 mb-3\">\n                List any parties (neighbors, landowners, etc.) who may be adversely affected by the proposal\n              </p>\n\n              <div v-if=\"formData.affected_parties.length > 0\" class=\"space-y-3 mb-3\">\n                <div\n                  v-for=\"(party, index) in formData.affected_parties\"\n                  :key=\"index\"\n                  class=\"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors\"\n                >\n                  <div class=\"flex items-start justify-between\">\n                    <div class=\"flex-1\">\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <h4 class=\"text-sm font-semibold text-gray-900\">{{ party.party_name }}</h4>\n                        <span class=\"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded\">\n                          {{ party.relationship }}\n                        </span>\n                      </div>\n\n                      <div class=\"grid md:grid-cols-2 gap-x-6 gap-y-1 text-xs text-gray-600\">\n                        <div v-if=\"party.property_address\" class=\"flex items-start gap-1\">\n                          <svg class=\"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                          </svg>\n                          <span>{{ party.property_address }}</span>\n                        </div>\n\n                        <div v-if=\"party.email\" class=\"flex items-center gap-1\">\n                          <svg class=\"w-4 h-4 text-gray-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                          </svg>\n                          <a :href=\"'mailto:' + party.email\" class=\"text-blue-600 hover:underline\">{{ party.email }}</a>\n                        </div>\n\n                        <div v-if=\"party.phone\" class=\"flex items-center gap-1\">\n                          <svg class=\"w-4 h-4 text-gray-400 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                          </svg>\n                          <a :href=\"'tel:' + party.phone\" class=\"text-blue-600 hover:underline\">{{ party.phone }}</a>\n                        </div>\n\n                        <div v-if=\"party.postal_address\" class=\"flex items-start gap-1\">\n                          <svg class=\"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76\" />\n                          </svg>\n                          <span>Postal: {{ party.postal_address }}</span>\n                        </div>\n                      </div>\n\n                      <div v-if=\"party.approval_obtained\" class=\"mt-2 flex items-center gap-2\">\n                        <span class=\"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded\">\n                          <svg class=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\" />\n                          </svg>\n                          Written approval obtained\n                        </span>\n                        <span v-if=\"party.approval_date\" class=\"text-xs text-gray-500\">{{ party.approval_date }}</span>\n                      </div>\n\n                      <p v-if=\"party.comments\" class=\"mt-2 text-xs text-gray-600 italic\">{{ party.comments }}</p>\n                    </div>\n\n                    <div class=\"flex gap-1 ml-3\">\n                      <button\n                        @click=\"editAffectedParty(index)\"\n                        class=\"p-1 text-blue-600 hover:bg-blue-50 rounded\"\n                        title=\"Edit party\"\n                      >\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                        </svg>\n                      </button>\n                      <button\n                        @click=\"removeAffectedParty(index)\"\n                        class=\"p-1 text-red-600 hover:bg-red-50 rounded\"\n                        title=\"Remove party\"\n                      >\n                        <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <p class=\"text-sm text-gray-500\">No affected parties added yet</p>\n              </div>\n\n              <!-- Written Approvals Count -->\n              <div v-if=\"formData.affected_parties.length > 0\" class=\"mt-3\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Number of Written Approvals Obtained\n                </label>\n                <input\n                  v-model.number=\"formData.written_approvals_obtained\"\n                  type=\"number\"\n                  min=\"0\"\n                  :max=\"formData.affected_parties.length\"\n                  class=\"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">\n                  How many of the {{ formData.affected_parties.length }} affected parties have provided written approval?\n                </p>\n              </div>\n\n              <!-- Consultation Summary -->\n              <div class=\"mt-6\">\n                <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Consultation Summary (Optional)\n                </label>\n                <textarea\n                  v-model=\"formData.aee_consultation_summary\"\n                  rows=\"4\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n                  placeholder=\"Summarize consultation undertaken with affected parties, including methods used, responses received, and how concerns have been addressed...\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">Provide a summary of consultation efforts with affected parties</p>\n              </div>\n\n              <!-- Iwi Consultation Note -->\n              <div class=\"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg\">\n                <div class=\"flex items-start gap-2\">\n                  <svg class=\"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div>\n                    <h4 class=\"text-sm font-semibold text-green-900\">Treaty of Waitangi Obligations</h4>\n                    <p class=\"text-xs text-green-700 mt-1\">\n                      To record iwi/hapū consultation, add them as affected parties above using the relationship type \"Iwi\".\n                      Include their response in the comments field. Upload any Cultural Impact Assessment (CIA) as a specialist report.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Iwi Consultation (Dedicated Section) -->\n            <div class=\"border-t border-gray-200 pt-4\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-3\">Iwi Consultation</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">\n                Details of consultation with iwi and hapū under RMA s8 (Treaty of Waitangi)\n              </p>\n\n              <div class=\"space-y-4\">\n                <!-- Consultation Undertaken -->\n                <div class=\"flex items-center\">\n                  <input\n                    v-model=\"formData.iwi_consultation_undertaken\"\n                    type=\"checkbox\"\n                    class=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                  />\n                  <label class=\"ml-2 text-sm text-gray-700\">\n                    Iwi/Hapū consultation has been undertaken\n                  </label>\n                </div>\n\n                <!-- Iwi Consulted -->\n                <div v-if=\"formData.iwi_consultation_undertaken\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Iwi/Hapū Consulted\n                  </label>\n                  <textarea\n                    v-model=\"formData.iwi_consulted\"\n                    rows=\"2\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                    placeholder=\"List the iwi and hapū groups that were consulted...\"\n                  ></textarea>\n                </div>\n\n                <!-- Response Summary -->\n                <div v-if=\"formData.iwi_consultation_undertaken\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Response Summary\n                  </label>\n                  <textarea\n                    v-model=\"formData.iwi_response_summary\"\n                    rows=\"3\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                    placeholder=\"Summarize the responses received from iwi/hapū, including any concerns raised and how they are addressed...\"\n                  ></textarea>\n                  <p class=\"mt-1 text-xs text-gray-500\">\n                    Summary of feedback and responses from consulted iwi/hapū\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Specialist Reports -->\n            <div class=\"border-t border-gray-200 pt-4\">\n              <div class=\"flex items-center justify-between mb-3\">\n                <h3 class=\"text-sm font-semibold text-gray-900\">Specialist Reports</h3>\n                <Button @click=\"addSpecialistReport\" variant=\"outline\" theme=\"blue\" size=\"sm\">\n                  <template #prefix>\n                    <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                  </template>\n                  Add Report\n                </Button>\n              </div>\n\n              <p class=\"text-xs text-gray-500 mb-3\">\n                Add any specialist technical reports (traffic, geotechnical, acoustic, ecological, etc.)\n              </p>\n\n              <div v-if=\"formData.specialist_reports.length > 0\" class=\"space-y-3 mb-3\">\n                <div\n                  v-for=\"(report, index) in formData.specialist_reports\"\n                  :key=\"index\"\n                  class=\"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors\"\n                >\n                  <div class=\"flex items-start justify-between mb-2\">\n                    <div class=\"flex items-center gap-2\">\n                      <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                      </svg>\n                      <h4 class=\"text-sm font-semibold text-gray-900\">{{ report.report_type }}</h4>\n                    </div>\n                    <span class=\"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded font-medium\">\n                      {{ report.report_date }}\n                    </span>\n                  </div>\n\n                  <div class=\"space-y-2 text-xs text-gray-600 mb-3\">\n                    <div class=\"flex items-center gap-2\">\n                      <svg class=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                      </svg>\n                      <span class=\"font-medium\">{{ report.specialist_name }}</span>\n                      <span v-if=\"report.specialist_company\" class=\"text-gray-400\">• {{ report.specialist_company }}</span>\n                    </div>\n\n                    <div v-if=\"report.document\" class=\"flex items-center gap-2 text-blue-600\">\n                      <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                      </svg>\n                      <span>{{ typeof report.document === 'object' ? report.document.name : 'Document attached' }}</span>\n                    </div>\n\n                    <div v-if=\"report.summary\" class=\"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-700\">\n                      <span class=\"font-medium\">Summary: </span>{{ report.summary }}\n                    </div>\n                  </div>\n\n                  <div class=\"flex gap-2\">\n                    <button\n                      @click=\"editSpecialistReport(index)\"\n                      class=\"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded transition-colors\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                      </svg>\n                      Edit\n                    </button>\n                    <button\n                      @click=\"removeSpecialistReport(index)\"\n                      class=\"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded transition-colors\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                      Remove\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <p class=\"text-sm text-gray-500\">No specialist reports added yet</p>\n                <p class=\"text-xs text-gray-400 mt-1\">Upload report files in the Documents step</p>\n              </div>\n            </div>\n\n            <!-- Proposed Conditions -->\n            <div>\n              <div class=\"flex items-center justify-between mb-2\">\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700\">\n                    Proposed Conditions (Optional)\n                  </label>\n                  <p class=\"mt-1 text-xs text-gray-500\">Select from standard templates or propose custom conditions</p>\n                </div>\n                <button\n                  type=\"button\"\n                  @click=\"openConditionsModal\"\n                  class=\"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 flex items-center gap-1.5\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                  </svg>\n                  Browse Templates\n                </button>\n              </div>\n\n              <!-- Selected Conditions Display -->\n              <div v-if=\"formData.proposed_conditions && formData.proposed_conditions.length > 0\" class=\"space-y-3 mt-3\">\n                <div v-for=\"(condition, index) in formData.proposed_conditions\" :key=\"index\" class=\"p-3 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors\">\n                  <div class=\"flex items-start justify-between mb-2\">\n                    <div class=\"flex items-center gap-2\">\n                      <span class=\"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-mono rounded\">{{ condition.condition_number }}</span>\n                      <span class=\"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded\">{{ condition.condition_category }}</span>\n                    </div>\n                    <div class=\"flex gap-1\">\n                      <button type=\"button\" @click=\"editCondition(index)\" class=\"p-1 text-blue-600 hover:bg-blue-50 rounded\" title=\"Edit condition\">\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                        </svg>\n                      </button>\n                      <button type=\"button\" @click=\"removeCondition(index)\" class=\"p-1 text-red-600 hover:bg-red-50 rounded\" title=\"Remove condition\">\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                  <div class=\"text-xs text-gray-700\" v-html=\"condition.condition_text\"></div>\n                  <div v-if=\"condition.compliance_notes\" class=\"mt-2 text-xs text-gray-500 italic\">{{ condition.compliance_notes }}</div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <svg class=\"w-10 h-10 mx-auto text-gray-400 mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <p class=\"text-sm text-gray-500\">No conditions proposed yet</p>\n                <p class=\"text-xs text-gray-400 mt-1\">Click \"Browse Templates\" to select standard conditions</p>\n              </div>\n\n              <p class=\"mt-2 text-xs text-gray-500\">\n                <svg class=\"w-3.5 h-3.5 inline mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\" />\n                </svg>\n                The council will determine final consent conditions based on the assessment\n              </p>\n            </div>\n\n            <!-- Confidential Information (RMA s42) -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <h3 class=\"text-sm font-semibold text-gray-900 mb-2\">Confidential Information (RMA s42)</h3>\n              <p class=\"text-xs text-gray-500 mb-4\">Under section 42 of the RMA, you may request that certain information be kept confidential if it contains trade secrets or is commercially sensitive</p>\n\n              <div class=\"space-y-4\">\n                <div class=\"flex items-start\">\n                  <input\n                    type=\"checkbox\"\n                    v-model=\"formData.confidential_information_claimed\"\n                    class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                  />\n                  <label class=\"ml-3 text-sm font-medium text-gray-700\">\n                    This application contains confidential information that should be withheld from public notification\n                  </label>\n                </div>\n\n                <div v-if=\"formData.confidential_information_claimed\" class=\"ml-7 border-l-2 border-yellow-300 pl-4 bg-yellow-50 p-4 rounded-r-lg\">\n                  <label class=\"block text-sm font-medium text-gray-900 mb-2\">\n                    Justification for Confidentiality *\n                  </label>\n                  <p class=\"text-xs text-gray-600 mb-3\">\n                    Explain why this information should be withheld under s42 of the RMA. You must demonstrate that the information is a trade secret or that making it public would unreasonably prejudice your commercial position.\n                  </p>\n                  <textarea\n                    v-model=\"formData.confidential_information_reason\"\n                    rows=\"4\"\n                    required\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white\"\n                    placeholder=\"Provide detailed justification for why this information should be kept confidential. Include references to specific documents or sections that contain confidential material...\"\n                  ></textarea>\n                  <p class=\"mt-2 text-xs text-yellow-700\">\n                    ⚠ Note: The consent authority will determine whether your justification meets the requirements of s42. Confidentiality is not guaranteed.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Pre-Application Meeting -->\n            <div class=\"border-t border-gray-200 pt-6 mt-6\">\n              <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n                <div class=\"flex items-start\">\n                  <div class=\"flex-shrink-0\">\n                    <svg class=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                    </svg>\n                  </div>\n                  <div class=\"ml-3 flex-1\">\n                    <h3 class=\"text-sm font-semibold text-blue-900 mb-2\">\n                      Need Help with Your Application?\n                    </h3>\n                    <p class=\"text-sm text-blue-800 mb-3\">\n                      For <strong>discretionary</strong> or <strong>non-complying</strong> activities, we recommend booking a pre-application meeting with our planning team. This can help:\n                    </p>\n                    <ul class=\"text-sm text-blue-800 space-y-1 ml-4 list-disc mb-4\">\n                      <li>Clarify district plan requirements</li>\n                      <li>Identify potential issues early</li>\n                      <li>Understand what information you'll need</li>\n                      <li>Get preliminary feedback on your proposal</li>\n                    </ul>\n                    <Button\n                      @click=\"requestPreAppMeeting\"\n                      variant=\"solid\"\n                      theme=\"blue\"\n                      size=\"sm\"\n                      :loading=\"requestingMeeting\"\n                    >\n                      <template #prefix>\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                        </svg>\n                      </template>\n                      Request Pre-Application Meeting\n                    </Button>\n                    <p class=\"text-xs text-blue-700 mt-2\">\n                      A planning officer will contact you within 2 business days to schedule.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Step 6: Documents removed as requested -->\n        <div v-if=\"false\">\n          <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Upload Documents</h2>\n          <p class=\"text-gray-600 mb-8\">Attach all required supporting documents for Resource Consent</p>\n\n          <div class=\"space-y-6\">\n            <div class=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition\">\n              <svg class=\"w-12 h-12 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n              </svg>\n              <p class=\"text-gray-600 mb-2\">Drag and drop files here, or click to browse</p>\n              <p class=\"text-xs text-gray-500\">PDF, DOC, DOCX, JPG, PNG (Max 10MB per file)</p>\n              <Button @click=\"triggerFileUpload\" variant=\"outline\" theme=\"blue\" class=\"mt-4\">\n                Select Files\n              </Button>\n              <input type=\"file\" ref=\"fileInput\" multiple class=\"hidden\" @change=\"handleFileUpload\" />\n            </div>\n\n            <!-- Uploaded Files List -->\n            <div v-if=\"uploadedFiles.length > 0\" class=\"space-y-2\">\n              <h4 class=\"font-medium text-gray-900\">Uploaded Documents ({{ uploadedFiles.length }})</h4>\n              <div\n                v-for=\"(file, index) in uploadedFiles\"\n                :key=\"index\"\n                class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200\"\n              >\n                <div class=\"flex items-center space-x-3\">\n                  <svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                  </svg>\n                  <div>\n                    <p class=\"text-sm font-medium text-gray-900\">{{ file.name }}</p>\n                    <p class=\"text-xs text-gray-500\">{{ formatFileSize(file.size) }}</p>\n                  </div>\n                </div>\n                <button @click=\"removeFile(index)\" class=\"text-red-600 hover:text-red-800\">\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n\n            <!-- Required Documents Checklist -->\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n              <h4 class=\"font-medium text-blue-900 mb-3\">Required Documents</h4>\n              <ul class=\"space-y-2 text-sm text-blue-800\">\n                <li class=\"flex items-start\">\n                  <svg class=\"w-5 h-5 mr-2 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                  Site plans and location maps\n                </li>\n                <li class=\"flex items-start\">\n                  <svg class=\"w-5 h-5 mr-2 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                  Architectural drawings and specifications\n                </li>\n                <li class=\"flex items-start\">\n                  <svg class=\"w-5 h-5 mr-2 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                  Assessment of Environmental Effects (AEE)\n                </li>\n                <li class=\"flex items-start\">\n                  <svg class=\"w-5 h-5 mr-2 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                  Written approvals from affected parties (if required)\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        <!-- Review Step (Last Step - step 5 for non-RC, step 6 for RC) -->\n        <div v-if=\"currentStep === steps[steps.length - 1].number\">\n          <h2 class=\"text-2xl font-bold text-gray-900 mb-2\">Review & Submit</h2>\n          <p class=\"text-gray-600 mb-8\">Please review your application before submission</p>\n\n          <div class=\"space-y-6\">\n            <!-- Application Summary -->\n            <div class=\"border border-gray-200 rounded-lg p-6\">\n              <h3 class=\"font-semibold text-gray-900 mb-4\">Application Summary</h3>\n\n              <dl class=\"grid md:grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <dt class=\"text-gray-600\">Application Type</dt>\n                  <dd class=\"font-medium text-gray-900 mt-1\">{{ getRequestTypeName() }}</dd>\n                </div>\n                <div>\n                  <dt class=\"text-gray-600\">Property Address</dt>\n                  <dd class=\"font-medium text-gray-900 mt-1\">{{ formData.property_address || 'N/A' }}</dd>\n                </div>\n                <div>\n                  <dt class=\"text-gray-600\">Brief Description</dt>\n                  <dd class=\"font-medium text-gray-900 mt-1\">{{ formData.brief_description || 'N/A' }}</dd>\n                </div>\n                <div>\n                  <dt class=\"text-gray-600\">Estimated Value</dt>\n                  <dd class=\"font-medium text-gray-900 mt-1\">\n                    {{ formData.estimated_value ? `$${formData.estimated_value}` : 'N/A' }}\n                  </dd>\n                </div>\n                <div>\n                  <dt class=\"text-gray-600\">Documents Uploaded</dt>\n                  <dd class=\"font-medium text-gray-900 mt-1\">{{ uploadedFiles.length }} files</dd>\n                </div>\n              </dl>\n            </div>\n\n            <!-- Terms & Conditions -->\n            <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-6\">\n              <div class=\"flex items-start\">\n                <input\n                  type=\"checkbox\"\n                  v-model=\"formData.terms_accepted\"\n                  class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label class=\"ml-3 text-sm text-gray-700\">\n                  I confirm that the information provided in this application is true and accurate to the best of my knowledge.\n                  I understand that providing false or misleading information may result in the application being declined or\n                  consent being revoked. I have read and agree to the\n                  <a href=\"#\" class=\"text-blue-600 hover:text-blue-800\">terms and conditions</a>.\n                </label>\n              </div>\n            </div>\n\n            <!-- Fee Summary -->\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n              <h4 class=\"font-medium text-blue-900 mb-3\">Fee Summary</h4>\n              <div class=\"space-y-2 text-sm\">\n                <div class=\"flex justify-between\">\n                  <span class=\"text-blue-800\">Application Fee</span>\n                  <span class=\"font-medium text-blue-900\">{{ getApplicationFee() }}</span>\n                </div>\n                <div class=\"flex justify-between pt-2 border-t border-blue-200\">\n                  <span class=\"font-medium text-blue-900\">Total Due</span>\n                  <span class=\"text-lg font-bold text-blue-900\">{{ getApplicationFee() }}</span>\n                </div>\n              </div>\n              <p class=\"text-xs text-blue-700 mt-3\">\n                Payment will be processed after submission. You will receive an invoice via email.\n              </p>\n            </div>\n\n            <!-- Pre-Application Meeting (Resource Consent Only) -->\n            <div v-if=\"isResourceConsent\" class=\"bg-green-50 border border-green-200 rounded-lg p-6\">\n              <h4 class=\"font-medium text-green-900 mb-2\">Pre-Application Meeting</h4>\n              <p class=\"text-sm text-green-700 mb-4\">\n                For Resource Consent applications, we strongly recommend booking a pre-application meeting with our planning team.\n                This helps ensure your application meets all requirements and can speed up the approval process.\n              </p>\n              <Button\n                @click=\"bookPreApplicationMeeting\"\n                variant=\"solid\"\n                theme=\"green\"\n                :loading=\"bookingMeeting\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                          d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                  </svg>\n                </template>\n                Book Pre-Application Meeting\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Navigation Buttons -->\n        <div class=\"flex justify-between items-center mt-8 pt-6 border-t border-gray-200\">\n          <Button\n            v-if=\"currentStep > 1\"\n            @click=\"previousStep\"\n            variant=\"outline\"\n            theme=\"gray\"\n          >\n            <template #prefix>\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n              </svg>\n            </template>\n            Previous\n          </Button>\n          <div v-else></div>\n\n          <div class=\"flex space-x-3\">\n            <Button\n              v-if=\"currentStep < totalSteps\"\n              @click=\"nextStep\"\n              variant=\"solid\"\n              theme=\"blue\"\n              :disabled=\"!canProceed()\"\n            >\n              Next\n              <template #suffix>\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n                </svg>\n              </template>\n            </Button>\n            <Button\n              v-else-if=\"canSubmit\"\n              @click=\"submitApplication\"\n              variant=\"solid\"\n              theme=\"blue\"\n              :loading=\"submitting\"\n              :disabled=\"!formData.terms_accepted\"\n            >\n              Submit Application\n            </Button>\n            <div v-else class=\"text-sm text-gray-500\">\n              Make changes to your application to enable submission\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n\n    <!-- Affected Party Modal -->\n    <div\n      v-if=\"showAffectedPartyModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelAffectedParty\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingPartyIndex !== null ? 'Edit' : 'Add' }} Affected Party\n            </h3>\n            <button\n              @click=\"cancelAffectedParty\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Party Name * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Party Name <span class=\"text-red-500\">*</span>\n            </label>\n            <input\n              v-model=\"affectedPartyForm.party_name\"\n              type=\"text\"\n              required\n              placeholder=\"e.g., John Smith\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n\n          <!-- Relationship * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Relationship <span class=\"text-red-500\">*</span>\n            </label>\n            <select\n              v-model=\"affectedPartyForm.relationship\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select relationship</option>\n              <option value=\"Adjacent Property Owner\">Adjacent Property Owner</option>\n              <option value=\"Neighbor\">Neighbor</option>\n              <option value=\"Iwi\">Iwi</option>\n              <option value=\"Infrastructure Provider\">Infrastructure Provider</option>\n              <option value=\"Other\">Other</option>\n            </select>\n          </div>\n\n          <!-- Contact Information -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Contact Information</h4>\n\n            <div class=\"grid md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Email</label>\n                <input\n                  v-model=\"affectedPartyForm.email\"\n                  type=\"email\"\n                  placeholder=\"email@example.com\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Phone</label>\n                <input\n                  v-model=\"affectedPartyForm.phone\"\n                  type=\"tel\"\n                  placeholder=\"021 123 4567\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Addresses -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Addresses</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Property Address</label>\n                <textarea\n                  v-model=\"affectedPartyForm.property_address\"\n                  rows=\"2\"\n                  placeholder=\"123 Main Street, Suburb, City\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">The property address affected by this proposal</p>\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Postal Address</label>\n                <textarea\n                  v-model=\"affectedPartyForm.postal_address\"\n                  rows=\"2\"\n                  placeholder=\"PO Box 123, Suburb, City\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">For correspondence (if different from property address)</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Approval -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Written Approval</h4>\n\n            <div class=\"flex items-start mb-3\">\n              <input\n                type=\"checkbox\"\n                v-model=\"affectedPartyForm.approval_obtained\"\n                class=\"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <label class=\"ml-3 text-sm text-gray-700\">\n                Written approval obtained from this party\n              </label>\n            </div>\n\n            <div v-if=\"affectedPartyForm.approval_obtained\" class=\"ml-7 space-y-3\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Date</label>\n                <input\n                  v-model=\"affectedPartyForm.approval_date\"\n                  type=\"date\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">Approval Document</label>\n                <input\n                  type=\"file\"\n                  @change=\"handleApprovalDocumentUpload\"\n                  accept=\".pdf,.doc,.docx,.jpg,.jpeg,.png\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Upload written approval (PDF, Word, or image, max 10MB)</p>\n                <div v-if=\"affectedPartyForm.approval_document\" class=\"mt-2 text-xs text-green-600 flex items-center gap-1\">\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  <span>{{ typeof affectedPartyForm.approval_document === 'object' ? affectedPartyForm.approval_document.name : 'Document attached' }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Comments -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Comments</label>\n            <textarea\n              v-model=\"affectedPartyForm.comments\"\n              rows=\"3\"\n              placeholder=\"Any additional notes about this party or their concerns...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n            ></textarea>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelAffectedParty\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveAffectedParty\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingPartyIndex !== null ? 'Update' : 'Add' }} Party\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Specialist Report Modal -->\n    <div\n      v-if=\"showSpecialistReportModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelSpecialistReport\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingReportIndex !== null ? 'Edit' : 'Add' }} Specialist Report\n            </h3>\n            <button\n              @click=\"cancelSpecialistReport\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Report Type * -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Report Type <span class=\"text-red-500\">*</span>\n            </label>\n            <select\n              v-model=\"specialistReportForm.report_type\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select report type</option>\n              <option value=\"Traffic Impact Assessment\">Traffic Impact Assessment</option>\n              <option value=\"Acoustic Assessment\">Acoustic Assessment</option>\n              <option value=\"Geotechnical Report\">Geotechnical Report</option>\n              <option value=\"Ecological Assessment\">Ecological Assessment</option>\n              <option value=\"Archaeological Assessment\">Archaeological Assessment</option>\n              <option value=\"Landscape Assessment\">Landscape Assessment</option>\n              <option value=\"Contaminated Land Assessment\">Contaminated Land Assessment</option>\n              <option value=\"Flood Risk Assessment\">Flood Risk Assessment</option>\n              <option value=\"Other\">Other</option>\n            </select>\n          </div>\n\n          <!-- Consultant Details -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Consultant Details</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Specialist Name <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"specialistReportForm.specialist_name\"\n                  type=\"text\"\n                  required\n                  placeholder=\"e.g., Dr. Jane Smith\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Company/Organization</label>\n                <input\n                  v-model=\"specialistReportForm.specialist_company\"\n                  type=\"text\"\n                  placeholder=\"e.g., ABC Consultants Ltd\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <!-- Report Details -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Report Details</h4>\n\n            <div class=\"space-y-3\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Report Date <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"specialistReportForm.report_date\"\n                  type=\"date\"\n                  required\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Date the report was prepared or finalized</p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Document <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"file\"\n                  @change=\"handleReportDocumentUpload\"\n                  accept=\".pdf,.doc,.docx\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                />\n                <p class=\"mt-1 text-xs text-gray-500\">Upload the specialist report (PDF or Word, max 10MB)</p>\n                <div v-if=\"specialistReportForm.document\" class=\"mt-2 text-xs text-green-600 flex items-center gap-1\">\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  <span>{{ typeof specialistReportForm.document === 'object' ? specialistReportForm.document.name : 'Document attached' }}</span>\n                </div>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">Summary</label>\n                <textarea\n                  v-model=\"specialistReportForm.summary\"\n                  rows=\"4\"\n                  placeholder=\"Brief summary of key findings and recommendations...\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n                ></textarea>\n                <p class=\"mt-1 text-xs text-gray-500\">Optional: Provide a brief summary of the report's key findings</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelSpecialistReport\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveSpecialistReport\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingReportIndex !== null ? 'Update' : 'Add' }} Report\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- HAIL Activity Modal -->\n    <div\n      v-if=\"showHAILModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"cancelHAIL\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              {{ editingHAILIndex !== null ? 'Edit' : 'Add' }} HAIL Activity\n            </h3>\n            <button\n              @click=\"cancelHAIL\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-4\">\n          <!-- Activity Description -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Activity Description <span class=\"text-red-500\">*</span>\n            </label>\n            <textarea\n              v-model=\"hailForm.activity_description\"\n              rows=\"3\"\n              required\n              placeholder=\"Describe the HAIL activity (e.g., Former service station, industrial site)...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n\n          <!-- HAIL Category -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n              HAIL Category\n            </label>\n            <select\n              v-model=\"hailForm.hail_category\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select HAIL category</option>\n              <option value=\"Category A - Petroleum/Oil Storage\">Category A - Petroleum/Oil Storage</option>\n              <option value=\"Category B - Asbestos Products\">Category B - Asbestos Products</option>\n              <option value=\"Category C - Chemicals\">Category C - Chemicals</option>\n              <option value=\"Category D - Engineering Workshops\">Category D - Engineering Workshops</option>\n              <option value=\"Category E - Gasworks/Coke Works\">Category E - Gasworks/Coke Works</option>\n              <option value=\"Category F - Horticulture\">Category F - Horticulture</option>\n              <option value=\"Category G - Landfills/Waste Disposal\">Category G - Landfills/Waste Disposal</option>\n              <option value=\"Category H - Metal Treatment\">Category H - Metal Treatment</option>\n              <option value=\"Category I - Timber Treatment\">Category I - Timber Treatment</option>\n            </select>\n          </div>\n\n          <!-- Status Checkboxes -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Activity Status</h4>\n            <div class=\"grid md:grid-cols-3 gap-3\">\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-current\"\n                  v-model=\"hailForm.currently_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-current\" class=\"ml-2 text-sm text-gray-700\">Currently Being Undertaken</label>\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-previous\"\n                  v-model=\"hailForm.previously_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-previous\" class=\"ml-2 text-sm text-gray-700\">Previously Undertaken</label>\n              </div>\n\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-likely\"\n                  v-model=\"hailForm.likely_undertaken\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-likely\" class=\"ml-2 text-sm text-gray-700\">Likely to Have Been Undertaken</label>\n              </div>\n            </div>\n          </div>\n\n          <!-- Investigation -->\n          <div class=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              id=\"hail-investigated\"\n              v-model=\"hailForm.preliminary_investigation_done\"\n              class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n            <label for=\"hail-investigated\" class=\"ml-2 text-sm text-gray-700\">Preliminary Investigation Completed</label>\n          </div>\n\n          <!-- Proposed Activities -->\n          <div class=\"border-t border-gray-200 pt-4\">\n            <h4 class=\"text-sm font-medium text-gray-900 mb-3\">Proposed Activities</h4>\n            <div class=\"space-y-2 p-3 border border-gray-200 rounded bg-gray-50\">\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-fuel\"\n                  v-model=\"proposedActivities.fuel\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-fuel\" class=\"ml-2 text-sm text-gray-700\">Removing or replacing fuel storage system</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-disturb\"\n                  v-model=\"proposedActivities.disturb\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-disturb\" class=\"ml-2 text-sm text-gray-700\">Disturbing soil</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-sample\"\n                  v-model=\"proposedActivities.sample\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-sample\" class=\"ml-2 text-sm text-gray-700\">Sampling soil</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-subdivide\"\n                  v-model=\"proposedActivities.subdivide\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-subdivide\" class=\"ml-2 text-sm text-gray-700\">Subdividing land</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"hail-activity-change\"\n                  v-model=\"proposedActivities.change\"\n                  class=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label for=\"hail-activity-change\" class=\"ml-2 text-sm text-gray-700\">Changing use of land</label>\n              </div>\n            </div>\n            <p class=\"text-xs text-gray-500 mt-2\">Select all proposed activities that apply</p>\n          </div>\n\n          <!-- Notes -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Additional Notes</label>\n            <textarea\n              v-model=\"hailForm.notes\"\n              rows=\"3\"\n              placeholder=\"Additional notes about the HAIL activity...\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            ></textarea>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3\">\n          <button\n            @click=\"cancelHAIL\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"saveHAIL\"\n            type=\"button\"\n            class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            {{ editingHAILIndex !== null ? 'Update' : 'Add' }} Activity\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Proposed Conditions Modal -->\n    <div\n      v-if=\"showConditionsModal\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      @click.self=\"showConditionsModal = false\"\n    >\n      <div class=\"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col\">\n        <div class=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              Browse Condition Templates\n            </h3>\n            <button\n              @click=\"showConditionsModal = false\"\n              class=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"flex-1 overflow-y-auto\">\n          <div class=\"grid md:grid-cols-3 gap-6 p-6\">\n            <!-- Left Column: Template Browser (2/3 width) -->\n            <div class=\"md:col-span-2 space-y-4\">\n              <!-- Category Filter -->\n              <div class=\"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200\">\n                <label class=\"text-sm font-medium text-gray-700\">Filter by Category:</label>\n                <select\n                  v-model=\"selectedCategory\"\n                  class=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option v-for=\"category in conditionCategories\" :key=\"category\" :value=\"category\">\n                    {{ category }}\n                  </option>\n                </select>\n                <span class=\"ml-auto text-xs text-gray-500\">\n                  {{ filteredConditionTemplates.length }} template{{ filteredConditionTemplates.length !== 1 ? 's' : '' }}\n                </span>\n              </div>\n\n              <!-- Loading State -->\n              <div v-if=\"loadingTemplates\" class=\"text-center py-12\">\n                <svg class=\"animate-spin h-8 w-8 mx-auto text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                  <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                <p class=\"mt-2 text-sm text-gray-500\">Loading templates...</p>\n              </div>\n\n              <!-- Templates List -->\n              <div v-else-if=\"filteredConditionTemplates.length > 0\" class=\"space-y-3\">\n                <div\n                  v-for=\"template in filteredConditionTemplates\"\n                  :key=\"template.name\"\n                  class=\"p-4 bg-white border border-gray-300 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all\"\n                >\n                  <div class=\"flex items-start justify-between mb-2\">\n                    <div class=\"flex-1\">\n                      <div class=\"flex items-center gap-2 mb-1\">\n                        <h4 class=\"text-sm font-semibold text-gray-900\">{{ template.template_name }}</h4>\n                        <span v-if=\"template.condition_code\" class=\"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-mono rounded\">\n                          {{ template.condition_code }}\n                        </span>\n                      </div>\n                      <div class=\"flex items-center gap-2 mb-2\">\n                        <span class=\"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded\">\n                          {{ template.condition_category }}\n                        </span>\n                        <span v-if=\"template.timing\" class=\"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded\">\n                          {{ template.timing }}\n                        </span>\n                        <span v-if=\"template.monitoring_required\" class=\"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded\">\n                          Monitoring Required\n                        </span>\n                      </div>\n                      <div class=\"text-xs text-gray-700 line-clamp-3\" v-html=\"template.condition_text\"></div>\n                    </div>\n                    <button\n                      @click=\"addConditionFromTemplate(template)\"\n                      type=\"button\"\n                      class=\"ml-3 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 flex items-center gap-1 flex-shrink-0\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                      </svg>\n                      Add\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <!-- No Templates -->\n              <div v-else class=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                <svg class=\"w-12 h-12 mx-auto text-gray-400 mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                <p class=\"text-sm text-gray-500\">No templates found for selected category</p>\n              </div>\n\n              <!-- Add Custom Condition Button -->\n              <div class=\"pt-4 border-t border-gray-200\">\n                <button\n                  @click=\"addCustomCondition\"\n                  type=\"button\"\n                  class=\"w-full px-4 py-2.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n                  </svg>\n                  Add Custom Condition\n                </button>\n              </div>\n            </div>\n\n            <!-- Right Column: Selected Conditions (1/3 width) -->\n            <div class=\"md:col-span-1 bg-gray-50 rounded-lg p-4 border border-gray-200\">\n              <h4 class=\"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between\">\n                <span>Selected Conditions</span>\n                <span class=\"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full\">\n                  {{ formData.proposed_conditions.length }}\n                </span>\n              </h4>\n\n              <div v-if=\"formData.proposed_conditions.length > 0\" class=\"space-y-2 max-h-[600px] overflow-y-auto\">\n                <div\n                  v-for=\"(condition, index) in formData.proposed_conditions\"\n                  :key=\"index\"\n                  class=\"p-2 bg-white rounded border border-gray-300 text-xs\"\n                >\n                  <div class=\"flex items-start justify-between mb-1\">\n                    <div class=\"flex items-center gap-1\">\n                      <span class=\"px-1.5 py-0.5 bg-gray-100 text-gray-700 font-mono text-xs rounded\">\n                        {{ condition.condition_number }}\n                      </span>\n                      <span class=\"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded\">\n                        {{ condition.condition_category }}\n                      </span>\n                    </div>\n                    <button\n                      @click=\"removeCondition(index)\"\n                      type=\"button\"\n                      class=\"text-red-600 hover:bg-red-50 rounded p-0.5\"\n                      title=\"Remove\"\n                    >\n                      <svg class=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n                  <div class=\"text-gray-700 line-clamp-2\" v-html=\"condition.condition_text\"></div>\n                </div>\n              </div>\n\n              <div v-else class=\"text-center py-8 text-xs text-gray-500\">\n                <svg class=\"w-8 h-8 mx-auto text-gray-300 mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n                No conditions selected\n              </div>\n            </div>\n          </div>\n\n          <!-- Custom Condition Editor (appears when editing) -->\n          <div v-if=\"editingConditionIndex !== null || conditionForm.condition_text || conditionForm.condition_category\" class=\"border-t border-gray-200 bg-gray-50 p-6\">\n            <h4 class=\"text-sm font-semibold text-gray-900 mb-4\">\n              {{ editingConditionIndex !== null ? 'Edit' : 'Add Custom' }} Condition\n            </h4>\n\n            <div class=\"grid md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                  Condition Number <span class=\"text-red-500\">*</span>\n                </label>\n                <input\n                  v-model=\"conditionForm.condition_number\"\n                  type=\"text\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"e.g., 1\"\n                />\n              </div>\n\n              <div>\n                <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                  Category <span class=\"text-red-500\">*</span>\n                </label>\n                <select\n                  v-model=\"conditionForm.condition_category\"\n                  class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                >\n                  <option value=\"\">Select category</option>\n                  <option v-for=\"category in conditionCategories.filter(c => c !== 'All')\" :key=\"category\" :value=\"category\">\n                    {{ category }}\n                  </option>\n                </select>\n              </div>\n            </div>\n\n            <div class=\"mb-4\">\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">\n                Condition Text <span class=\"text-red-500\">*</span>\n              </label>\n              <textarea\n                v-model=\"conditionForm.condition_text\"\n                rows=\"4\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter the condition text...\"\n              ></textarea>\n            </div>\n\n            <div>\n              <label class=\"block text-xs font-medium text-gray-700 mb-1\">Notes</label>\n              <textarea\n                v-model=\"conditionForm.compliance_notes\"\n                rows=\"2\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Optional notes about this condition...\"\n              ></textarea>\n            </div>\n\n            <div class=\"flex justify-end gap-2 mt-4\">\n              <button\n                @click=\"cancelConditionEdit\"\n                type=\"button\"\n                class=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                @click=\"saveCondition\"\n                type=\"button\"\n                class=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n              >\n                {{ editingConditionIndex !== null ? 'Update' : 'Add' }} Condition\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end\">\n          <button\n            @click=\"showConditionsModal = false\"\n            type=\"button\"\n            class=\"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700\"\n          >\n            Done\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { createResource, Input, Button, call } from 'frappe-ui'\nimport CouncilSelector from '../components/CouncilSelector.vue'\nimport { useCouncilStore } from '../stores/councilStore'\nimport { session } from '../data/session'\n\nconst router = useRouter()\nconst councilStore = useCouncilStore()\n\n// User profile data\nconst userProfile = ref(null)\nconst loadingProfile = ref(false)\nconst userCompanyAccount = ref(null)\n\n// Form state\nconst currentStep = ref(1)\nconst totalSteps = computed(() => steps.value.length)\nconst savingDraft = ref(false)\nconst submitting = ref(false)\nconst uploadedFiles = ref([])\nconst fileInput = ref(null)\nconst bookingMeeting = ref(false)\nconst requestingMeeting = ref(false)\nconst showActivityStatusHelp = ref(false)\n\n// Available consent types (managed configuration)\nconst availableConsentTypes = [\n  'Land Use',\n  'Subdivision',\n  'Discharge Permit',\n  'Water Permit',\n  'Coastal Permit'\n]\n\n// Consent type multi-select functions\nconst toggleConsentType = (consentType) => {\n  const index = formData.value.consent_types.findIndex(ct => ct.consent_type === consentType)\n  if (index > -1) {\n    formData.value.consent_types.splice(index, 1)\n  } else {\n    formData.value.consent_types.push({ consent_type: consentType })\n  }\n}\n\nconst isConsentTypeSelected = (consentType) => {\n  return formData.value.consent_types.some(ct => ct.consent_type === consentType)\n}\n\nconst steps = computed(() => {\n  const baseSteps = [\n    { title: 'Council', number: 1 },\n    { title: 'Type', number: 2 },\n    { title: 'Process Info', number: 3 },\n    { title: 'Property', number: 4 }\n  ]\n\n  // Add RC-specific step (only for RC requests)\n  if (isResourceConsent.value) {\n    baseSteps.push({ title: 'RC Details', number: 5 })\n  }\n  // Non-RC requests skip directly to Review\n\n  // Review step is always last\n  baseSteps.push({ title: 'Review', number: baseSteps.length + 1 })\n\n  return baseSteps\n})\n\n// Form data\nconst formData = ref({\n  council: '',\n  request_type: '',\n  request_category: '', // Store the category of the selected request type\n  property: '',\n  property_address: '',\n  legal_description: '',\n  valuation_reference: '',\n  parcel_id: '',\n  ct_reference: '',\n  property_coordinates: '',\n  hazard_data: null,\n  zone: '',\n  activity_zone: '',\n  brief_description: '',\n  detailed_description: '',\n  estimated_value: null,\n  proposed_start_date: '',\n  terms_accepted: false,\n\n  // Required applicant fields\n  applicant_phone: '',\n  applicant_type: '',\n\n  // Company submission fields\n  submitted_on_behalf_of: 'Myself', // 'Myself' or 'Company'\n  company_account: null,\n\n  // Agent workflow fields\n  acting_on_behalf: false,\n  applicant_name: '',\n  applicant_email: '',\n\n  // Resource Consent specific fields\n  consent_types: [], // Array of consent type objects\n  activity_status: '',\n  applicant_reference_number: '',\n  delivery_preference: '',\n  pim_reference: '',\n\n  // Proposal Details\n  building_height: null,\n  building_floor_area: null,\n  earthworks_volume: null,\n  earthworks_vertical_alteration: null,\n  vehicle_movements_daily: null,\n  parking_spaces_provided: null,\n  hours_of_operation: '',\n  consent_term_requested: '',\n\n  // Site & Environment\n  site_topography: '',\n  existing_vegetation_description: '',\n  watercourses_present: false,\n  watercourse_description: '',\n  existing_infrastructure: '',\n  contamination_status_hail: '',\n\n  // Permitted Boundary Activity (RMA s87BA)\n  boundary_description: '',\n  boundary_activity_description: '',\n  boundary_owner_approval_obtained: false,\n  boundary_approval_date: '',\n  boundary_approval_document: null,\n\n  // Natural Hazards (structured)\n  natural_hazards: [],\n\n  // NES Assessments\n  nes_assessments: [],\n\n  // HAIL Activities\n  hail_activities: [],\n\n  // Confidential Information (RMA s42)\n  confidential_information_claimed: false,\n  confidential_information_reason: '',\n\n  // AEE Fields\n  assessment_of_effects: '',\n  effects_on_people: '',\n  physical_effects: '',\n  earthworks_effects: '',\n  discharge_contaminants_effects: '',\n  ecosystem_effects: '',\n  hazard_risk_assessment: '',\n  cultural_effects: '',\n\n  // NEW: Structured AEE fields + document upload\n  aee_document: null,\n  aee_activity_description: '',\n  aee_activity_status: '',\n  aee_existing_environment: '',\n  aee_site_area: null,\n  aee_current_use: '',\n  aee_zoning: '',\n  aee_overlays: '',\n  aee_designations: '',\n  aee_part2_assessment: '',\n\n  // NEW: AEE child tables\n  aee_plan_rules: [],\n  aee_compliance_standards: [],\n  aee_written_approvals: [],\n  aee_proposed_conditions: [],\n  aee_consultation_summary: '',\n\n  // Note: planning_assessment and rma_part2_assessment are back-office fields\n  // completed by council officers, not applicants\n  alternatives_considered: '',\n  mitigation_proposed: '',\n\n  // NEW: Owner/Occupier fields\n  applicant_is_not_owner: false,\n  owner_name: '',\n  owner_email: '',\n  owner_phone: '',\n  owner_address: '',\n\n  // NEW: Certificate of Title document\n  certificate_of_title_document: null,\n\n  // NEW: Statutory declarations\n  declaration_rma_compliance: false,\n  declaration_public_information: false,\n  declaration_authorized: false,\n\n  // NEW: Invoicing details\n  invoice_to: 'Applicant',\n  invoice_name: '',\n  invoice_email: '',\n  invoice_address: '',\n  purchase_order_number: '',\n\n  // NEW: Transfer deposit (RC-specific)\n  transfer_deposit_required: false,\n  transfer_deposit_consent_number: '',\n\n  // Affected Parties\n  affected_parties: [], // Array of affected parties\n  written_approvals_obtained: 0, // Count of approvals obtained\n\n  // Iwi Consultation\n  iwi_consultation_undertaken: false,\n  iwi_consulted: '',\n  cultural_impact_assessment: null, // CIA file upload\n  iwi_response_summary: '', // Summary of iwi consultation responses\n\n  // Specialist Reports & Conditions\n  specialist_reports: [], // Array of specialist reports\n  proposed_conditions: [], // Array of proposed conditions\n})\n\n// Property Search Autocomplete State\nconst propertySearchQuery = ref('')\nconst propertySearchResults = ref([])\nconst propertySearchLoading = ref(false)\nconst showPropertyDropdown = ref(false)\nlet propertySearchTimeout = null\n\n// Selected Request Type Details (with council-specific info)\nconst selectedRequestTypeDetails = ref(null)\n\n// Natural Hazards - RMA s104\nconst naturalHazardTypes = [\n  'Earthquake',\n  'Fire',\n  'Tsunami',\n  'Erosion',\n  'Volcanic and Geothermal',\n  'Flood',\n  'Sedimentation',\n  'Subsidence',\n  'Wind',\n  'Landslip',\n  'Drought'\n]\n\nconst selectedHazards = ref([])\nconst hazardData = ref({})\n\n// Get or create hazard data object\nconst getHazardData = (hazard) => {\n  if (!hazardData.value[hazard]) {\n    hazardData.value[hazard] = {\n      hazard_type: hazard,\n      present: true,\n      risk_level: '',\n      assessment_notes: '',\n      mitigation_required: false\n    }\n  }\n  return hazardData.value[hazard]\n}\n\n// Watch selectedHazards to update formData.natural_hazards\nwatch(selectedHazards, (newHazards) => {\n  formData.value.natural_hazards = newHazards.map(hazard => getHazardData(hazard))\n}, { deep: true })\n\n// Watch hazardData to update formData.natural_hazards\nwatch(hazardData, () => {\n  formData.value.natural_hazards = selectedHazards.value.map(hazard => getHazardData(hazard))\n}, { deep: true })\n\n// National Environmental Standards\nconst nesTypes = [\n  { value: 'NES for Assessing and Managing Contaminants in Soil (HAIL)', label: 'NES for Assessing and Managing Contaminants in Soil (HAIL)' },\n  { value: 'NES for Air Quality', label: 'NES for Air Quality' },\n  { value: 'NES for Sources of Human Drinking Water', label: 'NES for Sources of Human Drinking Water' },\n  { value: 'NES for Freshwater Management', label: 'NES for Freshwater Management' },\n  { value: 'NES for Plantation Forestry', label: 'NES for Plantation Forestry' },\n  { value: 'NES for Electricity Transmission Activities', label: 'NES for Electricity Transmission Activities' },\n  { value: 'NES for Telecommunication Facilities', label: 'NES for Telecommunication Facilities' },\n  { value: 'Other', label: 'Other NES' }\n]\n\nconst nesData = ref({})\n\n// Get or create NES data object\nconst getNESData = (nesType) => {\n  if (!nesData.value[nesType]) {\n    nesData.value[nesType] = {\n      nes_type: nesType,\n      applies: false,\n      compliance_status: '',\n      assessment_notes: '',\n      other_nes_description: ''\n    }\n  }\n  return nesData.value[nesType]\n}\n\n// NES Document Upload Handling\nconst handleNESDocumentUpload = (event, nesType) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 10 * 1024 * 1024) {\n    alert('File size must be less than 10MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'image/jpeg', 'image/jpg', 'image/png']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF, Word documents, and images are allowed')\n    event.target.value = ''\n    return\n  }\n\n  // Add to attachments with NES category\n  formData.value.attachments.push({\n    document_category: 'NES Documentation',\n    document_type: 'NES Assessment',\n    file: file,\n    description: `NES Assessment for ${nesType}`,\n    nes_type: nesType  // Track which NES this belongs to\n  })\n\n  event.target.value = ''\n}\n\nconst getNESDocuments = (nesType) => {\n  return formData.value.attachments.filter(att =>\n    att.document_category === 'NES Documentation' && att.nes_type === nesType\n  )\n}\n\nconst removeNESDocument = (nesType, docIdx) => {\n  const nesDocuments = getNESDocuments(nesType)\n  const docToRemove = nesDocuments[docIdx]\n  const globalIdx = formData.value.attachments.indexOf(docToRemove)\n  if (globalIdx > -1) {\n    formData.value.attachments.splice(globalIdx, 1)\n  }\n}\n\n// Certificate of Title Upload Handler\nconst handleCTUpload = (event) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 10 * 1024 * 1024) {\n    alert('File size must be less than 10MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF and image files (JPG, PNG) are allowed for Certificate of Title')\n    event.target.value = ''\n    return\n  }\n\n  // Store the file reference\n  formData.value.certificate_of_title_document = file\n\n  event.target.value = ''\n}\n\n// AEE Document Upload Handler\nconst handleAEEUpload = (event) => {\n  const file = event.target.files[0]\n  if (!file) return\n\n  // Validation\n  if (file.size > 20 * 1024 * 1024) {\n    alert('File size must be less than 20MB')\n    event.target.value = ''\n    return\n  }\n\n  const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n  if (!allowedTypes.includes(file.type)) {\n    alert('Only PDF and Word documents (.doc, .docx) are allowed for AEE documents')\n    event.target.value = ''\n    return\n  }\n\n  // Store the file reference\n  formData.value.aee_document = file\n\n  event.target.value = ''\n}\n\n// Watch nesData to update formData.nes_assessments\nwatch(nesData, () => {\n  formData.value.nes_assessments = nesTypes\n    .filter(nes => getNESData(nes.value).applies)\n    .map(nes => getNESData(nes.value))\n}, { deep: true })\n\n// Computed: Check if NES Soils is selected (for conditional HAIL section)\nconst isNESSoilsSelected = computed(() => {\n  return formData.value.nes_assessments.some(\n    nes => nes.nes_type && nes.nes_type.includes('HAIL')\n  )\n})\n\n// HAIL Activities Management\n// HAIL Activity Modal\nconst showHAILModal = ref(false)\nconst editingHAILIndex = ref(null)\nconst hailForm = ref({\n  activity_description: '',\n  hail_category: '',\n  currently_undertaken: false,\n  previously_undertaken: false,\n  likely_undertaken: false,\n  preliminary_investigation_done: false,\n  proposed_activities: [],\n  notes: ''\n})\nconst proposedActivities = ref({\n  fuel: false,\n  disturb: false,\n  sample: false,\n  subdivide: false,\n  change: false\n})\n\nconst addHAILActivity = () => {\n  // Reset form\n  hailForm.value = {\n    activity_description: '',\n    hail_category: '',\n    currently_undertaken: false,\n    previously_undertaken: false,\n    likely_undertaken: false,\n    preliminary_investigation_done: false,\n    proposed_activities: [],\n    notes: ''\n  }\n  proposedActivities.value = {\n    fuel: false,\n    disturb: false,\n    sample: false,\n    subdivide: false,\n    change: false\n  }\n  editingHAILIndex.value = null\n  showHAILModal.value = true\n}\n\nconst editHAILActivity = (index) => {\n  const hail = formData.value.hail_activities[index]\n  hailForm.value = { ...hail }\n\n  // Convert proposed_activities array to checkbox states\n  proposedActivities.value = {\n    fuel: hail.proposed_activities?.some(a => a.activity_type === 'Removing or replacing fuel storage system') || false,\n    disturb: hail.proposed_activities?.some(a => a.activity_type === 'Disturbing soil') || false,\n    sample: hail.proposed_activities?.some(a => a.activity_type === 'Sampling soil') || false,\n    subdivide: hail.proposed_activities?.some(a => a.activity_type === 'Subdividing land') || false,\n    change: hail.proposed_activities?.some(a => a.activity_type === 'Changing use of land') || false\n  }\n\n  editingHAILIndex.value = index\n  showHAILModal.value = true\n}\n\nconst saveHAIL = () => {\n  if (!hailForm.value.activity_description) {\n    alert('Please enter activity description')\n    return\n  }\n\n  // Convert checkbox states back to proposed_activities array\n  const proposedActivitiesArray = []\n  if (proposedActivities.value.fuel) proposedActivitiesArray.push({ activity_type: 'Removing or replacing fuel storage system' })\n  if (proposedActivities.value.disturb) proposedActivitiesArray.push({ activity_type: 'Disturbing soil' })\n  if (proposedActivities.value.sample) proposedActivitiesArray.push({ activity_type: 'Sampling soil' })\n  if (proposedActivities.value.subdivide) proposedActivitiesArray.push({ activity_type: 'Subdividing land' })\n  if (proposedActivities.value.change) proposedActivitiesArray.push({ activity_type: 'Changing use of land' })\n\n  const hailData = {\n    ...hailForm.value,\n    proposed_activities: proposedActivitiesArray\n  }\n\n  if (editingHAILIndex.value !== null) {\n    // Edit existing\n    formData.value.hail_activities[editingHAILIndex.value] = hailData\n  } else {\n    // Add new\n    formData.value.hail_activities.push(hailData)\n  }\n\n  showHAILModal.value = false\n}\n\nconst cancelHAIL = () => {\n  showHAILModal.value = false\n}\n\nconst removeHAILActivity = (index) => {\n  if (confirm('Remove this HAIL activity?')) {\n    formData.value.hail_activities.splice(index, 1)\n  }\n}\n\n// HAIL Proposed Activity checkbox handlers\nconst toggleHAILProposedActivity = (hailIndex, activityType) => {\n  const hail = formData.value.hail_activities[hailIndex]\n  if (!hail.proposed_activities) {\n    hail.proposed_activities = []\n  }\n\n  const activityIndex = hail.proposed_activities.findIndex(a => a.activity_type === activityType)\n  if (activityIndex > -1) {\n    hail.proposed_activities.splice(activityIndex, 1)\n  } else {\n    hail.proposed_activities.push({ activity_type: activityType })\n  }\n}\n\nconst isHAILActivitySelected = (hailIndex, activityType) => {\n  const hail = formData.value.hail_activities[hailIndex]\n  if (!hail.proposed_activities) return false\n  return hail.proposed_activities.some(a => a.activity_type === activityType)\n}\n\n// Proposal Details Accordion State\nconst proposalAccordion = ref({\n  building: true,  // Start with first section open\n  earthworks: false,\n  traffic: false,\n  operations: false\n})\n\nconst toggleProposalSection = (section) => {\n  proposalAccordion.value[section] = !proposalAccordion.value[section]\n}\n\n// Boundary Approval Document Upload\nconst handleBoundaryApprovalUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    formData.value.boundary_approval_document = file\n  }\n}\n\n// Track initial form state to detect changes\nconst initialFormData = ref(JSON.parse(JSON.stringify(formData.value)))\n\n// Computed property to check if form has changes\n// Exclude terms_accepted from change detection since it's not actual application data\nconst hasFormChanges = computed(() => {\n  const currentCopy = { ...formData.value }\n  const initialCopy = { ...initialFormData.value }\n\n  // Remove terms_accepted from comparison\n  delete currentCopy.terms_accepted\n  delete initialCopy.terms_accepted\n\n  const current = JSON.stringify(currentCopy)\n  const initial = JSON.stringify(initialCopy)\n  return current !== initial\n})\n\n// Computed property to check if Resource Consent request\nconst isResourceConsent = computed(() => {\n  return formData.value.request_category === 'Resource Consent'\n})\n\n// Activity status validation warning\nconst activityStatusWarning = computed(() => {\n  if (!formData.value.activity_status) return null\n\n  switch (formData.value.activity_status) {\n    case 'Non-Complying':\n      return '⚠️ Non-complying activities face higher scrutiny and longer processing times. Consider pre-application meeting.'\n    case 'Discretionary':\n      return 'ℹ️ Discretionary activities may require public notification depending on effects assessment.'\n    case 'Controlled':\n      return '✓ Controlled activities must be granted consent. Council will focus on appropriate conditions.'\n    default:\n      return null\n  }\n})\n\n// Show submit button only if there are changes or files uploaded\nconst canSubmit = computed(() => {\n  return hasFormChanges.value || uploadedFiles.value.length > 0\n})\n\n// Get request types (will be loaded based on council selection)\nconst requestTypes = ref({ data: [], loading: false, error: null })\n\n// Get user's properties\nconst properties = createResource({\n  url: 'frappe.client.get_list',\n  params: {\n    doctype: 'Property',\n    fields: ['name', 'property_id', 'street_address', 'suburb', 'city', 'legal_description', 'certificate_of_title'],\n    limit_page_length: 100,\n  },\n  auto: true,\n})\n\n// Methods\nconst onCouncilChange = async (councilCode) => {\n  if (!councilCode) {\n    requestTypes.value = { data: [], loading: false, error: null }\n    return\n  }\n\n  // Load request types for the selected council\n  requestTypes.value.loading = true\n  requestTypes.value.error = null\n\n  try {\n    await councilStore.loadRequestTypesForCouncil(councilCode)\n    requestTypes.value.data = councilStore.availableRequestTypes\n    console.log(`[NewRequest] Loaded ${requestTypes.value.data.length} request types for council ${councilCode}`)\n  } catch (error) {\n    requestTypes.value.error = error.message || 'Failed to load request types'\n    console.error('[NewRequest] Failed to load request types:', error)\n  } finally {\n    requestTypes.value.loading = false\n  }\n}\n\nconst goBack = () => {\n  if (confirm('Are you sure you want to leave? Any unsaved changes will be lost.')) {\n    router.push({ name: 'Dashboard' })\n  }\n}\n\nconst getStepClass = (stepNumber) => {\n  if (stepNumber < currentStep.value) {\n    return 'bg-blue-600 text-white'\n  } else if (stepNumber === currentStep.value) {\n    return 'bg-blue-600 text-white'\n  } else {\n    return 'bg-gray-200 text-gray-600'\n  }\n}\n\nconst selectRequestType = (type) => {\n  console.log('[NewRequest] Selecting Request Type:', type.name, type.type_name)\n  formData.value.request_type = type.name\n  formData.value.request_category = type.category || ''\n\n  // Store the full request type details for the Process Info step\n  selectedRequestTypeDetails.value = type\n\n  console.log('[NewRequest] Form data updated:', {\n    request_type: formData.value.request_type,\n    request_category: formData.value.request_category,\n    details: selectedRequestTypeDetails.value\n  })\n}\n\nconst onPropertySelect = () => {\n  if (formData.value.property) {\n    const selected = properties.data.find(p => p.name === formData.value.property)\n    if (selected) {\n      // Populate address\n      formData.value.property_address = `${selected.street_address}, ${selected.suburb}, ${selected.city}`\n\n      // Populate property details\n      formData.value.legal_description = selected.legal_description || ''\n      formData.value.ct_reference = selected.certificate_of_title || ''\n      formData.value.parcel_id = selected.property_id || ''\n      formData.value.zone = selected.zoning || ''\n\n      // Populate coordinates if available\n      if (selected.latitude && selected.longitude) {\n        formData.value.property_coordinates = `${selected.latitude},${selected.longitude}`\n      }\n\n      console.log('[NewRequest] Populated property details from existing property:', {\n        address: formData.value.property_address,\n        legal_description: formData.value.legal_description,\n        ct_reference: formData.value.ct_reference,\n        parcel_id: formData.value.parcel_id,\n        zone: formData.value.zone\n      })\n    }\n  }\n}\n\n// Property Search Autocomplete Handlers\nconst handlePropertySearch = () => {\n  // Clear existing timeout\n  if (propertySearchTimeout) {\n    clearTimeout(propertySearchTimeout)\n  }\n\n  const query = propertySearchQuery.value.trim()\n\n  // Only search if query is at least 3 characters\n  if (query.length < 3) {\n    propertySearchResults.value = []\n    return\n  }\n\n  // Debounce search\n  propertySearchTimeout = setTimeout(async () => {\n    propertySearchLoading.value = true\n    showPropertyDropdown.value = true\n\n    try {\n      const response = await fetch('/api/method/lodgeick.api.search_property_address', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: JSON.stringify({ query })\n      })\n\n      const data = await response.json()\n\n      if (data.message && data.message.results) {\n        propertySearchResults.value = data.message.results\n      } else {\n        propertySearchResults.value = []\n      }\n    } catch (error) {\n      console.error('[PropertySearch] Error searching properties:', error)\n      propertySearchResults.value = []\n    } finally {\n      propertySearchLoading.value = false\n    }\n  }, 300) // 300ms debounce\n}\n\nconst selectProperty = (result) => {\n  // Set the property address\n  formData.value.property_address = result.address\n  propertySearchQuery.value = result.address\n\n  // Set legal description if available\n  if (result.property?.legal_description) {\n    formData.value.legal_description = result.property.legal_description\n  }\n\n  // Set title number if available\n  if (result.property?.title_no) {\n    formData.value.ct_reference = result.property.title_no\n  }\n\n  // Set valuation reference if available\n  if (result.property?.valuation_reference) {\n    formData.value.valuation_reference = result.property.valuation_reference\n  }\n\n  // Set parcel ID if available\n  if (result.property?.parcel_id) {\n    formData.value.parcel_id = result.property.parcel_id\n  }\n\n  // Set property coordinates if available\n  if (result.projected_x && result.projected_y) {\n    formData.value.property_coordinates = `NZTM2000: ${result.projected_x.toFixed(2)}, ${result.projected_y.toFixed(2)}`\n  }\n\n  // Extract and set zoning from district plan hazards\n  if (result.hazards?.districtPlan && Array.isArray(result.hazards.districtPlan) && result.hazards.districtPlan.length > 0) {\n    const districtPlan = result.hazards.districtPlan[0]\n    if (districtPlan.attributes?.Zone_Code || districtPlan.attributes?.ZONE_CODE) {\n      formData.value.zone = districtPlan.attributes.Zone_Code || districtPlan.attributes.ZONE_CODE\n    } else if (districtPlan.attributes?.Zone_Name || districtPlan.attributes?.ZONE_NAME) {\n      formData.value.zone = districtPlan.attributes.Zone_Name || districtPlan.attributes.ZONE_NAME\n    }\n  }\n\n  // Store full hazard data for potential future use\n  formData.value.hazard_data = result.hazards\n\n  // Close dropdown\n  showPropertyDropdown.value = false\n  propertySearchResults.value = []\n\n  console.log('[PropertySearch] Selected property:', {\n    address: result.address,\n    legal_description: formData.value.legal_description,\n    title_no: formData.value.ct_reference,\n    zone: formData.value.zone,\n    hazards: result.hazards\n  })\n}\n\n// Close dropdown when clicking outside\nconst closePropertyDropdown = () => {\n  showPropertyDropdown.value = false\n}\n\n// Clear property address to allow new search\nconst clearPropertyAddress = () => {\n  formData.value.property_address = ''\n  formData.value.legal_description = ''\n  formData.value.ct_reference = ''\n  formData.value.valuation_reference = ''\n  formData.value.parcel_id = ''\n  formData.value.zone = ''\n  formData.value.property_coordinates = ''\n  formData.value.hazard_data = null\n  propertySearchQuery.value = ''\n  propertySearchResults.value = []\n  console.log('[PropertySearch] Cleared property data for new search')\n}\n\nconst canProceed = () => {\n  switch (currentStep.value) {\n    case 1:\n      // Step 1: Council selection\n      const canProceedStep1 = !!formData.value.council\n      console.log('[NewRequest] canProceed Step 1 (Council):', canProceedStep1, 'council:', formData.value.council)\n      return canProceedStep1\n    case 2:\n      // Step 2: Request type selection\n      const canProceedStep2 = !!formData.value.request_type\n      console.log('[NewRequest] canProceed Step 2 (Type):', canProceedStep2, 'request_type:', formData.value.request_type)\n      return canProceedStep2\n    case 3:\n      // Step 3: Process Info - always can proceed (just informational)\n      return true\n    case 4:\n      // Step 4: Property - Require either property link OR property_address, plus applicant fields\n      const hasProperty = formData.value.property || formData.value.property_address\n      const hasApplicantInfo = formData.value.applicant_phone && formData.value.applicant_type && formData.value.applicant_name && formData.value.applicant_email\n\n      // NEW: Validate owner details if applicant is not the owner\n      const ownerDetailsValid = !formData.value.applicant_is_not_owner || (\n        formData.value.owner_name &&\n        formData.value.owner_email &&\n        formData.value.owner_phone &&\n        formData.value.owner_address\n      )\n\n      return !!(hasProperty && hasApplicantInfo && ownerDetailsValid)\n    case 5:\n      // Step 5: RC Details (RC only) OR Review (non-RC)\n      if (isResourceConsent.value) {\n        // RC Details step - validate required fields\n\n        // Basic RC fields\n        const hasBasicRC = !!(\n          formData.value.consent_types && formData.value.consent_types.length > 0 &&\n          formData.value.activity_status\n        )\n\n        // NEW: AEE validation - either upload a document OR complete structured fields\n        // AEE is now structured-only (no upload option)\n        const hasStructuredAEE = !!(\n          formData.value.aee_activity_description &&\n          formData.value.aee_existing_environment &&\n          formData.value.assessment_of_effects\n        )\n        const hasAEE = hasStructuredAEE\n\n        // NEW: Invoice details validation\n        const hasInvoiceDetails = formData.value.invoice_to === 'Applicant' || (\n          formData.value.invoice_to === 'Other' &&\n          formData.value.invoice_name &&\n          formData.value.invoice_email &&\n          formData.value.invoice_address\n        )\n\n        // NEW: Statutory declarations validation\n        const hasDeclarations = !!(\n          formData.value.declaration_rma_compliance &&\n          formData.value.declaration_public_information &&\n          formData.value.declaration_authorized\n        )\n\n        // NEW: Transfer deposit validation (if selected)\n        const transferDepositValid = !formData.value.transfer_deposit_required ||\n          !!formData.value.transfer_deposit_consent_number\n\n        return !!(hasBasicRC && hasAEE && hasInvoiceDetails && hasDeclarations && transferDepositValid)\n      } else {\n        // This is Review step for non-RC requests - always allow\n        return true\n      }\n    case 6:\n      // Step 6: Review step (RC only) - always allow to proceed\n      return true\n    default:\n      return true\n  }\n}\n\nconst nextStep = () => {\n  const totalStepsValue = totalSteps.value\n  const currentStepValue = currentStep.value\n  const canProceedValue = canProceed()\n\n  console.log('[NewRequest] nextStep called', {\n    canProceed: canProceedValue,\n    currentStep: currentStepValue,\n    totalSteps: totalStepsValue,\n    steps: steps.value,\n    willProceed: canProceedValue && currentStepValue < totalStepsValue\n  })\n\n  if (canProceedValue && currentStepValue < totalStepsValue) {\n    currentStep.value++\n    console.log('[NewRequest] Moved to step:', currentStep.value)\n  } else {\n    console.warn('[NewRequest] Cannot proceed:', {\n      canProceed: canProceedValue,\n      currentStep: currentStepValue,\n      totalSteps: totalStepsValue,\n      reason: !canProceedValue ? 'canProceed returned false' : 'at last step'\n    })\n  }\n}\n\nconst previousStep = () => {\n  if (currentStep.value > 1) {\n    currentStep.value--\n  }\n}\n\nconst saveDraft = async () => {\n  savingDraft.value = true\n  try {\n    const response = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value\n      })\n    })\n\n    const result = await response.json()\n\n    if (result.message && result.message.success) {\n      alert(`Draft saved successfully! Request ID: ${result.message.request_number}`)\n      // Return the result for use by other functions\n      return result.message\n    } else {\n      throw new Error(result.message || 'Failed to save draft')\n    }\n  } catch (error) {\n    console.error('Error saving draft:', error)\n    alert('Failed to save draft. Please try again.')\n    return null\n  } finally {\n    savingDraft.value = false\n  }\n}\n\nconst triggerFileUpload = () => {\n  fileInput.value.click()\n}\n\nconst handleFileUpload = (event) => {\n  const files = Array.from(event.target.files)\n  uploadedFiles.value.push(...files)\n}\n\nconst removeFile = (index) => {\n  uploadedFiles.value.splice(index, 1)\n}\n\nconst formatFileSize = (bytes) => {\n  if (bytes === 0) return '0 Bytes'\n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i]\n}\n\nconst getRequestTypeName = () => {\n  const type = requestTypes.data?.find(t => t.name === formData.value.request_type)\n  return type?.type_name || 'N/A'\n}\n\nconst getApplicationFee = () => {\n  const type = requestTypes.data?.find(t => t.name === formData.value.request_type)\n  return type?.base_fee ? `$${type.base_fee}` : 'TBD'\n}\n\nconst submitApplication = async () => {\n  // NEW: Check statutory declarations instead of single terms_accepted\n  if (!formData.value.declaration_rma_compliance ||\n      !formData.value.declaration_public_information ||\n      !formData.value.declaration_authorized) {\n    alert('Please confirm all three statutory declarations before submitting your application')\n    return\n  }\n\n  submitting.value = true\n  try {\n    // Step 1: Create draft request\n    const createResponse = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value\n      })\n    })\n\n    const createResult = await createResponse.json()\n\n    if (!createResult.message || !createResult.message.success) {\n      throw new Error('Failed to create request')\n    }\n\n    const requestId = createResult.message.request_id\n\n    // Step 2: Upload files if any\n    if (uploadedFiles.value.length > 0) {\n      for (const file of uploadedFiles.value) {\n        const fileFormData = new FormData()\n        fileFormData.append('file', file)\n        fileFormData.append('doctype', 'Request')\n        fileFormData.append('docname', requestId)\n        fileFormData.append('is_private', 0)\n\n        await fetch('/api/method/upload_file', {\n          method: 'POST',\n          headers: {\n            'X-Frappe-CSRF-Token': window.csrf_token\n          },\n          body: fileFormData\n        })\n      }\n    }\n\n    // NEW: Upload Certificate of Title document if provided\n    if (formData.value.certificate_of_title_document) {\n      const ctFormData = new FormData()\n      ctFormData.append('file', formData.value.certificate_of_title_document)\n      ctFormData.append('doctype', 'Request')\n      ctFormData.append('docname', requestId)\n      ctFormData.append('fieldname', 'certificate_of_title_document')\n      ctFormData.append('is_private', 0)\n\n      await fetch('/api/method/upload_file', {\n        method: 'POST',\n        headers: {\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: ctFormData\n      })\n    }\n\n    // NEW: Upload AEE document if provided\n    if (formData.value.aee_document) {\n      const aeeFormData = new FormData()\n      aeeFormData.append('file', formData.value.aee_document)\n      aeeFormData.append('doctype', 'Resource Consent Application')\n      aeeFormData.append('docname', requestId)\n      aeeFormData.append('fieldname', 'aee_document')\n      aeeFormData.append('is_private', 0)\n\n      await fetch('/api/method/upload_file', {\n        method: 'POST',\n        headers: {\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: aeeFormData\n      })\n    }\n\n    // Step 3: Submit the request\n    const submitResponse = await fetch('/api/method/lodgeick.lodgeick.doctype.request.request.submit_application', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: requestId\n      })\n    })\n\n    const submitResult = await submitResponse.json()\n\n    if (submitResult.message && submitResult.message.success) {\n      alert(`Application submitted successfully! Request Number: ${submitResult.message.request_number}`)\n      router.push({ name: 'Dashboard' })\n    } else {\n      throw new Error('Failed to submit application')\n    }\n  } catch (error) {\n    console.error('Error submitting application:', error)\n    alert('Failed to submit application')\n  } finally {\n    submitting.value = false\n  }\n}\n\nconst bookPreApplicationMeeting = async () => {\n  if (!formData.value.request_type) {\n    alert('Please complete your application details first')\n    return\n  }\n\n  bookingMeeting.value = true\n  try {\n    // First, save as draft if not already saved\n    const draftResponse = await fetch('/api/method/lodgeick.api.create_draft_request', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        data: formData.value\n      })\n    })\n\n    const draftResult = await draftResponse.json()\n\n    if (!draftResult.message || !draftResult.message.success) {\n      throw new Error('Failed to save application')\n    }\n\n    const requestId = draftResult.message.request_id\n\n    // Book the meeting via backend API\n    const meetingResponse = await fetch('/api/method/lodgeick.api.book_council_meeting', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: requestId,\n        meeting_type: 'Pre-Application Meeting'\n      })\n    })\n\n    const meetingResult = await meetingResponse.json()\n\n    if (meetingResult.message && meetingResult.message.success) {\n      alert(`Pre-Application Meeting request has been submitted! A council officer will contact you within 2 business days to schedule the meeting. Task ID: ${meetingResult.message.task_id}`)\n    } else {\n      throw new Error(meetingResult.message || 'Failed to book meeting')\n    }\n  } catch (error) {\n    console.error('Error booking meeting:', error)\n    alert('Failed to book pre-application meeting. Please try again.')\n  } finally {\n    bookingMeeting.value = false\n  }\n}\n\n// Resource Consent specific methods\nconst ciaFileInput = ref(null)\n\n// Affected Party Modal\nconst showAffectedPartyModal = ref(false)\nconst editingPartyIndex = ref(null)\nconst affectedPartyForm = ref({\n  party_name: '',\n  relationship: '',\n  property_address: '',\n  email: '',\n  phone: '',\n  postal_address: '',\n  approval_obtained: false,\n  approval_date: '',\n  approval_document: null,\n  comments: ''\n})\n\nconst addAffectedParty = () => {\n  // Reset form\n  affectedPartyForm.value = {\n    party_name: '',\n    relationship: '',\n    property_address: '',\n    email: '',\n    phone: '',\n    postal_address: '',\n    approval_obtained: false,\n    approval_date: '',\n    approval_document: null,\n    comments: ''\n  }\n  editingPartyIndex.value = null\n  showAffectedPartyModal.value = true\n}\n\nconst editAffectedParty = (index) => {\n  affectedPartyForm.value = { ...formData.value.affected_parties[index] }\n  editingPartyIndex.value = index\n  showAffectedPartyModal.value = true\n}\n\nconst saveAffectedParty = () => {\n  if (!affectedPartyForm.value.party_name || !affectedPartyForm.value.relationship) {\n    alert('Please enter party name and relationship')\n    return\n  }\n\n  if (editingPartyIndex.value !== null) {\n    // Edit existing\n    formData.value.affected_parties[editingPartyIndex.value] = { ...affectedPartyForm.value }\n  } else {\n    // Add new\n    formData.value.affected_parties.push({ ...affectedPartyForm.value })\n  }\n\n  showAffectedPartyModal.value = false\n}\n\nconst cancelAffectedParty = () => {\n  showAffectedPartyModal.value = false\n}\n\nconst removeAffectedParty = (index) => {\n  if (confirm('Remove this affected party?')) {\n    formData.value.affected_parties.splice(index, 1)\n  }\n}\n\nconst handleApprovalDocumentUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = [\n      'application/pdf',\n      'application/msword',\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n      'image/jpeg',\n      'image/jpg',\n      'image/png'\n    ]\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF, Word documents, and images (JPG, PNG) are allowed')\n      event.target.value = ''\n      return\n    }\n\n    affectedPartyForm.value.approval_document = file\n  }\n}\n\n// Specialist Report Modal\nconst showSpecialistReportModal = ref(false)\nconst editingReportIndex = ref(null)\nconst specialistReportForm = ref({\n  report_type: '',\n  specialist_name: '',\n  specialist_company: '',\n  report_date: '',\n  document: null,\n  summary: ''\n})\n\nconst addSpecialistReport = () => {\n  specialistReportForm.value = {\n    report_type: '',\n    specialist_name: '',\n    specialist_company: '',\n    report_date: '',\n    document: null,\n    summary: ''\n  }\n  editingReportIndex.value = null\n  showSpecialistReportModal.value = true\n}\n\nconst editSpecialistReport = (index) => {\n  specialistReportForm.value = { ...formData.value.specialist_reports[index] }\n  editingReportIndex.value = index\n  showSpecialistReportModal.value = true\n}\n\nconst saveSpecialistReport = () => {\n  if (!specialistReportForm.value.report_type || !specialistReportForm.value.specialist_name || !specialistReportForm.value.report_date) {\n    alert('Please enter report type, specialist name, and report date')\n    return\n  }\n\n  if (editingReportIndex.value !== null) {\n    formData.value.specialist_reports[editingReportIndex.value] = { ...specialistReportForm.value }\n  } else {\n    formData.value.specialist_reports.push({ ...specialistReportForm.value })\n  }\n  showSpecialistReportModal.value = false\n}\n\nconst cancelSpecialistReport = () => {\n  showSpecialistReportModal.value = false\n}\n\nconst removeSpecialistReport = (index) => {\n  if (confirm('Remove this specialist report?')) {\n    formData.value.specialist_reports.splice(index, 1)\n  }\n}\n\nconst handleReportDocumentUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF and Word documents are allowed')\n      event.target.value = ''\n      return\n    }\n\n    specialistReportForm.value.document = file\n  }\n}\n\nconst handleCIAUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size must be less than 10MB')\n      event.target.value = ''\n      return\n    }\n\n    // Validate file type\n    const allowedTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\n    if (!allowedTypes.includes(file.type)) {\n      alert('Only PDF and Word documents are allowed')\n      event.target.value = ''\n      return\n    }\n\n    formData.value.cultural_impact_assessment = file\n  }\n}\n\n// ===== AEE Plan Assessment Handlers =====\n\n// Plan Rules\nconst addPlanRule = () => {\n  const rule = prompt('Enter plan rule reference (e.g., Rule 16.4.2.1)')\n  if (!rule) return\n\n  const activityStatus = prompt('Activity status (Permitted/Controlled/Restricted Discretionary/Discretionary/Non-Complying/Prohibited)')\n  if (!activityStatus) return\n\n  const description = prompt('Rule description (optional)', '')\n\n  formData.value.aee_plan_rules.push({\n    rule_reference: rule,\n    activity_status: activityStatus,\n    rule_description: description || ''\n  })\n}\n\nconst removePlanRule = (index) => {\n  if (confirm('Remove this plan rule?')) {\n    formData.value.aee_plan_rules.splice(index, 1)\n  }\n}\n\n// Compliance Standards\nconst addComplianceStandard = () => {\n  const standard = prompt('Enter standard reference (e.g., Building height: 8m maximum)')\n  if (!standard) return\n\n  const complies = confirm('Does the proposal comply with this standard?')\n  const analysis = prompt('Compliance analysis (optional)', '')\n\n  formData.value.aee_compliance_standards.push({\n    standard_reference: standard,\n    complies: complies,\n    compliance_analysis: analysis || '',\n    standard_description: ''\n  })\n}\n\nconst removeComplianceStandard = (index) => {\n  if (confirm('Remove this compliance standard?')) {\n    formData.value.aee_compliance_standards.splice(index, 1)\n  }\n}\n\n// Written Approvals\nconst addWrittenApproval = () => {\n  const name = prompt('Enter party name')\n  if (!name) return\n\n  const address = prompt('Party address (optional)', '')\n  const attached = confirm('Is the written approval attached?')\n\n  formData.value.aee_written_approvals.push({\n    party_name: name,\n    party_address: address || '',\n    approval_attached: attached,\n    approval_document: null\n  })\n}\n\nconst removeWrittenApproval = (index) => {\n  if (confirm('Remove this written approval?')) {\n    formData.value.aee_written_approvals.splice(index, 1)\n  }\n}\n\n// AEE Proposed Conditions\nconst addAEECondition = () => {\n  const text = prompt('Enter proposed condition')\n  if (!text) return\n\n  const number = formData.value.aee_proposed_conditions.length + 1\n\n  formData.value.aee_proposed_conditions.push({\n    condition_number: number,\n    condition_text: text\n  })\n}\n\nconst removeAEECondition = (index) => {\n  if (confirm('Remove this proposed condition?')) {\n    formData.value.aee_proposed_conditions.splice(index, 1)\n    // Renumber remaining conditions\n    formData.value.aee_proposed_conditions.forEach((cond, idx) => {\n      cond.condition_number = idx + 1\n    })\n  }\n}\n\n// Proposed Conditions Modal\nconst showConditionsModal = ref(false)\nconst editingConditionIndex = ref(null)\nconst availableConditionTemplates = ref([])\nconst loadingTemplates = ref(false)\nconst selectedCategory = ref('All')\n\nconst conditionForm = ref({\n  condition_number: '',\n  condition_category: '',\n  condition_text: '',\n  compliance_status: 'Not Started',\n  compliance_due_date: '',\n  compliance_notes: ''\n})\n\nconst conditionCategories = [\n  'All',\n  'General',\n  'Timing',\n  'Lapse',\n  'Review',\n  'Financial Contribution',\n  'Bonds',\n  'Monitoring',\n  'Environmental Management',\n  'Construction',\n  'Operation',\n  'Landscape',\n  'Ecology',\n  'Archaeology',\n  'Cultural',\n  'Traffic',\n  'Parking',\n  'Noise',\n  'Discharge',\n  'Earthworks',\n  'Heritage',\n  'Water',\n  'Coastal',\n  'Other'\n]\n\n// Fetch condition templates based on selected consent types\nconst fetchConditionTemplates = async () => {\n  loadingTemplates.value = true\n  try {\n    const selectedTypes = formData.value.consent_types.map(ct => ct.consent_type)\n\n    // Fetch templates from backend\n    const response = await fetch('/api/method/frappe.client.get_list', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        doctype: 'Consent Condition Template',\n        fields: ['name', 'template_name', 'condition_code', 'condition_category', 'condition_text', 'applies_to_consent_types', 'timing', 'monitoring_required'],\n        filters: {\n          is_active: 1\n        },\n        limit_page_length: 0\n      })\n    })\n\n    const data = await response.json()\n\n    if (data.message) {\n      // Filter templates that apply to selected consent types\n      availableConditionTemplates.value = data.message.filter(template => {\n        if (!template.applies_to_consent_types || template.applies_to_consent_types === 'All') {\n          return true\n        }\n        return selectedTypes.some(type => template.applies_to_consent_types.includes(type))\n      })\n    }\n  } catch (error) {\n    console.error('Error fetching condition templates:', error)\n    alert('Failed to load condition templates')\n  } finally {\n    loadingTemplates.value = false\n  }\n}\n\nconst filteredConditionTemplates = computed(() => {\n  if (selectedCategory.value === 'All') {\n    return availableConditionTemplates.value\n  }\n  return availableConditionTemplates.value.filter(t => t.condition_category === selectedCategory.value)\n})\n\nconst openConditionsModal = async () => {\n  if (!formData.value.consent_types || formData.value.consent_types.length === 0) {\n    alert('Please select at least one consent type first')\n    return\n  }\n\n  await fetchConditionTemplates()\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n  showConditionsModal.value = true\n}\n\nconst addConditionFromTemplate = (template) => {\n  // Generate a condition number\n  const conditionNum = (formData.value.proposed_conditions.length + 1).toString()\n\n  const newCondition = {\n    condition_number: conditionNum,\n    condition_category: template.condition_category,\n    condition_text: template.condition_text,\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n\n  formData.value.proposed_conditions.push(newCondition)\n}\n\nconst addCustomCondition = () => {\n  conditionForm.value = {\n    condition_number: (formData.value.proposed_conditions.length + 1).toString(),\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst editCondition = (index) => {\n  conditionForm.value = { ...formData.value.proposed_conditions[index] }\n  editingConditionIndex.value = index\n}\n\nconst saveCondition = () => {\n  if (!conditionForm.value.condition_category || !conditionForm.value.condition_text) {\n    alert('Please enter condition category and text')\n    return\n  }\n\n  if (editingConditionIndex.value !== null) {\n    formData.value.proposed_conditions[editingConditionIndex.value] = { ...conditionForm.value }\n  } else {\n    formData.value.proposed_conditions.push({ ...conditionForm.value })\n  }\n\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst cancelConditionEdit = () => {\n  conditionForm.value = {\n    condition_number: '',\n    condition_category: '',\n    condition_text: '',\n    compliance_status: 'Not Started',\n    compliance_due_date: '',\n    compliance_notes: ''\n  }\n  editingConditionIndex.value = null\n}\n\nconst removeCondition = (index) => {\n  if (confirm('Remove this condition?')) {\n    formData.value.proposed_conditions.splice(index, 1)\n    // Renumber remaining conditions\n    formData.value.proposed_conditions.forEach((cond, idx) => {\n      cond.condition_number = (idx + 1).toString()\n    })\n  }\n}\n\n// Pre-Application Meeting Request\nconst meetingResource = createResource({\n  url: 'lodgeick.api.book_council_meeting',\n  makeParams: (values) => values,\n  onSuccess: (data) => {\n    if (data && data.success) {\n      alert(`✅ Pre-Application Meeting Request Sent!\\n\\nTask #${data.task_id} has been created for the planning team.\\n\\nThey will contact you within 2 business days to schedule.`)\n    } else {\n      alert('Meeting request sent successfully! The planning team will contact you soon.')\n    }\n    requestingMeeting.value = false\n  },\n  onError: (error) => {\n    console.error('Error requesting meeting:', error)\n    alert('Failed to request pre-application meeting. Please try again or contact the planning team directly.')\n    requestingMeeting.value = false\n  }\n})\n\nconst requestPreAppMeeting = async () => {\n  if (!formData.value.request_type || !formData.value.property_address) {\n    alert('Please complete the Request Type and Property Details first.')\n    return\n  }\n\n  if (!confirm('Request a pre-application meeting? A planning officer will contact you within 2 business days to schedule.\\n\\nNote: You should save your application as a draft first.')) {\n    return\n  }\n\n  try {\n    requestingMeeting.value = true\n\n    // First, save the draft\n    const draftResult = await saveDraft()\n\n    if (!draftResult || !draftResult.request_id) {\n      alert('Please save your draft application first.')\n      requestingMeeting.value = false\n      return\n    }\n\n    // Then request the meeting\n    meetingResource.submit({\n      request_id: draftResult.request_id,\n      meeting_type: 'Pre-Application Meeting'\n    })\n  } catch (error) {\n    console.error('Error in meeting request:', error)\n    alert('Failed to request pre-application meeting. Please try again.')\n    requestingMeeting.value = false\n  }\n}\n\n// Initialize on mount\n// Load user profile and auto-populate fields\nconst loadUserProfile = async () => {\n  try {\n    loadingProfile.value = true\n    const profile = await call('lodgeick.api.get_user_profile')\n    userProfile.value = profile\n\n    // Auto-populate applicant type from profile default\n    if (profile.applicant_type && !formData.value.applicant_type) {\n      formData.value.applicant_type = profile.applicant_type\n    }\n\n    // Auto-populate phone if not acting on behalf\n    if (profile.phone && !formData.value.applicant_phone && !formData.value.acting_on_behalf) {\n      formData.value.applicant_phone = profile.phone\n    }\n\n    // Auto-populate applicant name and email when not acting on behalf\n    if (!formData.value.acting_on_behalf) {\n      formData.value.applicant_name = `${profile.first_name || ''} ${profile.last_name || ''}`.trim() || profile.email\n      formData.value.applicant_email = profile.email\n    }\n  } catch (error) {\n    console.error('Error loading user profile:', error)\n  } finally {\n    loadingProfile.value = false\n  }\n}\n\nconst loadCompanyAccount = async () => {\n  try {\n    const companyAccount = await call('lodgeick.api.get_user_company_account')\n    if (companyAccount) {\n      userCompanyAccount.value = companyAccount\n    }\n  } catch (error) {\n    console.error('Error loading company account:', error)\n  }\n}\n\n// Watch submitted_on_behalf_of to set company_account\nwatch(() => formData.value.submitted_on_behalf_of, (submittedAs) => {\n  if (submittedAs === 'Company' && userCompanyAccount.value) {\n    formData.value.company_account = userCompanyAccount.value.name\n  } else {\n    formData.value.company_account = null\n  }\n})\n\n// Watch acting_on_behalf to auto-populate or clear applicant details\nwatch(() => formData.value.acting_on_behalf, (actingOnBehalf) => {\n  if (!actingOnBehalf && userProfile.value) {\n    // Auto-populate from profile\n    formData.value.applicant_name = `${userProfile.value.first_name || ''} ${userProfile.value.last_name || ''}`.trim() || userProfile.value.email\n    formData.value.applicant_email = userProfile.value.email\n    if (userProfile.value.phone) {\n      formData.value.applicant_phone = userProfile.value.phone\n    }\n    if (userProfile.value.applicant_type) {\n      formData.value.applicant_type = userProfile.value.applicant_type\n    }\n  } else if (actingOnBehalf) {\n    // Clear fields for agent to fill in client details\n    formData.value.applicant_name = ''\n    formData.value.applicant_email = ''\n    formData.value.applicant_phone = ''\n    // Keep applicant_type as it might be different for the client\n  }\n})\n\n// Watch phone number to save back to profile when user updates it (and not acting on behalf)\nwatch(() => formData.value.applicant_phone, async (newPhone, oldPhone) => {\n  // Only save if:\n  // 1. Not acting on behalf (it's their own application)\n  // 2. Profile is loaded\n  // 3. Phone has actually changed\n  // 4. New phone is not empty\n  if (!formData.value.acting_on_behalf && userProfile.value && newPhone && newPhone !== oldPhone && newPhone !== userProfile.value.phone) {\n    try {\n      await call('lodgeick.api.update_user_profile', {\n        phone: newPhone\n      })\n      // Update local profile copy\n      userProfile.value.phone = newPhone\n      console.log('[NewRequest] Phone number saved to profile:', newPhone)\n    } catch (error) {\n      console.error('[NewRequest] Error saving phone to profile:', error)\n      // Don't show error to user - this is a background operation\n    }\n  }\n})\n\nonMounted(async () => {\n  // Load user profile first\n  await loadUserProfile()\n\n  // Load company account if user has one\n  await loadCompanyAccount()\n\n  // Check if council was preselected via URL or user default\n  if (councilStore.preselectedFromUrl) {\n    formData.value.council = councilStore.preselectedFromUrl\n    await onCouncilChange(councilStore.preselectedFromUrl)\n  } else {\n    // Try to load user's default council\n    const userCouncils = await councilStore.getUserCouncils()\n    if (userCouncils.default_council) {\n      formData.value.council = userCouncils.default_council\n      await onCouncilChange(userCouncils.default_council)\n    }\n  }\n})\n</script>\n"],"names":["router","useRouter","councilStore","useCouncilStore","userProfile","ref","loadingProfile","userCompanyAccount","currentStep","totalSteps","computed","steps","savingDraft","submitting","uploadedFiles","bookingMeeting","requestingMeeting","showActivityStatusHelp","availableConsentTypes","toggleConsentType","consentType","index","formData","ct","isConsentTypeSelected","baseSteps","isResourceConsent","propertySearchQuery","propertySearchResults","propertySearchLoading","showPropertyDropdown","propertySearchTimeout","selectedRequestTypeDetails","naturalHazardTypes","selectedHazards","hazardData","getHazardData","hazard","watch","newHazards","nesTypes","nesData","getNESData","nesType","handleNESDocumentUpload","event","file","getNESDocuments","att","removeNESDocument","docIdx","docToRemove","globalIdx","handleCTUpload","nes","isNESSoilsSelected","showHAILModal","editingHAILIndex","hailForm","proposedActivities","addHAILActivity","editHAILActivity","hail","__spreadValues","_a","a","_b","_c","_d","_e","saveHAIL","proposedActivitiesArray","hailData","__spreadProps","cancelHAIL","removeHAILActivity","proposalAccordion","toggleProposalSection","section","handleBoundaryApprovalUpload","initialFormData","hasFormChanges","currentCopy","initialCopy","current","initial","activityStatusWarning","canSubmit","requestTypes","properties","createResource","onCouncilChange","councilCode","__async","error","goBack","getStepClass","stepNumber","selectRequestType","type","onPropertySelect","selected","p","handlePropertySearch","query","data","selectProperty","result","districtPlan","_f","_g","_h","_i","clearPropertyAddress","canProceed","canProceedStep1","canProceedStep2","hasProperty","hasApplicantInfo","ownerDetailsValid","hasBasicRC","hasAEE","hasInvoiceDetails","hasDeclarations","transferDepositValid","nextStep","totalStepsValue","currentStepValue","canProceedValue","previousStep","saveDraft","getRequestTypeName","t","getApplicationFee","submitApplication","createResult","requestId","fileFormData","ctFormData","aeeFormData","submitResult","bookPreApplicationMeeting","draftResult","meetingResult","showAffectedPartyModal","editingPartyIndex","affectedPartyForm","addAffectedParty","editAffectedParty","saveAffectedParty","cancelAffectedParty","removeAffectedParty","handleApprovalDocumentUpload","showSpecialistReportModal","editingReportIndex","specialistReportForm","addSpecialistReport","editSpecialistReport","saveSpecialistReport","cancelSpecialistReport","removeSpecialistReport","handleReportDocumentUpload","addPlanRule","rule","activityStatus","description","removePlanRule","addComplianceStandard","standard","complies","analysis","removeComplianceStandard","addWrittenApproval","name","address","attached","removeWrittenApproval","addAEECondition","text","number","removeAEECondition","cond","idx","showConditionsModal","editingConditionIndex","availableConditionTemplates","loadingTemplates","selectedCategory","conditionForm","conditionCategories","fetchConditionTemplates","selectedTypes","template","filteredConditionTemplates","openConditionsModal","addConditionFromTemplate","newCondition","addCustomCondition","editCondition","saveCondition","cancelConditionEdit","removeCondition","meetingResource","values","requestPreAppMeeting","loadUserProfile","profile","call","loadCompanyAccount","companyAccount","submittedAs","actingOnBehalf","newPhone","oldPhone","onMounted","userCouncils","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_cache","_hoisted_6","_toDisplayString","_createVNode","_unref","Button","_hoisted_7","_hoisted_8","_hoisted_9","_Fragment","_renderList","step","_hoisted_10","_normalizeClass","_hoisted_13","_hoisted_14","_hoisted_15","CouncilSelector","$event","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","c","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","prop","_hoisted_48","_vModelSelect","_hoisted_49","_hoisted_50","_hoisted_51","_vModelRadio","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_vModelText","_hoisted_64","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_vModelCheckbox","_hoisted_71","_hoisted_72","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_106","_hoisted_107","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_130","_hoisted_131","_hoisted_132","_hoisted_133","_hoisted_134","_hoisted_135","_hoisted_136","_hoisted_137","_hoisted_138","_hoisted_139","_hoisted_140","_hoisted_142","_hoisted_143","_hoisted_144","_hoisted_145","_hoisted_147","_hoisted_148","_hoisted_150","_hoisted_151","_hoisted_153","_hoisted_154","_hoisted_155","_hoisted_156","_hoisted_157","_hoisted_158","_hoisted_159","_hoisted_160","_hoisted_161","_hoisted_163","_hoisted_164","_hoisted_165","_hoisted_169","_hoisted_171","doc","_hoisted_172","_hoisted_173","_hoisted_174","_hoisted_175","_hoisted_176","_hoisted_177","_hoisted_178","_hoisted_179","_hoisted_180","_hoisted_181","_hoisted_182","_hoisted_183","_hoisted_184","_hoisted_185","_hoisted_186","_hoisted_187","_createTextVNode","_hoisted_188","_hoisted_189","_hoisted_192","_hoisted_193","_hoisted_194","_hoisted_195","_hoisted_196","_hoisted_197","_hoisted_198","_hoisted_199","_hoisted_200","_hoisted_201","_hoisted_202","_hoisted_203","_hoisted_204","_hoisted_205","_hoisted_206","_hoisted_207","_hoisted_208","_hoisted_209","_hoisted_210","_hoisted_211","_hoisted_212","_hoisted_213","_hoisted_214","_hoisted_215","_hoisted_216","_hoisted_217","_hoisted_218","_hoisted_219","_hoisted_220","_hoisted_221","approval","_hoisted_222","_hoisted_223","_hoisted_224","_hoisted_225","_hoisted_226","_hoisted_227","_hoisted_228","_hoisted_229","_hoisted_230","_hoisted_231","condition","_hoisted_232","_hoisted_233","_hoisted_234","_hoisted_235","_hoisted_236","_hoisted_237","_hoisted_238","_hoisted_239","_hoisted_240","party","_hoisted_241","_hoisted_242","_hoisted_243","_hoisted_244","_hoisted_245","_hoisted_246","_hoisted_247","_hoisted_248","_hoisted_249","_hoisted_250","_hoisted_251","_hoisted_252","_hoisted_253","_hoisted_254","_hoisted_255","_hoisted_256","_hoisted_259","_hoisted_260","_hoisted_262","_hoisted_263","_hoisted_264","_hoisted_265","_hoisted_266","_hoisted_267","_hoisted_268","_hoisted_269","_hoisted_270","_hoisted_271","report","_hoisted_272","_hoisted_273","_hoisted_274","_hoisted_275","_hoisted_276","_hoisted_277","_hoisted_278","_hoisted_279","_hoisted_280","_hoisted_281","_hoisted_282","_hoisted_285","_hoisted_286","_hoisted_287","_hoisted_288","_hoisted_289","_hoisted_290","_hoisted_291","_hoisted_295","_hoisted_296","_hoisted_297","_hoisted_298","_hoisted_299","_hoisted_300","_hoisted_301","_hoisted_302","_hoisted_303","_hoisted_304","_hoisted_305","_hoisted_306","_hoisted_310","_hoisted_311","_hoisted_312","_hoisted_313","_hoisted_314","_hoisted_315","_hoisted_316","_hoisted_317","_hoisted_318","_hoisted_530","_hoisted_531","_hoisted_532","_hoisted_533","_hoisted_534","_hoisted_535","_hoisted_536","_hoisted_537","_hoisted_538","_hoisted_539","_hoisted_540","_hoisted_541","_hoisted_542","_hoisted_543","_hoisted_544","_hoisted_545","_hoisted_546","_hoisted_547","_hoisted_548","_createBlock","_hoisted_549","_hoisted_550","_hoisted_551","_hoisted_552","_hoisted_553","_hoisted_554","_hoisted_555","_hoisted_556","_hoisted_557","_hoisted_558","_hoisted_559","_hoisted_560","_hoisted_561","_hoisted_562","_hoisted_563","_hoisted_564","_hoisted_565","_hoisted_566","_hoisted_567","_hoisted_568","_hoisted_569","_hoisted_570","_hoisted_571","_hoisted_572","_hoisted_573","_hoisted_574","_hoisted_575","_hoisted_576","_hoisted_577","_hoisted_578","_hoisted_579","_hoisted_580","_hoisted_581","_hoisted_582","_hoisted_583","_hoisted_584","_hoisted_585","_hoisted_586","_hoisted_587","_hoisted_588","_hoisted_589","_hoisted_590","_hoisted_591","_hoisted_592","_hoisted_593","_hoisted_594","_hoisted_595","_hoisted_596","_hoisted_597","_hoisted_598","_hoisted_599","_hoisted_600","_hoisted_601","_hoisted_602","category","_hoisted_603","_hoisted_604","_hoisted_605","_hoisted_606","_hoisted_607","_hoisted_608","_hoisted_609","_hoisted_610","_hoisted_611","_hoisted_612","_hoisted_613","_hoisted_614","_hoisted_615","_hoisted_618","_hoisted_619","_hoisted_620","_hoisted_621","_hoisted_622","_hoisted_623","_hoisted_624","_hoisted_625","_hoisted_626","_hoisted_629","_hoisted_630","_hoisted_631","_hoisted_632","_hoisted_633","_hoisted_634","_hoisted_635","_hoisted_636"],"mappings":"mzkBAy3JA,MAAMA,EAASC,GAAS,EAClBC,EAAeC,GAAe,EAG9BC,EAAcC,EAAI,IAAI,EACtBC,GAAiBD,EAAI,EAAK,EAC1BE,EAAqBF,EAAI,IAAI,EAG7BG,EAAcH,EAAI,CAAC,EACnBI,EAAaC,EAAS,IAAMC,EAAM,MAAM,MAAM,EAC9CC,EAAcP,EAAI,EAAK,EACvBQ,EAAaR,EAAI,EAAK,EACtBS,GAAgBT,EAAI,CAAA,CAAE,EACVA,EAAI,IAAI,EAC1B,MAAMU,GAAiBV,EAAI,EAAK,EAC1BW,GAAoBX,EAAI,EAAK,EAC7BY,GAAyBZ,EAAI,EAAK,EAGlCa,GAAwB,CAC5B,WACA,cACA,mBACA,eACA,gBACF,EAGMC,GAAqBC,GAAgB,CACzC,MAAMC,EAAQC,EAAS,MAAM,cAAc,UAAUC,GAAMA,EAAG,eAAiBH,CAAW,EACtFC,EAAQ,GACVC,EAAS,MAAM,cAAc,OAAOD,EAAO,CAAC,EAE5CC,EAAS,MAAM,cAAc,KAAK,CAAE,aAAcF,CAAW,CAAE,CAEnE,EAEMI,GAAyBJ,GACtBE,EAAS,MAAM,cAAc,KAAKC,GAAMA,EAAG,eAAiBH,CAAW,EAG1ET,EAAQD,EAAS,IAAM,CAC3B,MAAMe,EAAY,CAChB,CAAE,MAAO,UAAW,OAAQ,CAAC,EAC7B,CAAE,MAAO,OAAQ,OAAQ,CAAC,EAC1B,CAAE,MAAO,eAAgB,OAAQ,CAAC,EAClC,CAAE,MAAO,WAAY,OAAQ,CAAC,CAClC,EAGE,OAAIC,GAAkB,OACpBD,EAAU,KAAK,CAAE,MAAO,aAAc,OAAQ,CAAC,CAAE,EAKnDA,EAAU,KAAK,CAAE,MAAO,SAAU,OAAQA,EAAU,OAAS,CAAC,CAAE,EAEzDA,CACT,CAAC,EAGKH,EAAWjB,EAAI,CACnB,QAAS,GACT,aAAc,GACd,iBAAkB,GAClB,SAAU,GACV,iBAAkB,GAClB,kBAAmB,GACnB,oBAAqB,GACrB,UAAW,GACX,aAAc,GACd,qBAAsB,GACtB,YAAa,KACb,KAAM,GACN,cAAe,GACf,kBAAmB,GACnB,qBAAsB,GACtB,gBAAiB,KACjB,oBAAqB,GACrB,eAAgB,GAGhB,gBAAiB,GACjB,eAAgB,GAGhB,uBAAwB,SACxB,gBAAiB,KAGjB,iBAAkB,GAClB,eAAgB,GAChB,gBAAiB,GAGjB,cAAe,CAAA,EACf,gBAAiB,GACjB,2BAA4B,GAC5B,oBAAqB,GACrB,cAAe,GAGf,gBAAiB,KACjB,oBAAqB,KACrB,kBAAmB,KACnB,+BAAgC,KAChC,wBAAyB,KACzB,wBAAyB,KACzB,mBAAoB,GACpB,uBAAwB,GAGxB,gBAAiB,GACjB,gCAAiC,GACjC,qBAAsB,GACtB,wBAAyB,GACzB,wBAAyB,GACzB,0BAA2B,GAG3B,qBAAsB,GACtB,8BAA+B,GAC/B,iCAAkC,GAClC,uBAAwB,GACxB,2BAA4B,KAG5B,gBAAiB,CAAA,EAGjB,gBAAiB,CAAA,EAGjB,gBAAiB,CAAA,EAGjB,iCAAkC,GAClC,gCAAiC,GAGjC,sBAAuB,GACvB,kBAAmB,GACnB,iBAAkB,GAClB,mBAAoB,GACpB,+BAAgC,GAChC,kBAAmB,GACnB,uBAAwB,GACxB,iBAAkB,GAGlB,aAAc,KACd,yBAA0B,GAC1B,oBAAqB,GACrB,yBAA0B,GAC1B,cAAe,KACf,gBAAiB,GACjB,WAAY,GACZ,aAAc,GACd,iBAAkB,GAClB,qBAAsB,GAGtB,eAAgB,CAAA,EAChB,yBAA0B,CAAA,EAC1B,sBAAuB,CAAA,EACvB,wBAAyB,CAAA,EACzB,yBAA0B,GAI1B,wBAAyB,GACzB,oBAAqB,GAGrB,uBAAwB,GACxB,WAAY,GACZ,YAAa,GACb,YAAa,GACb,cAAe,GAGf,8BAA+B,KAG/B,2BAA4B,GAC5B,+BAAgC,GAChC,uBAAwB,GAGxB,WAAY,YACZ,aAAc,GACd,cAAe,GACf,gBAAiB,GACjB,sBAAuB,GAGvB,0BAA2B,GAC3B,gCAAiC,GAGjC,iBAAkB,CAAA,EAClB,2BAA4B,EAG5B,4BAA6B,GAC7B,cAAe,GACf,2BAA4B,KAC5B,qBAAsB,GAGtB,mBAAoB,CAAA,EACpB,oBAAqB,CAAA,CACvB,CAAC,EAGKsB,GAAsBtB,EAAI,EAAE,EAC5BuB,EAAwBvB,EAAI,CAAA,CAAE,EAC9BwB,GAAwBxB,EAAI,EAAK,EACjCyB,GAAuBzB,EAAI,EAAK,EACtC,IAAI0B,GAAwB,KAG5B,MAAMC,EAA6B3B,EAAI,IAAI,EAGrC4B,GAAqB,CACzB,aACA,OACA,UACA,UACA,0BACA,QACA,gBACA,aACA,OACA,WACA,SACF,EAEMC,GAAkB7B,EAAI,CAAA,CAAE,EACxB8B,GAAa9B,EAAI,CAAA,CAAE,EAGnB+B,EAAiBC,IAChBF,GAAW,MAAME,CAAM,IAC1BF,GAAW,MAAME,CAAM,EAAI,CACzB,YAAaA,EACb,QAAS,GACT,WAAY,GACZ,iBAAkB,GAClB,oBAAqB,EAC3B,GAESF,GAAW,MAAME,CAAM,GAIhCC,GAAMJ,GAAkBK,GAAe,CACrCjB,EAAS,MAAM,gBAAkBiB,EAAW,IAAIF,GAAUD,EAAcC,CAAM,CAAC,CACjF,EAAG,CAAE,KAAM,EAAI,CAAE,EAGjBC,GAAMH,GAAY,IAAM,CACtBb,EAAS,MAAM,gBAAkBY,GAAgB,MAAM,IAAIG,GAAUD,EAAcC,CAAM,CAAC,CAC5F,EAAG,CAAE,KAAM,EAAI,CAAE,EAGjB,MAAMG,GAAW,CACf,CAAE,MAAO,6DAA8D,MAAO,4DAA4D,EAC1I,CAAE,MAAO,sBAAuB,MAAO,qBAAqB,EAC5D,CAAE,MAAO,0CAA2C,MAAO,yCAAyC,EACpG,CAAE,MAAO,gCAAiC,MAAO,+BAA+B,EAChF,CAAE,MAAO,8BAA+B,MAAO,6BAA6B,EAC5E,CAAE,MAAO,8CAA+C,MAAO,6CAA6C,EAC5G,CAAE,MAAO,uCAAwC,MAAO,sCAAsC,EAC9F,CAAE,MAAO,QAAS,MAAO,WAAW,CACtC,EAEMC,GAAUpC,EAAI,CAAA,CAAE,EAGhBqC,EAAcC,IACbF,GAAQ,MAAME,CAAO,IACxBF,GAAQ,MAAME,CAAO,EAAI,CACvB,SAAUA,EACV,QAAS,GACT,kBAAmB,GACnB,iBAAkB,GAClB,sBAAuB,EAC7B,GAESF,GAAQ,MAAME,CAAO,GAIxBC,GAA0B,CAACC,EAAOF,IAAY,CAClD,MAAMG,EAAOD,EAAM,OAAO,MAAM,CAAC,EACjC,GAAI,CAACC,EAAM,OAGX,GAAIA,EAAK,KAAO,GAAK,KAAO,KAAM,CAChC,MAAM,kCAAkC,EACxCD,EAAM,OAAO,MAAQ,GACrB,MACF,CAGA,GAAI,CADiB,CAAC,kBAAmB,qBAAsB,0EAA2E,aAAc,YAAa,WAAW,EAC9J,SAASC,EAAK,IAAI,EAAG,CACrC,MAAM,kDAAkD,EACxDD,EAAM,OAAO,MAAQ,GACrB,MACF,CAGAvB,EAAS,MAAM,YAAY,KAAK,CAC9B,kBAAmB,oBACnB,cAAe,iBACf,KAAMwB,EACN,YAAa,sBAAsBH,CAAO,GAC1C,SAAUA,CACd,CAAG,EAEDE,EAAM,OAAO,MAAQ,EACvB,EAEME,GAAmBJ,GAChBrB,EAAS,MAAM,YAAY,OAAO0B,GACvCA,EAAI,oBAAsB,qBAAuBA,EAAI,WAAaL,CACtE,EAGMM,GAAoB,CAACN,EAASO,IAAW,CAE7C,MAAMC,EADeJ,GAAgBJ,CAAO,EACXO,CAAM,EACjCE,EAAY9B,EAAS,MAAM,YAAY,QAAQ6B,CAAW,EAC5DC,EAAY,IACd9B,EAAS,MAAM,YAAY,OAAO8B,EAAW,CAAC,CAElD,EAGMC,GAAkBR,GAAU,CAChC,MAAMC,EAAOD,EAAM,OAAO,MAAM,CAAC,EACjC,GAAI,CAACC,EAAM,OAGX,GAAIA,EAAK,KAAO,GAAK,KAAO,KAAM,CAChC,MAAM,kCAAkC,EACxCD,EAAM,OAAO,MAAQ,GACrB,MACF,CAGA,GAAI,CADiB,CAAC,kBAAmB,aAAc,YAAa,WAAW,EAC7D,SAASC,EAAK,IAAI,EAAG,CACrC,MAAM,0EAA0E,EAChFD,EAAM,OAAO,MAAQ,GACrB,MACF,CAGAvB,EAAS,MAAM,8BAAgCwB,EAE/CD,EAAM,OAAO,MAAQ,EACvB,EA4BAP,GAAMG,GAAS,IAAM,CACnBnB,EAAS,MAAM,gBAAkBkB,GAC9B,OAAOc,GAAOZ,EAAWY,EAAI,KAAK,EAAE,OAAO,EAC3C,IAAIA,GAAOZ,EAAWY,EAAI,KAAK,CAAC,CACrC,EAAG,CAAE,KAAM,EAAI,CAAE,EAGjB,MAAMC,GAAqB7C,EAAS,IAC3BY,EAAS,MAAM,gBAAgB,KACpCgC,GAAOA,EAAI,UAAYA,EAAI,SAAS,SAAS,MAAM,CACvD,CACC,EAIKE,GAAgBnD,EAAI,EAAK,EACzBoD,GAAmBpD,EAAI,IAAI,EAC3BqD,EAAWrD,EAAI,CACnB,qBAAsB,GACtB,cAAe,GACf,qBAAsB,GACtB,sBAAuB,GACvB,kBAAmB,GACnB,+BAAgC,GAChC,oBAAqB,CAAA,EACrB,MAAO,EACT,CAAC,EACKsD,EAAqBtD,EAAI,CAC7B,KAAM,GACN,QAAS,GACT,OAAQ,GACR,UAAW,GACX,OAAQ,EACV,CAAC,EAEKuD,GAAkB,IAAM,CAE5BF,EAAS,MAAQ,CACf,qBAAsB,GACtB,cAAe,GACf,qBAAsB,GACtB,sBAAuB,GACvB,kBAAmB,GACnB,+BAAgC,GAChC,oBAAqB,CAAA,EACrB,MAAO,EACX,EACEC,EAAmB,MAAQ,CACzB,KAAM,GACN,QAAS,GACT,OAAQ,GACR,UAAW,GACX,OAAQ,EACZ,EACEF,GAAiB,MAAQ,KACzBD,GAAc,MAAQ,EACxB,EAEMK,GAAoBxC,GAAU,eAClC,MAAMyC,EAAOxC,EAAS,MAAM,gBAAgBD,CAAK,EACjDqC,EAAS,MAAQK,EAAA,GAAKD,GAGtBH,EAAmB,MAAQ,CACzB,OAAMK,EAAAF,EAAK,sBAAL,YAAAE,EAA0B,KAAKC,GAAKA,EAAE,gBAAkB,+CAAgD,GAC9G,UAASC,EAAAJ,EAAK,sBAAL,YAAAI,EAA0B,KAAKD,GAAKA,EAAE,gBAAkB,qBAAsB,GACvF,SAAQE,EAAAL,EAAK,sBAAL,YAAAK,EAA0B,KAAKF,GAAKA,EAAE,gBAAkB,mBAAoB,GACpF,YAAWG,EAAAN,EAAK,sBAAL,YAAAM,EAA0B,KAAKH,GAAKA,EAAE,gBAAkB,sBAAuB,GAC1F,SAAQI,EAAAP,EAAK,sBAAL,YAAAO,EAA0B,KAAKJ,GAAKA,EAAE,gBAAkB,0BAA2B,EAC/F,EAEER,GAAiB,MAAQpC,EACzBmC,GAAc,MAAQ,EACxB,EAEMc,GAAW,IAAM,CACrB,GAAI,CAACZ,EAAS,MAAM,qBAAsB,CACxC,MAAM,mCAAmC,EACzC,MACF,CAGA,MAAMa,EAA0B,CAAA,EAC5BZ,EAAmB,MAAM,MAAMY,EAAwB,KAAK,CAAE,cAAe,2CAA2C,CAAE,EAC1HZ,EAAmB,MAAM,SAASY,EAAwB,KAAK,CAAE,cAAe,iBAAiB,CAAE,EACnGZ,EAAmB,MAAM,QAAQY,EAAwB,KAAK,CAAE,cAAe,eAAe,CAAE,EAChGZ,EAAmB,MAAM,WAAWY,EAAwB,KAAK,CAAE,cAAe,kBAAkB,CAAE,EACtGZ,EAAmB,MAAM,QAAQY,EAAwB,KAAK,CAAE,cAAe,sBAAsB,CAAE,EAE3G,MAAMC,EAAWC,GAAAV,EAAA,GACZL,EAAS,OADG,CAEf,oBAAqBa,CACzB,GAEMd,GAAiB,QAAU,KAE7BnC,EAAS,MAAM,gBAAgBmC,GAAiB,KAAK,EAAIe,EAGzDlD,EAAS,MAAM,gBAAgB,KAAKkD,CAAQ,EAG9ChB,GAAc,MAAQ,EACxB,EAEMkB,GAAa,IAAM,CACvBlB,GAAc,MAAQ,EACxB,EAEMmB,GAAsBtD,GAAU,CAChC,QAAQ,4BAA4B,GACtCC,EAAS,MAAM,gBAAgB,OAAOD,EAAO,CAAC,CAElD,EAwBMuD,EAAoBvE,EAAI,CAC5B,SAAU,GACV,WAAY,GACZ,QAAS,GACT,WAAY,EACd,CAAC,EAEKwE,GAAyBC,GAAY,CACzCF,EAAkB,MAAME,CAAO,EAAI,CAACF,EAAkB,MAAME,CAAO,CACrE,EAGMC,GAAgClC,GAAU,CAC9C,MAAMC,EAAOD,EAAM,OAAO,MAAM,CAAC,EAC7BC,IACFxB,EAAS,MAAM,2BAA6BwB,EAEhD,EAGMkC,GAAkB3E,EAAI,KAAK,MAAM,KAAK,UAAUiB,EAAS,KAAK,CAAC,CAAC,EAIhE2D,GAAiBvE,EAAS,IAAM,CACpC,MAAMwE,EAAcnB,EAAA,GAAKzC,EAAS,OAC5B6D,EAAcpB,EAAA,GAAKiB,GAAgB,OAGzC,OAAOE,EAAY,eACnB,OAAOC,EAAY,eAEnB,MAAMC,EAAU,KAAK,UAAUF,CAAW,EACpCG,EAAU,KAAK,UAAUF,CAAW,EAC1C,OAAOC,IAAYC,CACrB,CAAC,EAGK3D,GAAoBhB,EAAS,IAC1BY,EAAS,MAAM,mBAAqB,kBAC5C,EAGKgE,GAAwB5E,EAAS,IAAM,CAC3C,GAAI,CAACY,EAAS,MAAM,gBAAiB,OAAO,KAE5C,OAAQA,EAAS,MAAM,gBAAe,CACpC,IAAK,gBACH,MAAO,kHACT,IAAK,gBACH,MAAO,+FACT,IAAK,aACH,MAAO,iGACT,QACE,OAAO,IACb,CACA,CAAC,EAGKiE,GAAY7E,EAAS,IAClBuE,GAAe,OAASnE,GAAc,MAAM,OAAS,CAC7D,EAGK0E,EAAenF,EAAI,CAAE,KAAM,CAAA,EAAI,QAAS,GAAO,MAAO,IAAI,CAAE,EAG5DoF,GAAaC,GAAe,CAChC,IAAK,yBACL,OAAQ,CACN,QAAS,WACT,OAAQ,CAAC,OAAQ,cAAe,iBAAkB,SAAU,OAAQ,oBAAqB,sBAAsB,EAC/G,kBAAmB,GACvB,EACE,KAAM,EACR,CAAC,EAGKC,GAAyBC,GAAgBC,EAAA,sBAC7C,GAAI,CAACD,EAAa,CAChBJ,EAAa,MAAQ,CAAE,KAAM,CAAA,EAAI,QAAS,GAAO,MAAO,IAAI,EAC5D,MACF,CAGAA,EAAa,MAAM,QAAU,GAC7BA,EAAa,MAAM,MAAQ,KAE3B,GAAI,CACF,MAAMtF,EAAa,2BAA2B0F,CAAW,EACzDJ,EAAa,MAAM,KAAOtF,EAAa,sBACvC,QAAQ,IAAI,uBAAuBsF,EAAa,MAAM,KAAK,MAAM,8BAA8BI,CAAW,EAAE,CAC9G,OAASE,EAAO,CACdN,EAAa,MAAM,MAAQM,EAAM,SAAW,+BAC5C,QAAQ,MAAM,6CAA8CA,CAAK,CACnE,QAAC,CACCN,EAAa,MAAM,QAAU,EAC/B,CACF,GAEMO,GAAS,IAAM,CACf,QAAQ,mEAAmE,GAC7E/F,EAAO,KAAK,CAAE,KAAM,WAAW,CAAE,CAErC,EAEMgG,GAAgBC,GAChBA,EAAazF,EAAY,OAElByF,IAAezF,EAAY,MAD7B,yBAIA,4BAIL0F,GAAqBC,GAAS,CAClC,QAAQ,IAAI,uCAAwCA,EAAK,KAAMA,EAAK,SAAS,EAC7E7E,EAAS,MAAM,aAAe6E,EAAK,KACnC7E,EAAS,MAAM,iBAAmB6E,EAAK,UAAY,GAGnDnE,EAA2B,MAAQmE,EAEnC,QAAQ,IAAI,kCAAmC,CAC7C,aAAc7E,EAAS,MAAM,aAC7B,iBAAkBA,EAAS,MAAM,iBACjC,QAASU,EAA2B,KACxC,CAAG,CACH,EAEMoE,GAAmB,IAAM,CAC7B,GAAI9E,EAAS,MAAM,SAAU,CAC3B,MAAM+E,EAAWZ,GAAW,KAAK,KAAKa,GAAKA,EAAE,OAAShF,EAAS,MAAM,QAAQ,EACzE+E,IAEF/E,EAAS,MAAM,iBAAmB,GAAG+E,EAAS,cAAc,KAAKA,EAAS,MAAM,KAAKA,EAAS,IAAI,GAGlG/E,EAAS,MAAM,kBAAoB+E,EAAS,mBAAqB,GACjE/E,EAAS,MAAM,aAAe+E,EAAS,sBAAwB,GAC/D/E,EAAS,MAAM,UAAY+E,EAAS,aAAe,GACnD/E,EAAS,MAAM,KAAO+E,EAAS,QAAU,GAGrCA,EAAS,UAAYA,EAAS,YAChC/E,EAAS,MAAM,qBAAuB,GAAG+E,EAAS,QAAQ,IAAIA,EAAS,SAAS,IAGlF,QAAQ,IAAI,kEAAmE,CAC7E,QAAS/E,EAAS,MAAM,iBACxB,kBAAmBA,EAAS,MAAM,kBAClC,aAAcA,EAAS,MAAM,aAC7B,UAAWA,EAAS,MAAM,UAC1B,KAAMA,EAAS,MAAM,IAC7B,CAAO,EAEL,CACF,EAGMiF,GAAuB,IAAM,CAE7BxE,IACF,aAAaA,EAAqB,EAGpC,MAAMyE,EAAQ7E,GAAoB,MAAM,KAAI,EAG5C,GAAI6E,EAAM,OAAS,EAAG,CACpB5E,EAAsB,MAAQ,CAAA,EAC9B,MACF,CAGAG,GAAwB,WAAW,IAAY8D,EAAA,sBAC7ChE,GAAsB,MAAQ,GAC9BC,GAAqB,MAAQ,GAE7B,GAAI,CAUF,MAAM2E,EAAO,MATI,MAAM,MAAM,mDAAoD,CAC/E,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,OAAO,UACxC,EACQ,KAAM,KAAK,UAAU,CAAE,MAAAD,CAAK,CAAE,CACtC,CAAO,GAE2B,KAAI,EAE5BC,EAAK,SAAWA,EAAK,QAAQ,QAC/B7E,EAAsB,MAAQ6E,EAAK,QAAQ,QAE3C7E,EAAsB,MAAQ,CAAA,CAElC,OAASkE,EAAO,CACd,QAAQ,MAAM,+CAAgDA,CAAK,EACnElE,EAAsB,MAAQ,CAAA,CAChC,QAAC,CACCC,GAAsB,MAAQ,EAChC,CACF,GAAG,GAAG,CACR,EAEM6E,GAAkBC,GAAW,yBA+BjC,GA7BArF,EAAS,MAAM,iBAAmBqF,EAAO,QACzChF,GAAoB,MAAQgF,EAAO,SAG/B3C,EAAA2C,EAAO,WAAP,MAAA3C,EAAiB,oBACnB1C,EAAS,MAAM,kBAAoBqF,EAAO,SAAS,oBAIjDzC,EAAAyC,EAAO,WAAP,MAAAzC,EAAiB,WACnB5C,EAAS,MAAM,aAAeqF,EAAO,SAAS,WAI5CxC,EAAAwC,EAAO,WAAP,MAAAxC,EAAiB,sBACnB7C,EAAS,MAAM,oBAAsBqF,EAAO,SAAS,sBAInDvC,EAAAuC,EAAO,WAAP,MAAAvC,EAAiB,YACnB9C,EAAS,MAAM,UAAYqF,EAAO,SAAS,WAIzCA,EAAO,aAAeA,EAAO,cAC/BrF,EAAS,MAAM,qBAAuB,aAAaqF,EAAO,YAAY,QAAQ,CAAC,CAAC,KAAKA,EAAO,YAAY,QAAQ,CAAC,CAAC,KAIhHtC,EAAAsC,EAAO,UAAP,MAAAtC,EAAgB,cAAgB,MAAM,QAAQsC,EAAO,QAAQ,YAAY,GAAKA,EAAO,QAAQ,aAAa,OAAS,EAAG,CACxH,MAAMC,EAAeD,EAAO,QAAQ,aAAa,CAAC,GAC9CE,EAAAD,EAAa,aAAb,MAAAC,EAAyB,YAAaC,EAAAF,EAAa,aAAb,MAAAE,EAAyB,UACjExF,EAAS,MAAM,KAAOsF,EAAa,WAAW,WAAaA,EAAa,WAAW,YAC1EG,GAAAH,EAAa,aAAb,MAAAG,GAAyB,YAAaC,GAAAJ,EAAa,aAAb,MAAAI,GAAyB,aACxE1F,EAAS,MAAM,KAAOsF,EAAa,WAAW,WAAaA,EAAa,WAAW,UAEvF,CAGAtF,EAAS,MAAM,YAAcqF,EAAO,QAGpC7E,GAAqB,MAAQ,GAC7BF,EAAsB,MAAQ,CAAA,EAE9B,QAAQ,IAAI,sCAAuC,CACjD,QAAS+E,EAAO,QAChB,kBAAmBrF,EAAS,MAAM,kBAClC,SAAUA,EAAS,MAAM,aACzB,KAAMA,EAAS,MAAM,KACrB,QAASqF,EAAO,OACpB,CAAG,CACH,EAQMM,GAAuB,IAAM,CACjC3F,EAAS,MAAM,iBAAmB,GAClCA,EAAS,MAAM,kBAAoB,GACnCA,EAAS,MAAM,aAAe,GAC9BA,EAAS,MAAM,oBAAsB,GACrCA,EAAS,MAAM,UAAY,GAC3BA,EAAS,MAAM,KAAO,GACtBA,EAAS,MAAM,qBAAuB,GACtCA,EAAS,MAAM,YAAc,KAC7BK,GAAoB,MAAQ,GAC5BC,EAAsB,MAAQ,CAAA,EAC9B,QAAQ,IAAI,uDAAuD,CACrE,EAEMsF,GAAa,IAAM,CACvB,OAAQ1G,EAAY,MAAK,CACvB,IAAK,GAEH,MAAM2G,EAAkB,CAAC,CAAC7F,EAAS,MAAM,QACzC,eAAQ,IAAI,4CAA6C6F,EAAiB,WAAY7F,EAAS,MAAM,OAAO,EACrG6F,EACT,IAAK,GAEH,MAAMC,EAAkB,CAAC,CAAC9F,EAAS,MAAM,aACzC,eAAQ,IAAI,yCAA0C8F,EAAiB,gBAAiB9F,EAAS,MAAM,YAAY,EAC5G8F,EACT,IAAK,GAEH,MAAO,GACT,IAAK,GAEH,MAAMC,EAAc/F,EAAS,MAAM,UAAYA,EAAS,MAAM,iBACxDgG,EAAmBhG,EAAS,MAAM,iBAAmBA,EAAS,MAAM,gBAAkBA,EAAS,MAAM,gBAAkBA,EAAS,MAAM,gBAGtIiG,EAAoB,CAACjG,EAAS,MAAM,wBACxCA,EAAS,MAAM,YACfA,EAAS,MAAM,aACfA,EAAS,MAAM,aACfA,EAAS,MAAM,cAGjB,MAAO,CAAC,EAAE+F,GAAeC,GAAoBC,GAC/C,IAAK,GAEH,GAAI7F,GAAkB,MAAO,CAI3B,MAAM8F,EAAa,CAAC,EAClBlG,EAAS,MAAM,eAAiBA,EAAS,MAAM,cAAc,OAAS,GACtEA,EAAS,MAAM,iBAUXmG,EALmB,CAAC,EACxBnG,EAAS,MAAM,0BACfA,EAAS,MAAM,0BACfA,EAAS,MAAM,uBAKXoG,GAAoBpG,EAAS,MAAM,aAAe,aACtDA,EAAS,MAAM,aAAe,SAC9BA,EAAS,MAAM,cACfA,EAAS,MAAM,eACfA,EAAS,MAAM,gBAIXqG,GAAkB,CAAC,EACvBrG,EAAS,MAAM,4BACfA,EAAS,MAAM,gCACfA,EAAS,MAAM,wBAIXsG,EAAuB,CAACtG,EAAS,MAAM,2BAC3C,CAAC,CAACA,EAAS,MAAM,gCAEnB,MAAO,CAAC,EAAEkG,GAAcC,GAAUC,IAAqBC,IAAmBC,EAC5E,KAEE,OAAO,GAEX,IAAK,GAEH,MAAO,GACT,QACE,MAAO,EACb,CACA,EAEMC,GAAW,IAAM,CACrB,MAAMC,EAAkBrH,EAAW,MAC7BsH,EAAmBvH,EAAY,MAC/BwH,EAAkBd,GAAU,EAElC,QAAQ,IAAI,+BAAgC,CAC1C,WAAYc,EACZ,YAAaD,EACb,WAAYD,EACZ,MAAOnH,EAAM,MACb,YAAaqH,GAAmBD,EAAmBD,CACvD,CAAG,EAEGE,GAAmBD,EAAmBD,GACxCtH,EAAY,QACZ,QAAQ,IAAI,8BAA+BA,EAAY,KAAK,GAE5D,QAAQ,KAAK,+BAAgC,CAC3C,WAAYwH,EACZ,YAAaD,EACb,WAAYD,EACZ,OAASE,EAAgD,eAA9B,2BACjC,CAAK,CAEL,EAEMC,GAAe,IAAM,CACrBzH,EAAY,MAAQ,GACtBA,EAAY,OAEhB,EAEM0H,GAAY,IAAYrC,EAAA,sBAC5BjF,EAAY,MAAQ,GACpB,GAAI,CAYF,MAAM+F,EAAS,MAXE,MAAM,MAAM,gDAAiD,CAC5E,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,OAAO,UACtC,EACM,KAAM,KAAK,UAAU,CACnB,KAAMrF,EAAS,KACvB,CAAO,CACP,CAAK,GAE6B,KAAI,EAElC,GAAIqF,EAAO,SAAWA,EAAO,QAAQ,QACnC,aAAM,yCAAyCA,EAAO,QAAQ,cAAc,EAAE,EAEvEA,EAAO,QAEd,MAAM,IAAI,MAAMA,EAAO,SAAW,sBAAsB,CAE5D,OAASb,EAAO,CACd,eAAQ,MAAM,sBAAuBA,CAAK,EAC1C,MAAM,yCAAyC,EACxC,IACT,QAAC,CACClF,EAAY,MAAQ,EACtB,CACF,GAuBMuH,GAAqB,IAAM,OAC/B,MAAMhC,GAAOnC,EAAAwB,EAAa,OAAb,YAAAxB,EAAmB,KAAKoE,GAAKA,EAAE,OAAS9G,EAAS,MAAM,cACpE,OAAO6E,GAAA,YAAAA,EAAM,YAAa,KAC5B,EAEMkC,GAAoB,IAAM,OAC9B,MAAMlC,GAAOnC,EAAAwB,EAAa,OAAb,YAAAxB,EAAmB,KAAKoE,GAAKA,EAAE,OAAS9G,EAAS,MAAM,cACpE,OAAO6E,GAAA,MAAAA,EAAM,SAAW,IAAIA,EAAK,QAAQ,GAAK,KAChD,EAEMmC,GAAoB,IAAYzC,EAAA,sBAEpC,GAAI,CAACvE,EAAS,MAAM,4BAChB,CAACA,EAAS,MAAM,gCAChB,CAACA,EAAS,MAAM,uBAAwB,CAC1C,MAAM,oFAAoF,EAC1F,MACF,CAEAT,EAAW,MAAQ,GACnB,GAAI,CAaF,MAAM0H,EAAe,MAXE,MAAM,MAAM,gDAAiD,CAClF,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,OAAO,UACtC,EACM,KAAM,KAAK,UAAU,CACnB,KAAMjH,EAAS,KACvB,CAAO,CACP,CAAK,GAEyC,KAAI,EAE9C,GAAI,CAACiH,EAAa,SAAW,CAACA,EAAa,QAAQ,QACjD,MAAM,IAAI,MAAM,0BAA0B,EAG5C,MAAMC,EAAYD,EAAa,QAAQ,WAGvC,GAAIzH,GAAc,MAAM,OAAS,EAC/B,UAAWgC,KAAQhC,GAAc,MAAO,CACtC,MAAM2H,EAAe,IAAI,SACzBA,EAAa,OAAO,OAAQ3F,CAAI,EAChC2F,EAAa,OAAO,UAAW,SAAS,EACxCA,EAAa,OAAO,UAAWD,CAAS,EACxCC,EAAa,OAAO,aAAc,CAAC,EAEnC,MAAM,MAAM,0BAA2B,CACrC,OAAQ,OACR,QAAS,CACP,sBAAuB,OAAO,UAC1C,EACU,KAAMA,CAChB,CAAS,CACH,CAIF,GAAInH,EAAS,MAAM,8BAA+B,CAChD,MAAMoH,EAAa,IAAI,SACvBA,EAAW,OAAO,OAAQpH,EAAS,MAAM,6BAA6B,EACtEoH,EAAW,OAAO,UAAW,SAAS,EACtCA,EAAW,OAAO,UAAWF,CAAS,EACtCE,EAAW,OAAO,YAAa,+BAA+B,EAC9DA,EAAW,OAAO,aAAc,CAAC,EAEjC,MAAM,MAAM,0BAA2B,CACrC,OAAQ,OACR,QAAS,CACP,sBAAuB,OAAO,UACxC,EACQ,KAAMA,CACd,CAAO,CACH,CAGA,GAAIpH,EAAS,MAAM,aAAc,CAC/B,MAAMqH,EAAc,IAAI,SACxBA,EAAY,OAAO,OAAQrH,EAAS,MAAM,YAAY,EACtDqH,EAAY,OAAO,UAAW,8BAA8B,EAC5DA,EAAY,OAAO,UAAWH,CAAS,EACvCG,EAAY,OAAO,YAAa,cAAc,EAC9CA,EAAY,OAAO,aAAc,CAAC,EAElC,MAAM,MAAM,0BAA2B,CACrC,OAAQ,OACR,QAAS,CACP,sBAAuB,OAAO,UACxC,EACQ,KAAMA,CACd,CAAO,CACH,CAcA,MAAMC,EAAe,MAXE,MAAM,MAAM,2EAA4E,CAC7G,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,OAAO,UACtC,EACM,KAAM,KAAK,UAAU,CACnB,WAAYJ,CACpB,CAAO,CACP,CAAK,GAEyC,KAAI,EAE9C,GAAII,EAAa,SAAWA,EAAa,QAAQ,QAC/C,MAAM,uDAAuDA,EAAa,QAAQ,cAAc,EAAE,EAClG5I,EAAO,KAAK,CAAE,KAAM,WAAW,CAAE,MAEjC,OAAM,IAAI,MAAM,8BAA8B,CAElD,OAAS8F,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,EACpD,MAAM,8BAA8B,CACtC,QAAC,CACCjF,EAAW,MAAQ,EACrB,CACF,GAEMgI,GAA4B,IAAYhD,EAAA,sBAC5C,GAAI,CAACvE,EAAS,MAAM,aAAc,CAChC,MAAM,gDAAgD,EACtD,MACF,CAEAP,GAAe,MAAQ,GACvB,GAAI,CAaF,MAAM+H,EAAc,MAXE,MAAM,MAAM,gDAAiD,CACjF,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,OAAO,UACtC,EACM,KAAM,KAAK,UAAU,CACnB,KAAMxH,EAAS,KACvB,CAAO,CACP,CAAK,GAEuC,KAAI,EAE5C,GAAI,CAACwH,EAAY,SAAW,CAACA,EAAY,QAAQ,QAC/C,MAAM,IAAI,MAAM,4BAA4B,EAG9C,MAAMN,EAAYM,EAAY,QAAQ,WAehCC,EAAgB,MAZE,MAAM,MAAM,gDAAiD,CACnF,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,OAAO,UACtC,EACM,KAAM,KAAK,UAAU,CACnB,WAAYP,EACZ,aAAc,yBACtB,CAAO,CACP,CAAK,GAE2C,KAAI,EAEhD,GAAIO,EAAc,SAAWA,EAAc,QAAQ,QACjD,MAAM,mJAAmJA,EAAc,QAAQ,OAAO,EAAE,MAExL,OAAM,IAAI,MAAMA,EAAc,SAAW,wBAAwB,CAErE,OAASjD,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7C,MAAM,2DAA2D,CACnE,QAAC,CACC/E,GAAe,MAAQ,EACzB,CACF,GAGqBV,EAAI,IAAI,EAG7B,MAAM2I,GAAyB3I,EAAI,EAAK,EAClC4I,GAAoB5I,EAAI,IAAI,EAC5B6I,EAAoB7I,EAAI,CAC5B,WAAY,GACZ,aAAc,GACd,iBAAkB,GAClB,MAAO,GACP,MAAO,GACP,eAAgB,GAChB,kBAAmB,GACnB,cAAe,GACf,kBAAmB,KACnB,SAAU,EACZ,CAAC,EAEK8I,GAAmB,IAAM,CAE7BD,EAAkB,MAAQ,CACxB,WAAY,GACZ,aAAc,GACd,iBAAkB,GAClB,MAAO,GACP,MAAO,GACP,eAAgB,GAChB,kBAAmB,GACnB,cAAe,GACf,kBAAmB,KACnB,SAAU,EACd,EACED,GAAkB,MAAQ,KAC1BD,GAAuB,MAAQ,EACjC,EAEMI,GAAqB/H,GAAU,CACnC6H,EAAkB,MAAQnF,EAAA,GAAKzC,EAAS,MAAM,iBAAiBD,CAAK,GACpE4H,GAAkB,MAAQ5H,EAC1B2H,GAAuB,MAAQ,EACjC,EAEMK,GAAoB,IAAM,CAC9B,GAAI,CAACH,EAAkB,MAAM,YAAc,CAACA,EAAkB,MAAM,aAAc,CAChF,MAAM,0CAA0C,EAChD,MACF,CAEID,GAAkB,QAAU,KAE9B3H,EAAS,MAAM,iBAAiB2H,GAAkB,KAAK,EAAIlF,EAAA,GAAKmF,EAAkB,OAGlF5H,EAAS,MAAM,iBAAiB,KAAKyC,EAAA,GAAKmF,EAAkB,MAAO,EAGrEF,GAAuB,MAAQ,EACjC,EAEMM,GAAsB,IAAM,CAChCN,GAAuB,MAAQ,EACjC,EAEMO,GAAuBlI,GAAU,CACjC,QAAQ,6BAA6B,GACvCC,EAAS,MAAM,iBAAiB,OAAOD,EAAO,CAAC,CAEnD,EAEMmI,GAAgC3G,GAAU,CAC9C,MAAMC,EAAOD,EAAM,OAAO,MAAM,CAAC,EACjC,GAAIC,EAAM,CAER,GAAIA,EAAK,KAAO,GAAK,KAAO,KAAM,CAChC,MAAM,kCAAkC,EACxCD,EAAM,OAAO,MAAQ,GACrB,MACF,CAWA,GAAI,CARiB,CACnB,kBACA,qBACA,0EACA,aACA,YACA,WACN,EACsB,SAASC,EAAK,IAAI,EAAG,CACrC,MAAM,6DAA6D,EACnED,EAAM,OAAO,MAAQ,GACrB,MACF,CAEAqG,EAAkB,MAAM,kBAAoBpG,CAC9C,CACF,EAGM2G,GAA4BpJ,EAAI,EAAK,EACrCqJ,GAAqBrJ,EAAI,IAAI,EAC7BsJ,EAAuBtJ,EAAI,CAC/B,YAAa,GACb,gBAAiB,GACjB,mBAAoB,GACpB,YAAa,GACb,SAAU,KACV,QAAS,EACX,CAAC,EAEKuJ,GAAsB,IAAM,CAChCD,EAAqB,MAAQ,CAC3B,YAAa,GACb,gBAAiB,GACjB,mBAAoB,GACpB,YAAa,GACb,SAAU,KACV,QAAS,EACb,EACED,GAAmB,MAAQ,KAC3BD,GAA0B,MAAQ,EACpC,EAEMI,GAAwBxI,GAAU,CACtCsI,EAAqB,MAAQ5F,EAAA,GAAKzC,EAAS,MAAM,mBAAmBD,CAAK,GACzEqI,GAAmB,MAAQrI,EAC3BoI,GAA0B,MAAQ,EACpC,EAEMK,GAAuB,IAAM,CACjC,GAAI,CAACH,EAAqB,MAAM,aAAe,CAACA,EAAqB,MAAM,iBAAmB,CAACA,EAAqB,MAAM,YAAa,CACrI,MAAM,4DAA4D,EAClE,MACF,CAEID,GAAmB,QAAU,KAC/BpI,EAAS,MAAM,mBAAmBoI,GAAmB,KAAK,EAAI3F,EAAA,GAAK4F,EAAqB,OAExFrI,EAAS,MAAM,mBAAmB,KAAKyC,EAAA,GAAK4F,EAAqB,MAAO,EAE1EF,GAA0B,MAAQ,EACpC,EAEMM,GAAyB,IAAM,CACnCN,GAA0B,MAAQ,EACpC,EAEMO,GAA0B3I,GAAU,CACpC,QAAQ,gCAAgC,GAC1CC,EAAS,MAAM,mBAAmB,OAAOD,EAAO,CAAC,CAErD,EAEM4I,GAA8BpH,GAAU,CAC5C,MAAMC,EAAOD,EAAM,OAAO,MAAM,CAAC,EACjC,GAAIC,EAAM,CAER,GAAIA,EAAK,KAAO,GAAK,KAAO,KAAM,CAChC,MAAM,kCAAkC,EACxCD,EAAM,OAAO,MAAQ,GACrB,MACF,CAIA,GAAI,CADiB,CAAC,kBAAmB,qBAAsB,yEAAyE,EACtH,SAASC,EAAK,IAAI,EAAG,CACrC,MAAM,yCAAyC,EAC/CD,EAAM,OAAO,MAAQ,GACrB,MACF,CAEA8G,EAAqB,MAAM,SAAW7G,CACxC,CACF,EA2BMoH,GAAc,IAAM,CACxB,MAAMC,EAAO,OAAO,iDAAiD,EACrE,GAAI,CAACA,EAAM,OAEX,MAAMC,EAAiB,OAAO,wGAAwG,EACtI,GAAI,CAACA,EAAgB,OAErB,MAAMC,EAAc,OAAO,8BAA+B,EAAE,EAE5D/I,EAAS,MAAM,eAAe,KAAK,CACjC,eAAgB6I,EAChB,gBAAiBC,EACjB,iBAAkBC,GAAe,EACrC,CAAG,CACH,EAEMC,GAAkBjJ,GAAU,CAC5B,QAAQ,wBAAwB,GAClCC,EAAS,MAAM,eAAe,OAAOD,EAAO,CAAC,CAEjD,EAGMkJ,GAAwB,IAAM,CAClC,MAAMC,EAAW,OAAO,8DAA8D,EACtF,GAAI,CAACA,EAAU,OAEf,MAAMC,EAAW,QAAQ,8CAA8C,EACjEC,EAAW,OAAO,iCAAkC,EAAE,EAE5DpJ,EAAS,MAAM,yBAAyB,KAAK,CAC3C,mBAAoBkJ,EACpB,SAAUC,EACV,oBAAqBC,GAAY,GACjC,qBAAsB,EAC1B,CAAG,CACH,EAEMC,GAA4BtJ,GAAU,CACtC,QAAQ,kCAAkC,GAC5CC,EAAS,MAAM,yBAAyB,OAAOD,EAAO,CAAC,CAE3D,EAGMuJ,GAAqB,IAAM,CAC/B,MAAMC,EAAO,OAAO,kBAAkB,EACtC,GAAI,CAACA,EAAM,OAEX,MAAMC,EAAU,OAAO,2BAA4B,EAAE,EAC/CC,EAAW,QAAQ,mCAAmC,EAE5DzJ,EAAS,MAAM,sBAAsB,KAAK,CACxC,WAAYuJ,EACZ,cAAeC,GAAW,GAC1B,kBAAmBC,EACnB,kBAAmB,IACvB,CAAG,CACH,EAEMC,GAAyB3J,GAAU,CACnC,QAAQ,+BAA+B,GACzCC,EAAS,MAAM,sBAAsB,OAAOD,EAAO,CAAC,CAExD,EAGM4J,GAAkB,IAAM,CAC5B,MAAMC,EAAO,OAAO,0BAA0B,EAC9C,GAAI,CAACA,EAAM,OAEX,MAAMC,EAAS7J,EAAS,MAAM,wBAAwB,OAAS,EAE/DA,EAAS,MAAM,wBAAwB,KAAK,CAC1C,iBAAkB6J,EAClB,eAAgBD,CACpB,CAAG,CACH,EAEME,GAAsB/J,GAAU,CAChC,QAAQ,iCAAiC,IAC3CC,EAAS,MAAM,wBAAwB,OAAOD,EAAO,CAAC,EAEtDC,EAAS,MAAM,wBAAwB,QAAQ,CAAC+J,EAAMC,IAAQ,CAC5DD,EAAK,iBAAmBC,EAAM,CAChC,CAAC,EAEL,EAGMC,GAAsBlL,EAAI,EAAK,EAC/BmL,EAAwBnL,EAAI,IAAI,EAChCoL,GAA8BpL,EAAI,CAAA,CAAE,EACpCqL,GAAmBrL,EAAI,EAAK,EAC5BsL,GAAmBtL,EAAI,KAAK,EAE5BuL,EAAgBvL,EAAI,CACxB,iBAAkB,GAClB,mBAAoB,GACpB,eAAgB,GAChB,kBAAmB,cACnB,oBAAqB,GACrB,iBAAkB,EACpB,CAAC,EAEKwL,GAAsB,CAC1B,MACA,UACA,SACA,QACA,SACA,yBACA,QACA,aACA,2BACA,eACA,YACA,YACA,UACA,cACA,WACA,UACA,UACA,QACA,YACA,aACA,WACA,QACA,UACA,OACF,EAGMC,GAA0B,IAAYjG,EAAA,sBAC1C6F,GAAiB,MAAQ,GACzB,GAAI,CACF,MAAMK,EAAgBzK,EAAS,MAAM,cAAc,IAAIC,GAAMA,EAAG,YAAY,EAmBtEkF,EAAO,MAhBI,MAAM,MAAM,qCAAsC,CACjE,OAAQ,OACR,QAAS,CACP,eAAgB,mBAChB,sBAAuB,OAAO,UACtC,EACM,KAAM,KAAK,UAAU,CACnB,QAAS,6BACT,OAAQ,CAAC,OAAQ,gBAAiB,iBAAkB,qBAAsB,iBAAkB,2BAA4B,SAAU,qBAAqB,EACvJ,QAAS,CACP,UAAW,CACrB,EACQ,kBAAmB,CAC3B,CAAO,CACP,CAAK,GAE2B,KAAI,EAE5BA,EAAK,UAEPgF,GAA4B,MAAQhF,EAAK,QAAQ,OAAOuF,GAClD,CAACA,EAAS,0BAA4BA,EAAS,2BAA6B,MACvE,GAEFD,EAAc,KAAK5F,GAAQ6F,EAAS,yBAAyB,SAAS7F,CAAI,CAAC,CACnF,EAEL,OAASL,EAAO,CACd,QAAQ,MAAM,sCAAuCA,CAAK,EAC1D,MAAM,oCAAoC,CAC5C,QAAC,CACC4F,GAAiB,MAAQ,EAC3B,CACF,GAEMO,GAA6BvL,EAAS,IACtCiL,GAAiB,QAAU,MACtBF,GAA4B,MAE9BA,GAA4B,MAAM,OAAOrD,GAAKA,EAAE,qBAAuBuD,GAAiB,KAAK,CACrG,EAEKO,GAAsB,IAAYrG,EAAA,sBACtC,GAAI,CAACvE,EAAS,MAAM,eAAiBA,EAAS,MAAM,cAAc,SAAW,EAAG,CAC9E,MAAM,+CAA+C,EACrD,MACF,CAEA,MAAMwK,GAAuB,EAC7BF,EAAc,MAAQ,CACpB,iBAAkB,GAClB,mBAAoB,GACpB,eAAgB,GAChB,kBAAmB,cACnB,oBAAqB,GACrB,iBAAkB,EACtB,EACEJ,EAAsB,MAAQ,KAC9BD,GAAoB,MAAQ,EAC9B,GAEMY,GAA4BH,GAAa,CAI7C,MAAMI,EAAe,CACnB,kBAHoB9K,EAAS,MAAM,oBAAoB,OAAS,GAAG,SAAQ,EAI3E,mBAAoB0K,EAAS,mBAC7B,eAAgBA,EAAS,eACzB,kBAAmB,cACnB,oBAAqB,GACrB,iBAAkB,EACtB,EAEE1K,EAAS,MAAM,oBAAoB,KAAK8K,CAAY,CACtD,EAEMC,GAAqB,IAAM,CAC/BT,EAAc,MAAQ,CACpB,kBAAmBtK,EAAS,MAAM,oBAAoB,OAAS,GAAG,SAAQ,EAC1E,mBAAoB,GACpB,eAAgB,GAChB,kBAAmB,cACnB,oBAAqB,GACrB,iBAAkB,EACtB,EACEkK,EAAsB,MAAQ,IAChC,EAEMc,GAAiBjL,GAAU,CAC/BuK,EAAc,MAAQ7H,EAAA,GAAKzC,EAAS,MAAM,oBAAoBD,CAAK,GACnEmK,EAAsB,MAAQnK,CAChC,EAEMkL,GAAgB,IAAM,CAC1B,GAAI,CAACX,EAAc,MAAM,oBAAsB,CAACA,EAAc,MAAM,eAAgB,CAClF,MAAM,0CAA0C,EAChD,MACF,CAEIJ,EAAsB,QAAU,KAClClK,EAAS,MAAM,oBAAoBkK,EAAsB,KAAK,EAAIzH,EAAA,GAAK6H,EAAc,OAErFtK,EAAS,MAAM,oBAAoB,KAAKyC,EAAA,GAAK6H,EAAc,MAAO,EAGpEA,EAAc,MAAQ,CACpB,iBAAkB,GAClB,mBAAoB,GACpB,eAAgB,GAChB,kBAAmB,cACnB,oBAAqB,GACrB,iBAAkB,EACtB,EACEJ,EAAsB,MAAQ,IAChC,EAEMgB,GAAsB,IAAM,CAChCZ,EAAc,MAAQ,CACpB,iBAAkB,GAClB,mBAAoB,GACpB,eAAgB,GAChB,kBAAmB,cACnB,oBAAqB,GACrB,iBAAkB,EACtB,EACEJ,EAAsB,MAAQ,IAChC,EAEMiB,GAAmBpL,GAAU,CAC7B,QAAQ,wBAAwB,IAClCC,EAAS,MAAM,oBAAoB,OAAOD,EAAO,CAAC,EAElDC,EAAS,MAAM,oBAAoB,QAAQ,CAAC+J,EAAMC,IAAQ,CACxDD,EAAK,kBAAoBC,EAAM,GAAG,SAAQ,CAC5C,CAAC,EAEL,EAGMoB,GAAkBhH,GAAe,CACrC,IAAK,oCACL,WAAaiH,GAAWA,EACxB,UAAYlG,GAAS,CACfA,GAAQA,EAAK,QACf,MAAM;AAAA;AAAA,QAAoDA,EAAK,OAAO;AAAA;AAAA,0DAAuG,EAE7K,MAAM,6EAA6E,EAErFzF,GAAkB,MAAQ,EAC5B,EACA,QAAU8E,GAAU,CAClB,QAAQ,MAAM,4BAA6BA,CAAK,EAChD,MAAM,oGAAoG,EAC1G9E,GAAkB,MAAQ,EAC5B,CACF,CAAC,EAEK4L,GAAuB,IAAY/G,EAAA,sBACvC,GAAI,CAACvE,EAAS,MAAM,cAAgB,CAACA,EAAS,MAAM,iBAAkB,CACpE,MAAM,8DAA8D,EACpE,MACF,CAEA,GAAK,QAAQ;AAAA;AAAA,yDAAwK,EAIrL,GAAI,CACFN,GAAkB,MAAQ,GAG1B,MAAM8H,EAAc,MAAMZ,GAAS,EAEnC,GAAI,CAACY,GAAe,CAACA,EAAY,WAAY,CAC3C,MAAM,2CAA2C,EACjD9H,GAAkB,MAAQ,GAC1B,MACF,CAGA0L,GAAgB,OAAO,CACrB,WAAY5D,EAAY,WACxB,aAAc,yBACpB,CAAK,CACH,OAAShD,EAAO,CACd,QAAQ,MAAM,4BAA6BA,CAAK,EAChD,MAAM,8DAA8D,EACpE9E,GAAkB,MAAQ,EAC5B,CACF,GAIM6L,GAAkB,IAAYhH,EAAA,sBAClC,GAAI,CACFvF,GAAe,MAAQ,GACvB,MAAMwM,EAAU,MAAMC,GAAK,+BAA+B,EAC1D3M,EAAY,MAAQ0M,EAGhBA,EAAQ,gBAAkB,CAACxL,EAAS,MAAM,iBAC5CA,EAAS,MAAM,eAAiBwL,EAAQ,gBAItCA,EAAQ,OAAS,CAACxL,EAAS,MAAM,iBAAmB,CAACA,EAAS,MAAM,mBACtEA,EAAS,MAAM,gBAAkBwL,EAAQ,OAItCxL,EAAS,MAAM,mBAClBA,EAAS,MAAM,eAAiB,GAAGwL,EAAQ,YAAc,EAAE,IAAIA,EAAQ,WAAa,EAAE,GAAG,KAAI,GAAMA,EAAQ,MAC3GxL,EAAS,MAAM,gBAAkBwL,EAAQ,MAE7C,OAAShH,EAAO,CACd,QAAQ,MAAM,8BAA+BA,CAAK,CACpD,QAAC,CACCxF,GAAe,MAAQ,EACzB,CACF,GAEM0M,GAAqB,IAAYnH,EAAA,sBACrC,GAAI,CACF,MAAMoH,EAAiB,MAAMF,GAAK,uCAAuC,EACrEE,IACF1M,EAAmB,MAAQ0M,EAE/B,OAASnH,EAAO,CACd,QAAQ,MAAM,iCAAkCA,CAAK,CACvD,CACF,GAGA,OAAAxD,GAAM,IAAMhB,EAAS,MAAM,uBAAyB4L,GAAgB,CAC9DA,IAAgB,WAAa3M,EAAmB,MAClDe,EAAS,MAAM,gBAAkBf,EAAmB,MAAM,KAE1De,EAAS,MAAM,gBAAkB,IAErC,CAAC,EAGDgB,GAAM,IAAMhB,EAAS,MAAM,iBAAmB6L,GAAmB,CAC3D,CAACA,GAAkB/M,EAAY,OAEjCkB,EAAS,MAAM,eAAiB,GAAGlB,EAAY,MAAM,YAAc,EAAE,IAAIA,EAAY,MAAM,WAAa,EAAE,GAAG,KAAI,GAAMA,EAAY,MAAM,MACzIkB,EAAS,MAAM,gBAAkBlB,EAAY,MAAM,MAC/CA,EAAY,MAAM,QACpBkB,EAAS,MAAM,gBAAkBlB,EAAY,MAAM,OAEjDA,EAAY,MAAM,iBACpBkB,EAAS,MAAM,eAAiBlB,EAAY,MAAM,iBAE3C+M,IAET7L,EAAS,MAAM,eAAiB,GAChCA,EAAS,MAAM,gBAAkB,GACjCA,EAAS,MAAM,gBAAkB,GAGrC,CAAC,EAGDgB,GAAM,IAAMhB,EAAS,MAAM,gBAAiB,CAAO8L,EAAUC,IAAaxH,EAAA,sBAMxE,GAAI,CAACvE,EAAS,MAAM,kBAAoBlB,EAAY,OAASgN,GAAYA,IAAaC,GAAYD,IAAahN,EAAY,MAAM,MAC/H,GAAI,CACF,MAAM2M,GAAK,mCAAoC,CAC7C,MAAOK,CACf,CAAO,EAEDhN,EAAY,MAAM,MAAQgN,EAC1B,QAAQ,IAAI,8CAA+CA,CAAQ,CACrE,OAAStH,EAAO,CACd,QAAQ,MAAM,8CAA+CA,CAAK,CAEpE,CAEJ,EAAC,EAEDwH,GAAU,IAAYzH,EAAA,sBAQpB,GANA,MAAMgH,GAAe,EAGrB,MAAMG,GAAkB,EAGpB9M,EAAa,mBACfoB,EAAS,MAAM,QAAUpB,EAAa,mBACtC,MAAMyF,GAAgBzF,EAAa,kBAAkB,MAChD,CAEL,MAAMqN,EAAe,MAAMrN,EAAa,gBAAe,EACnDqN,EAAa,kBACfjM,EAAS,MAAM,QAAUiM,EAAa,gBACtC,MAAM5H,GAAgB4H,EAAa,eAAe,EAEtD,CACF,EAAC,kBAloNC,OAAAC,EAAA,EAAAC,EA62JM,MA72JNC,GA62JM,CA32JJC,EAmBS,SAnBTC,GAmBS,CAlBPD,EAiBM,MAjBNE,GAiBM,CAhBJF,EAeM,MAfNG,GAeM,CAdJH,EAUM,MAVNI,GAUM,CATJJ,EAIS,SAAA,CAJA,QAAO5H,GAAQ,MAAM,0DAC5B4H,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAwG,OAAA,CAAlG,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yCAG5EA,EAGM,MAAA,KAAA,CAFJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgE,KAAA,CAA5D,MAAM,iCAAiC,EAAC,kBAAe,EAAA,GAC3DA,EAA+E,IAA/EM,GAAiC,UAAQzN,EAAA,KAAW,EAAG,OAAI0N,EAAGzN,EAAA,KAAU,EAAA,CAAA,MAG5E0N,EAESC,EAAAC,CAAA,EAAA,CAFA,QAAOnG,GAAW,QAAQ,UAAU,MAAM,OAAQ,QAAStH,EAAA,kBAAa,IAEjF,CAAA,GAAAoN,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,GAFiF,eAEjF,EAAA,gCAMNL,EAgCM,MAhCNW,GAgCM,CA/BJX,EA8BM,MA9BNY,GA8BM,CA7BJZ,EA4BM,MA5BNa,GA4BM,EA3BJhB,EAAA,EAAA,EAAAC,EA0BMgB,EAAA,KAAAC,EAzBoB/N,EAAA,MAAK,CAArBgO,EAAMtN,SADhBoM,EA0BM,MAAA,CAxBH,IAAKpM,EACN,SAAM,oBAAmB,CAAA,SACLA,EAAQV,EAAA,MAAM,OAAM,EAAA,CAAA,IAExCgN,EAcM,MAdNiB,GAcM,CAbJjB,EAMM,MAAA,CALJ,MAAKkB,EAAA,CAAC,gFACE7I,GAAa3E,EAAK,CAAA,CAAA,CAAA,IAEdA,IAAYb,EAAA,OAAxBgN,EAAA,EAAAC,EAA6C,UAAR,GAAC,IACtCD,EAAA,EAAAC,EAAmC,YAAnBpM,EAAK,CAAA,EAAA,CAAA,OAEvBsM,EAKO,OAAA,CAJL,MAAKkB,EAAA,CAAC,2BACExN,MAAcb,EAAA,MAAW,4BAAA,eAAA,CAAA,CAE9B,EAAA0N,EAAAS,EAAK,KAAK,EAAA,CAAA,IAITtN,EAAQV,EAAA,MAAM,OAAM,OAD5B8M,EAIO,MAAA,OAFL,MAAKoB,EAAA,CAAC,0BACExN,IAAYb,EAAA,MAAW,cAAA,aAAA,CAAA,uCAQzCmN,EAsiIO,OAtiIPmB,GAsiIO,CAriILnB,EAoiIM,MApiINoB,GAoiIM,CAliIOvO,EAAA,QAAW,OAAtBiN,EAaM,MAAAuB,GAAA,CAZJhB,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAqE,KAAA,CAAjE,MAAM,uCAAuC,EAAC,iBAAc,EAAA,GAChEK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAuF,IAAA,CAApF,MAAM,oBAAoB,EAAC,wDAAqD,EAAA,GAEnFQ,EAQEc,GAAA,CAPS,WAAA3N,EAAA,MAAS,QAAT,sBAAA0M,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAkB,GAAA5N,EAAA,MAAS,QAAO4N,GACxB,SAAQvJ,GACT,eAAa,QACZ,SAAU,GACV,qBAAoB,GACrB,MAAM,GACL,aAAY,uCAKNnF,EAAA,QAAW,OAAtBiN,EAoCM,MAAA0B,GAAA,CAnCJnB,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA8E,KAAA,CAA1E,MAAM,uCAAuC,EAAC,0BAAuB,EAAA,GACzEK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkF,IAAA,CAA/E,MAAM,oBAAoB,EAAC,mDAAgD,EAAA,GAEnEnI,EAAA,MAAa,SAAxBgI,IAAAC,EAEM,MAFN2B,GAEM,CAAA,GAAApB,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CADJL,EAA6F,MAAA,CAAxF,MAAM,2EAA2E,EAAA,KAAA,EAAA,QAGxFH,IAAAC,EA2BM,MA3BN4B,GA2BM,EA1BJ7B,EAAA,EAAA,EAAAC,EAyBMgB,EAAA,KAAAC,EAxBWlJ,EAAA,MAAa,KAArBW,QADTsH,EAyBM,MAAA,CAvBH,IAAKtH,EAAK,KACV,QAAK+I,GAAEhJ,GAAkBC,CAAI,EAC9B,MAAK0I,EAAA,CAAC,wEACEvN,EAAA,MAAS,eAAiB6E,EAAK,KAAI,6BAAA,uCAAA,CAAA,IAE3CwH,EAiBM,MAjBN2B,GAiBM,CAhBJ3B,EAQM,MARN4B,GAQM,CAPJ5B,EAA8E,KAA9E6B,GAA8EtB,EAAtB/H,EAAK,SAAS,EAAA,CAAA,EACtEwH,EAA6F,IAAA,CAA1F,MAAM,wBAAwB,UAAQxH,EAAK,aAAW,uCACzDwH,EAIM,MAJN8B,GAIM,CAHQtJ,EAAK,UAAjBqH,EAAA,EAAAC,EAA2D,OAAAiC,GAAhC,SAAMxB,EAAG/H,EAAK,QAAQ,EAAA,CAAA,YACrCA,EAAK,qBAAjBqH,EAAA,EAAAC,EAAgF,OAAAkC,GAAAzB,EAAvC/H,EAAK,mBAAmB,EAAG,QAAK,CAAA,YAC7DA,EAAK,UAAjBqH,EAAA,EAAAC,EAA2F,OAA3FmC,GAA2F1B,EAAvB/H,EAAK,QAAQ,EAAA,CAAA,gBAG1E7E,EAAA,MAAS,eAAiB6E,EAAK,MAA1CqH,IAAAC,EAMM,MANNoC,GAMM,CAAA,GAAA7B,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CALJL,EAIM,MAAA,CAJD,MAAM,mEAAmE,EAAA,CAC5EA,EAEM,MAAA,CAFD,MAAM,qBAAqB,KAAK,OAAO,OAAO,eAAe,QAAQ,cACxEA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yEAU3EnN,EAAA,QAAW,OAAtBiN,EAoFM,MAAAqC,GAAA,CAnFJ9B,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkF,KAAA,CAA9E,MAAM,uCAAuC,EAAC,8BAA2B,EAAA,GAC7EA,EAAwK,IAAxKoC,GAA8B,oBAAiB3B,GAAAA,EAAAA,EAAAlO,CAAA,EAAa,WAAbkO,YAAAA,EAAuB,KAAK4B,GAAKA,EAAE,eAAiB1O,EAAA,MAAS,WAA7D8M,YAAAA,EAAuE,YAAY,EAAG,kCAA+B,CAAA,EAEzJpM,EAAA,OAAXwL,IAAAC,EA0EM,MA1ENwC,GA0EM,CAxEJtC,EAkCM,MAlCNuC,GAkCM,CAjCJvC,EAOM,MAPNwC,GAOM,CANJxC,EAKM,MAAA,KAAA,CAJJA,EAAuG,KAAvGyC,GAAuGlC,EAApDlM,EAAA,MAA2B,iBAAiB,EAAA,CAAA,EACtFA,EAAA,MAA2B,UAApCwL,EAAA,EAAAC,EAEI,IAFJ4C,GAEInC,EADClM,EAAA,MAA2B,QAAQ,EAAA,CAAA,gBAM5C2L,EAsBM,MAtBN2C,GAsBM,CArBJ3C,EAMM,MAAA,KAAA,CALJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA8E,MAAA,CAAzE,MAAM,6CAA6C,EAAC,kBAAe,EAAA,GACxEA,EAEM,MAFN4C,GAAmD,KAChDrC,EAAGlM,EAAA,MAA2B,UAAQ,GAAA,EAAA,CAAA,EAEzCgM,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAuE,MAAA,CAAlE,MAAM,8BAA6B,4BAAyB,EAAA,KAEnEA,EAMM,MAAA,KAAA,CALJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA8E,MAAA,CAAzE,MAAM,6CAA6C,EAAC,kBAAe,EAAA,GACxEA,EAEM,MAFN6C,GAEM,KADDxO,EAAA,MAA2B,UAAQ,KAAA,EAAY,IAAC,CAAA,EAAAgM,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAmC,OAAA,CAA7B,MAAM,aAAY,OAAI,EAAA,KAEjFK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgE,MAAA,CAA3D,MAAM,8BAA6B,qBAAkB,EAAA,KAE5DA,EAMM,MAAA,KAAA,CALJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+E,MAAA,CAA1E,MAAM,6CAA6C,EAAC,mBAAgB,EAAA,GACzEA,EAEM,MAFN8C,GAEMvC,EADDlM,EAAA,MAA2B,iBAAgB,MAAA,IAAA,EAAA,CAAA,EAEhDgM,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+D,MAAA,CAA1D,MAAM,8BAA6B,oBAAiB,EAAA,SAMpD3L,EAAA,MAA2B,qBAAtCwL,IAAAC,EAGM,MAHNiD,GAGM,CAFJ1C,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwE,KAAA,CAApE,MAAM,0CAA0C,EAAC,iBAAc,EAAA,GACnEA,EAAmH,MAAA,CAA9G,MAAM,0CAA0C,UAAQ3L,EAAA,MAA2B,mCAI1EA,EAAA,MAA2B,aAA3CwL,IAAAC,EAGM,MAHNkD,GAGM,CAFJ3C,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgF,KAAA,CAA5E,MAAM,0CAA0C,EAAC,yBAAsB,EAAA,GAC3EA,EAAyE,IAAzEiD,GAAyE1C,EAA7ClM,EAAA,MAA2B,WAAW,EAAA,CAAA,ovBAmBpE2L,EAOM,MAPNkD,GAOM,CANJlD,EAKS,SAAA,CAJN,uBAAOnN,EAAA,SACR,MAAM,+FACP,0CAED,QAKJgN,IAAAC,EAEM,MAFNqD,GAEM,CAAA,GAAA9C,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CADJL,EAAgG,IAAA,CAA7F,MAAM,eAAe,EAAC,sEAAmE,EAAA,mBAKrFnN,EAAA,QAAW,OAAtBiN,EAsZM,MAAAsD,GAAA,CArZJ/C,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAuE,KAAA,CAAnE,MAAM,uCAAuC,EAAC,mBAAgB,EAAA,GAClEK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyF,IAAA,CAAtF,MAAM,oBAAoB,EAAC,0DAAuD,EAAA,GAErFA,EAiZM,MAjZNqD,GAiZM,CA/YJrD,EAcM,MAAA,KAAA,CAbJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,0CAE5D,EAAA,KACAA,EASS,SAAA,CARE,sBAAAK,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAkB,GAAA5N,EAAA,MAAS,SAAQ4N,GAC1B,MAAM,4GACL,SAAQ9I,KAET4H,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA8D,SAAA,CAAtD,MAAM,EAAE,EAAC,uCAAoC,EAAA,IACrDH,EAAA,EAAA,EAAAC,EAESgB,EAAA,KAAAC,EAFcN,EAAA3I,EAAA,EAAW,KAAnBwL,QAAfxD,EAES,SAAA,CAFgC,IAAKwD,EAAK,KAAO,MAAOA,EAAK,IACjE,EAAA/C,EAAA+C,EAAK,cAAc,EAAG,OAAKA,EAAK,MAAM,EAAA/C,EAAM+C,EAAK,kBAAiB,MAAWA,EAAK,kBAAiB,EAAA,EAAA,EAAAC,EAAA,iBAN/F,CAAAC,EAAA7P,EAAA,MAAS,QAAQ,MAYnBf,EAAA,OAAXiN,IAAAC,EA+BM,MA/BN2D,GA+BM,CA9BJzD,EA6BM,MA7BN0D,GA6BM,CA5BJrD,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAuE,KAAA,CAAnE,MAAM,0CAA0C,EAAC,gBAAa,EAAA,GAClEA,EA0BM,MA1BN2D,GA0BM,CAzBJ3D,EAWQ,QAAA,CAXD,MAAKkB,EAAA,CAAC,sFAA8FvN,EAAA,MAAS,yBAAsB,SAAA,6BAAA,uCAAA,CAAA,MACxIqM,EAKE,QAAA,CAJA,KAAK,QACL,MAAM,SACG,sBAAAK,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAkB,GAAA5N,EAAA,MAAS,uBAAsB4N,GACxC,MAAM,mBADG,CAAAqC,GAAAjQ,EAAA,MAAS,sBAAsB,oBAG1CqM,EAGM,MAAA,CAHD,MAAM,UAAQ,CACjBA,EAA2E,MAAA,CAAtE,MAAM,2BAA2B,EAAC,gCAA8B,EACrEA,EAAuF,MAAA,CAAlF,MAAM,uBAAuB,EAAC,gDAA8C,YAGrFA,EAYQ,QAAA,CAZD,MAAKkB,EAAA,CAAC,sFAA8FvN,EAAA,MAAS,yBAAsB,UAAA,6BAAA,uCAAA,CAAA,MACxIqM,EAKE,QAAA,CAJA,KAAK,QACL,MAAM,UACG,sBAAAK,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAkB,GAAA5N,EAAA,MAAS,uBAAsB4N,GACxC,MAAM,mBADG,CAAAqC,GAAAjQ,EAAA,MAAS,sBAAsB,IAG1CqM,EAIM,MAJN6D,GAIM,CAHJ7D,EAA4F,MAA5F8D,GAAuC,aAAUvD,EAAG3N,EAAA,MAAmB,YAAY,EAAA,CAAA,EACnFyN,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiF,MAAA,CAA5E,MAAM,uBAAuB,EAAC,2CAAwC,EAAA,GAC3EA,EAAsG,MAAtG+D,GAAwC,yBAAsBxD,EAAG3N,EAAA,MAAmB,SAAS,EAAA,CAAA,wBAQvGoN,EAiKM,MAjKNgE,GAiKM,CAhKJhE,EA4BM,MA5BNiE,GA4BM,CA3BJ5D,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAsF,KAAA,CAAlF,MAAM,0CAA0C,EAAC,+BAA4B,EAAA,GACjFA,EAyBM,MAzBNkE,GAyBM,CAxBJlE,EAWQ,QAXRmE,GAWQ,GAVNnE,EAKE,QAAA,CAJA,KAAK,QACJ,MAAO,GACC,sBAAAK,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAkB,GAAA5N,EAAA,MAAS,iBAAgB4N,GAClC,MAAM,mBADG,CAAAqC,GAAAjQ,EAAA,MAAS,gBAAgB,oBAGpCqM,EAGM,MAAA,KAAA,CAFJA,EAA2E,MAAA,CAAtE,MAAM,2BAA2B,EAAC,gCAA8B,EACrEA,EAAmF,MAAA,CAA9E,MAAM,uBAAuB,EAAC,4CAA0C,UAGjFA,EAWQ,QAXRoE,GAWQ,GAVNpE,EAKE,QAAA,CAJA,KAAK,QACJ,MAAO,GACC,sBAAAK,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAkB,GAAA5N,EAAA,MAAS,iBAAgB4N,GAClC,MAAM,mBADG,CAAAqC,GAAAjQ,EAAA,MAAS,gBAAgB,oBAGpCqM,EAGM,MAAA,KAAA,CAFJA,EAA8E,MAAA,CAAzE,MAAM,2BAA2B,EAAC,mCAAiC,EACxEA,EAA+F,MAAA,CAA1F,MAAM,uBAAuB,EAAC,wDAAsD,cAOjGA,EAiEM,MAAA,KAAA,CAhEJA,EAEK,KAFLqE,GAEK9D,EADA5M,EAAA,MAAS,iBAAgB,uBAAA,iCAAA,EAAA,CAAA,EAG9BqM,EA2DM,MA3DNsE,GA2DM,CA1DJtE,EAyBM,MAzBNuE,GAyBM,CAxBJvE,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+E,QAAA,CAAxE,MAAM,8CAA8C,EAAC,cAAW,EAAA,KACvEA,EAOE,QAAA,CANS,sBAAAK,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAkB,GAAA5N,EAAA,MAAS,eAAc4N,GAChC,KAAK,OACL,YAAY,aACZ,MAAM,4GACL,SAAQ,CAAG5N,EAAA,MAAS,kBAAoBlB,EAAA,MACzC,SAAA,gBALS,CAAA+R,EAAA7Q,EAAA,MAAS,cAAc,IAOxBA,EAAA,MAAS,+BAAnBmM,EAA4G,IAA5G2E,GAAwE,kCAAgC,KAE1GzE,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAmF,QAAA,CAA5E,MAAM,8CAA8C,EAAC,kBAAe,EAAA,KAC3EA,EAOE,QAAA,CANS,sBAAAK,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAkB,GAAA5N,EAAA,MAAS,gBAAe4N,GACjC,KAAK,QACL,YAAY,mBACZ,MAAM,4GACL,SAAQ,CAAG5N,EAAA,MAAS,kBAAoBlB,EAAA,MACzC,SAAA,gBALS,CAAA+R,EAAA7Q,EAAA,MAAS,eAAe,IAOzBA,EAAA,MAAS,+BAAnBmM,EAA4G,IAA5G4E,GAAwE,kCAAgC,OAI5G1E,EA8BM,MA9BN2E,GA8BM,CA7BJ3E,EAYM,MAAA,KAAA,CAXJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAmF,QAAA,CAA5E,MAAM,8CAA8C,EAAC,kBAAe,EAAA,KAC3EA,EAME,QAAA,CALS,sBAAAK,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAkB,GAAA5N,EAAA,MAAS,gBAAe4N,GACjC,KAAK,MACL,YAAY,eACZ,MAAM,4GACN,SAAA,eAJS,CAAAiD,EAAA7Q,EAAA,MAAS,eAAe,IAMnCqM,EAEI,IAFJ4E,GAEIrE,EADC5M,EAAA,MAAS,iBAAgB,sCAAA,uDAAA,EAAA,CAAA,IAGhCqM,EAeM,MAAA,KAAA,CAdJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoF,QAAA,CAA7E,MAAM,8CAA8C,EAAC,mBAAgB,EAAA,KAC5EA,EAWS,SAAA,CAVE,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,eAAc4N,GAChC,MAAM,4GACN,SAAA,uSAFS,CAAAiC,EAAA7P,EAAA,MAAS,cAAc,IAWlC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgF,IAAA,CAA7E,MAAM,8BAA6B,yCAAsC,EAAA,WAOpFA,EA4DM,MA5DN6E,GA4DM,CA3DJ7E,EASM,MATN8E,GASM,GARJ9E,EAIE,QAAA,CAHA,KAAK,WACI,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,uBAAsB4N,GACxC,MAAM,qFADG,CAAAwD,EAAApR,EAAA,MAAS,sBAAsB,IAG1C0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,0CAAyC,gCAEtD,EAAA,KAGSrM,EAAA,MAAS,wBAApBkM,IAAAC,EA+CM,MA/CNkF,GA+CM,CA9CJ3E,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,wFAEtC,EAAA,GAEAA,EAoBM,MApBNiF,GAoBM,CAnBJjF,EASM,MAAA,KAAA,CARJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgF,QAAA,CAAzE,MAAM,8CAA8C,EAAC,eAAY,EAAA,KACxEA,EAME,QAAA,CALS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,WAAU4N,GAC5B,KAAK,OACL,YAAY,6BACZ,MAAM,4GACL,SAAU5N,EAAA,MAAS,oCAJX,CAAA6Q,EAAA7Q,EAAA,MAAS,UAAU,MAOhCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+E,QAAA,CAAxE,MAAM,8CAA8C,EAAC,cAAW,EAAA,KACvEA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,YAAW4N,GAC7B,KAAK,QACL,YAAY,oBACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,WAAW,QAQnCqM,EAmBM,MAnBNkF,GAmBM,CAlBJlF,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+E,QAAA,CAAxE,MAAM,8CAA8C,EAAC,cAAW,EAAA,KACvEA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,YAAW4N,GAC7B,KAAK,MACL,YAAY,eACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,WAAW,MAMjCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiF,QAAA,CAA1E,MAAM,8CAA8C,EAAC,gBAAa,EAAA,KACzEA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,cAAa4N,GAC/B,KAAK,IACL,YAAY,yBACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,aAAa,wBAY3CqM,EAuLM,MAvLNmF,GAuLM,CArLOxR,EAAA,MAAS,kBAApBkM,IAAAC,EAkBM,MAlBNsF,GAkBM,CAjBJ/E,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAsF,QAAA,CAA/E,MAAM,8CAA8C,EAAC,qBAAkB,EAAA,GAC9EA,EAcM,MAdNqF,GAcM,GAbJrF,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,iBAAgB4N,GAClC,KAAK,OACL,SAAA,GACA,MAAM,0FAHG,CAAAiD,EAAA7Q,EAAA,MAAS,gBAAgB,IAKpCqM,EAMS,SAAA,CALN,QAAO1G,GACR,KAAK,SACL,MAAM,sHACP,UAED,IAEF+G,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgF,IAAA,CAA7E,MAAM,+BAA8B,wCAAqC,EAAA,OAI9EH,IAAAC,EA8CM,MA9CNwF,GA8CM,CA7CJjF,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA6F,QAAA,CAAtF,MAAM,8CAA8C,EAAC,4BAAyB,EAAA,KACrFA,EAQI,QAAA,wCAPShM,GAAmB,MAAAuN,GAC3B,QAAO3I,GACP,yBAAOzE,GAAA,MAAoB,IAC5B,KAAK,OACL,YAAY,gDACZ,MAAM,4GACN,aAAa,qBANJH,GAAA,KAAmB,IAQhCqM,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+E,IAAA,CAA5E,MAAM,4BAA4B,EAAC,wCAAqC,EAAA,GAInE7L,GAAA,QAAyBF,EAAA,MAAsB,UAAcC,GAAA,QADrE2L,IAAAC,EA+BM,MA/BNyF,GA+BM,CA1BOrR,GAAA,OAAX2L,IAAAC,EAGM,MAHN0F,GAGM,CAAA,GAAAnF,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFJL,EAAkG,MAAA,CAA7F,MAAM,gFAAgF,EAAA,KAAA,EAAA,EAC3FA,EAA8C,IAAA,CAA3C,MAAM,SAAS,EAAC,0BAAuB,EAAA,YAI5CF,EAcM,MAAA2F,GAAA,EAbJ5F,EAAA,EAAA,EAAAC,EAYSgB,EAAA,KAAAC,EAXmB9M,EAAA,MAAqB,CAAvC+E,EAAQtF,IAAK,oBADvBoM,EAYS,SAAA,CAVN,IAAKpM,EACL,QAAK6N,IAAExI,GAAeC,CAAM,EAC7B,KAAK,SACL,MAAM,+IAENgH,EAAiE,MAAjE0F,GAAiEnF,EAAvBvH,EAAO,OAAO,EAAA,CAAA,EACxDgH,EAA2H,MAA3H2F,GAA2HpF,IAAhFlK,EAAA2C,EAAO,WAAP,YAAA3C,EAAiB,oBAAiB,iCAAA,EAAA,CAAA,GAClEE,EAAAyC,EAAO,WAAP,MAAAzC,EAAiB,cAA5BuJ,EAEM,MAFN8F,GAAyE,aAC7D5M,EAAO,SAAS,QAAQ,EAAA,CAAA,8BAM5B,CAAA9E,GAAA,OAAyBD,EAAA,MAAsB,SAAM,GAAUD,GAAA,MAAoB,QAAM,GAArG6L,IAAAC,EAEM,MAFN+F,GAEM,CAAA,GAAAxF,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CADJL,EAAmE,IAAA,CAAhE,MAAM,SAAS,EAAC,+CAA4C,EAAA,+BAKrEA,EA2BM,MA3BN8F,GA2BM,CA1BJ9F,EAYM,MAAA,KAAA,CAXJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAqF,QAAA,CAA9E,MAAM,8CAA8C,EAAC,oBAAiB,EAAA,KAC7EA,EAME,QAAA,CALS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,kBAAiB4N,GACnC,KAAK,OACL,YAAY,iBACZ,MAAM,gEACN,SAAA,eAJS,CAAAiD,EAAA7Q,EAAA,MAAS,iBAAiB,IAM5BA,EAAA,MAAS,uBAAlBmM,EAEI,IAFJiG,GAAyE,8BAEzE,cAEF/F,EAYM,MAAA,KAAA,CAXJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwF,QAAA,CAAjF,MAAM,8CAA8C,EAAC,uBAAoB,EAAA,KAChFA,EAME,QAAA,CALS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,aAAY4N,GAC9B,KAAK,OACL,YAAY,YACZ,MAAM,gEACN,SAAA,eAJS,CAAAiD,EAAA7Q,EAAA,MAAS,YAAY,IAMvBA,EAAA,MAAS,kBAAlBmM,EAEI,IAFJkG,GAAoE,8BAEpE,gBAKJhG,EAcM,MAAA,KAAA,CAbJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,2CAE5D,EAAA,GACAA,EAKE,QAAA,CAJA,KAAK,OACJ,SAAQtK,GACT,OAAO,uBACP,MAAM,8LAEC/B,EAAA,MAAS,mCAAlBmM,EAEI,IAFJmG,GAAqF,uBAErF,YACA5F,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgG,IAAA,CAA7F,MAAM,8BAA6B,yDAAsD,EAAA,KAG9FA,EAwBM,MAxBNkG,GAwBM,CAvBJlG,EASM,MAAA,KAAA,CARJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAuF,QAAA,CAAhF,MAAM,8CAA8C,EAAC,sBAAmB,EAAA,KAC/EA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,oBAAmB4N,GACrC,KAAK,OACL,YAAY,UACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,mBAAmB,IAKvC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA8E,IAAA,CAA3E,MAAM,8BAA6B,uCAAoC,EAAA,KAE5EA,EAYM,MAAA,KAAA,CAXJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA6E,QAAA,CAAtE,MAAM,8CAA8C,EAAC,YAAS,EAAA,KACrEA,EAME,QAAA,CALS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,UAAS4N,GAC3B,KAAK,OACL,YAAY,iBACZ,MAAM,gEACN,SAAA,eAJS,CAAAiD,EAAA7Q,EAAA,MAAS,SAAS,IAMpBA,EAAA,MAAS,eAAlBmM,EAEI,IAFJqG,GAAiE,oBAEjE,gBAIJnG,EAuCM,MAvCNoG,GAuCM,CAtCJpG,EAeM,MAAA,KAAA,CAdJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwE,QAAA,CAAjE,MAAM,8CAA8C,EAAC,OAAI,EAAA,KAChEA,EAME,QAAA,CALS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,KAAI4N,GACtB,KAAK,OACL,YAAY,oCACZ,MAAM,gEACN,SAAA,eAJS,CAAAiD,EAAA7Q,EAAA,MAAS,IAAI,IAMfA,EAAA,MAAS,UAAlBmM,EAEI,IAFJuG,GAA4D,wBAE5D,QACAvG,EAEI,IAFJwG,GAA6C,8CAE7C,KAEFtG,EAqBM,MAAA,KAAA,CApBJA,EAGQ,QAHRuG,GAGQ,mBAHoD,oBAE1D,EAAA,GAAYxS,GAAA,WAAZ+L,EAA4D,OAA5D0G,GAAoD,GAAC,gBAEvDxG,EAYS,SAAA,CAXE,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,cAAa4N,GAC/B,MAAM,4GACL,SAAUxN,GAAA,wZAFF,CAAAyP,EAAA7P,EAAA,MAAS,aAAa,IAYjC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,8BAA6B,uEAEtC,EAAA,uBAQCnN,EAAA,WAAqBkB,GAAA,WAAhC+L,EAuuDM,MAAA2G,GAAA,CAtuDJpG,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+E,KAAA,CAA3E,MAAM,uCAAuC,EAAC,2BAAwB,EAAA,GAC1EK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA4F,IAAA,CAAzF,MAAM,oBAAoB,EAAC,6DAA0D,EAAA,GAExFA,EAkuDM,MAluDN0G,GAkuDM,CAhuDJ1G,EA0CM,MA1CN2G,GA0CM,CAzCJ3G,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,+BAE5D,EAAA,KACAA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,2BAA0B4N,GAC5C,KAAK,OACL,YAAY,sBACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,0BAA0B,IAK9C0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyF,IAAA,CAAtF,MAAM,8BAA6B,kDAA+C,EAAA,KAGvFA,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,kBAE5D,EAAA,KACAA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,cAAa4N,GAC/B,KAAK,OACL,YAAY,uBACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,aAAa,IAKjC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgG,IAAA,CAA7F,MAAM,8BAA6B,yDAAsD,EAAA,KAG9FA,EAcM,MAAA,KAAA,CAbJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,wBAE5D,EAAA,KACAA,EAQS,SAAA,CAPE,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,oBAAmB4N,GACrC,MAAM,kIAENvB,EAA2C,SAAA,CAAnC,MAAM,EAAE,EAAC,oBAAiB,EAAA,EAClCA,EAAoC,SAAA,CAA5B,MAAM,OAAO,EAAC,QAAK,EAAA,EAC3BA,EAAgD,SAAA,CAAxC,MAAM,aAAa,EAAC,cAAW,EAAA,EACvCA,EAAoE,SAAA,CAA5D,MAAM,uBAAuB,EAAC,wBAAqB,EAAA,WANlD,CAAAwD,EAAA7P,EAAA,MAAS,mBAAmB,IAQvC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAuE,IAAA,CAApE,MAAM,8BAA6B,gCAA6B,EAAA,OAKvEA,EA2BM,MA3BN4G,GA2BM,CA1BJ5G,EASM,MATN6G,GASM,GARJ7G,EAIE,QAAA,CAHA,KAAK,WACI,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,0BAAyB4N,GAC3C,MAAM,qFADG,CAAAwD,EAAApR,EAAA,MAAS,yBAAyB,IAG7C0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,0CAAyC,2CAEtD,EAAA,KAGSrM,EAAA,MAAS,2BAApBkM,IAAAC,EAcM,MAdNgH,GAcM,CAbJzG,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,8BAE5D,EAAA,KACAA,EAME,QAAA,CALS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,gCAA+B4N,GACjD,KAAK,OACL,YAAY,iBACZ,MAAM,4GACL,SAAU5N,EAAA,MAAS,uCAJX,CAAA6Q,EAAA7Q,EAAA,MAAS,+BAA+B,IAMnD0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,8BAA6B,0EAEtC,EAAA,iBAKJA,EAkEM,MAlEN+G,GAkEM,CAjEJ/G,EAiBM,MAAA,KAAA,CAhBJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,sBAE5D,EAAA,GACAA,EAWM,MAXNgH,GAWM,MAVJlH,EASQgB,EAAA,KAAAC,EATqBxN,GAAfE,GAAduM,EASQ,QAAA,CAT6C,IAAKvM,EAAa,MAAM,sBAC3EuM,EAME,QAAA,CALA,KAAK,WACJ,MAAOvM,EACP,SAAM8N,GAAE/N,GAAkBC,CAAW,EACrC,QAASI,GAAsBJ,CAAW,EAC3C,MAAM,iFAERuM,EAAiE,OAAjEiH,GAAiE1G,EAArB9M,CAAW,EAAA,CAAA,YAG3D4M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA8F,IAAA,CAA3F,MAAM,8BAA6B,uDAAoD,EAAA,KAG5FA,EA6CM,MAAA,KAAA,CA5CJA,EAYQ,QAZRkH,GAYQ,mBAZoD,sBAE1D,EAAA,GAAAlH,EASS,SAAA,CARP,KAAK,SACJ,QAAKK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAEjO,GAAA,MAAsB,CAAIA,GAAA,OAClC,MAAM,yCACN,MAAM,uCAEN0M,EAEM,MAAA,CAFD,MAAM,iBAAiB,KAAK,OAAO,OAAO,eAAe,QAAQ,cACpEA,EAAsI,OAAA,CAAhI,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yEAKnE1M,GAAA,OAAXuM,IAAAC,EAWM,MAXNqH,GAWM,CAAA,GAAA9G,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,+uBAENL,EAWS,SAAA,CAVE,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,gBAAe4N,GACjC,MAAM,4GACN,SAAA,0YAFS,CAAAiC,EAAA7P,EAAA,MAAS,eAAe,IAWnC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAqF,IAAA,CAAlF,MAAM,4BAA4B,EAAC,8CAA2C,EAAA,GAEtErI,GAAA,WAAXmI,EAEM,MAFNsH,GAEM7G,EADD5I,GAAA,KAAqB,EAAA,CAAA,gBAMnBhE,EAAA,MAAS,kBAAe,+BAAnCkM,IAAAC,EA8DM,MA9DNuH,GA8DM,CA7DJhH,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiG,KAAA,CAA7F,MAAM,0CAA0C,EAAC,0CAAuC,EAAA,GAC5FK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAqJ,IAAA,CAAlJ,MAAM,4BAA4B,EAAC,8GAA2G,EAAA,GAEjJA,EAyDM,MAzDNsH,GAyDM,CAxDJtH,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwF,QAAA,CAAjF,MAAM,8CAA8C,EAAC,uBAAoB,EAAA,KAChFA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,qBAAoB4N,GACtC,KAAK,OACL,YAAY,2CACZ,MAAM,gIAHG,CAAAiD,EAAA7Q,EAAA,MAAS,oBAAoB,MAO1CqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoG,QAAA,CAA7F,MAAM,8CAA8C,EAAC,mCAAgC,EAAA,KAC5FA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,8BAA6B4N,GAC/C,KAAK,IACL,YAAY,2EACZ,MAAM,gIAHG,CAAAiD,EAAA7Q,EAAA,MAAS,6BAA6B,MAOnDqM,EAsBM,MAtBNuH,GAsBM,CArBJvH,EAWM,MAAA,KAAA,CAVJA,EASM,MATNwH,GASM,GARJxH,EAIE,QAAA,CAHA,KAAK,WACI,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,iCAAgC4N,GAClD,MAAM,qFADG,CAAAwD,EAAApR,EAAA,MAAS,gCAAgC,IAGpD0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,0CAAyC,8CAEtD,EAAA,OAIOrM,EAAA,MAAS,sCAApBmM,EAOM,MAAA2H,GAAA,CANJpH,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiF,QAAA,CAA1E,MAAM,8CAA8C,EAAC,gBAAa,EAAA,KACzEA,EAIE,QAAA,CAHS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,uBAAsB4N,GACxC,KAAK,OACL,MAAM,gIAFG,CAAAiD,EAAA7Q,EAAA,MAAS,sBAAsB,kBAOnCA,EAAA,MAAS,sCAApBmM,EAWM,MAAA4H,GAAA,CAVJrH,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA0F,QAAA,CAAnF,MAAM,8CAA8C,EAAC,yBAAsB,EAAA,GAClFA,EAKE,QAAA,CAJA,KAAK,OACJ,SAAQ5I,GACT,OAAO,4BACP,MAAM,8LAECzD,EAAA,MAAS,gCAAlBmM,EAEI,IAFJ6H,GAAiF,uBAEjF,sCAMN3H,EA8KM,MA9KN4H,GA8KM,CA7KJvH,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA0E,KAAA,CAAtE,MAAM,0CAA0C,EAAC,mBAAgB,EAAA,GACrEK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+G,IAAA,CAA5G,MAAM,4BAA4B,EAAC,wEAAqE,EAAA,GAG3GA,EAwKM,MAxKN6H,GAwKM,CAtKJ7H,EAuCM,MAvCN8H,GAuCM,CAtCJ9H,EAeS,SAAA,CAdN,yBAAO9I,GAAqB,UAAA,GAC7B,KAAK,SACL,MAAM,sGAENmJ,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoF,OAAA,CAA9E,MAAM,mCAAmC,EAAC,gCAA6B,EAAA,QAC7EF,EAQM,MAAA,CAPH,MAAKoB,EAAA,CAAA,CAAA,aAAkBjK,EAAA,MAAkB,UACpC,4CAA4C,CAAA,EAClD,KAAK,OACL,OAAO,eACP,QAAQ,kCAER+I,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,oCAGjE/I,EAAA,MAAkB,UAA7B4I,IAAAC,EAqBM,MArBNiI,GAqBM,CApBJ/H,EAmBM,MAnBNgI,GAmBM,CAlBJhI,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA4F,QAAA,CAArF,MAAM,8CAA8C,EAAC,2BAAwB,EAAA,KACpFA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,gBAAe4N,GACjC,KAAK,SACL,YAAY,YACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,eAAe,MAMrCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyF,QAAA,CAAlF,MAAM,8CAA8C,EAAC,wBAAqB,EAAA,KACjFA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,oBAAmB4N,GACrC,KAAK,SACL,YAAY,YACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,mBAAmB,sBAW/CqM,EAuCM,MAvCNiI,GAuCM,CAtCJjI,EAeS,SAAA,CAdN,yBAAO9I,GAAqB,YAAA,GAC7B,KAAK,SACL,MAAM,sGAENmJ,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiE,OAAA,CAA3D,MAAM,mCAAmC,EAAC,aAAU,EAAA,QAC1DF,EAQM,MAAA,CAPH,MAAKoB,EAAA,CAAA,CAAA,aAAkBjK,EAAA,MAAkB,YACpC,4CAA4C,CAAA,EAClD,KAAK,OACL,OAAO,eACP,QAAQ,kCAER+I,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,oCAGjE/I,EAAA,MAAkB,YAA7B4I,IAAAC,EAqBM,MArBNoI,GAqBM,CApBJlI,EAmBM,MAnBNmI,GAmBM,CAlBJnI,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA0F,QAAA,CAAnF,MAAM,8CAA8C,EAAC,yBAAsB,EAAA,KAClFA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,kBAAiB4N,GACnC,KAAK,SACL,YAAY,YACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,iBAAiB,MAMvCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwG,QAAA,CAAjG,MAAM,8CAA8C,EAAC,uCAAoC,EAAA,KAChGA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,+BAA8B4N,GAChD,KAAK,SACL,YAAY,YACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,8BAA8B,sBAW1DqM,EAuCM,MAvCNoI,GAuCM,CAtCJpI,EAeS,SAAA,CAdN,yBAAO9I,GAAqB,SAAA,GAC7B,KAAK,SACL,MAAM,sGAENmJ,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwE,OAAA,CAAlE,MAAM,mCAAmC,EAAC,oBAAiB,EAAA,QACjEF,EAQM,MAAA,CAPH,MAAKoB,EAAA,CAAA,CAAA,aAAkBjK,EAAA,MAAkB,SACpC,4CAA4C,CAAA,EAClD,KAAK,OACL,OAAO,eACP,QAAQ,kCAER+I,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,oCAGjE/I,EAAA,MAAkB,SAA7B4I,IAAAC,EAqBM,MArBNuI,GAqBM,CApBJrI,EAmBM,MAnBNsI,GAmBM,CAlBJtI,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoG,QAAA,CAA7F,MAAM,8CAA8C,EAAC,mCAAgC,EAAA,KAC5FA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,wBAAuB4N,GACzC,KAAK,SACL,YAAY,WACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,uBAAuB,MAM7CqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2F,QAAA,CAApF,MAAM,8CAA8C,EAAC,0BAAuB,EAAA,KACnFA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,wBAAuB4N,GACzC,KAAK,SACL,YAAY,UACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,uBAAuB,sBAWnDqM,EAuCM,MAvCNuI,GAuCM,CAtCJvI,EAeS,SAAA,CAdN,yBAAO9I,GAAqB,YAAA,GAC7B,KAAK,SACL,MAAM,sGAENmJ,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiE,OAAA,CAA3D,MAAM,mCAAmC,EAAC,aAAU,EAAA,QAC1DF,EAQM,MAAA,CAPH,MAAKoB,EAAA,CAAA,CAAA,aAAkBjK,EAAA,MAAkB,YACpC,4CAA4C,CAAA,EAClD,KAAK,OACL,OAAO,eACP,QAAQ,kCAER+I,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,oCAGjE/I,EAAA,MAAkB,YAA7B4I,IAAAC,EAqBM,MArBN0I,GAqBM,CApBJxI,EAmBM,MAnBNyI,GAmBM,CAlBJzI,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAsF,QAAA,CAA/E,MAAM,8CAA8C,EAAC,qBAAkB,EAAA,KAC9EA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,mBAAkB4N,GACpC,KAAK,OACL,YAAY,wBACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,kBAAkB,MAMxCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA0F,QAAA,CAAnF,MAAM,8CAA8C,EAAC,yBAAsB,EAAA,KAClFA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,uBAAsB4N,GACxC,KAAK,OACL,YAAY,2BACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,sBAAsB,0BAatDqM,EAqIM,MArIN0I,GAqIM,CApIJrI,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA4E,KAAA,CAAxE,MAAM,0CAA0C,EAAC,qBAAkB,EAAA,GACvEK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA4H,IAAA,CAAzH,MAAM,4BAA4B,EAAC,qFAAkF,EAAA,GAExHA,EAgIM,MAhIN2I,GAgIM,CA/HJ3I,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAmF,QAAA,CAA5E,MAAM,8CAA8C,EAAC,kBAAe,EAAA,KAC3EA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,gBAAe4N,GACjC,KAAK,IACL,MAAM,6DACN,YAAY,8FAHH,CAAAiD,EAAA7Q,EAAA,MAAS,eAAe,MAOrCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAuF,QAAA,CAAhF,MAAM,8CAA8C,EAAC,sBAAmB,EAAA,KAC/EA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,gCAA+B4N,GACjD,KAAK,IACL,MAAM,6DACN,YAAY,uFAHH,CAAAiD,EAAA7Q,EAAA,MAAS,+BAA+B,MAOrDqM,EAoCM,MApCN4I,GAoCM,CAnCJ5I,EAmBM,MAAA,KAAA,CAlBJA,EASM,MATN6I,GASM,GARJ7I,EAIE,QAAA,CAHA,KAAK,WACI,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,qBAAoB4N,GACtC,MAAM,qFADG,CAAAwD,EAAApR,EAAA,MAAS,oBAAoB,IAGxC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,0CAAyC,0CAEtD,EAAA,KAESrM,EAAA,MAAS,0BAApBmM,EAOM,MAAAgJ,GAAA,GANJ9I,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,wBAAuB4N,GACzC,KAAK,IACL,MAAM,6DACN,YAAY,0DAHH,CAAAiD,EAAA7Q,EAAA,MAAS,uBAAuB,kBAQ/CqM,EAaM,MAAA,KAAA,CAZJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA6F,QAAA,CAAtF,MAAM,8CAA8C,EAAC,4BAAyB,EAAA,KACrFA,EAUS,SAAA,CATE,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,0BAAyB4N,GAC3C,MAAM,wfADG,CAAAiC,EAAA7P,EAAA,MAAS,yBAAyB,QAcjDqM,EAyDM,MAzDN+I,GAyDM,CAxDJ1I,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+F,KAAA,CAA3F,MAAM,0CAA0C,EAAC,wCAAqC,EAAA,GAC1FK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwG,IAAA,CAArG,MAAM,4BAA4B,EAAC,iEAA8D,EAAA,GAEpGA,EAWM,MAXNgJ,GAWM,MAVJlJ,EASMgB,EAAA,KAAAC,EATgBzM,GAAVI,GAAZsL,EASM,MAAA,CATqC,IAAKtL,EAAQ,MAAM,wBAC5DsL,EAME,QAAA,CALA,KAAK,WACJ,aAAgBtL,EAChB,MAAOA,yCACCH,GAAe,MAAAgN,GACxB,MAAM,oFADGhN,GAAA,KAAe,IAG1ByL,EAAwF,QAAA,CAAhF,cAAiBtL,EAAQ,MAAM,gCAAgCA,CAAM,EAAA,EAAAuU,EAAA,YAItE1U,GAAA,MAAgB,OAAM,GAAjCsL,IAAAC,EAuCM,MAvCNoJ,GAuCM,QAtCJpJ,EAqCMgB,EAAA,KAAAC,EArCgBxM,GAAA,MAAVG,QAAZoL,EAqCM,MAAA,CArCkC,IAAKpL,EAAQ,MAAM,mBACzDsL,EAAsE,KAAtEmJ,GAAsE5I,EAAd7L,CAAM,EAAA,CAAA,EAC9DsL,EAyBM,MAzBNoJ,GAyBM,CAxBJpJ,EAYM,MAAA,KAAA,CAXJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA8E,QAAA,CAAvE,MAAM,8CAA8C,EAAC,aAAU,EAAA,KACtEA,EASS,SAAA,0BAREvL,EAAcC,CAAM,EAAE,WAAU6M,EACzC,MAAM,ySADG9M,EAAcC,CAAM,EAAE,UAAU,MAU7CsL,EAUM,MAVNqJ,GAUM,CATJrJ,EAQM,MARNsJ,GAQM,GAPJtJ,EAKE,QAAA,CAJA,KAAK,WACJ,iBAAoBtL,2BACZD,EAAcC,CAAM,EAAE,oBAAmB6M,EAClD,MAAM,oFADG9M,EAAcC,CAAM,EAAE,mBAAmB,IAGpDsL,EAAmG,QAAA,CAA3F,kBAAqBtL,EAAQ,MAAM,8BAA6B,sBAAmB,EAAA6U,EAAA,QAIjGvJ,EAQM,MARNwJ,GAQM,CAPJnJ,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoF,QAAA,CAA7E,MAAM,8CAA8C,EAAC,mBAAgB,EAAA,KAC5EA,EAKY,WAAA,0BAJDvL,EAAcC,CAAM,EAAE,iBAAgB6M,EAC/C,KAAK,IACL,MAAM,mEACN,YAAY,kEAHH9M,EAAcC,CAAM,EAAE,gBAAgB,8BAUzDsL,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2F,QAAA,CAApF,MAAM,8CAA8C,EAAC,0BAAuB,EAAA,KACnFA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,wBAAuB4N,GACzC,KAAK,IACL,MAAM,6DACN,YAAY,uEAHH,CAAAiD,EAAA7Q,EAAA,MAAS,uBAAuB,UAUjDqM,EA0GM,MA1GNyJ,GA0GM,CAzGJpJ,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2G,KAAA,CAAvG,MAAM,0CAA0C,EAAC,oDAAiD,EAAA,GACtGK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgH,IAAA,CAA7G,MAAM,4BAA4B,EAAC,yEAAsE,EAAA,GAG5GA,EAoBM,MApBN0J,GAoBM,CAnBJrJ,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA6E,KAAA,CAAzE,MAAM,0CAA0C,EAAC,sBAAmB,EAAA,GACxEA,EAiBM,MAjBN2J,GAiBM,CAhBJ3J,EAGM,MAAA,KAAA,CAFJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyD,OAAA,CAAnD,MAAM,2BAA2B,EAAC,aAAU,EAAA,GAClDA,EAAuF,OAAvF4J,GAAuFrJ,EAAnD5M,EAAA,MAAS,gBAAc,cAAA,EAAA,CAAA,IAE7DqM,EAGM,MAAA,KAAA,CAFJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwD,OAAA,CAAlD,MAAM,2BAA2B,EAAC,YAAS,EAAA,GACjDA,EAAyF,OAAzF6J,GAAyFtJ,EAArD5M,EAAA,MAAS,kBAAgB,cAAA,EAAA,CAAA,IAE/DqM,EAGM,MAAA,KAAA,CAFJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+D,OAAA,CAAzD,MAAM,2BAA2B,EAAC,mBAAgB,EAAA,GACxDA,EAA4H,OAA5H8J,GAA4HvJ,EAAxF5M,EAAA,MAAS,cAAc,IAAIC,GAAMA,EAAG,YAAY,EAAE,KAAI,IAAA,GAAA,cAAA,EAAA,CAAA,IAE5FoM,EAGM,MAAA,KAAA,CAFJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+D,OAAA,CAAzD,MAAM,2BAA2B,EAAC,mBAAgB,EAAA,GACxDA,EAAwF,OAAxF+J,GAAwFxJ,EAApD5M,EAAA,MAAS,iBAAe,cAAA,EAAA,CAAA,QAKlEqM,EA8EM,MA9ENgK,GA8EM,MA7EJlK,EA4EMgB,EAAA,KAAAC,EA5EiBlM,GAAXG,GAAZgL,EA4EM,MAAA,CA5E4B,IAAKhL,EAAQ,MAAO,MAAM,qDAC1DgL,EAUM,MAVNiK,GAUM,GATJjK,EAKE,QAAA,CAJA,KAAK,WACJ,GAAE,OAAWhL,EAAQ,MACb,sBAAAuM,GAAAxM,EAAWC,EAAQ,KAAK,EAAE,QAAOuM,EAC1C,MAAM,sFADG,CAAAwD,EAAAhQ,EAAWC,EAAQ,KAAK,EAAE,OAAO,IAG5CgL,EAEQ,QAAA,CAFA,IAAG,OAAWhL,EAAQ,MAAO,MAAM,wCACtC,EAAAuL,EAAAvL,EAAQ,KAAK,EAAA,EAAAkV,EAAA,IAITnV,EAAWC,EAAQ,KAAK,EAAE,SAArC6K,IAAAC,EA8DM,MA9DNqK,GA8DM,CA5DOnV,EAAQ,QAAK,aAAxB8K,EASM,MAAAsK,GAAA,CARJ/J,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2F,QAAA,CAApF,MAAM,8CAA8C,EAAC,0BAAuB,EAAA,KACnFA,EAME,QAAA,CALS,sBAAAuB,GAAAxM,EAAWC,EAAQ,KAAK,EAAE,sBAAqBuM,EACxD,KAAK,OACL,SAAA,GACA,MAAM,mEACN,YAAY,8CAJH,CAAAiD,EAAAzP,EAAWC,EAAQ,KAAK,EAAE,qBAAqB,gBAQ5DgL,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAqF,QAAA,CAA9E,MAAM,8CAA8C,EAAC,oBAAiB,EAAA,KAC7EA,EAQS,SAAA,CAPE,sBAAAuB,GAAAxM,EAAWC,EAAQ,KAAK,EAAE,kBAAiBuM,EACpD,MAAM,yFAENvB,EAAkD,SAAA,CAA1C,MAAM,EAAE,EAAC,2BAAwB,EAAA,EACzCA,EAA8D,SAAA,CAAtD,MAAM,oBAAoB,EAAC,qBAAkB,EAAA,EACrDA,EAA0D,SAAA,CAAlD,MAAM,kBAAkB,EAAC,mBAAgB,EAAA,EACjDA,EAAsE,SAAA,CAA9D,MAAM,wBAAwB,EAAC,yBAAsB,EAAA,YANpD,CAAAwD,EAAAzO,EAAWC,EAAQ,KAAK,EAAE,iBAAiB,MAUxDgL,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoF,QAAA,CAA7E,MAAM,8CAA8C,EAAC,mBAAgB,EAAA,KAC5EA,EAKY,WAAA,CAJD,sBAAAuB,GAAAxM,EAAWC,EAAQ,KAAK,EAAE,iBAAgBuM,EACnD,KAAK,IACL,MAAM,mEACN,YAAY,yDAHH,CAAAiD,EAAAzP,EAAWC,EAAQ,KAAK,EAAE,gBAAgB,MAQvDgL,EAwBM,MAAA,KAAA,CAvBJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkG,QAAA,CAA3F,MAAM,8CAA8C,EAAC,iCAA8B,EAAA,GAC1FA,EAOM,MAPNqK,GAOM,CANJrK,EAKE,QAAA,CAJA,KAAK,OACJ,YAAQ/K,GAAwBsM,EAAQvM,EAAQ,KAAK,EACtD,OAAO,kCACP,MAAM,0KAGVqL,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAmF,IAAA,CAAhF,MAAM,4BAA4B,EAAC,4CAAyC,EAAA,GAEpE5K,GAAgBJ,EAAQ,KAAK,EAAE,OAAM,GAAhD6K,IAAAC,EAWM,MAXNwK,GAWM,QAVJxK,EASMgB,EAAA,KAAAC,EATuB3L,GAAgBJ,EAAQ,KAAK,EAAA,CAA7CuV,EAAKhV,IAAM,kBAAxBuK,EASM,MAAA,CATwD,IAAKvK,EAAQ,MAAM,qEAC/EyK,EAA+F,OAA/FwK,GAA+FjK,EAAhEgK,EAAI,aAAa,EAAG,MAAGhK,IAAGlK,EAAAkU,EAAI,OAAJ,YAAAlU,EAAU,OAAI,UAAA,EAAA,CAAA,EACvE2J,EAMS,SAAA,CALN,YAAO1K,GAAkBN,EAAQ,MAAOO,CAAM,EAC/C,KAAK,SACL,MAAM,mCACP,WAED,EAAAkV,EAAA,kDAUH7U,GAAA,OAAXiK,IAAAC,EAgFM,MAhFN4K,GAgFM,CA/EJrK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoH,KAAA,CAAhH,MAAM,0CAA0C,EAAC,6DAA0D,EAAA,GAC/GK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAmJ,IAAA,CAAhJ,MAAM,4BAA4B,EAAC,4GAAyG,EAAA,GAE/IA,EASM,MAAA,CATD,MAAM,wCAAwC,EAAA,CACjDK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoG,IAAA,CAAjG,MAAM,uBAAuB,EAAC,kEAA+D,EAAA,GAChGA,EAMS,SAAA,CALN,QAAO/J,GACR,KAAK,SACL,MAAM,wFACP,uBAED,IAGStC,EAAA,MAAS,gBAAgB,OAAM,GAA1CkM,IAAAC,EA2DM,MA3DN6K,GA2DM,EA1DJ9K,EAAA,EAAA,EAAAC,EAyDMgB,SAxDoBnN,EAAA,MAAS,gBAAe,CAAxCwC,EAAMzC,SADhBoM,EAyDM,MAAA,CAvDH,IAAKpM,EACN,MAAM,qFAENsM,EAmDM,MAnDN4K,GAmDM,CAlDJ5K,EA0BM,MA1BN6K,GA0BM,CAzBJ7K,EAQM,MARN8K,GAQM,CAPJ9K,EAAmF,KAAnF+K,GAAgD,oBAAkBrX,EAAK,CAAA,EAAA,CAAA,EAC3DyC,EAAK,eAAjB0J,EAAA,EAAAC,EAEO,OAFPkL,GAEOzK,EADFpK,EAAK,aAAa,EAAA,CAAA,YAEXA,EAAK,oCAAjB2J,EAEO,OAFPmL,GAA6H,kBAE7H,cAEFjL,EAAsG,IAAtGkL,GAAsG3K,EAA7DpK,EAAK,sBAAoB,yBAAA,EAAA,CAAA,EAGlE6J,EAIM,MAJNmL,GAIM,CAHQhV,EAAK,0BAAjB2J,EAAgI,OAAhIsL,GAAqG,sBAAoB,YAC7GjV,EAAK,2BAAjB2J,EAAsI,OAAtIuL,GAA0G,uBAAqB,YACnHlV,EAAK,uBAAjB2J,EAA8H,OAA9HwL,GAAsG,mBAAiB,cAI9GnV,EAAK,qBAAuBA,EAAK,oBAAoB,OAAM,GAAtE0J,IAAAC,EAEM,MAFNyL,GAEM,CADJlL,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA0B,cAAlB,YAAS,EAAA,GAASwL,EAAA,IAACjL,EAAGpK,EAAK,oBAAoB,IAAIG,GAAKA,EAAE,aAAa,EAAE,KAAI,IAAA,CAAA,EAAA,CAAA,cAI9EH,EAAK,OAAd0J,EAAA,EAAAC,EAAmF,IAAnF2L,GAAmFlL,EAAjBpK,EAAK,KAAK,EAAA,CAAA,cAG9E6J,EAqBM,MArBN0L,GAqBM,CApBJ1L,EASS,SAAA,CARN,QAAKuB,GAAErL,GAAiBxC,CAAK,EAC9B,KAAK,SACL,MAAM,oCACN,MAAM,sCAENsM,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAmM,OAAA,CAA7L,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yIAG5EA,EASS,SAAA,CARN,QAAKuB,GAAEvK,GAAmBtD,CAAK,EAChC,KAAK,SACL,MAAM,kCACN,MAAM,wCAENsM,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAyM,OAAA,CAAnM,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,iKAQpFH,IAAAC,EAGM,MAHN6L,GAGM,CAAA,GAAAtL,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFJL,EAAiE,IAAA,CAA9D,MAAM,uBAAuB,EAAC,+BAA4B,EAAA,EAC7DA,EAA4G,IAAA,CAAzG,MAAM,4BAA4B,EAAC,qEAAkE,EAAA,mBAK5GA,EAsQM,MAtQN4L,GAsQM,CArQJvL,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAqG,KAAA,CAAjG,MAAM,4CAA4C,EAAC,4CAAyC,EAAA,GAChGK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAGI,IAAA,CAHD,MAAM,4BAA4B,EAAC,4MAGtC,EAAA,GAGAA,EAwPM,MAxPN6L,GAwPM,CAtPJ7L,EAYM,MAAA,KAAA,CAXJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,6CAE5D,EAAA,KACAA,EAMY,WAAA,CALD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,yBAAwB4N,GAC1C,KAAK,IACL,MAAM,4GACN,YAAY,4GACZ,SAAA,eAJS,CAAAiD,EAAA7Q,EAAA,MAAS,wBAAwB,IAM5C0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAsF,IAAA,CAAnF,MAAM,8BAA6B,+CAA4C,EAAA,KAIpFA,EAiBM,MAAA,KAAA,CAhBJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,gDAE5D,EAAA,KACAA,EAWS,SAAA,CAVE,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,oBAAmB4N,GACrC,MAAM,ggBADG,CAAAiC,EAAA7P,EAAA,MAAS,mBAAmB,IAWvC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyF,IAAA,CAAtF,MAAM,8BAA6B,kDAA+C,EAAA,KAIvFA,EAYM,MAAA,KAAA,CAXJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,6CAE5D,EAAA,KACAA,EAMY,WAAA,CALD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,yBAAwB4N,GAC1C,KAAK,IACL,MAAM,4GACN,YAAY,oJACZ,SAAA,eAJS,CAAAiD,EAAA7Q,EAAA,MAAS,wBAAwB,IAM5C0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA4G,IAAA,CAAzG,MAAM,8BAA6B,qEAAkE,EAAA,KAI1GA,EAiDM,MAjDN8L,GAiDM,CAhDJzL,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+E,KAAA,CAA3E,MAAM,wCAAwC,EAAC,0BAAuB,EAAA,GAC1EA,EA8CM,MA9CN+L,GA8CM,CA7CJ/L,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkF,QAAA,CAA3E,MAAM,8CAA8C,EAAC,iBAAc,EAAA,KAC1EA,EAKE,QAAA,CAJgB,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,cAAa4N,GACtC,KAAK,SACL,MAAM,6DACN,YAAY,2BAHI5N,EAAA,MAAS,qBAAjB,CAAA,OAAR,EAAuC,OAM3CqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+E,QAAA,CAAxE,MAAM,8CAA8C,EAAC,cAAW,EAAA,KACvEA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,gBAAe4N,GACjC,KAAK,OACL,MAAM,6DACN,YAAY,yCAHH,CAAAiD,EAAA7Q,EAAA,MAAS,eAAe,MAMrCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA0E,QAAA,CAAnE,MAAM,8CAA8C,EAAC,SAAM,EAAA,KAClEA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,WAAU4N,GAC5B,KAAK,OACL,MAAM,6DACN,YAAY,+CAHH,CAAAiD,EAAA7Q,EAAA,MAAS,UAAU,MAMhCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA4E,QAAA,CAArE,MAAM,8CAA8C,EAAC,WAAQ,EAAA,KACpEA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,aAAY4N,GAC9B,KAAK,IACL,MAAM,6DACN,YAAY,2CAHH,CAAAiD,EAAA7Q,EAAA,MAAS,YAAY,MAMlCqM,EAQM,MARNgM,GAQM,CAPJ3L,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgF,QAAA,CAAzE,MAAM,8CAA8C,EAAC,eAAY,EAAA,KACxEA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,iBAAgB4N,GAClC,KAAK,IACL,MAAM,6DACN,YAAY,yCAHH,CAAAiD,EAAA7Q,EAAA,MAAS,gBAAgB,UAU1CqM,EAsFM,MAAA,KAAA,CArFJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,yDAE5D,EAAA,GACAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,qGAEtC,EAAA,GAEAA,EA6EM,MA7ENiM,GA6EM,CA3EJjM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwF,QAAA,CAAjF,MAAM,8CAA8C,EAAC,uBAAoB,EAAA,KAChFA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,kBAAiB4N,GACnC,KAAK,IACL,MAAM,6DACN,YAAY,sGAHH,CAAAiD,EAAA7Q,EAAA,MAAS,iBAAiB,MAQvCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAuF,QAAA,CAAhF,MAAM,8CAA8C,EAAC,sBAAmB,EAAA,KAC/EA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,iBAAgB4N,GAClC,KAAK,IACL,MAAM,6DACN,YAAY,kGAHH,CAAAiD,EAAA7Q,EAAA,MAAS,gBAAgB,MAQtCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAsG,QAAA,CAA/F,MAAM,8CAA8C,EAAC,qCAAkC,EAAA,KAC9FA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,mBAAkB4N,GACpC,KAAK,IACL,MAAM,6DACN,YAAY,oGAHH,CAAAiD,EAAA7Q,EAAA,MAAS,kBAAkB,MAQxCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkG,QAAA,CAA3F,MAAM,8CAA8C,EAAC,iCAA8B,EAAA,KAC1FA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,+BAA8B4N,GAChD,KAAK,IACL,MAAM,6DACN,YAAY,oGAHH,CAAAiD,EAAA7Q,EAAA,MAAS,8BAA8B,MAQpDqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA6G,QAAA,CAAtG,MAAM,8CAA8C,EAAC,4CAAyC,EAAA,KACrGA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,kBAAiB4N,GACnC,KAAK,IACL,MAAM,6DACN,YAAY,6FAHH,CAAAiD,EAAA7Q,EAAA,MAAS,iBAAiB,MAQvCqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2F,QAAA,CAApF,MAAM,8CAA8C,EAAC,0BAAuB,EAAA,KACnFA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,uBAAsB4N,GACxC,KAAK,IACL,MAAM,6DACN,YAAY,4FAHH,CAAAiD,EAAA7Q,EAAA,MAAS,sBAAsB,MAQ5CqM,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoG,QAAA,CAA7F,MAAM,8CAA8C,EAAC,mCAAgC,EAAA,KAC5FA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,iBAAgB4N,GAClC,KAAK,IACL,MAAM,6DACN,YAAY,8GAHH,CAAAiD,EAAA7Q,EAAA,MAAS,gBAAgB,UAU1CqM,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,8DAE5D,EAAA,KACAA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,oBAAmB4N,GACrC,KAAK,IACL,MAAM,6DACN,YAAY,0LAHH,CAAAiD,EAAA7Q,EAAA,MAAS,mBAAmB,IAKvC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkG,IAAA,CAA/F,MAAM,8BAA6B,2DAAwD,EAAA,KAIhGA,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,6DAE5D,EAAA,KACAA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,wBAAuB4N,GACzC,KAAK,IACL,MAAM,6DACN,YAAY,8HAHH,CAAAiD,EAAA7Q,EAAA,MAAS,uBAAuB,IAK3C0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA6E,IAAA,CAA1E,MAAM,8BAA6B,sCAAmC,EAAA,KAI3EA,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,6CAE5D,EAAA,KACAA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,qBAAoB4N,GACtC,KAAK,IACL,MAAM,6DACN,YAAY,uIAHH,CAAAiD,EAAA7Q,EAAA,MAAS,oBAAoB,IAKxC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkH,IAAA,CAA/G,MAAM,8BAA6B,2EAAwE,EAAA,KAIhHA,EAYM,MAAA,KAAA,CAXJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,kDAE5D,EAAA,KACAA,EAMY,WAAA,CALD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,sBAAqB4N,GACvC,KAAK,IACL,MAAM,4GACN,YAAY,8JACZ,SAAA,eAJS,CAAAiD,EAAA7Q,EAAA,MAAS,qBAAqB,IAMzC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAsG,IAAA,CAAnG,MAAM,8BAA6B,+DAA4D,EAAA,uBAItGA,EAGM,MAAA,CAHD,MAAM,4EAA0E,CACnFA,EAAsB,cAAd,OAAK,IAAS,8IAExB,UAIFA,EAoMM,MApMNkM,GAoMM,CAnMJ7L,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2E,KAAA,CAAvE,MAAM,4CAA4C,EAAC,kBAAe,EAAA,GACtEK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,mGAEtC,EAAA,GAGAA,EA6CM,MA7CNmM,GA6CM,CA5CJnM,EAUM,MAVNoM,GAUM,CATJ/L,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+D,KAAA,CAA3D,MAAM,qCAAqC,EAAC,aAAU,EAAA,GAC1DQ,EAOSC,EAAAC,CAAA,EAAA,CAPA,QAAOnE,GAAa,QAAQ,UAAU,MAAM,OAAO,KAAK,OACpD,SACT,IAEM,CAAA,GAAA8D,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sCAEjE,IAEb,mBAFa,aAEb,EAAA,aAGFK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,4EAEtC,EAAA,GAEWrM,EAAA,MAAS,eAAe,OAAM,GAAzCkM,IAAAC,EAyBM,MAzBNuM,GAyBM,EAxBJxM,EAAA,EAAA,EAAAC,EAuBMgB,SAtBoBnN,EAAA,MAAS,eAAc,CAAvC6I,EAAM9I,SADhBoM,EAuBM,MAAA,CArBH,IAAKpM,EACN,MAAM,mDAENsM,EAiBM,MAjBNsM,GAiBM,CAhBJtM,EAQM,MARNuM,GAQM,CAPJvM,EAKM,MALNwM,GAKM,CAJJxM,EAA8E,KAA9EyM,GAA8ElM,EAA3B/D,EAAK,cAAc,EAAA,CAAA,EACtEwD,EAEO,OAFP0M,GAEOnM,EADF/D,EAAK,eAAe,EAAA,CAAA,IAGlBA,EAAK,kBAAdqD,EAAA,EAAAC,EAA6F,IAA7F6M,GAA6FpM,EAA5B/D,EAAK,gBAAgB,EAAA,CAAA,cAExFgE,EAMSC,EAAAC,CAAA,EAAA,CANA,QAAKa,GAAE5E,GAAejJ,CAAK,EAAG,QAAQ,QAAQ,MAAM,MAAM,KAAK,OAC3D,SACT,IAEM,CAAA,GAAA2M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,0EAQpFF,EAA0E,IAA1E8M,GAA+C,yBAAuB,KAIxE5M,EA6CM,MA7CN6M,GA6CM,CA5CJ7M,EAUM,MAVN8M,GAUM,CATJzM,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyE,KAAA,CAArE,MAAM,qCAAqC,EAAC,uBAAoB,EAAA,GACpEQ,EAOSC,EAAAC,CAAA,EAAA,CAPA,QAAO9D,GAAuB,QAAQ,UAAU,MAAM,OAAO,KAAK,OAC9D,SACT,IAEM,CAAA,GAAAyD,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sCAEjE,IAEb,mBAFa,iBAEb,EAAA,aAGFK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,gFAEtC,EAAA,GAEWrM,EAAA,MAAS,yBAAyB,OAAM,GAAnDkM,IAAAC,EAyBM,MAzBNiN,GAyBM,EAxBJlN,EAAA,EAAA,EAAAC,EAuBMgB,SAtBwBnN,EAAA,MAAS,yBAAwB,CAArDkJ,EAAUnJ,SADpBoM,EAuBM,MAAA,CArBH,IAAKpM,EACN,MAAM,mDAENsM,EAiBM,MAjBNgN,GAiBM,CAhBJhN,EAQM,MARNiN,GAQM,CAPJjN,EAKM,MALNkN,GAKM,CAJJlN,EAAsF,KAAtFmN,GAAsF5M,EAAnC1D,EAAS,kBAAkB,EAAA,CAAA,EAC9EmD,EAEO,OAAA,CAFA,MAAKkB,EAAA,CAAA,0CAA8CrE,EAAS,SAAQ,8BAAA,yBAAA,CAAA,CACtE,EAAA0D,EAAA1D,EAAS,SAAQ,WAAA,eAAA,EAAA,CAAA,IAGfA,EAAS,qBAAlBgD,EAAA,EAAAC,EAA2G,IAA3GsN,GAA2G7M,EAAnC1D,EAAS,mBAAmB,EAAA,CAAA,cAEtG2D,EAMSC,EAAAC,CAAA,EAAA,CANA,QAAKa,GAAEvE,GAAyBtJ,CAAK,EAAG,QAAQ,QAAQ,MAAM,MAAM,KAAK,OACrE,SACT,IAEM,CAAA,GAAA2M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,0EAQpFF,EAAoF,IAApFuN,GAA+C,mCAAiC,KAIlFrN,EA6CM,MA7CNsN,GA6CM,CA5CJtN,EAUM,MAVNuN,GAUM,CATJlN,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAsE,KAAA,CAAlE,MAAM,qCAAqC,EAAC,oBAAiB,EAAA,GACjEQ,EAOSC,EAAAC,CAAA,EAAA,CAPA,QAAOzD,GAAoB,QAAQ,UAAU,MAAM,OAAO,KAAK,OAC3D,SACT,IAEM,CAAA,GAAAoD,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sCAEjE,IAEb,mBAFa,iBAEb,EAAA,aAGFK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,8EAEtC,EAAA,GAEWrM,EAAA,MAAS,sBAAsB,OAAM,GAAhDkM,IAAAC,EAyBM,MAzBN0N,GAyBM,EAxBJ3N,EAAA,EAAA,EAAAC,EAuBMgB,SAtBwBnN,EAAA,MAAS,sBAAqB,CAAlD8Z,EAAU/Z,SADpBoM,EAuBM,MAAA,CArBH,IAAKpM,EACN,MAAM,mDAENsM,EAiBM,MAjBN0N,GAiBM,CAhBJ1N,EAQM,MARN2N,GAQM,CAPJ3N,EAKM,MALN4N,GAKM,CAJJ5N,EAA8E,KAA9E6N,GAA8EtN,EAA3BkN,EAAS,UAAU,EAAA,CAAA,EAC1DA,EAAS,uBAArB3N,EAEO,OAFPgO,GAAoH,cAEpH,cAEOL,EAAS,eAAlB5N,EAAA,EAAAC,EAA+F,IAA/FiO,GAA+FxN,EAA7BkN,EAAS,aAAa,EAAA,CAAA,cAE1FjN,EAMSC,EAAAC,CAAA,EAAA,CANA,QAAKa,GAAElE,GAAsB3J,CAAK,EAAG,QAAQ,QAAQ,MAAM,MAAM,KAAK,OAClE,SACT,IAEM,CAAA,GAAA2M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,0EAQpFF,EAAiF,IAAjFkO,GAA+C,gCAA8B,KAI/EhO,EA4CM,MA5CNiO,GA4CM,CA3CJjO,EAUM,MAVNkO,GAUM,CATJ7N,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwE,KAAA,CAApE,MAAM,qCAAqC,EAAC,sBAAmB,EAAA,GACnEQ,EAOSC,EAAAC,CAAA,EAAA,CAPA,QAAOpD,GAAiB,QAAQ,UAAU,MAAM,OAAO,KAAK,OACxD,SACT,IAEM,CAAA,GAAA+C,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sCAEjE,IAEb,mBAFa,kBAEb,EAAA,aAGFK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,4DAEtC,EAAA,GAEWrM,EAAA,MAAS,wBAAwB,OAAM,GAAlDkM,IAAAC,EAwBM,MAxBNqO,GAwBM,EAvBJtO,EAAA,EAAA,EAAAC,EAsBMgB,SArByBnN,EAAA,MAAS,wBAAuB,CAArDya,EAAW1a,SADrBoM,EAsBM,MAAA,CApBH,IAAKpM,EACN,MAAM,mDAENsM,EAgBM,MAhBNqO,GAgBM,CAfJrO,EAOM,MAPNsO,GAOM,CANJtO,EAIM,MAJNuO,GAIM,CAHJvO,EAEO,OAFPwO,GAAgF,cACpEjO,EAAG6N,EAAU,gBAAgB,EAAA,CAAA,IAG3CpO,EAAmE,IAAnEyO,GAAmElO,EAA/B6N,EAAU,cAAc,EAAA,CAAA,IAE9D5N,EAMSC,EAAAC,CAAA,EAAA,CANA,QAAKa,GAAE9D,GAAmB/J,CAAK,EAAG,QAAQ,QAAQ,MAAM,MAAM,KAAK,OAC/D,SACT,IAEM,CAAA,GAAA2M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,0EAQpFF,EAAmF,IAAnF4O,GAA+C,kCAAgC,OAKnF1O,EAsJM,MAtJN2O,GAsJM,CArJJ3O,EAUM,MAVN4O,GAUM,CATJvO,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAqE,KAAA,CAAjE,MAAM,qCAAqC,EAAC,mBAAgB,EAAA,GAChEQ,EAOSC,EAAAC,CAAA,EAAA,CAPA,QAAOlF,GAAkB,QAAQ,UAAU,MAAM,OAAO,KAAK,OACzD,SACT,IAEM,CAAA,GAAA6E,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sCAEjE,IAEb,mBAFa,cAEb,EAAA,aAGFK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,iGAEtC,EAAA,GAEWrM,EAAA,MAAS,iBAAiB,OAAM,GAA3CkM,IAAAC,EAiFM,MAjFN+O,GAiFM,EAhFJhP,EAAA,EAAA,EAAAC,EA+EMgB,SA9EqBnN,EAAA,MAAS,iBAAgB,CAA1Cmb,EAAOpb,SADjBoM,EA+EM,MAAA,CA7EH,IAAKpM,EACN,MAAM,2FAENsM,EAyEM,MAzEN+O,GAyEM,CAxEJ/O,EAkDM,MAlDNgP,GAkDM,CAjDJhP,EAKM,MALNiP,GAKM,CAJJjP,EAA2E,KAA3EkP,GAA2E3O,EAAxBuO,EAAM,UAAU,EAAA,CAAA,EACnE9O,EAEO,OAFPmP,GAEO5O,EADFuO,EAAM,YAAY,EAAA,CAAA,IAIzB9O,EA6BM,MA7BNoP,GA6BM,CA5BON,EAAM,kBAAjBjP,IAAAC,EAMM,MANNuP,GAMM,iBALJrP,EAGM,MAAA,CAHD,MAAM,6CAA6C,KAAK,OAAO,OAAO,eAAe,QAAQ,cAChGA,EAA+J,OAAA,CAAzJ,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,uFACxEA,EAA6G,OAAA,CAAvG,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,2CAE1EA,EAAyC,OAAA,KAAAO,EAAhCuO,EAAM,gBAAgB,EAAA,CAAA,cAGtBA,EAAM,OAAjBjP,IAAAC,EAKM,MALNwP,GAKM,iBAJJtP,EAEM,MAAA,CAFD,MAAM,sCAAsC,KAAK,OAAO,OAAO,eAAe,QAAQ,cACzFA,EAAiL,OAAA,CAA3K,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,+GAE1EA,EAA8F,IAAA,CAA1F,KAAI,UAAc8O,EAAM,MAAO,MAAM,+BAAmC,EAAAvO,EAAAuO,EAAM,KAAK,EAAA,EAAAS,EAAA,cAG9ET,EAAM,OAAjBjP,IAAAC,EAKM,MALN0P,GAKM,iBAJJxP,EAEM,MAAA,CAFD,MAAM,sCAAsC,KAAK,OAAO,OAAO,eAAe,QAAQ,cACzFA,EAAkS,OAAA,CAA5R,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,gOAE1EA,EAA2F,IAAA,CAAvF,KAAI,OAAW8O,EAAM,MAAO,MAAM,+BAAmC,EAAAvO,EAAAuO,EAAM,KAAK,EAAA,EAAAW,EAAA,cAG3EX,EAAM,gBAAjBjP,IAAAC,EAKM,MALN4P,GAKM,iBAJJ1P,EAEM,MAAA,CAFD,MAAM,6CAA6C,KAAK,OAAO,OAAO,eAAe,QAAQ,cAChGA,EAAgS,OAAA,CAA1R,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,8NAE1EA,EAA+C,OAAA,KAAzC,WAAQO,EAAGuO,EAAM,cAAc,EAAA,CAAA,gBAI9BA,EAAM,mBAAjBjP,IAAAC,EAQM,MARN6P,GAQM,iBAPJ3P,EAKO,OAAA,CALD,MAAM,uFAAqF,CAC/FA,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,eAAe,QAAQ,cAC/CA,EAA0L,OAAA,CAApL,YAAU,UAAU,EAAE,wIAAwI,YAAU,gBAC1K,6BAER,QACY8O,EAAM,eAAlBjP,EAAA,EAAAC,EAA+F,OAA/F8P,GAA+FrP,EAA7BuO,EAAM,aAAa,EAAA,CAAA,wBAG9EA,EAAM,UAAfjP,EAAA,EAAAC,EAA2F,IAA3F+P,GAA2FtP,EAArBuO,EAAM,QAAQ,EAAA,CAAA,cAGtF9O,EAmBM,MAnBN8P,GAmBM,CAlBJ9P,EAQS,SAAA,CAPN,QAAKuB,GAAE9F,GAAkB/H,CAAK,EAC/B,MAAM,6CACN,MAAM,mCAENsM,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAmM,OAAA,CAA7L,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yIAG5EA,EAQS,SAAA,CAPN,QAAKuB,GAAE3F,GAAoBlI,CAAK,EACjC,MAAM,2CACN,MAAM,qCAENsM,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yDAQpFH,IAAAC,EAEM,MAFNiQ,GAEM,CAAA,GAAA1P,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CADJL,EAAkE,IAAA,CAA/D,MAAM,uBAAuB,EAAC,gCAA6B,EAAA,OAIrDrM,EAAA,MAAS,iBAAiB,OAAM,GAA3CkM,IAAAC,EAcM,MAdNkQ,GAcM,CAbJ3P,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,yCAE5D,EAAA,KACAA,EAME,QAAA,CALgB,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,2BAA0B4N,GACnD,KAAK,SACL,IAAI,IACH,IAAK5N,EAAA,MAAS,iBAAiB,OAChC,MAAM,0HAJUA,EAAA,MAAS,kCAAjB,CAAA,OAAR,EAAoD,KAMtDqM,EAEI,IAFJiQ,GAAsC,oBACpB1P,EAAG5M,EAAA,MAAS,iBAAiB,MAAM,EAAG,qDACxD,CAAA,cAIFqM,EAWM,MAXNkQ,GAWM,CAVJ7P,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,oCAE5D,EAAA,KACAA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,yBAAwB4N,GAC1C,KAAK,IACL,MAAM,6DACN,YAAY,2JAHH,CAAAiD,EAAA7Q,EAAA,MAAS,wBAAwB,IAK5C0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyG,IAAA,CAAtG,MAAM,8BAA6B,kEAA+D,EAAA,mwBAqBzGA,EAgDM,MAhDNmQ,GAgDM,CA/CJ9P,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA0E,KAAA,CAAtE,MAAM,0CAA0C,EAAC,mBAAgB,EAAA,GACrEK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,gFAEtC,EAAA,GAEAA,EAyCM,MAzCNoQ,GAyCM,CAvCJpQ,EASM,MATNqQ,GASM,GARJrQ,EAIE,QAAA,CAHS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,4BAA2B4N,GAC7C,KAAK,WACL,MAAM,gFAFG,CAAAwD,EAAApR,EAAA,MAAS,2BAA2B,IAI/C0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8BAA6B,8CAE1C,EAAA,KAISrM,EAAA,MAAS,iCAApBmM,EAUM,MAAAwQ,GAAA,CATJjQ,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,uBAE5D,EAAA,KACAA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,cAAa4N,GAC/B,KAAK,IACL,MAAM,oHACN,YAAY,kEAHH,CAAAiD,EAAA7Q,EAAA,MAAS,aAAa,gBAQxBA,EAAA,MAAS,iCAApBmM,EAaM,MAAAyQ,GAAA,CAZJlQ,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,qBAE5D,EAAA,KACAA,EAKY,WAAA,CAJD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,qBAAoB4N,GACtC,KAAK,IACL,MAAM,oHACN,YAAY,0HAHH,CAAAiD,EAAA7Q,EAAA,MAAS,oBAAoB,IAKxC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,8BAA6B,8DAEtC,EAAA,mBAMNA,EAmFM,MAnFNwQ,GAmFM,CAlFJxQ,EAUM,MAVNyQ,GAUM,CATJpQ,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAuE,KAAA,CAAnE,MAAM,qCAAqC,EAAC,qBAAkB,EAAA,GAClEQ,EAOSC,EAAAC,CAAA,EAAA,CAPA,QAAOzE,GAAqB,QAAQ,UAAU,MAAM,OAAO,KAAK,OAC5D,SACT,IAEM,CAAA,GAAAoE,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sCAEjE,IAEb,mBAFa,eAEb,EAAA,aAGFK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,6FAEtC,EAAA,GAEWrM,EAAA,MAAS,mBAAmB,OAAM,GAA7CkM,IAAAC,EA4DM,MA5DN4Q,GA4DM,EA3DJ7Q,EAAA,EAAA,EAAAC,EA0DMgB,SAzDsBnN,EAAA,MAAS,mBAAkB,CAA7Cgd,EAAQjd,SADlBoM,EA0DM,MAAA,CAxDH,IAAKpM,EACN,MAAM,2FAENsM,EAUM,MAVN4Q,GAUM,CATJ5Q,EAKM,MALN6Q,GAKM,iBAJJ7Q,EAEM,MAAA,CAFD,MAAM,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC3EA,EAAiM,OAAA,CAA3L,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,+HAE1EA,EAA6E,KAA7E8Q,GAA6EvQ,EAA1BoQ,EAAO,WAAW,EAAA,CAAA,IAEvE3Q,EAEO,OAFP+Q,GAEOxQ,EADFoQ,EAAO,WAAW,EAAA,CAAA,IAIzB3Q,EAmBM,MAnBNgR,GAmBM,CAlBJhR,EAMM,MANNiR,GAMM,iBALJjR,EAEM,MAAA,CAFD,MAAM,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC3EA,EAAgJ,OAAA,CAA1I,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,8EAE1EA,EAA6D,OAA7DkR,GAA6D3Q,EAAhCoQ,EAAO,eAAe,EAAA,CAAA,EACvCA,EAAO,oBAAnB9Q,EAAA,EAAAC,EAAqG,OAArGqR,GAA6D,KAAE5Q,EAAGoQ,EAAO,kBAAkB,EAAA,CAAA,cAGlFA,EAAO,UAAlB9Q,IAAAC,EAKM,MALNsR,GAKM,iBAJJpR,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAiM,OAAA,CAA3L,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,+HAE1EA,EAAmG,OAAA,KAAAO,EAAA,OAAnFoQ,EAAO,mBAAwBA,EAAO,SAAS,KAAI,mBAAA,EAAA,CAAA,cAG1DA,EAAO,SAAlB9Q,IAAAC,EAEM,MAFNuR,GAEM,CADJhR,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA0C,OAAA,CAApC,MAAM,aAAa,EAAC,YAAS,EAAA,GAAUwL,EAAAjL,EAAAoQ,EAAO,OAAO,EAAA,CAAA,gBAI/D3Q,EAmBM,MAnBNsR,GAmBM,CAlBJtR,EAQS,SAAA,CAPN,QAAKuB,GAAErF,GAAqBxI,CAAK,EAClC,MAAM,qJAENsM,EAEM,MAAA,CAFD,MAAM,cAAc,KAAK,OAAO,OAAO,eAAe,QAAQ,cACjEA,EAAmM,OAAA,CAA7L,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,kIACpE,SAER,EAAA,WACAA,EAQS,SAAA,CAPN,QAAKuB,GAAElF,GAAuB3I,CAAK,EACpC,MAAM,kJAENsM,EAEM,MAAA,CAFD,MAAM,cAAc,KAAK,OAAO,OAAO,eAAe,QAAQ,cACjEA,EAAyM,OAAA,CAAnM,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,wIACpE,WAER,EAAA,2BAKNH,IAAAC,EAGM,MAHNyR,GAGM,CAAA,GAAAlR,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFJL,EAAoE,IAAA,CAAjE,MAAM,uBAAuB,EAAC,kCAA+B,EAAA,EAChEA,EAAmF,IAAA,CAAhF,MAAM,4BAA4B,EAAC,4CAAyC,EAAA,SAKnFA,EA4DM,MAAA,KAAA,CA3DJA,EAiBM,MAAA,CAjBD,MAAM,wCAAwC,EAAA,iBACjDA,EAKM,MAAA,KAAA,CAJJA,EAEQ,QAAA,CAFD,MAAM,yCAAyC,EAAC,kCAEvD,EACAA,EAAqG,IAAA,CAAlG,MAAM,4BAA4B,EAAC,6DAA2D,QAEnGA,EASS,SAAA,CARP,KAAK,SACJ,QAAOzB,GACR,MAAM,0HAENyB,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,0BACpE,qBAER,EAAA,QAISrM,EAAA,MAAS,qBAAuBA,QAAS,oBAAoB,OAAM,GAA9EkM,IAAAC,EAuBM,MAvBN0R,GAuBM,EAtBJ3R,EAAA,EAAA,EAAAC,EAqBMgB,SArB4BnN,EAAA,MAAS,oBAAmB,CAAjDya,EAAW1a,SAAxBoM,EAqBM,MAAA,CArB2D,IAAKpM,EAAO,MAAM,2FACjFsM,EAiBM,MAjBNyR,GAiBM,CAhBJzR,EAGM,MAHN0R,GAGM,CAFJ1R,EAAqH,OAArH2R,GAAqHpR,EAApC6N,EAAU,gBAAgB,EAAA,CAAA,EAC3GpO,EAA6G,OAA7G4R,GAA6GrR,EAAtC6N,EAAU,kBAAkB,EAAA,CAAA,IAErGpO,EAWM,MAXN6R,GAWM,CAVJ7R,EAIS,SAAA,CAJD,KAAK,SAAU,QAAKuB,GAAE5C,GAAcjL,CAAK,EAAG,MAAM,6CAA6C,MAAM,uCAC3GsM,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAmM,OAAA,CAA7L,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yIAG5EA,EAIS,SAAA,CAJD,KAAK,SAAU,QAAKuB,GAAEzC,GAAgBpL,CAAK,EAAG,MAAM,2CAA2C,MAAM,yCAC3GsM,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAyM,OAAA,CAAnM,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,mJAKhFA,EAA2E,MAAA,CAAtE,MAAM,wBAAwB,UAAQoO,EAAU,2BAC1CA,EAAU,kBAArBvO,EAAA,EAAAC,EAAuH,MAAvHgS,GAAuHvR,EAAnC6N,EAAU,gBAAgB,EAAA,CAAA,0BAIlHvO,IAAAC,EAMM,MANNiS,GAMM,CAAA,GAAA1R,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CALJL,EAEM,MAAA,CAFD,MAAM,uCAAuC,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC1FA,EAAiM,OAAA,CAA3L,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,8HAE1EA,EAA+D,IAAA,CAA5D,MAAM,uBAAuB,EAAC,6BAA0B,EAAA,EAC3DA,EAAgG,IAAA,CAA7F,MAAM,4BAA4B,EAAC,yDAAsD,EAAA,uBAG9FA,EAKI,IAAA,CALD,MAAM,8BAA4B,CACnCA,EAEM,MAAA,CAFD,MAAM,0BAA0B,KAAK,eAAe,QAAQ,cAC/DA,EAAqL,OAAA,CAA/K,YAAU,UAAU,EAAE,mIAAmI,YAAU,gBACrK,+EAER,UAIFA,EAmCM,MAnCNgS,GAmCM,CAlCJ3R,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA4F,KAAA,CAAxF,MAAM,0CAA0C,EAAC,qCAAkC,EAAA,GACvFK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA8L,IAAA,CAA3L,MAAM,4BAA4B,EAAC,uJAAoJ,EAAA,GAE1LA,EA8BM,MA9BNiS,GA8BM,CA7BJjS,EASM,MATNkS,GASM,GARJlS,EAIE,QAAA,CAHA,KAAK,WACI,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,iCAAgC4N,GAClD,MAAM,qFADG,CAAAwD,EAAApR,EAAA,MAAS,gCAAgC,IAGpD0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,0CAAyC,wGAEtD,EAAA,KAGSrM,EAAA,MAAS,kCAApBkM,IAAAC,EAiBM,MAjBNqS,GAiBM,CAhBJ9R,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,wCAE5D,EAAA,GACAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,sNAEtC,EAAA,KACAA,EAMY,WAAA,CALD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,gCAA+B4N,GACjD,KAAK,IACL,SAAA,GACA,MAAM,sEACN,YAAY,8LAJH,CAAAiD,EAAA7Q,EAAA,MAAS,+BAA+B,IAMnD0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,gCAA+B,8IAExC,EAAA,mBAMNA,EA0FM,MA1FNoS,GA0FM,CAzFJ/R,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA6E,KAAA,CAAzE,MAAM,4CAA4C,EAAC,oBAAiB,EAAA,GACxEK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,mEAEtC,EAAA,GAEAA,EAmFM,MAnFNqS,GAmFM,CAjFJrS,EAwBM,MAAA,KAAA,CAvBJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,sBAE5D,EAAA,GACAA,EAmBM,MAnBNsS,GAmBM,CAlBJtS,EAQQ,QARRuS,GAQQ,GAPNvS,EAKE,QAAA,CAJA,KAAK,QACI,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,WAAU4N,GAC5B,MAAM,YACN,MAAM,wEAFG,CAAAqC,GAAAjQ,EAAA,MAAS,UAAU,IAI9B0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2F,OAAA,CAArF,MAAM,8BAA6B,8CAA2C,EAAA,KAEtFA,EAQQ,QARRwS,GAQQ,GAPNxS,EAKE,QAAA,CAJA,KAAK,QACI,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,WAAU4N,GAC5B,MAAM,QACN,MAAM,wEAFG,CAAAqC,GAAAjQ,EAAA,MAAS,UAAU,IAI9B0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAqE,OAAA,CAA/D,MAAM,8BAA6B,wBAAqB,EAAA,SAMzDrM,EAAA,MAAS,aAAU,SAA9BkM,IAAAC,EAuCM,MAvCN2S,GAuCM,CAtCJzS,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,2BAE5D,EAAA,KACAA,EAME,QAAA,CALS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,aAAY4N,GAC9B,KAAK,OACL,YAAY,YACZ,MAAM,4GACL,SAAU5N,EAAA,MAAS,aAAU,qBAJrB,CAAA6Q,EAAA7Q,EAAA,MAAS,YAAY,MAQlCqM,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,oBAE5D,EAAA,KACAA,EAME,QAAA,CALS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,cAAa4N,GAC/B,KAAK,QACL,YAAY,oBACZ,MAAM,4GACL,SAAU5N,EAAA,MAAS,aAAU,qBAJrB,CAAA6Q,EAAA7Q,EAAA,MAAS,aAAa,MAQnCqM,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,6BAE5D,EAAA,KACAA,EAMY,WAAA,CALD,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,gBAAe4N,GACjC,KAAK,IACL,YAAY,sBACZ,MAAM,4GACL,SAAU5N,EAAA,MAAS,aAAU,qBAJrB,CAAA6Q,EAAA7Q,EAAA,MAAS,eAAe,kBAUvCqM,EAWM,MAAA,KAAA,CAVJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,qCAE5D,EAAA,KACAA,EAKE,QAAA,CAJS,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,sBAAqB4N,GACvC,KAAK,OACL,YAAY,sBACZ,MAAM,wHAHG,CAAAiD,EAAA7Q,EAAA,MAAS,qBAAqB,IAKzC0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA6G,IAAA,CAA1G,MAAM,8BAA6B,sEAAmE,EAAA,SAM/GA,EAqDM,MArDN0S,GAqDM,CApDJrS,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkF,KAAA,CAA9E,MAAM,4CAA4C,EAAC,yBAAsB,EAAA,GAC7EK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,4BAA4B,EAAC,4HAEtC,EAAA,GAEAA,EAuCM,MAvCN2S,GAuCM,CArCJ3S,EAUM,MAVN4S,GAUM,GATJ5S,EAKE,QAAA,CAJA,KAAK,WACI,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,2BAA0B4N,GAC5C,MAAM,yEACN,SAAA,eAFS,CAAAwD,EAAApR,EAAA,MAAS,0BAA0B,oBAI9CqM,EAEQ,QAAA,CAFD,MAAM,8BAA4B,CACvCA,EAAgD,OAAA,CAA1C,MAAM,aAAa,EAAC,iBAAe,IAAO,oPAClD,UAIFA,EAUM,MAVN6S,GAUM,GATJ7S,EAKE,QAAA,CAJA,KAAK,WACI,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,+BAA8B4N,GAChD,MAAM,yEACN,SAAA,eAFS,CAAAwD,EAAApR,EAAA,MAAS,8BAA8B,oBAIlDqM,EAEQ,QAAA,CAFD,MAAM,8BAA4B,CACvCA,EAAoD,OAAA,CAA9C,MAAM,aAAa,EAAC,qBAAmB,IAAO,iNACtD,UAIFA,EAUM,MAVN8S,GAUM,GATJ9S,EAKE,QAAA,CAJA,KAAK,WACI,sBAAAK,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAkB,GAAA5N,EAAA,MAAS,uBAAsB4N,GACxC,MAAM,yEACN,SAAA,eAFS,CAAAwD,EAAApR,EAAA,MAAS,sBAAsB,oBAI1CqM,EAEQ,QAAA,CAFD,MAAM,8BAA4B,CACvCA,EAA+C,OAAA,CAAzC,MAAM,aAAa,EAAC,gBAAc,IAAO,2OACjD,4BAIJA,EAKI,IAAA,CALD,MAAM,8BAA4B,CACnCA,EAEM,MAAA,CAFD,MAAM,sCAAsC,KAAK,eAAe,QAAQ,cAC3EA,EAAqL,OAAA,CAA/K,YAAU,UAAU,EAAE,mIAAmI,YAAU,gBACrK,mEAER,UAIFA,EAyCM,MAzCN+S,GAyCM,CAxCJ/S,EAuCM,MAvCNgT,GAuCM,CAtCJhT,EAqCM,MArCNiT,GAqCM,iBApCJjT,EAIM,MAAA,CAJD,MAAM,iBAAe,CACxBA,EAEM,MAAA,CAFD,MAAM,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC3EA,EAAmK,OAAA,CAA7J,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,mGAG5EA,EA8BM,MA9BNkT,GA8BM,CA7BJ7S,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEK,KAAA,CAFD,MAAM,0CAA0C,EAAC,qCAErD,EAAA,mBACAA,EAEI,IAAA,CAFD,MAAM,8BAA4B,GAAC,OAChC,EAAAA,EAA8B,cAAtB,eAAa,IAAS,MAAI,EAAAA,EAA8B,cAAtB,eAAa,IAAS,qGACtE,wBACAA,EAKK,KAAA,CALD,MAAM,uDAAqD,CAC7DA,EAA2C,UAAvC,oCAAkC,EACtCA,EAAwC,UAApC,iCAA+B,EACnCA,EAAgD,UAA5C,yCAAuC,EAC3CA,EAAkD,UAA9C,2CAAyC,QAE/CQ,EAaSC,EAAAC,CAAA,EAAA,CAZN,QAAOzB,GACR,QAAQ,QACR,MAAM,OACN,KAAK,KACJ,QAAS5L,GAAA,QAEC,SACT,IAEM,CAAA,GAAAgN,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAmK,OAAA,CAA7J,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,8GAEjE,IAEb,mBAFa,oCAEb,EAAA,yBACAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,8BAA6B,4EAEtC,EAAA,2CA4oDDnN,EAAA,QAAgBG,EAAA,MAAMA,QAAM,UAAY,YAAnD8M,EA6FM,MAAAqT,GAAA,CA5FJ9S,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAsE,KAAA,CAAlE,MAAM,uCAAuC,EAAC,kBAAe,EAAA,GACjEK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkF,IAAA,CAA/E,MAAM,oBAAoB,EAAC,mDAAgD,EAAA,GAE9EA,EAwFM,MAxFNoT,GAwFM,CAtFJpT,EA2BM,MA3BNqT,GA2BM,CA1BJhT,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAqE,KAAA,CAAjE,MAAM,kCAAkC,EAAC,sBAAmB,EAAA,GAEhEA,EAuBK,KAvBLsT,GAuBK,CAtBHtT,EAGM,MAAA,KAAA,CAFJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+C,KAAA,CAA3C,MAAM,eAAe,EAAC,mBAAgB,EAAA,GAC1CA,EAA0E,KAA1EuT,GAA0EhT,EAA5B/F,GAAkB,CAAA,EAAA,CAAA,IAElEwF,EAGM,MAAA,KAAA,CAFJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA+C,KAAA,CAA3C,MAAM,eAAe,EAAC,mBAAgB,EAAA,GAC1CA,EAAwF,KAAxFwT,GAAwFjT,EAA1C5M,EAAA,MAAS,kBAAgB,KAAA,EAAA,CAAA,IAEzEqM,EAGM,MAAA,KAAA,CAFJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgD,KAAA,CAA5C,MAAM,eAAe,EAAC,oBAAiB,EAAA,GAC3CA,EAAyF,KAAzFyT,GAAyFlT,EAA3C5M,EAAA,MAAS,mBAAiB,KAAA,EAAA,CAAA,IAE1EqM,EAKM,MAAA,KAAA,CAJJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA8C,KAAA,CAA1C,MAAM,eAAe,EAAC,kBAAe,EAAA,GACzCA,EAEK,KAFL0T,GAEKnT,EADA5M,EAAA,MAAS,gBAAe,IAAOA,EAAA,MAAS,eAAe,GAAA,KAAA,EAAA,CAAA,IAG9DqM,EAGM,MAAA,KAAA,CAFJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiD,KAAA,CAA7C,MAAM,eAAe,EAAC,qBAAkB,EAAA,GAC5CA,EAAgF,KAAhF2T,GAAgFpT,EAAlCpN,SAAc,MAAM,EAAG,SAAM,CAAA,QAMjF6M,EAcM,MAdN4T,GAcM,CAbJ5T,EAYM,MAZN6T,GAYM,GAXJ7T,EAIE,QAAA,CAHA,KAAK,WACI,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAA5N,EAAA,MAAS,eAAc4N,GAChC,MAAM,qFADG,CAAAwD,EAAApR,EAAA,MAAS,cAAc,oBAGlCqM,EAKQ,QAAA,CALD,MAAM,8BAA4B,GAAC,iRAIxC,EAAAA,EAA8E,IAAA,CAA3E,KAAK,IAAI,MAAM,qCAAoC,sBAAoB,IAAI,IAChF,YAKJA,EAeM,MAfN8T,GAeM,CAdJzT,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2D,KAAA,CAAvD,MAAM,gCAAgC,EAAC,cAAW,EAAA,GACtDA,EASM,MATN+T,GASM,CARJ/T,EAGM,MAHNgU,GAGM,CAFJ3T,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkD,OAAA,CAA5C,MAAM,eAAe,EAAC,kBAAe,EAAA,GAC3CA,EAAwE,OAAxEiU,GAAwE1T,EAA7B7F,GAAiB,CAAA,EAAA,CAAA,IAE9DsF,EAGM,MAHNkU,GAGM,CAFJ7T,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwD,OAAA,CAAlD,MAAM,2BAA2B,EAAC,YAAS,EAAA,GACjDA,EAA8E,OAA9EmU,GAA8E5T,EAA7B7F,GAAiB,CAAA,EAAA,CAAA,MAGtE2F,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEI,IAAA,CAFD,MAAM,8BAA6B,uFAEtC,EAAA,KAISjM,GAAA,OAAX8L,IAAAC,EAoBM,MApBNsU,GAoBM,CAnBJ/T,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwE,KAAA,CAApE,MAAM,iCAAiC,EAAC,0BAAuB,EAAA,GACnEK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAGI,IAAA,CAHD,MAAM,6BAA6B,EAAC,wNAGvC,EAAA,GACAQ,EAaSC,EAAAC,CAAA,EAAA,CAZN,QAAOxF,GACR,QAAQ,QACR,MAAM,QACL,QAAS9H,GAAA,QAEC,SACT,IAGM,CAAA,GAAAiN,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAHNL,EAGM,MAAA,CAHD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EACmG,OAAA,CAD7F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAC5D,EAAE,8GAED,IAEb,mBAFa,iCAEb,EAAA,mDAMNA,EA6CM,MA7CNqU,GA6CM,CA3CIxhB,EAAA,MAAW,OADnByhB,GAYS7T,EAAAC,CAAA,EAAA,OAVN,QAAOpG,GACR,QAAQ,UACR,MAAM,SAEK,SACT,IAEM,CAAA,GAAA+F,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA4F,OAAA,CAAtF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,uCAEjE,IAEb,mBAFa,aAEb,EAAA,iBACAF,EAAkB,MAAAyU,EAAA,GAElBvU,EA4BM,MA5BNwU,GA4BM,CA1BI3hB,EAAA,MAAcC,EAAA,WADtBwhB,GAaS7T,EAAAC,CAAA,EAAA,OAXN,QAAOxG,GACR,QAAQ,QACR,MAAM,OACL,UAAWX,GAAU,IAGX,SACT,IAEM,CAAA,GAAA8G,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAFNL,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAyF,OAAA,CAAnF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,oCAJ7E,IAEC,mBAFD,SAEC,EAAA,2BAOWpI,GAAA,WADb0c,GASS7T,EAAAC,CAAA,EAAA,OAPN,QAAO/F,GACR,QAAQ,QACR,MAAM,OACL,QAASzH,EAAA,MACT,SAAQ,CAAGS,EAAA,MAAS,2BACtB,IAED,CAAA,GAAA0M,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,GAFC,uBAED,EAAA,2CACAP,EAEM,MAFN2U,GAA0C,yDAE1C,WAQApZ,GAAA,WADRyE,EAyLM,MAAA,OAvLJ,MAAM,iFACL,WAAYnE,GAAmB,CAAA,MAAA,CAAA,IAEhCqE,EAmLM,MAnLN0U,GAmLM,CAlLJ1U,EAcM,MAdN2U,GAcM,CAbJ3U,EAYM,MAZN4U,GAYM,CAXJ5U,EAEK,KAFL6U,GAEKtU,EADAjF,GAAA,2BAA8C,mBACnD,CAAA,EACA0E,EAOS,SAAA,CANN,QAAOrE,GACR,MAAM,0DAENqE,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sCAMhFA,EAgJM,MAhJN8U,GAgJM,CA9IJ9U,EAWM,MAAA,KAAA,iBAVJA,EAEQ,QAAA,CAFD,MAAM,gDAA8C,GAAC,cAC/C,EAAAA,EAAmC,OAAA,CAA7B,MAAM,cAAc,EAAC,GAAC,UAEzCA,EAME,QAAA,CALS,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAhG,EAAA,MAAkB,WAAUgG,GACrC,KAAK,OACL,SAAA,GACA,YAAY,mBACZ,MAAM,wHAJG,CAAAiD,EAAAjJ,EAAA,MAAkB,UAAU,MASzCyE,EAgBM,MAAA,KAAA,iBAfJA,EAEQ,QAAA,CAFD,MAAM,gDAA8C,GAAC,gBAC7C,EAAAA,EAAmC,OAAA,CAA7B,MAAM,cAAc,EAAC,GAAC,UAE3CA,EAWS,SAAA,CAVE,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAhG,EAAA,MAAkB,aAAYgG,GACvC,SAAA,GACA,MAAM,8bAFG,CAAAiC,EAAAjI,EAAA,MAAkB,YAAY,MAc3CyE,EAwBM,MAxBN+U,GAwBM,CAvBJ1U,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2E,KAAA,CAAvE,MAAM,wCAAwC,EAAC,sBAAmB,EAAA,GAEtEA,EAoBM,MApBNgV,GAoBM,CAnBJhV,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyE,QAAA,CAAlE,MAAM,8CAA8C,EAAC,QAAK,EAAA,KACjEA,EAKE,QAAA,CAJS,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAhG,EAAA,MAAkB,MAAKgG,GAChC,KAAK,QACL,YAAY,oBACZ,MAAM,gIAHG,CAAAiD,EAAAjJ,EAAA,MAAkB,KAAK,MAOpCyE,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyE,QAAA,CAAlE,MAAM,8CAA8C,EAAC,QAAK,EAAA,KACjEA,EAKE,QAAA,CAJS,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAhG,EAAA,MAAkB,MAAKgG,GAChC,KAAK,MACL,YAAY,eACZ,MAAM,gIAHG,CAAAiD,EAAAjJ,EAAA,MAAkB,KAAK,UAUxCyE,EA0BM,MA1BNiV,GA0BM,CAzBJ5U,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiE,KAAA,CAA7D,MAAM,wCAAwC,EAAC,YAAS,EAAA,GAE5DA,EAsBM,MAtBNkV,GAsBM,CArBJlV,EASM,MAAA,KAAA,CARJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoF,QAAA,CAA7E,MAAM,8CAA8C,EAAC,mBAAgB,EAAA,KAC5EA,EAKY,WAAA,CAJD,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAhG,EAAA,MAAkB,iBAAgBgG,GAC3C,KAAK,IACL,YAAY,gCACZ,MAAM,gIAHG,CAAAiD,EAAAjJ,EAAA,MAAkB,gBAAgB,IAK7C8E,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwF,IAAA,CAArF,MAAM,8BAA6B,iDAA8C,EAAA,KAGtFA,EASM,MAAA,KAAA,CARJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAkF,QAAA,CAA3E,MAAM,8CAA8C,EAAC,iBAAc,EAAA,KAC1EA,EAKY,WAAA,CAJD,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAhG,EAAA,MAAkB,eAAcgG,GACzC,KAAK,IACL,YAAY,2BACZ,MAAM,gIAHG,CAAAiD,EAAAjJ,EAAA,MAAkB,cAAc,IAK3C8E,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiG,IAAA,CAA9F,MAAM,8BAA6B,0DAAuD,EAAA,SAMnGA,EAyCM,MAzCNmV,GAyCM,CAxCJ9U,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwE,KAAA,CAApE,MAAM,wCAAwC,EAAC,mBAAgB,EAAA,GAEnEA,EASM,MATNoV,GASM,GARJpV,EAIE,QAAA,CAHA,KAAK,WACI,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAhG,EAAA,MAAkB,kBAAiBgG,GAC5C,MAAM,qFADG,CAAAwD,EAAAxJ,EAAA,MAAkB,iBAAiB,IAG9C8E,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8BAA6B,8CAE1C,EAAA,KAGSzE,EAAA,MAAkB,mBAA7BsE,IAAAC,EA0BM,MA1BNuV,GA0BM,CAzBJrV,EAOM,MAAA,KAAA,CANJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiF,QAAA,CAA1E,MAAM,8CAA8C,EAAC,gBAAa,EAAA,KACzEA,EAIE,QAAA,CAHS,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAhG,EAAA,MAAkB,cAAagG,GACxC,KAAK,OACL,MAAM,gIAFG,CAAAiD,EAAAjJ,EAAA,MAAkB,aAAa,MAM5CyE,EAeM,MAAA,KAAA,CAdJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAqF,QAAA,CAA9E,MAAM,8CAA8C,EAAC,oBAAiB,EAAA,GAC7EA,EAKE,QAAA,CAJA,KAAK,OACJ,SAAQnE,GACT,OAAO,kCACP,MAAM,kRAERwE,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAiG,IAAA,CAA9F,MAAM,4BAA4B,EAAC,0DAAuD,EAAA,GAClFzE,EAAA,MAAkB,mBAA7BsE,IAAAC,EAKM,MALNwV,GAKM,iBAJJtV,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yBAE1EA,EAA2I,OAAA,KAAAO,EAAA,OAA3HhF,QAAkB,4BAAiCA,EAAA,MAAkB,kBAAkB,KAAI,mBAAA,EAAA,CAAA,8BAOnHyE,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA4E,QAAA,CAArE,MAAM,8CAA8C,EAAC,WAAQ,EAAA,KACpEA,EAKY,WAAA,CAJD,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAhG,EAAA,MAAkB,SAAQgG,GACnC,KAAK,IACL,YAAY,6DACZ,MAAM,gIAHG,CAAAiD,EAAAjJ,EAAA,MAAkB,QAAQ,QAQzCyE,EAeM,MAfNuV,GAeM,CAdJvV,EAMS,SAAA,CALN,QAAOrE,GACR,KAAK,SACL,MAAM,2GACP,UAED,EACAqE,EAMS,SAAA,CALN,QAAOtE,GACR,KAAK,SACL,MAAM,mFAEH,EAAA6E,EAAAjF,GAAA,6BAAgD,UACrD,CAAA,kBAOEQ,GAAA,WADRgE,EAgJM,MAAA,OA9IJ,MAAM,iFACL,WAAY1D,GAAsB,CAAA,MAAA,CAAA,IAEnC4D,EA0IM,MA1INwV,GA0IM,CAzIJxV,EAcM,MAdNyV,GAcM,CAbJzV,EAYM,MAZN0V,GAYM,CAXJ1V,EAEK,KAFL2V,GAEKpV,EADAxE,GAAA,2BAA+C,sBACpD,CAAA,EACAiE,EAOS,SAAA,CANN,QAAO5D,GACR,MAAM,0DAEN4D,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sCAMhFA,EAuGM,MAvGN4V,GAuGM,CArGJ5V,EAoBM,MAAA,KAAA,iBAnBJA,EAEQ,QAAA,CAFD,MAAM,gDAA8C,GAAC,eAC9C,EAAAA,EAAmC,OAAA,CAA7B,MAAM,cAAc,EAAC,GAAC,UAE1CA,EAeS,SAAA,CAdE,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAvF,EAAA,MAAqB,YAAWuF,GACzC,SAAA,GACA,MAAM,wxBAFG,CAAAiC,EAAAxH,EAAA,MAAqB,WAAW,MAkB7CgE,EA2BM,MA3BN6V,GA2BM,CA1BJxV,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA0E,KAAA,CAAtE,MAAM,wCAAwC,EAAC,qBAAkB,EAAA,GAErEA,EAuBM,MAvBN8V,GAuBM,CAtBJ9V,EAWM,MAAA,KAAA,iBAVJA,EAEQ,QAAA,CAFD,MAAM,gDAA8C,GAAC,mBAC1C,EAAAA,EAAmC,OAAA,CAA7B,MAAM,cAAc,EAAC,GAAC,UAE9CA,EAME,QAAA,CALS,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAvF,EAAA,MAAqB,gBAAeuF,GAC7C,KAAK,OACL,SAAA,GACA,YAAY,uBACZ,MAAM,wHAJG,CAAAiD,EAAAxI,EAAA,MAAqB,eAAe,MAQjDgE,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwF,QAAA,CAAjF,MAAM,8CAA8C,EAAC,uBAAoB,EAAA,KAChFA,EAKE,QAAA,CAJS,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAvF,EAAA,MAAqB,mBAAkBuF,GAChD,KAAK,OACL,YAAY,4BACZ,MAAM,wHAHG,CAAAiD,EAAAxI,EAAA,MAAqB,kBAAkB,UAUxDgE,EA+CM,MA/CN+V,GA+CM,CA9CJ1V,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAsE,KAAA,CAAlE,MAAM,wCAAwC,EAAC,iBAAc,EAAA,GAEjEA,EA2CM,MA3CNgW,GA2CM,CA1CJhW,EAWM,MAAA,KAAA,iBAVJA,EAEQ,QAAA,CAFD,MAAM,gDAA8C,GAAC,eAC9C,EAAAA,EAAmC,OAAA,CAA7B,MAAM,cAAc,EAAC,GAAC,UAE1CA,EAKE,QAAA,CAJS,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAvF,EAAA,MAAqB,YAAWuF,GACzC,KAAK,OACL,SAAA,GACA,MAAM,wHAHG,CAAAiD,EAAAxI,EAAA,MAAqB,WAAW,IAK3CqE,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAmF,IAAA,CAAhF,MAAM,8BAA6B,4CAAyC,EAAA,KAGjFA,EAiBM,MAAA,KAAA,iBAhBJA,EAEQ,QAAA,CAFD,MAAM,gDAA8C,GAAC,YACjD,EAAAA,EAAmC,OAAA,CAA7B,MAAM,cAAc,EAAC,GAAC,QAEvCA,EAKE,QAAA,CAJA,KAAK,OACJ,SAAQ1D,GACT,OAAO,kBACP,MAAM,kRAER+D,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA8F,IAAA,CAA3F,MAAM,4BAA4B,EAAC,uDAAoD,EAAA,GAC/EhE,EAAA,MAAqB,UAAhC6D,IAAAC,EAKM,MALNmW,GAKM,iBAJJjW,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yBAE1EA,EAA+H,OAAA,KAAAO,EAAA,OAA/GvE,QAAqB,mBAAwBA,EAAA,MAAqB,SAAS,KAAI,mBAAA,EAAA,CAAA,gBAInGgE,EASM,MAAA,KAAA,CARJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2E,QAAA,CAApE,MAAM,8CAA8C,EAAC,UAAO,EAAA,KACnEA,EAKY,WAAA,CAJD,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAvF,EAAA,MAAqB,QAAOuF,GACrC,KAAK,IACL,YAAY,uDACZ,MAAM,gIAHG,CAAAiD,EAAAxI,EAAA,MAAqB,OAAO,IAKvCqE,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAwG,IAAA,CAArG,MAAM,8BAA6B,iEAA8D,EAAA,WAM5GA,EAeM,MAfNkW,GAeM,CAdJlW,EAMS,SAAA,CALN,QAAO5D,GACR,KAAK,SACL,MAAM,2GACP,UAED,EACA4D,EAMS,SAAA,CALN,QAAO7D,GACR,KAAK,SACL,MAAM,mFAEH,EAAAoE,EAAAxE,GAAA,6BAAiD,WACtD,CAAA,kBAOElG,GAAA,WADRiK,EA4LM,MAAA,OA1LJ,MAAM,iFACL,WAAY/I,GAAU,CAAA,MAAA,CAAA,IAEvBiJ,EAsLM,MAtLNmW,GAsLM,CArLJnW,EAcM,MAdNoW,GAcM,CAbJpW,EAYM,MAZNqW,GAYM,CAXJrW,EAEK,KAFLsW,GAEK/V,EADAzK,GAAA,2BAA6C,kBAClD,CAAA,EACAkK,EAOS,SAAA,CANN,QAAOjJ,GACR,MAAM,0DAENiJ,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sCAMhFA,EAmJM,MAnJNuW,GAmJM,CAjJJvW,EAWM,MAAA,KAAA,iBAVJA,EAEQ,QAAA,CAFD,MAAM,gDAA8C,GAAC,wBACrC,EAAAA,EAAmC,OAAA,CAA7B,MAAM,cAAc,EAAC,GAAC,UAEnDA,EAMY,WAAA,CALD,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAxL,EAAA,MAAS,qBAAoBwL,GACtC,KAAK,IACL,SAAA,GACA,YAAY,gFACZ,MAAM,wHAJG,CAAAiD,EAAAzO,EAAA,MAAS,oBAAoB,MAS1CiK,EAmBM,MAAA,KAAA,CAlBJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEQ,QAAA,CAFD,MAAM,8CAA8C,EAAC,kBAE5D,EAAA,KACAA,EAcS,SAAA,CAbE,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAxL,EAAA,MAAS,cAAawL,GAC/B,MAAM,08BADG,CAAAiC,EAAAzN,EAAA,MAAS,aAAa,MAiBnCiK,EAiCM,MAjCNwW,GAiCM,CAhCJnW,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAuE,KAAA,CAAnE,MAAM,wCAAwC,EAAC,kBAAe,EAAA,GAClEA,EA8BM,MA9BNyW,GA8BM,CA7BJzW,EAQM,MARN0W,GAQM,GAPJ1W,EAKE,QAAA,CAJA,KAAK,WACL,GAAG,eACM,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAxL,EAAA,MAAS,qBAAoBwL,GACtC,MAAM,gFADG,CAAAwD,EAAAhP,EAAA,MAAS,oBAAoB,oBAGxCiK,EAA+F,QAAA,CAAxF,IAAI,eAAe,MAAM,8BAA6B,6BAA0B,EAAA,KAGzFA,EAQM,MARN2W,GAQM,GAPJ3W,EAKE,QAAA,CAJA,KAAK,WACL,GAAG,gBACM,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAxL,EAAA,MAAS,sBAAqBwL,GACvC,MAAM,gFADG,CAAAwD,EAAAhP,EAAA,MAAS,qBAAqB,oBAGzCiK,EAA2F,QAAA,CAApF,IAAI,gBAAgB,MAAM,8BAA6B,wBAAqB,EAAA,KAGrFA,EAQM,MARN4W,GAQM,GAPJ5W,EAKE,QAAA,CAJA,KAAK,WACL,GAAG,cACM,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAxL,EAAA,MAAS,kBAAiBwL,GACnC,MAAM,gFADG,CAAAwD,EAAAhP,EAAA,MAAS,iBAAiB,oBAGrCiK,EAAkG,QAAA,CAA3F,IAAI,cAAc,MAAM,8BAA6B,iCAA8B,EAAA,SAMhGA,EAQM,MARN6W,GAQM,GAPJ7W,EAKE,QAAA,CAJA,KAAK,WACL,GAAG,oBACM,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAxL,EAAA,MAAS,+BAA8BwL,GAChD,MAAM,gFADG,CAAAwD,EAAAhP,EAAA,MAAS,8BAA8B,oBAGlDiK,EAA6G,QAAA,CAAtG,IAAI,oBAAoB,MAAM,8BAA6B,sCAAmC,EAAA,KAIvGA,EAkDM,MAlDN8W,GAkDM,CAjDJzW,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA2E,KAAA,CAAvE,MAAM,wCAAwC,EAAC,sBAAmB,EAAA,GACtEA,EA8CM,MA9CN+W,GA8CM,CA7CJ/W,EAQM,MARNgX,GAQM,GAPJhX,EAKE,QAAA,CAJA,KAAK,WACL,GAAG,qBACM,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAvL,EAAA,MAAmB,KAAIuL,GAChC,MAAM,gFADG,CAAAwD,EAAA/O,EAAA,MAAmB,IAAI,oBAGlCgK,EAAoH,QAAA,CAA7G,IAAI,qBAAqB,MAAM,8BAA6B,4CAAyC,EAAA,KAE9GA,EAQM,MARNiX,GAQM,GAPJjX,EAKE,QAAA,CAJA,KAAK,WACL,GAAG,wBACM,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAvL,EAAA,MAAmB,QAAOuL,GACnC,MAAM,gFADG,CAAAwD,EAAA/O,EAAA,MAAmB,OAAO,oBAGrCgK,EAA6F,QAAA,CAAtF,IAAI,wBAAwB,MAAM,8BAA6B,kBAAe,EAAA,KAEvFA,EAQM,MARNkX,GAQM,GAPJlX,EAKE,QAAA,CAJA,KAAK,WACL,GAAG,uBACM,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAvL,EAAA,MAAmB,OAAMuL,GAClC,MAAM,gFADG,CAAAwD,EAAA/O,EAAA,MAAmB,MAAM,oBAGpCgK,EAA0F,QAAA,CAAnF,IAAI,uBAAuB,MAAM,8BAA6B,gBAAa,EAAA,KAEpFA,EAQM,MARNmX,GAQM,GAPJnX,EAKE,QAAA,CAJA,KAAK,WACL,GAAG,0BACM,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAvL,EAAA,MAAmB,UAASuL,GACrC,MAAM,gFADG,CAAAwD,EAAA/O,EAAA,MAAmB,SAAS,oBAGvCgK,EAAgG,QAAA,CAAzF,IAAI,0BAA0B,MAAM,8BAA6B,mBAAgB,EAAA,KAE1FA,EAQM,MARNoX,GAQM,GAPJpX,EAKE,QAAA,CAJA,KAAK,WACL,GAAG,uBACM,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAvL,EAAA,MAAmB,OAAMuL,GAClC,MAAM,gFADG,CAAAwD,EAAA/O,EAAA,MAAmB,MAAM,oBAGpCgK,EAAiG,QAAA,CAA1F,IAAI,uBAAuB,MAAM,8BAA6B,uBAAoB,EAAA,OAG7FK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAmF,IAAA,CAAhF,MAAM,8BAA6B,4CAAyC,EAAA,KAIjFA,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAoF,QAAA,CAA7E,MAAM,8CAA8C,EAAC,mBAAgB,EAAA,KAC5EA,EAKY,WAAA,CAJD,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAxL,EAAA,MAAS,MAAKwL,GACvB,KAAK,IACL,YAAY,8CACZ,MAAM,wHAHG,CAAAiD,EAAAzO,EAAA,MAAS,KAAK,QAQ7BiK,EAeM,MAfNqX,GAeM,CAdJrX,EAMS,SAAA,CALN,QAAOjJ,GACR,KAAK,SACL,MAAM,2GACP,UAED,EACAiJ,EAMS,SAAA,CALN,QAAOrJ,GACR,KAAK,SACL,MAAM,mFAEH,EAAA4J,EAAAzK,GAAA,6BAA+C,aACpD,CAAA,kBAOE8H,GAAA,WADRkC,EA0PM,MAAA,OAxPJ,MAAM,iFACL,8BAAYlC,GAAA,MAAmB,GAAA,CAAA,MAAA,CAAA,KAEhCoC,EAoPM,MApPNsX,GAoPM,CAnPJtX,EAcM,MAdNuX,GAcM,CAbJvX,EAYM,MAZNwX,GAYM,CAXJnX,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAEK,KAAA,CAFD,MAAM,qCAAqC,EAAC,+BAEhD,EAAA,GACAA,EAOS,SAAA,CANN,2BAAOpC,GAAA,MAAmB,IAC3B,MAAM,0DAENoC,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,sCAMhFA,EAwNM,MAxNNyX,GAwNM,CAvNJzX,EA2IM,MA3IN0X,GA2IM,CAzIJ1X,EAyFM,MAzFN2X,GAyFM,CAvFJ3X,EAaM,MAbN4X,GAaM,CAZJvX,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAA4E,QAAA,CAArE,MAAM,mCAAmC,EAAC,sBAAmB,EAAA,KACpEA,EAOS,SAAA,0CANEhC,GAAgB,MAAAuD,GACzB,MAAM,sHAENzB,EAESgB,EAAA,KAAAC,EAFkB7C,GAAZ2Z,GAAf7X,EAES,SAAA,CAFwC,IAAK6X,EAAW,MAAOA,KACnEA,CAAQ,EAAA,EAAAC,EAAA,kBAJJ9Z,GAAA,KAAgB,IAO3BgC,EAEO,OAFP+X,GAEOxX,EADFjC,GAAA,MAA2B,MAAM,EAAG,YAASiC,EAAGjC,GAAA,MAA2B,SAAM,EAAA,IAAA,EAAA,EAAA,CAAA,IAK7EP,GAAA,OAAX8B,IAAAC,EAMM,MANNkY,GAMM,CAAA,GAAA3X,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CALJL,EAGM,MAAA,CAHD,MAAM,6CAA6C,KAAK,OAAO,QAAQ,cAC1EA,EAAkG,SAAA,CAA1F,MAAM,aAAa,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,OAAO,eAAe,eAAa,MACrFA,EAAwK,OAAA,CAAlK,MAAM,aAAa,KAAK,eAAe,EAAE,yHAEjDA,EAA8D,IAAA,CAA3D,MAAM,4BAA4B,EAAC,uBAAoB,EAAA,OAI5C1B,GAAA,MAA2B,OAAM,GAAjDuB,IAAAC,EAuCM,MAvCNmY,GAuCM,QAtCJnY,EAqCMgB,EAAA,KAAAC,EApCezC,GAAA,MAAZD,QADTyB,EAqCM,MAAA,CAnCH,IAAKzB,EAAS,KACf,MAAM,wGAEN2B,EA+BM,MA/BNkY,GA+BM,CA9BJlY,EAmBM,MAnBNmY,GAmBM,CAlBJnY,EAKM,MALNoY,GAKM,CAJJpY,EAAiF,KAAjFqY,GAAiF9X,EAA9BlC,EAAS,aAAa,EAAA,CAAA,EAC7DA,EAAS,gBAArBwB,EAAA,EAAAC,EAEO,OAFPwY,GAEO/X,EADFlC,EAAS,cAAc,EAAA,CAAA,cAG9B2B,EAUM,MAVNuY,GAUM,CATJvY,EAEO,OAFPwY,GAEOjY,EADFlC,EAAS,kBAAkB,EAAA,CAAA,EAEpBA,EAAS,QAArBwB,EAAA,EAAAC,EAEO,OAFP2Y,GAEOlY,EADFlC,EAAS,MAAM,EAAA,CAAA,YAERA,EAAS,yBAArByB,EAEO,OAFP4Y,GAA4G,uBAE5G,cAEF1Y,EAAuF,MAAA,CAAlF,MAAM,qCAAqC,UAAQ3B,EAAS,6BAEnE2B,EASS,SAAA,CARN,QAAKuB,GAAE/C,GAAyBH,CAAQ,EACzC,KAAK,SACL,MAAM,2IAEN2B,EAEM,MAAA,CAFD,MAAM,cAAc,KAAK,OAAO,OAAO,eAAe,QAAQ,cACjEA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,0BACpE,QAER,EAAA,2BAMNH,IAAAC,EAKM,MALN6Y,GAKM,CAAA,GAAAtY,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAJJL,EAEM,MAAA,CAFD,MAAM,uCAAuC,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC1FA,EAAiM,OAAA,CAA3L,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,8HAE1EA,EAA6E,IAAA,CAA1E,MAAM,uBAAuB,EAAC,2CAAwC,EAAA,OAI3EA,EAWM,MAAA,CAXD,MAAM,+BAA+B,EAAA,CACxCA,EASS,SAAA,CARN,QAAOtB,GACR,KAAK,SACL,MAAM,wLAENsB,EAEM,MAAA,CAFD,MAAM,UAAU,KAAK,OAAO,OAAO,eAAe,QAAQ,cAC7DA,EAA2F,OAAA,CAArF,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,0BACpE,yBAER,EAAA,UAKJA,EA4CM,MA5CN4Y,GA4CM,CA3CJ5Y,EAKK,KALL6Y,GAKK,CAJHxY,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAgC,YAA1B,sBAAmB,EAAA,GACzBA,EAEO,OAFP8Y,GAEOvY,EADF5M,QAAS,oBAAoB,MAAM,EAAA,CAAA,IAI/BA,EAAA,MAAS,oBAAoB,OAAM,GAA9CkM,IAAAC,EA4BM,MA5BNiZ,GA4BM,EA3BJlZ,EAAA,EAAA,EAAAC,EA0BMgB,SAzByBnN,EAAA,MAAS,oBAAmB,CAAjDya,EAAW1a,SADrBoM,EA0BM,MAAA,CAxBH,IAAKpM,EACN,MAAM,wDAENsM,EAmBM,MAnBNgZ,GAmBM,CAlBJhZ,EAOM,MAPNiZ,GAOM,CANJjZ,EAEO,OAFPkZ,GAEO3Y,EADF6N,EAAU,gBAAgB,EAAA,CAAA,EAE/BpO,EAEO,OAFPmZ,GAEO5Y,EADF6N,EAAU,kBAAkB,EAAA,CAAA,IAGnCpO,EASS,SAAA,CARN,QAAKuB,GAAEzC,GAAgBpL,CAAK,EAC7B,KAAK,SACL,MAAM,6CACN,MAAM,+BAENsM,EAEM,MAAA,CAFD,MAAM,cAAc,KAAK,OAAO,OAAO,eAAe,QAAQ,cACjEA,EAAiG,OAAA,CAA3F,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yCAI9EA,EAAgF,MAAA,CAA3E,MAAM,6BAA6B,UAAQoO,EAAU,yCAI9DvO,IAAAC,EAKM,MALNsZ,GAKM,CAAA,GAAA/Y,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAA,CAJJL,EAEM,MAAA,CAFD,MAAM,qCAAqC,KAAK,OAAO,OAAO,eAAe,QAAQ,cACxFA,EAAiM,OAAA,CAA3L,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,gIACpE,2BAER,EAAA,WAKOnC,EAAA,cAAkCI,EAAA,MAAc,gBAAkBA,EAAA,MAAc,oBAA3F4B,IAAAC,EAwEM,MAxENuZ,GAwEM,CAvEJrZ,EAEK,KAFLsZ,GAEK/Y,EADA1C,EAAA,kCAAyD,cAC9D,CAAA,EAEAmC,EA2BM,MA3BNuZ,GA2BM,CA1BJvZ,EAUM,MAAA,KAAA,iBATJA,EAEQ,QAAA,CAFD,MAAM,gDAA8C,GAAC,oBACzC,EAAAA,EAAmC,OAAA,CAA7B,MAAM,cAAc,EAAC,GAAC,UAE/CA,EAKE,QAAA,CAJS,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAtD,EAAA,MAAc,iBAAgBsD,GACvC,KAAK,OACL,MAAM,oHACN,YAAY,sBAHH,CAAAiD,EAAAvG,EAAA,MAAc,gBAAgB,MAO3C+B,EAaM,MAAA,KAAA,iBAZJA,EAEQ,QAAA,CAFD,MAAM,gDAA8C,GAAC,YACjD,EAAAA,EAAmC,OAAA,CAA7B,MAAM,cAAc,EAAC,GAAC,UAEvCA,EAQS,SAAA,CAPE,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAtD,EAAA,MAAc,mBAAkBsD,GACzC,MAAM,sHAENlB,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyC,SAAA,CAAjC,MAAM,EAAE,EAAC,kBAAe,EAAA,UAChCF,EAESgB,EAAA,KAAAC,EAFkB7C,GAAoB,OAAOmE,GAAKA,IAAC,KAAA,EAA7CwV,QAAf/X,EAES,SAAA,CAFiE,IAAK+X,EAAW,MAAOA,KAC5FA,CAAQ,EAAA,EAAA2B,EAAA,iBALJ,CAAAhW,EAAAvF,EAAA,MAAc,kBAAkB,QAW/C+B,EAUM,MAVNyZ,GAUM,iBATJzZ,EAEQ,QAAA,CAFD,MAAM,gDAA8C,GAAC,kBAC3C,EAAAA,EAAmC,OAAA,CAA7B,MAAM,cAAc,EAAC,GAAC,UAE7CA,EAKY,WAAA,CAJD,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAtD,EAAA,MAAc,eAAcsD,GACrC,KAAK,IACL,MAAM,oHACN,YAAY,0CAHH,CAAAiD,EAAAvG,EAAA,MAAc,cAAc,MAOzC+B,EAQM,MAAA,KAAA,CAPJK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAL,EAAyE,QAAA,CAAlE,MAAM,8CAA8C,EAAC,QAAK,EAAA,KACjEA,EAKY,WAAA,CAJD,sBAAAK,EAAA,GAAA,IAAAA,EAAA,GAAA,EAAAkB,GAAAtD,EAAA,MAAc,iBAAgBsD,GACvC,KAAK,IACL,MAAM,oHACN,YAAY,qDAHH,CAAAiD,EAAAvG,EAAA,MAAc,gBAAgB,MAO3C+B,EAeM,MAfN0Z,GAeM,CAdJ1Z,EAMS,SAAA,CALN,QAAOnB,GACR,KAAK,SACL,MAAM,2GACP,UAED,EACAmB,EAMS,SAAA,CALN,QAAOpB,GACR,KAAK,SACL,MAAM,mFAEH,EAAA2B,EAAA1C,EAAA,6BAAoD,cACzD,CAAA,kBAKNmC,EAQM,MARN2Z,GAQM,CAPJ3Z,EAMS,SAAA,CALN,2BAAOpC,GAAA,MAAmB,IAC3B,KAAK,SACL,MAAM,qFACP,QAED"}