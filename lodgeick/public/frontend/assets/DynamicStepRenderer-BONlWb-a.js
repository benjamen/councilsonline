var qe=Object.defineProperty;var ie=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var we=(a,v,u)=>v in a?qe(a,v,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[v]=u,H=(a,v)=>{for(var u in v||(v={}))Ce.call(v,u)&&we(a,u,v[u]);if(ie)for(var u of ie(v))$e.call(v,u)&&we(a,u,v[u]);return a};var Y=(a,v)=>{var u={};for(var b in a)Ce.call(a,b)&&v.indexOf(b)<0&&(u[b]=a[b]);if(a!=null&&ie)for(var b of ie(a))v.indexOf(b)<0&&$e.call(a,b)&&(u[b]=a[b]);return u};var G=(a,v,u)=>new Promise((b,l)=>{var w=m=>{try{d(u.next(m))}catch(k){l(k)}},c=m=>{try{d(u.throw(m))}catch(k){l(k)}},d=m=>m.done?b(m.value):Promise.resolve(m.value).then(w,c);d((u=u.apply(a,v)).next())});import{r as B,G as J,Z as he,aM as F,Y as Q,j as M,aj as fe,aN as X,aO as A,a2 as ce,aP as je,aQ as pe,aR as ve,aS as me,aT as Ae,aU as te,X as oe,a0 as be,aV as ze,aW as Pe,aX as ue,aY as Ue,E as le,aZ as se,a_ as Oe,F as E,a$ as Ee,b0 as ee,b1 as R,c as o,o as r,a as t,e as ge,d as $,y as W,h as q,t as C,A as T,g as De,x as Le,b as O,w as N,l as L,b2 as Re,m as Ne,b3 as He,k as z,v as re,M as Z,Q as Me,N as Se,b4 as Ge,u as K}from"./index-DAitPya7.js";import{u as Ke,a as We}from"./NewRequest-BJy6JgSc.js";import"./request.service-CYcodw0a.js";import"./RequestHeader-CufUeQbw.js";import"./CouncilSelector-Ythk6GGq.js";function Ve(a,v){if(a)return a;let u=v!=null?v:"button";if(typeof u=="string"&&u.toLowerCase()==="button")return"button"}function Be(a,v){let u=B(Ve(a.value.type,a.value.as));return J(()=>{u.value=Ve(a.value.type,a.value.as)}),he(()=>{var b;u.value||F(v)&&F(v)instanceof HTMLButtonElement&&!((b=F(v))!=null&&b.hasAttribute("type"))&&(u.value="button")}),u}var Je=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(Je||{});let Fe=Symbol("DisclosureContext");function _e(a){let v=oe(Fe,null);if(v===null){let u=new Error(`<${a} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,_e),u}return v}let Ie=Symbol("DisclosurePanelContext");function Qe(){return oe(Ie,null)}let Ze=Q({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(a,{slots:v,attrs:u}){let b=B(a.defaultOpen?0:1),l=B(null),w=B(null),c={buttonId:B(`headlessui-disclosure-button-${me()}`),panelId:B(`headlessui-disclosure-panel-${me()}`),disclosureState:b,panel:l,button:w,toggleDisclosure(){b.value=te(b.value,{0:1,1:0})},closeDisclosure(){b.value!==1&&(b.value=1)},close(d){c.closeDisclosure();let m=d?d instanceof HTMLElement?d:d.value instanceof HTMLElement?F(d):F(c.button):F(c.button);m==null||m.focus()}};return ce(Fe,c),Ae(M(()=>te(b.value,{0:pe.Open,1:pe.Closed}))),()=>{let f=a,{defaultOpen:d}=f,m=Y(f,["defaultOpen"]),k={open:b.value===0,close:c.close};return X({theirProps:m,ourProps:{},slot:k,slots:v,attrs:u,name:"Disclosure"})}}}),Xe=Q({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(a,{attrs:v,slots:u,expose:b}){let l=_e("DisclosureButton"),w=Qe(),c=M(()=>w===null?!1:w.value===l.panelId.value);J(()=>{c.value||a.id!==null&&(l.buttonId.value=a.id)}),fe(()=>{c.value||(l.buttonId.value=null)});let d=B(null);b({el:d,$el:d}),c.value||he(()=>{l.button.value=d.value});let m=Be(M(()=>({as:a.as,type:v.type})),d);function k(){var g;a.disabled||(c.value?(l.toggleDisclosure(),(g=F(l.button))==null||g.focus()):l.toggleDisclosure())}function f(g){var V;if(!a.disabled)if(c.value)switch(g.key){case A.Space:case A.Enter:g.preventDefault(),g.stopPropagation(),l.toggleDisclosure(),(V=F(l.button))==null||V.focus();break}else switch(g.key){case A.Space:case A.Enter:g.preventDefault(),g.stopPropagation(),l.toggleDisclosure();break}}function x(g){switch(g.key){case A.Space:g.preventDefault();break}}return()=>{var g;let V={open:l.disclosureState.value===0},P=a,{id:h}=P,n=Y(P,["id"]),y=c.value?{ref:d,type:m.value,onClick:k,onKeydown:f}:{id:(g=l.buttonId.value)!=null?g:h,ref:d,type:m.value,"aria-expanded":l.disclosureState.value===0,"aria-controls":l.disclosureState.value===0||F(l.panel)?l.panelId.value:void 0,disabled:a.disabled?!0:void 0,onClick:k,onKeydown:f,onKeyup:x};return X({ourProps:y,theirProps:n,slot:V,attrs:v,slots:u,name:"DisclosureButton"})}}}),Ye=Q({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:v,slots:u,expose:b}){let l=_e("DisclosurePanel");J(()=>{a.id!==null&&(l.panelId.value=a.id)}),fe(()=>{l.panelId.value=null}),b({el:l.panel,$el:l.panel}),ce(Ie,l.panelId);let w=je(),c=M(()=>w!==null?(w.value&pe.Open)===pe.Open:l.disclosureState.value===0);return()=>{var d;let m={open:l.disclosureState.value===0,close:l.close},g=a,{id:k}=g,f=Y(g,["id"]),x={id:(d=l.panelId.value)!=null?d:k,ref:l.panel};return X({ourProps:x,theirProps:f,slot:m,attrs:v,slots:u,features:ve.RenderStrategy|ve.Static,visible:c.value,name:"DisclosurePanel"})}}}),et=Q({props:{onFocus:{type:Function,required:!0}},setup(a){let v=B(!0);return()=>v.value?be(Pe,{as:"button",type:"button",features:ze.Focusable,onFocus(u){u.preventDefault();let b,l=50;function w(){var c;if(l--<=0){b&&cancelAnimationFrame(b);return}if((c=a.onFocus)!=null&&c.call(a)){v.value=!1,cancelAnimationFrame(b);return}b=requestAnimationFrame(w)}b=requestAnimationFrame(w)}}):null}});var tt=(a=>(a[a.Forwards=0]="Forwards",a[a.Backwards=1]="Backwards",a))(tt||{}),lt=(a=>(a[a.Less=-1]="Less",a[a.Equal=0]="Equal",a[a.Greater=1]="Greater",a))(lt||{});let Te=Symbol("TabsContext");function ne(a){let v=oe(Te,null);if(v===null){let u=new Error(`<${a} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,ne),u}return v}let xe=Symbol("TabsSSRContext"),at=Q({name:"TabGroup",emits:{change:a=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(a,{slots:v,attrs:u,emit:b}){var l;let w=B((l=a.selectedIndex)!=null?l:a.defaultIndex),c=B([]),d=B([]),m=M(()=>a.selectedIndex!==null),k=M(()=>m.value?a.selectedIndex:w.value);function f(n){var y;let P=se(x.tabs.value,F),i=se(x.panels.value,F),s=P.filter(e=>{var p;return!((p=F(e))!=null&&p.hasAttribute("disabled"))});if(n<0||n>P.length-1){let e=te(w.value===null?0:Math.sign(n-w.value),{[-1]:()=>1,0:()=>te(Math.sign(n),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),p=te(e,{0:()=>P.indexOf(s[0]),1:()=>P.indexOf(s[s.length-1])});p!==-1&&(w.value=p),x.tabs.value=P,x.panels.value=i}else{let e=P.slice(0,n),p=[...P.slice(n),...e].find(j=>s.includes(j));if(!p)return;let I=(y=P.indexOf(p))!=null?y:x.selectedIndex.value;I===-1&&(I=x.selectedIndex.value),w.value=I,x.tabs.value=P,x.panels.value=i}}let x={selectedIndex:M(()=>{var n,y;return(y=(n=w.value)!=null?n:a.defaultIndex)!=null?y:null}),orientation:M(()=>a.vertical?"vertical":"horizontal"),activation:M(()=>a.manual?"manual":"auto"),tabs:c,panels:d,setSelectedIndex(n){k.value!==n&&b("change",n),m.value||f(n)},registerTab(n){var y;if(c.value.includes(n))return;let P=c.value[w.value];if(c.value.push(n),c.value=se(c.value,F),!m.value){let i=(y=c.value.indexOf(P))!=null?y:w.value;i!==-1&&(w.value=i)}},unregisterTab(n){let y=c.value.indexOf(n);y!==-1&&c.value.splice(y,1)},registerPanel(n){d.value.includes(n)||(d.value.push(n),d.value=se(d.value,F))},unregisterPanel(n){let y=d.value.indexOf(n);y!==-1&&d.value.splice(y,1)}};ce(Te,x);let g=B({tabs:[],panels:[]}),V=B(!1);J(()=>{V.value=!0}),ce(xe,M(()=>V.value?null:g.value));let h=M(()=>a.selectedIndex);return J(()=>{le([h],()=>{var n;return f((n=a.selectedIndex)!=null?n:a.defaultIndex)},{immediate:!0})}),he(()=>{if(!m.value||k.value==null||x.tabs.value.length<=0)return;let n=se(x.tabs.value,F);n.some((y,P)=>F(x.tabs.value[P])!==F(y))&&x.setSelectedIndex(n.findIndex(y=>F(y)===F(x.tabs.value[k.value])))}),()=>{let n={selectedIndex:w.value};return be(E,[c.value.length<=0&&be(et,{onFocus:()=>{for(let y of c.value){let P=F(y);if((P==null?void 0:P.tabIndex)===0)return P.focus(),!0}return!1}}),X({theirProps:H(H({},u),Oe(a,["selectedIndex","defaultIndex","manual","vertical","onChange"])),ourProps:{},slot:n,slots:v,attrs:u,name:"TabGroup"})])}}}),st=Q({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(a,{attrs:v,slots:u}){let b=ne("TabList");return()=>{let l={selectedIndex:b.selectedIndex.value},w={role:"tablist","aria-orientation":b.orientation.value};return X({ourProps:w,theirProps:a,slot:l,attrs:v,slots:u,name:"TabList"})}}}),rt=Q({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(a,{attrs:v,slots:u,expose:b}){var l;let w=(l=a.id)!=null?l:`headlessui-tabs-tab-${me()}`,c=ne("Tab"),d=B(null);b({el:d,$el:d}),J(()=>c.registerTab(d)),fe(()=>c.unregisterTab(d));let m=oe(xe),k=M(()=>{if(m.value){let i=m.value.tabs.indexOf(w);return i===-1?m.value.tabs.push(w)-1:i}return-1}),f=M(()=>{let i=c.tabs.value.indexOf(d);return i===-1?k.value:i}),x=M(()=>f.value===c.selectedIndex.value);function g(i){var s;let e=i();if(e===ue.Success&&c.activation.value==="auto"){let p=(s=Ee(d))==null?void 0:s.activeElement,I=c.tabs.value.findIndex(j=>F(j)===p);I!==-1&&c.setSelectedIndex(I)}return e}function V(i){let s=c.tabs.value.map(e=>F(e)).filter(Boolean);if(i.key===A.Space||i.key===A.Enter){i.preventDefault(),i.stopPropagation(),c.setSelectedIndex(f.value);return}switch(i.key){case A.Home:case A.PageUp:return i.preventDefault(),i.stopPropagation(),g(()=>ee(s,R.First));case A.End:case A.PageDown:return i.preventDefault(),i.stopPropagation(),g(()=>ee(s,R.Last))}if(g(()=>te(c.orientation.value,{vertical(){return i.key===A.ArrowUp?ee(s,R.Previous|R.WrapAround):i.key===A.ArrowDown?ee(s,R.Next|R.WrapAround):ue.Error},horizontal(){return i.key===A.ArrowLeft?ee(s,R.Previous|R.WrapAround):i.key===A.ArrowRight?ee(s,R.Next|R.WrapAround):ue.Error}}))===ue.Success)return i.preventDefault()}let h=B(!1);function n(){var i;h.value||(h.value=!0,!a.disabled&&((i=F(d))==null||i.focus({preventScroll:!0}),c.setSelectedIndex(f.value),Ue(()=>{h.value=!1})))}function y(i){i.preventDefault()}let P=Be(M(()=>({as:a.as,type:v.type})),d);return()=>{var i,s;let e={selected:x.value,disabled:(i=a.disabled)!=null?i:!1},p=Y(a,[]),I={ref:d,onKeydown:V,onMousedown:y,onClick:n,id:w,role:"tab",type:P.value,"aria-controls":(s=F(c.panels.value[f.value]))==null?void 0:s.id,"aria-selected":x.value,tabIndex:x.value?0:-1,disabled:a.disabled?!0:void 0};return X({ourProps:I,theirProps:p,slot:e,attrs:v,slots:u,name:"Tab"})}}}),ot=Q({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(a,{slots:v,attrs:u}){let b=ne("TabPanels");return()=>{let l={selectedIndex:b.selectedIndex.value};return X({theirProps:a,ourProps:{},slot:l,attrs:u,slots:v,name:"TabPanels"})}}}),nt=Q({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(a,{attrs:v,slots:u,expose:b}){var l;let w=(l=a.id)!=null?l:`headlessui-tabs-panel-${me()}`,c=ne("TabPanel"),d=B(null);b({el:d,$el:d}),J(()=>c.registerPanel(d)),fe(()=>c.unregisterPanel(d));let m=oe(xe),k=M(()=>{if(m.value){let g=m.value.panels.indexOf(w);return g===-1?m.value.panels.push(w)-1:g}return-1}),f=M(()=>{let g=c.panels.value.indexOf(d);return g===-1?k.value:g}),x=M(()=>f.value===c.selectedIndex.value);return()=>{var g;let V={selected:x.value},P=a,{tabIndex:h}=P,n=Y(P,["tabIndex"]),y={ref:d,id:w,role:"tabpanel","aria-labelledby":(g=F(c.tabs.value[f.value]))==null?void 0:g.id,tabIndex:x.value?h:-1};return!x.value&&a.unmount&&!a.static?be(Pe,H({as:"span","aria-hidden":!0},y)):X({ourProps:y,theirProps:n,slot:V,attrs:v,slots:u,features:ve.Static|ve.RenderStrategy,visible:x.value,name:"TabPanel"})}}});function it(a,v){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z","clip-rule":"evenodd"})])}function ut(a,v){if(!a||a.trim()==="")return!0;let u=a.trim();u.startsWith("eval:")&&(u=u.substring(5).trim());try{return new Function("formData",`
      'use strict';
      try {
        return Boolean(${u});
      } catch (e) {
        console.warn('[Conditional Logic] Evaluation error:', e.message);
        return false;
      }
    `)(v)}catch(b){return console.error("[Conditional Logic] Failed to evaluate expression:",a,b),!0}}function dt(a,v){return a?a.depends_on?ut(a.depends_on,v):!0:!1}const ct={class:"space-y-4"},pt={class:"block"},vt={class:"text-sm font-medium text-gray-900"},mt={key:0,class:"text-red-500"},bt={key:0,class:"text-xs text-gray-500 mt-1"},ft={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gt=["disabled"],yt=["disabled"],ht={class:"text-center"},_t={class:"text-xs text-gray-500"},xt=["accept","multiple"],kt={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},wt={class:"flex items-center space-x-3"},Ct={class:"flex-1"},$t={class:"mt-1 w-full bg-blue-200 rounded-full h-2"},St={key:1,class:"space-y-2"},Vt={class:"flex items-center space-x-3 flex-1 min-w-0"},Pt={class:"flex-shrink-0"},Dt={key:0,class:"w-12 h-12 rounded-lg overflow-hidden border-2 border-green-300"},Mt=["src","alt"],Bt={key:1,class:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center"},Ft={class:"flex-1 min-w-0"},It={class:"text-sm font-medium text-gray-900 truncate"},Tt={class:"text-xs text-gray-500"},qt=["onClick"],jt={class:"bg-white rounded-2xl max-w-2xl w-full overflow-hidden shadow-2xl"},At={class:"relative bg-black aspect-video"},zt=["src"],Ut={key:2,class:"absolute inset-0 pointer-events-none"},Ot={class:"w-full h-full grid grid-cols-3 grid-rows-3"},Et={class:"bg-gray-900 px-6 py-6"},Lt={key:0,class:"flex items-center justify-center space-x-6"},Rt={key:1,class:"flex items-center justify-center space-x-4"},Nt={__name:"CameraUpload",props:{label:{type:String,required:!0},helpText:{type:String,default:""},modelValue:{type:Array,default:()=>[]},accept:{type:String,default:"image/*,.pdf"},multiple:{type:Boolean,default:!1},required:{type:Boolean,default:!1},allowCamera:{type:Boolean,default:!0},maxSize:{type:Number,default:20*1024*1024}},emits:["update:modelValue","upload"],setup(a,{emit:v}){const u=a,b=v,l=B(null),w=B(null),c=B(!1),d=B(null),m=B(null),k=B(!1),f=B(0),x=M({get:()=>u.modelValue,set:S=>b("update:modelValue",S)}),g=()=>{var S;(S=l.value)==null||S.click()},V=S=>G(this,null,function*(){const _=Array.from(S.target.files);yield h(_),S.target.value=""}),h=S=>G(this,null,function*(){const _=[];for(const D of S){if(D.size>u.maxSize){alert(`File ${D.name} exceeds maximum size of ${ae(u.maxSize)}`);continue}let U=null;D.type.startsWith("image/")&&(U=yield n(D)),_.push({file:D,name:D.name,size:D.size,type:D.type,preview:U,uploadDate:new Date().toISOString()})}if(_.length>0){const D=u.multiple?[...x.value,..._]:_;b("update:modelValue",D),yield y(_)}}),n=S=>new Promise(_=>{const D=new FileReader;D.onload=U=>_(U.target.result),D.onerror=()=>_(null),D.readAsDataURL(S)}),y=S=>G(this,null,function*(){k.value=!0,f.value=0;try{for(let _=0;_<S.length;_++){const D=S[_],U=setInterval(()=>{f.value=Math.min(f.value+10,90)},100);yield new Promise(ke=>{b("upload",D,ke)}),clearInterval(U),f.value=(_+1)/S.length*100}}catch(_){console.error("Upload error:",_),alert("Failed to upload files. Please try again.")}finally{k.value=!1,f.value=0}}),P=S=>{const _=[...x.value];_.splice(S,1),b("update:modelValue",_)},i=()=>G(this,null,function*(){try{c.value=!0,yield s()}catch(S){console.error("Camera error:",S),alert("Unable to access camera. Please check permissions or upload a file instead."),c.value=!1}}),s=()=>G(this,null,function*(){try{const S=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}},audio:!1});m.value=S,w.value&&(w.value.srcObject=S)}catch(S){throw S}}),e=()=>{const S=w.value,_=document.createElement("canvas");_.width=S.videoWidth,_.height=S.videoHeight,_.getContext("2d").drawImage(S,0,0,_.width,_.height),d.value=_.toDataURL("image/jpeg",.9)},p=()=>{d.value=null},I=()=>G(this,null,function*(){if(!d.value)return;const S=yield(yield fetch(d.value)).blob(),_=new File([S],`photo-${Date.now()}.jpg`,{type:"image/jpeg"});yield h([_]),j()}),j=()=>{m.value&&(m.value.getTracks().forEach(S=>S.stop()),m.value=null),d.value=null,c.value=!1},ae=S=>{if(S===0)return"0 Bytes";const _=1024,D=["Bytes","KB","MB","GB"],U=Math.floor(Math.log(S)/Math.log(_));return Math.round(S/Math.pow(_,U)*100)/100+" "+D[U]};return(S,_)=>(r(),o("div",ct,[t("label",pt,[t("span",vt,[q(C(a.label)+" ",1),a.required?(r(),o("span",mt,"*")):$("",!0)]),a.helpText?(r(),o("p",bt,C(a.helpText),1)):$("",!0)]),t("div",ft,[a.allowCamera?(r(),o("button",{key:0,onClick:i,type:"button",class:T(["relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-blue-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",{"opacity-50 cursor-not-allowed":k.value}]),disabled:k.value},[..._[0]||(_[0]=[De('<div class="text-center" data-v-2b18513c><svg class="mx-auto h-10 w-10 text-blue-500 group-hover:text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-2b18513c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" data-v-2b18513c></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" data-v-2b18513c></path></svg><p class="mt-2 text-sm font-medium text-blue-600 group-hover:text-blue-700" data-v-2b18513c>Take Photo</p><p class="text-xs text-gray-500" data-v-2b18513c>Use camera</p></div>',1)])],10,gt)):$("",!0),t("button",{onClick:g,type:"button",class:T(["relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",{"opacity-50 cursor-not-allowed":k.value}]),disabled:k.value},[t("div",ht,[_[1]||(_[1]=t("svg",{class:"mx-auto h-10 w-10 text-gray-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),_[2]||(_[2]=t("p",{class:"mt-2 text-sm font-medium text-gray-700 group-hover:text-blue-700"},"Upload File",-1)),t("p",_t,"Browse "+C(a.multiple?"files":"file"),1)]),t("input",{ref_key:"fileInput",ref:l,type:"file",accept:a.accept,multiple:a.multiple,onChange:V,class:"hidden"},null,40,xt)],10,yt)]),k.value?(r(),o("div",kt,[t("div",wt,[_[4]||(_[4]=t("svg",{class:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t("div",Ct,[_[3]||(_[3]=t("p",{class:"text-sm font-medium text-blue-900"},"Uploading...",-1)),t("div",$t,[t("div",{class:"bg-blue-600 h-2 rounded-full transition-all",style:Le({width:f.value+"%"})},null,4)])])])])):$("",!0),x.value.length>0?(r(),o("div",St,[O(Re,{name:"list"},{default:N(()=>[(r(!0),o(E,null,L(x.value,(D,U)=>(r(),o("div",{key:D.name+U,class:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg group hover:bg-green-100 transition-colors"},[t("div",Vt,[t("div",Pt,[D.preview?(r(),o("div",Dt,[t("img",{src:D.preview,alt:D.name,class:"w-full h-full object-cover"},null,8,Mt)])):(r(),o("div",Bt,[..._[5]||(_[5]=[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])]))]),t("div",Ft,[t("p",It,C(D.name),1),t("p",Tt,C(ae(D.size)),1)]),t("button",{onClick:ke=>P(U),type:"button",class:"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-lg transition-colors",title:"Remove"},[..._[6]||(_[6]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,qt)])]))),128))]),_:1})])):$("",!0),(r(),W(He,{to:"body"},[c.value?(r(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:Ne(j,["self"])},[t("div",jt,[t("div",{class:"bg-gray-900 px-6 py-4 flex items-center justify-between"},[_[8]||(_[8]=t("h3",{class:"text-white font-semibold text-lg"},"Take Photo",-1)),t("button",{onClick:j,class:"text-gray-400 hover:text-white transition-colors"},[..._[7]||(_[7]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",At,[d.value?(r(),o("img",{key:1,src:d.value,alt:"Captured",class:"w-full h-full object-contain"},null,8,zt)):(r(),o("video",{key:0,ref_key:"videoElement",ref:w,autoplay:"",playsinline:"",class:"w-full h-full object-contain"},null,512)),d.value?$("",!0):(r(),o("div",Ut,[t("div",Ot,[(r(),o(E,null,L(9,D=>t("div",{key:D,class:"border border-white/20"})),64))])]))]),t("div",Et,[d.value?(r(),o("div",Rt,[t("button",{onClick:p,type:"button",class:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium"}," Retake "),t("button",{onClick:I,type:"button",class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"}," Use Photo ")])):(r(),o("div",Lt,[t("button",{onClick:e,type:"button",class:"w-16 h-16 rounded-full bg-white border-4 border-gray-700 hover:border-blue-500 transition-all flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105"},[..._[9]||(_[9]=[t("div",{class:"w-12 h-12 rounded-full bg-blue-500"},null,-1)])])]))])])])):$("",!0)]))]))}},Ht=ge(Nt,[["__scopeId","data-v-2b18513c"]]),Gt={class:"space-y-4"},Kt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Wt={class:"block text-sm font-medium text-gray-700 mb-2"},Jt={key:0,class:"text-red-500"},Qt={class:"relative"},Zt=["required"],Xt=["value"],Yt={class:"block text-sm font-medium text-gray-700 mb-2"},el={key:0,class:"text-red-500"},tl={class:"relative"},ll=["required","disabled"],al=["value"],sl={key:0,class:"mt-1 text-xs text-gray-500"},rl={class:"block text-sm font-medium text-gray-700 mb-2"},ol={key:0,class:"text-red-500"},nl={class:"relative"},il=["required","disabled"],ul=["value"],dl={key:0,class:"mt-1 text-xs text-gray-500"},cl={class:"block text-sm font-medium text-gray-700 mb-2"},pl={key:0,class:"text-red-500"},vl=["required"],ml={class:"md:col-span-2"},bl={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4"},fl={class:"flex items-start"},gl={class:"flex-1"},yl={class:"text-sm text-green-700 mt-1"},hl={__name:"PhilippinesAddressInput",props:{modelValue:{type:[String,Object],default:""},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:v}){const u=a,b=v,l=B({street:"",barangay:"",municipality:"",province:"",zipCode:""}),w=["Metro Manila","Rizal","Cavite","Laguna","Bulacan","Pampanga","Batangas","Quezon","Cebu","Davao del Sur","Benguet","Iloilo","Negros Occidental","Pangasinan","Albay"],c={"Metro Manila":["Manila City","Quezon City","Makati City","Pasig City","Taguig City","Mandaluyong City","Pasay City","Parañaque City","Las Piñas City","Muntinlupa City","Caloocan City","Malabon City","Navotas City","Valenzuela City","Marikina City","San Juan City","Pateros"],Rizal:["Taytay","Antipolo City","Cainta","Binangonan","San Mateo","Rodriguez (Montalban)","Angono","Cardona","Jalajala","Morong","Pililla","Tanay","Teresa","Baras"],Cavite:["Bacoor City","Cavite City","Dasmarinas City","Imus City","Tagaytay City","Trece Martires City","General Trias","Silang","Kawit","Noveleta","Rosario","Tanza","Naic"]},d={Taytay:["Dolores","San Juan","Muzon","San Isidro","Sta. Ana","Poblacion","Bagumbayan","Bamban","Calumpang","Dalig","Dolores","San Juan","Muzon"],"Manila City":["Ermita","Intramuros","Malate","Paco","Pandacan","Port Area","Quiapo","Sampaloc","San Andres","San Miguel","San Nicolas","Santa Ana","Santa Cruz","Santa Mesa","Tondo"],"Quezon City":["Bagong Pag-asa","Bahay Toro","Batasan Hills","Commonwealth","Cubao","Fairview","Kamuning","Novaliches","Project 4","Tatalon","Teacher's Village"]},m=M(()=>l.value.province?c[l.value.province]||[]:[]),k=M(()=>l.value.municipality?d[l.value.municipality]||["Other - Please specify in Street field"]:[]),f=M(()=>{const h=[];return l.value.street&&h.push(l.value.street),l.value.barangay&&h.push(`Brgy. ${l.value.barangay}`),l.value.municipality&&h.push(l.value.municipality),l.value.province&&h.push(l.value.province),l.value.zipCode&&h.push(l.value.zipCode),h.length>0?h.join(", "):""}),x=()=>{l.value.municipality="",l.value.barangay="",V()},g=()=>{l.value.barangay="",V()},V=()=>{b("update:modelValue",{full_address:f.value,address_line:l.value.street,barangay:l.value.barangay,municipality:l.value.municipality,province:l.value.province,zip_code:l.value.zipCode})};return J(()=>{var h;if(u.modelValue)if(typeof u.modelValue=="string"){const n=u.modelValue.split(",").map(y=>y.trim());n.length>=3&&(l.value.street=n[0]||"",l.value.barangay=((h=n[1])==null?void 0:h.replace("Brgy. ",""))||"",l.value.municipality=n[2]||"",l.value.province=n[3]||"",l.value.zipCode=n[4]||"")}else typeof u.modelValue=="object"&&(l.value=H(H({},l.value),u.modelValue))}),le(()=>u.modelValue,h=>{h&&typeof h=="object"&&(l.value=H(H({},l.value),h))}),(h,n)=>(r(),o("div",Gt,[n[18]||(n[18]=De('<div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200"><div class="flex items-start"><svg class="h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><div class="flex-1"><h3 class="text-sm font-semibold text-blue-900">Residential Address</h3><p class="text-xs text-blue-700 mt-0.5">Please provide your complete address details</p></div></div></div>',1)),t("div",Kt,[t("div",null,[t("label",Wt,[n[5]||(n[5]=q(" Province ",-1)),a.required?(r(),o("span",Jt,"*")):$("",!0)]),t("div",Qt,[z(t("select",{"onUpdate:modelValue":n[0]||(n[0]=y=>l.value.province=y),onChange:x,required:a.required,class:T(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value.province}])},[n[6]||(n[6]=t("option",{value:""},"Select Province",-1)),(r(),o(E,null,L(w,y=>t("option",{key:y,value:y},C(y),9,Xt)),64))],42,Zt),[[re,l.value.province]]),n[7]||(n[7]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),t("div",null,[t("label",Yt,[n[8]||(n[8]=q(" Municipality/City ",-1)),a.required?(r(),o("span",el,"*")):$("",!0)]),t("div",tl,[z(t("select",{"onUpdate:modelValue":n[1]||(n[1]=y=>l.value.municipality=y),onChange:g,required:a.required,disabled:!l.value.province,class:T(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",{"border-blue-500 ring-2 ring-blue-100":l.value.municipality}])},[n[9]||(n[9]=t("option",{value:""},"Select Municipality/City",-1)),(r(!0),o(E,null,L(m.value,y=>(r(),o("option",{key:y,value:y},C(y),9,al))),128))],42,ll),[[re,l.value.municipality]]),n[10]||(n[10]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),l.value.province?$("",!0):(r(),o("p",sl,"Select province first"))]),t("div",null,[t("label",rl,[n[11]||(n[11]=q(" Barangay ",-1)),a.required?(r(),o("span",ol,"*")):$("",!0)]),t("div",nl,[z(t("select",{"onUpdate:modelValue":n[2]||(n[2]=y=>l.value.barangay=y),onChange:V,required:a.required,disabled:!l.value.municipality,class:T(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",{"border-blue-500 ring-2 ring-blue-100":l.value.barangay}])},[n[12]||(n[12]=t("option",{value:""},"Select Barangay",-1)),(r(!0),o(E,null,L(k.value,y=>(r(),o("option",{key:y,value:y},C(y),9,ul))),128))],42,il),[[re,l.value.barangay]]),n[13]||(n[13]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),l.value.municipality?$("",!0):(r(),o("p",dl,"Select municipality first"))]),t("div",null,[t("label",cl,[n[14]||(n[14]=q(" Street / House No. ",-1)),a.required?(r(),o("span",pl,"*")):$("",!0)]),z(t("input",{"onUpdate:modelValue":n[3]||(n[3]=y=>l.value.street=y),onInput:V,type:"text",required:a.required,placeholder:"e.g., 123 Main Street, Blk 5 Lot 10",class:T(["block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value.street}])},null,42,vl),[[Z,l.value.street]])]),t("div",ml,[n[15]||(n[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[q(" ZIP Code "),t("span",{class:"text-gray-500 text-xs font-normal"},"(Optional)")],-1)),z(t("input",{"onUpdate:modelValue":n[4]||(n[4]=y=>l.value.zipCode=y),onInput:V,type:"text",placeholder:"e.g., 1630",maxlength:"4",class:"block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all max-w-xs"},null,544),[[Z,l.value.zipCode]])])]),f.value?(r(),o("div",bl,[t("div",fl,[n[17]||(n[17]=t("svg",{class:"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("div",gl,[n[16]||(n[16]=t("p",{class:"text-sm font-medium text-green-900"},"Complete Address",-1)),t("p",yl,C(f.value),1)])])])):$("",!0)]))}},_l={class:"space-y-4"},xl={class:"flex items-center justify-between mb-4"},kl={class:"block text-sm font-medium text-gray-700"},wl={key:0,class:"text-red-500"},Cl={key:0,class:"space-y-3"},$l=["value"],Sl={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Vl={class:"flex items-start justify-between"},Pl={class:"flex-1 space-y-1"},Dl={class:"text-sm font-medium text-gray-900"},Ml={class:"text-sm text-gray-700"},Bl={key:0,class:"text-xs text-gray-600"},Fl={key:1},Il={key:2,class:"flex items-center space-x-2"},Tl={__name:"PropertyAddressSelector",props:{modelValue:{type:Object,default:()=>({})},label:{type:String,default:"Residential Address"},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:v}){const u=a,b=v,{loadUserProfile:l,getAllProperties:w,defaultProperty:c}=Ke(),d=B(!1),m=B(""),k=B(!1),f=B(u.modelValue||{}),x=M(()=>w.value||[]),g=M(()=>!m.value||m.value==="__new__"?null:x.value.find(s=>s.name===m.value));function V(s){const e=[];return s.property_name&&e.push(s.property_name),s.street&&e.push(s.street),s.suburb&&e.push(s.suburb),s.city&&e.push(s.city),e.join(", ")||"Unnamed Property"}function h(s){const e=[];return s.street&&e.push(s.street),s.barangay&&e.push(`Brgy. ${s.barangay}`),s.municipality&&e.push(s.municipality),s.province&&e.push(s.province),(s.zip_code||s.postcode)&&e.push(s.zip_code||s.postcode),e.join(", ")}function n(){if(m.value==="__new__"){f.value={},d.value=!1;return}g.value&&(f.value={full_address:h(g.value),address_line:g.value.street||"",barangay:g.value.barangay||"",municipality:g.value.municipality||g.value.city||"",province:g.value.province||"",zip_code:g.value.zip_code||g.value.postcode||""},b("update:modelValue",f.value))}function y(s){f.value=s,b("update:modelValue",s)}function P(){d.value=!1}function i(){confirm("Are you sure you want to remove this property from selection?")&&(m.value="",f.value={},b("update:modelValue",{}))}return J(()=>G(this,null,function*(){yield l(),(!u.modelValue||Object.keys(u.modelValue).length===0)&&c.value&&(m.value=c.value.name,n()),x.value.length>0&&(d.value=!0)})),le(()=>u.modelValue,s=>{s&&Object.keys(s).length>0&&(f.value=s)},{deep:!0}),(s,e)=>(r(),o("div",_l,[t("div",xl,[t("label",kl,[q(C(a.label)+" ",1),a.required?(r(),o("span",wl,"*")):$("",!0)]),x.value.length>0?(r(),o("button",{key:0,onClick:e[0]||(e[0]=p=>d.value=!d.value),type:"button",class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},C(d.value?"Enter manually":"Select from my properties"),1)):$("",!0)]),d.value&&x.value.length>0?(r(),o("div",Cl,[z(t("select",{"onUpdate:modelValue":e[1]||(e[1]=p=>m.value=p),onChange:n,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[e[3]||(e[3]=t("option",{value:""},"Select a property",-1)),(r(!0),o(E,null,L(x.value,p=>(r(),o("option",{key:p.name,value:p.name},C(V(p)),9,$l))),128)),e[4]||(e[4]=t("option",{value:"__new__"},"+ Add New Property",-1))],544),[[re,m.value]]),g.value&&m.value!=="__new__"?(r(),o("div",Sl,[t("div",Vl,[t("div",Pl,[t("p",Dl,C(g.value.property_name||"Property"),1),t("p",Ml,C(h(g.value)),1),g.value.legal_description?(r(),o("p",Bl,C(g.value.legal_description),1)):$("",!0)]),t("div",{class:"flex space-x-2"},[t("button",{onClick:P,type:"button",class:"text-sm text-blue-600 hover:text-blue-700",title:"Edit property"},[...e[5]||(e[5]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),t("button",{onClick:i,type:"button",class:"text-sm text-red-600 hover:text-red-700",title:"Remove property"},[...e[6]||(e[6]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])])])):$("",!0)])):$("",!0),!d.value||m.value==="__new__"||x.value.length===0?(r(),o("div",Fl,[O(hl,{modelValue:f.value,"onUpdate:modelValue":y,required:a.required},null,8,["modelValue","required"])])):$("",!0),(!d.value||m.value==="__new__")&&!m.value?(r(),o("div",Il,[z(t("input",{"onUpdate:modelValue":e[2]||(e[2]=p=>k.value=p),type:"checkbox",id:"save-property",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[Me,k.value]]),e[7]||(e[7]=t("label",{for:"save-property",class:"text-sm text-gray-700"}," Save this property to my profile for future use ",-1))])):$("",!0)]))}},ql={class:"inline-block relative group"},jl={__name:"Tooltip",props:{text:{type:String,default:""},position:{type:String,default:"top",validator:a=>["top","bottom","left","right"].includes(a)}},setup(a){const v=a,u=B(!1),b=M(()=>{switch(v.position){case"top":return"bottom-full left-1/2 -translate-x-1/2 mb-2";case"bottom":return"top-full left-1/2 -translate-x-1/2 mt-2";case"left":return"right-full top-1/2 -translate-y-1/2 mr-2";case"right":return"left-full top-1/2 -translate-y-1/2 ml-2";default:return"bottom-full left-1/2 -translate-x-1/2 mb-2"}}),l=M(()=>{switch(v.position){case"top":return"tooltip-arrow-bottom";case"bottom":return"tooltip-arrow-top";case"left":return"tooltip-arrow-right";case"right":return"tooltip-arrow-left";default:return"tooltip-arrow-bottom"}});return(w,c)=>(r(),o("div",ql,[Se(w.$slots,"trigger",{},()=>[t("button",{type:"button",class:"inline-flex items-center justify-center w-5 h-5 ml-1 text-gray-400 hover:text-blue-600 rounded-full hover:bg-blue-50 transition-colors cursor-help",onMouseenter:c[0]||(c[0]=d=>u.value=!0),onMouseleave:c[1]||(c[1]=d=>u.value=!1)},[...c[2]||(c[2]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])],32)],!0),O(Ge,{name:"tooltip"},{default:N(()=>[u.value?(r(),o("div",{key:0,class:T(["absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg pointer-events-none",b.value]),style:{"max-width":"300px","white-space":"normal"}},[Se(w.$slots,"default",{},()=>[q(C(a.text),1)],!0),t("div",{class:T(["tooltip-arrow",l.value])},null,2)],2)):$("",!0)]),_:3})]))}},de=ge(jl,[["__scopeId","data-v-cfd551b3"]]),Al={class:"space-y-6"},zl={key:0,class:"form-group"},Ul={key:1,class:"form-group"},Ol=["for"],El={key:0,class:"text-red-500 ml-1"},Ll={class:"relative"},Rl=["id","name","onUpdate:modelValue","onBlur","required","placeholder"],Nl={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},Hl=["innerHTML"],Gl={key:0,class:"mt-1 text-xs text-red-600"},Kl={key:1,class:"mt-1 text-xs text-gray-500"},Wl={key:2,class:"form-group"},Jl=["for"],Ql={key:0,class:"text-red-500 ml-1"},Zl={class:"relative"},Xl=["id","name","onUpdate:modelValue","onBlur","required"],Yl={value:""},ea=["value"],ta={key:0,class:"mt-1 text-xs text-red-600"},la={key:1,class:"mt-1 text-xs text-gray-500"},aa={key:3,class:"form-group"},sa={class:"flex items-center h-5"},ra=["id","name","onUpdate:modelValue","onChange","required"],oa={class:"ml-3 text-sm"},na=["for"],ia={key:0,class:"text-red-500 ml-1"},ua={key:0,class:"mt-1 text-xs text-red-600"},da={key:1,class:"mt-1 text-xs text-gray-500"},ca={key:4,class:"form-group"},pa=["for"],va={key:0,class:"text-red-500 ml-1"},ma=["id","name","onUpdate:modelValue","onBlur","required","placeholder"],ba={key:0,class:"mt-1 text-xs text-red-600"},fa={key:1,class:"mt-1 text-xs text-gray-500"},ga={key:5,class:"form-group"},ya=["for"],ha={key:0,class:"text-red-500 ml-1"},_a={class:"relative"},xa=["id","name","onUpdate:modelValue","onBlur","required"],ka={key:0,class:"mt-1 text-xs text-red-600"},wa={key:1,class:"mt-1 text-xs text-gray-500"},Ca={key:6,class:"form-group"},$a=["for"],Sa={key:0,class:"text-red-500 ml-1"},Va={class:"relative"},Pa=["id","name","onUpdate:modelValue","required","placeholder"],Da={key:0,class:"mt-1 text-xs text-gray-500"},Ma={key:7,class:"form-group"},Ba=["for"],Fa={key:0,class:"text-red-500 ml-1"},Ia={class:"relative"},Ta=["id","name","onUpdate:modelValue","required","placeholder"],qa={key:0,class:"mt-1 text-xs text-gray-500"},ja={key:8,class:"form-group"},Aa=["for"],za={key:0,class:"text-red-500 ml-1"},Ua={class:"relative"},Oa=["id","name","onUpdate:modelValue","onBlur","required"],Ea={key:0,class:"mt-1 text-xs text-red-600"},La={key:1,class:"mt-1 text-xs text-gray-500"},Ra={key:9,class:"form-group"},Na={key:10,class:"form-group"},Ha={class:"text-sm text-gray-500 italic"},Ga={__name:"DynamicFieldRenderer",props:{fields:{type:Array,required:!0},modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(a,{emit:v}){const u=a,b=v,l=M({get:()=>u.modelValue,set:i=>b("update:modelValue",i)}),w=M(()=>u.fields.filter(i=>{var j;const s=((j=i.parent_section_code)==null?void 0:j.toLowerCase())||"",p=["address","residential_address","permanent_address","property_address","current_address","home_address"].includes(s),I=["barangay","municipality","province","city","region","zip_code","postal_code"];return p&&u.fields.some(S=>S.parent_section_code===i.parent_section_code&&S.field_name==="address_line")&&I.includes(i.field_name)?!1:dt(i,l.value)})),c=i=>{var S,_,D;const s=((S=i.field_name)==null?void 0:S.toLowerCase())||"",e=((_=i.field_label)==null?void 0:_.toLowerCase())||"",p=((D=i.parent_section_code)==null?void 0:D.toLowerCase())||"",I=["address_line","street","residential_address","property_address","home_address","current_address","permanent_address"],j=["address","residential_address","permanent_address","property_address","current_address","home_address"],ae=["residential address","property address","home address","current address","permanent address","street / house number","street address"];return I.includes(s)&&i.field_type==="Data"||j.includes(p)&&(s==="address_line"||s==="street")&&i.field_type==="Data"||ae.some(U=>e.includes(U))&&i.field_type==="Data"&&!e.includes("zip")&&!e.includes("postal")},d=i=>{var e;if(i.placeholder)return i.placeholder;const s=((e=i.field_label)==null?void 0:e.toLowerCase())||"";return s.includes("name")?"e.g., Juan Dela Cruz":s.includes("email")?"e.g., juan@example.com":s.includes("phone")||s.includes("mobile")||s.includes("contact")?"e.g., 0917 123 4567":s.includes("age")?"e.g., 25":s.includes("occupation")?"e.g., Teacher":s.includes("income")||s.includes("salary")?"e.g., 15000":`Enter ${i.field_label}`},m=i=>{var e;const s=((e=i.field_label)==null?void 0:e.toLowerCase())||"";return s.includes("email")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"/></svg>':s.includes("phone")||s.includes("mobile")||s.includes("contact")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>':s.includes("name")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>':null},k=i=>i?i.split(`
`).map(s=>s.trim()).filter(Boolean):[],{errors:f,validateConfigField:x,clearFieldError:g}=We(),V=i=>{if(!i.validation&&!i.is_required){g(i.field_name);return}const s=l.value[i.field_name];x(i.field_name,s,i,l.value)},h=i=>f.value[i]||"",n=i=>{const s=l.value[i];return Array.isArray(s)?s:s?typeof s=="string"?[{file_url:s,name:s.split("/").pop(),preview:s}]:[]:[]},y=(i,s)=>{console.log("[DynamicFieldRenderer] updateFileField called:",i,s),l.value[i]=s},P=(i,s)=>G(this,null,function*(){console.log("[DynamicFieldRenderer] handleFileUploadToFrappe called with:",i);try{console.log("[DynamicFieldRenderer] Starting file upload:",i.name);const e=new FormData;e.append("file",i.file),e.append("is_private","0"),e.append("folder","Home/Attachments"),console.log("[DynamicFieldRenderer] Uploading to /api/method/upload_file...");const p=yield fetch("/api/method/upload_file",{method:"POST",credentials:"include",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:e});if(console.log("[DynamicFieldRenderer] Upload response status:",p.status),!p.ok){const j=yield p.text();throw console.error("[DynamicFieldRenderer] Upload failed:",j),new Error(`Upload failed (${p.status}): ${j}`)}const I=yield p.json();console.log("[DynamicFieldRenderer] Upload response:",I),I.message&&I.message.file_url&&(console.log("[DynamicFieldRenderer] File uploaded successfully:",I.message.file_url),i.file_url=I.message.file_url,i.file_name=I.message.file_name,console.log("[DynamicFieldRenderer] Updated fileData:",i)),console.log("[DynamicFieldRenderer] Calling resolveCallback()"),s(),console.log("[DynamicFieldRenderer] File upload completed successfully")}catch(e){console.error("[DynamicFieldRenderer] File upload error:",e),alert(`Failed to upload file: ${e.message}`),console.log("[DynamicFieldRenderer] Calling resolveCallback() after error"),s()}});return le(()=>l.value,i=>{Object.entries(i).forEach(([s,e])=>{if(Array.isArray(e)&&e.length>0&&e[0].file_url){const p=e.map(I=>I.file_url).filter(Boolean);p.length>0&&(l.value[s]=p.length===1?p[0]:p,console.log(`[DynamicFieldRenderer] Converted file array to URL for ${s}:`,l.value[s]))}})},{deep:!0}),le(()=>u.fields,i=>{i.forEach(s=>{s.default_value&&!l.value[s.field_name]&&(s.default_value==="Today"&&s.field_type==="Date"?l.value[s.field_name]=new Date().toISOString().split("T")[0]:l.value[s.field_name]=s.default_value)})},{immediate:!0}),(i,s)=>(r(),o("div",Al,[(r(!0),o(E,null,L(w.value,e=>(r(),o("div",{key:e.field_name,class:"field-wrapper"},[c(e)?(r(),o("div",zl,[O(Tl,{modelValue:l.value[e.field_name],"onUpdate:modelValue":p=>l.value[e.field_name]=p,label:e.field_label,required:!!e.is_required},null,8,["modelValue","onUpdate:modelValue","label","required"])])):e.field_type==="Data"?(r(),o("div",Ul,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[t("span",null,C(e.field_label),1),e.is_required?(r(),o("span",El,"*")):$("",!0),e.help_text||e.description?(r(),W(de,{key:1,text:e.help_text||e.description},null,8,["text"])):$("",!0)],8,Ol),t("div",Ll,[z(t("input",{id:e.field_name,name:e.field_name,type:"text","onUpdate:modelValue":p=>l.value[e.field_name]=p,onBlur:p=>V(e),required:e.is_required,class:T(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]&&!h(e.field_name),"border-red-500 ring-2 ring-red-100":h(e.field_name)}]),placeholder:d(e)},null,42,Rl),[[Z,l.value[e.field_name]]]),m(e)?(r(),o("div",Nl,[t("span",{innerHTML:m(e),class:"text-gray-400"},null,8,Hl)])):$("",!0)]),h(e.field_name)?(r(),o("p",Gl,C(h(e.field_name)),1)):e.description?(r(),o("p",Kl,C(e.description),1)):$("",!0)])):e.field_type==="Select"?(r(),o("div",Wl,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[t("span",null,C(e.field_label),1),e.is_required?(r(),o("span",Ql,"*")):$("",!0),e.help_text||e.description?(r(),W(de,{key:1,text:e.help_text||e.description},null,8,["text"])):$("",!0)],8,Jl),t("div",Zl,[z(t("select",{id:e.field_name,name:e.field_name,"onUpdate:modelValue":p=>l.value[e.field_name]=p,onBlur:p=>V(e),required:e.is_required,class:T(["block w-full pl-4 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all appearance-none bg-white",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]&&!h(e.field_name),"border-red-500 ring-2 ring-red-100":h(e.field_name)}])},[t("option",Yl,"Select "+C(e.field_label),1),(r(!0),o(E,null,L(k(e.options),p=>(r(),o("option",{key:p,value:p},C(p),9,ea))),128))],42,Xl),[[re,l.value[e.field_name]]]),s[0]||(s[0]=t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),h(e.field_name)?(r(),o("p",ta,C(h(e.field_name)),1)):e.description?(r(),o("p",la,C(e.description),1)):$("",!0)])):e.field_type==="Check"?(r(),o("div",aa,[t("div",{class:T(["flex items-start p-4 border rounded-lg hover:border-blue-300 transition-colors",{"border-gray-200":!h(e.field_name),"border-red-500 bg-red-50":h(e.field_name)}])},[t("div",sa,[z(t("input",{id:e.field_name,name:e.field_name,type:"checkbox","onUpdate:modelValue":p=>l.value[e.field_name]=p,onChange:p=>V(e),required:e.is_required,class:"focus:ring-blue-500 h-5 w-5 text-blue-600 border-gray-300 rounded cursor-pointer"},null,40,ra),[[Me,l.value[e.field_name]]])]),t("div",oa,[t("label",{for:e.field_name,class:"font-medium text-gray-700 cursor-pointer"},[q(C(e.field_label)+" ",1),e.is_required?(r(),o("span",ia,"*")):$("",!0)],8,na),h(e.field_name)?(r(),o("p",ua,C(h(e.field_name)),1)):e.description?(r(),o("p",da,C(e.description),1)):$("",!0)])],2)])):e.field_type==="Text"?(r(),o("div",ca,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[q(C(e.field_label)+" ",1),e.is_required?(r(),o("span",va,"*")):$("",!0)],8,pa),z(t("textarea",{id:e.field_name,name:e.field_name,"onUpdate:modelValue":p=>l.value[e.field_name]=p,onBlur:p=>V(e),required:e.is_required,rows:"4",class:T(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-y",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]&&!h(e.field_name),"border-red-500 ring-2 ring-red-100":h(e.field_name)}]),placeholder:d(e)},null,42,ma),[[Z,l.value[e.field_name]]]),h(e.field_name)?(r(),o("p",ba,C(h(e.field_name)),1)):e.description?(r(),o("p",fa,C(e.description),1)):$("",!0)])):e.field_type==="Date"?(r(),o("div",ga,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[t("span",null,C(e.field_label),1),e.is_required?(r(),o("span",ha,"*")):$("",!0),e.help_text||e.description?(r(),W(de,{key:1,text:e.help_text||e.description},null,8,["text"])):$("",!0)],8,ya),t("div",_a,[z(t("input",{id:e.field_name,name:e.field_name,type:"date","onUpdate:modelValue":p=>l.value[e.field_name]=p,onBlur:p=>V(e),required:e.is_required,class:T(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]&&!h(e.field_name),"border-red-500 ring-2 ring-red-100":h(e.field_name)}])},null,42,xa),[[Z,l.value[e.field_name]]]),s[1]||(s[1]=t("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),h(e.field_name)?(r(),o("p",ka,C(h(e.field_name)),1)):e.description?(r(),o("p",wa,C(e.description),1)):$("",!0)])):e.field_type==="Int"?(r(),o("div",Ca,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[t("span",null,C(e.field_label),1),e.is_required?(r(),o("span",Sa,"*")):$("",!0),e.help_text||e.description?(r(),W(de,{key:1,text:e.help_text||e.description},null,8,["text"])):$("",!0)],8,$a),t("div",Va,[z(t("input",{id:e.field_name,name:e.field_name,type:"number","onUpdate:modelValue":p=>l.value[e.field_name]=p,required:e.is_required,step:"1",class:T(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]}]),placeholder:d(e)},null,10,Pa),[[Z,l.value[e.field_name],void 0,{number:!0}]]),s[2]||(s[2]=t("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})])],-1))]),e.description?(r(),o("p",Da,C(e.description),1)):$("",!0)])):e.field_type==="Float"?(r(),o("div",Ma,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[q(C(e.field_label)+" ",1),e.is_required?(r(),o("span",Fa,"*")):$("",!0)],8,Ba),t("div",Ia,[z(t("input",{id:e.field_name,name:e.field_name,type:"number","onUpdate:modelValue":p=>l.value[e.field_name]=p,required:e.is_required,step:"0.01",class:T(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]}]),placeholder:d(e)},null,10,Ta),[[Z,l.value[e.field_name],void 0,{number:!0}]]),s[3]||(s[3]=t("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})])],-1))]),e.description?(r(),o("p",qa,C(e.description),1)):$("",!0)])):e.field_type==="Currency"?(r(),o("div",ja,[t("label",{for:e.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[q(C(e.field_label)+" ",1),e.is_required?(r(),o("span",za,"*")):$("",!0)],8,Aa),t("div",Ua,[s[4]||(s[4]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 text-base font-medium"},"₱")],-1)),z(t("input",{id:e.field_name,name:e.field_name,type:"number","onUpdate:modelValue":p=>l.value[e.field_name]=p,onBlur:p=>V(e),required:e.is_required,step:"0.01",class:T(["block w-full pl-10 pr-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":l.value[e.field_name]&&!h(e.field_name),"border-red-500 ring-2 ring-red-100":h(e.field_name)}]),placeholder:"0.00"},null,42,Oa),[[Z,l.value[e.field_name],void 0,{number:!0}]])]),h(e.field_name)?(r(),o("p",Ea,C(h(e.field_name)),1)):e.description?(r(),o("p",La,C(e.description),1)):$("",!0)])):e.field_type==="Attach"||e.field_type==="Attach Image"?(r(),o("div",Ra,[O(Ht,{label:e.field_label,required:e.is_required,accept:e.field_type==="Attach Image"?"image/*":"*",multiple:!1,modelValue:n(e.field_name),"onUpdate:modelValue":p=>y(e.field_name,p),onUpload:P},null,8,["label","required","accept","modelValue","onUpdate:modelValue"])])):(r(),o("div",Na,[t("div",Ha,' Field type "'+C(e.field_type)+'" not yet supported for '+C(e.field_label),1)]))]))),128))]))}},ye=ge(Ga,[["__scopeId","data-v-2f988ade"]]),Ka={class:"dynamic-step max-w-4xl mx-auto"},Wa={class:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200"},Ja={class:"flex items-start"},Qa={class:"ml-4 flex-1"},Za={class:"text-2xl font-bold text-blue-900"},Xa={key:0,class:"mt-2 text-sm text-blue-700"},Ya={class:"space-y-6"},es={class:"mb-4 pb-3 border-b-2 border-gray-200"},ts={class:"flex items-center"},ls={class:"text-lg font-semibold text-gray-900"},as={key:0,class:"text-red-500 ml-1"},ss={key:0,class:"text-sm text-gray-600 mt-0.5"},rs={key:0,class:"text-xs text-gray-500 mt-2 ml-11"},os={class:"section-content"},ns={key:2,class:"bg-white p-6 rounded-lg border-2 border-gray-200 shadow-sm hover:shadow-md transition-shadow"},is={__name:"DynamicStepRenderer",props:{stepConfig:{type:Object,required:!0},modelValue:{type:Object,required:!0},stepDescription:{type:String,default:""}},emits:["update:modelValue"],setup(a,{emit:v}){const u=a,b=v,l=M({get:()=>u.modelValue,set:m=>b("update:modelValue",m)}),w=M(()=>u.stepConfig.sections?u.stepConfig.sections.filter(m=>{if(!m.depends_on)return!0;try{return isSectionVisible(m,l.value)}catch(k){return console.error(`Error evaluating section visibility for ${m.section_code}:`,k),!0}}):[]),c=m=>[m.section_title],d=()=>{console.log("--- DYNAMIC STEP DATA LOG ---"),console.log("Full Form Data (localData):",JSON.parse(JSON.stringify(l.value))),console.log("-----------------------------"),alert("Data logged to console. Check browser console (F12) for the Full Form Data.")};return le(()=>u.stepConfig,m=>{m.sections&&m.sections.forEach(k=>{k.fields.forEach(f=>{if(f.default_value&&!l.value[f.field_name]){const x=H({},l.value);f.default_value==="Today"&&f.field_type==="Date"?x[f.field_name]=new Date().toISOString().split("T")[0]:x[f.field_name]=f.default_value,b("update:modelValue",x)}})})},{immediate:!0,deep:!0}),(m,k)=>(r(),o("div",Ka,[t("div",Wa,[t("div",Ja,[k[3]||(k[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),t("div",Qa,[t("h2",Za,C(a.stepConfig.step_title),1),a.stepDescription?(r(),o("p",Xa,C(a.stepDescription),1)):$("",!0)])])]),t("div",Ya,[(r(!0),o(E,null,L(w.value,f=>(r(),o("div",{key:f.section_code,class:"section"},[t("div",es,[t("div",ts,[k[4]||(k[4]=t("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3"},[t("svg",{class:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),t("div",null,[t("h3",ls,[q(C(f.section_title)+" ",1),f.is_required?(r(),o("span",as,"*")):$("",!0)]),f.section_description?(r(),o("p",ss,C(f.section_description),1)):$("",!0)])]),f.is_required?(r(),o("div",rs,[...k[5]||(k[5]=[q(" All fields marked with ",-1),t("span",{class:"text-red-500"},"*",-1),q(" are required ",-1)])])):$("",!0)]),t("div",os,[f.section_type==="Tab"?(r(),W(K(at),{key:0},{default:N(()=>[O(K(st),{class:"flex space-x-1 rounded-xl bg-blue-900/20 p-1 mb-4"},{default:N(()=>[(r(!0),o(E,null,L(c(f),(x,g)=>(r(),W(K(rt),{key:g,class:T(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700 ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",m.selected?"bg-white shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"])},{default:N(({selected:V})=>[q(C(x),1)]),_:2},1032,["class"]))),128))]),_:2},1024),O(K(ot),null,{default:N(()=>[(r(!0),o(E,null,L(c(f),(x,g)=>(r(),W(K(nt),{key:g},{default:N(()=>[O(ye,{fields:f.fields,modelValue:l.value,"onUpdate:modelValue":k[0]||(k[0]=V=>l.value=V)},null,8,["fields","modelValue"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)):f.section_type==="Accordion"?(r(),W(K(Ze),{key:1},{default:N(({open:x})=>[O(K(Xe),{class:"flex w-full justify-between rounded-lg bg-blue-50 px-4 py-3 text-left text-sm font-medium text-blue-900 hover:bg-blue-100 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75 mb-2"},{default:N(()=>[t("span",null,C(f.section_title),1),O(K(it),{class:T([x?"rotate-180 transform":"","h-5 w-5 text-blue-500"])},null,8,["class"])]),_:2},1024),O(K(Ye),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:N(()=>[O(ye,{fields:f.fields,modelValue:l.value,"onUpdate:modelValue":k[1]||(k[1]=g=>l.value=g)},null,8,["fields","modelValue"])]),_:2},1024)]),_:2},1024)):(r(),o("div",ns,[O(ye,{fields:f.fields,modelValue:l.value,"onUpdate:modelValue":k[2]||(k[2]=x=>l.value=x)},null,8,["fields","modelValue"])]))])]))),128))]),t("div",{class:"mt-8 pt-4 border-t border-gray-200"},[t("button",{onClick:d,class:"px-4 py-2 bg-red-500 text-white rounded-lg shadow hover:bg-red-600 transition"}," 🚨 Log Current Data (Debug) "),k[6]||(k[6]=t("p",{class:"text-xs text-gray-500 mt-2"},"Use this button to check if data is being saved correctly to localData/formData.",-1))])]))}},bs=ge(is,[["__scopeId","data-v-5d6a1c4c"]]);export{bs as default};
//# sourceMappingURL=DynamicStepRenderer-BONlWb-a.js.map
