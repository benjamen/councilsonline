{"version":3,"file":"RequestDetail-E5Uyv4WK.js","sources":["../../../../frontend/src/components/modals/SendMessageModal.vue","../../../../frontend/src/pages/RequestDetail.vue"],"sourcesContent":["<script setup>\nimport { ref, computed } from 'vue'\nimport { Dialog, Input, Button } from 'frappe-ui'\n\nconst props = defineProps({\n\tshow: {\n\t\ttype: Boolean,\n\t\trequired: true\n\t},\n\trequestId: {\n\t\ttype: String,\n\t\trequired: true\n\t}\n})\n\nconst emit = defineEmits(['update:show', 'sent'])\n\nconst isOpen = computed({\n\tget: () => props.show,\n\tset: (value) => emit('update:show', value)\n})\n\nconst subject = ref('')\nconst message = ref('')\nconst communicationType = ref('Email')\nconst sending = ref(false)\nconst error = ref(null)\nconst success = ref(false)\n\nconst isValid = computed(() => {\n\treturn subject.value.trim() && message.value.trim()\n})\n\nconst handleClose = () => {\n\tif (!sending.value) {\n\t\tsubject.value = ''\n\t\tmessage.value = ''\n\t\tcommunicationType.value = 'Email'\n\t\terror.value = null\n\t\tsuccess.value = false\n\t\temit('update:show', false)\n\t}\n}\n\nconst handleSend = async () => {\n\tif (!isValid.value) return\n\n\tsending.value = true\n\terror.value = null\n\n\ttry {\n\t\tconst response = await fetch('/api/method/lodgeick.api.send_request_message', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-Frappe-CSRF-Token': window.csrf_token\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\trequest_id: props.requestId,\n\t\t\t\tsubject: subject.value,\n\t\t\t\tmessage: message.value,\n\t\t\t\tcommunication_type: communicationType.value\n\t\t\t})\n\t\t})\n\n\t\tconst data = await response.json()\n\n\t\tif (data.message?.success) {\n\t\t\t// Show success message\n\t\t\tsuccess.value = true\n\t\t\terror.value = null\n\n\t\t\t// Emit sent event immediately\n\t\t\temit('sent')\n\n\t\t\t// Close modal after 2 seconds so user sees success message\n\t\t\tsetTimeout(() => {\n\t\t\t\thandleClose()\n\t\t\t}, 2000)\n\t\t} else {\n\t\t\terror.value = data.exc || data._server_messages || 'Failed to send message'\n\t\t}\n\t} catch (err) {\n\t\tconsole.error('Send message error:', err)\n\t\terror.value = 'Network error. Please try again.'\n\t} finally {\n\t\tsending.value = false\n\t}\n}\n</script>\n\n<template>\n\t<Dialog v-model=\"isOpen\" :options=\"{ size: 'lg' }\">\n\t\t<template #body>\n\t\t\t<div class=\"p-6\">\n\t\t\t\t<h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Send Message to Council</h3>\n\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<!-- Subject Input -->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"block text-sm font-medium text-gray-700 mb-2\">Subject *</label>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tv-model=\"subject\"\n\t\t\t\t\t\t\tplaceholder=\"Brief description of your message\"\n\t\t\t\t\t\t\t:disabled=\"sending\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Message Content -->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"block text-sm font-medium text-gray-700 mb-2\">Message *</label>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tv-model=\"message\"\n\t\t\t\t\t\t\trows=\"8\"\n\t\t\t\t\t\t\tclass=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n\t\t\t\t\t\t\tplaceholder=\"Type your message to the council...\"\n\t\t\t\t\t\t\t:disabled=\"sending\"\n\t\t\t\t\t\t></textarea>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Communication Type -->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"block text-sm font-medium text-gray-700 mb-2\">Communication Type</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tv-model=\"communicationType\"\n\t\t\t\t\t\t\tclass=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n\t\t\t\t\t\t\t:disabled=\"sending\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"Email\">Email</option>\n\t\t\t\t\t\t\t<option value=\"Phone\">Phone Call Follow-up</option>\n\t\t\t\t\t\t\t<option value=\"Letter\">Letter</option>\n\t\t\t\t\t\t\t<option value=\"Other\">Other</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Info Note -->\n\t\t\t\t\t<div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n\t\t\t\t\t\t<p class=\"text-sm text-blue-800\">\n\t\t\t\t\t\t\tYour message will be sent to the council processing team.\n\t\t\t\t\t\t\tThey typically respond within 2-3 business days.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Success Display -->\n\t\t\t\t\t<div v-if=\"success\" class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t<svg class=\"w-5 h-5 text-green-600 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<p class=\"text-sm text-green-800 font-medium\">Message sent successfully! The council will respond within 2-3 business days.</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Error Display -->\n\t\t\t\t\t<div v-if=\"error\" class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n\t\t\t\t\t\t<p class=\"text-sm text-red-800\">{{ error }}</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Buttons inside body to avoid overlay issues -->\n\t\t\t\t\t<div class=\"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click=\"handleClose\"\n\t\t\t\t\t\t\t:disabled=\"sending\"\n\t\t\t\t\t\t\tclass=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click=\"handleSend\"\n\t\t\t\t\t\t\t:disabled=\"!isValid || sending\"\n\t\t\t\t\t\t\tclass=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span v-if=\"sending\">Sending...</span>\n\t\t\t\t\t\t\t<span v-else>Send Message</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n","<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <header class=\"bg-white shadow-sm border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between items-center py-4\">\n          <div class=\"flex items-center space-x-4\">\n            <button @click=\"goBack\" class=\"text-gray-600 hover:text-gray-900\">\n              <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n              </svg>\n            </button>\n            <div>\n              <h1 class=\"text-xl font-bold text-gray-900\">{{ request.data?.request_number || 'Loading...' }}</h1>\n              <p class=\"text-sm text-gray-500\">{{ request.data?.request_type }}</p>\n            </div>\n          </div>\n\n          <div class=\"flex items-center space-x-3\">\n            <StatusBadge v-if=\"request.data\" :status=\"request.data.status\" />\n            <Button\n              v-if=\"request.data?.status === 'Draft'\"\n              @click=\"handleSubmitApplication\"\n              variant=\"solid\"\n              theme=\"blue\"\n              :loading=\"submitting\"\n            >\n              Submit Application\n            </Button>\n          </div>\n        </div>\n      </div>\n    </header>\n\n    <!-- Hidden file input -->\n    <input\n      ref=\"fileInput\"\n      type=\"file\"\n      multiple\n      class=\"hidden\"\n      @change=\"handleFileUpload\"\n    />\n\n    <!-- Loading State -->\n    <div v-if=\"request.loading\" class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n      <div class=\"text-center\">\n        <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        <p class=\"mt-4 text-gray-500\">Loading request details...</p>\n      </div>\n    </div>\n\n    <!-- Main Content -->\n    <div v-else-if=\"request.data\" class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <!-- Main Content Column -->\n        <div class=\"lg:col-span-2 space-y-6\">\n          <!-- Overview Card -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Application Overview</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Request Number</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.request_number }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Type</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.request_type }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Status</label>\n                <div class=\"mt-1\">\n                  <StatusBadge :status=\"request.data.status\" />\n                </div>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Submitted Date</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ formatDate(request.data.creation) }}</p>\n              </div>\n            </div>\n\n            <div class=\"mt-6 pt-6 border-t border-gray-200\">\n              <label class=\"text-sm font-medium text-gray-500\">Brief Description</label>\n              <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.brief_description || 'N/A' }}</p>\n            </div>\n\n            <div class=\"mt-4\">\n              <label class=\"text-sm font-medium text-gray-500\">Detailed Description</label>\n              <div class=\"mt-1 text-sm text-gray-900 prose prose-sm max-w-none\" v-html=\"request.data.detailed_description || 'N/A'\"></div>\n            </div>\n          </div>\n\n          <!-- Property Information - only show if request type has property -->\n          <div v-if=\"hasPropertyDetails\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Property Information</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div v-if=\"request.data.property_address\">\n                <label class=\"text-sm font-medium text-gray-500\">Address</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.property_address }}</p>\n              </div>\n              <div v-if=\"request.data.legal_description\">\n                <label class=\"text-sm font-medium text-gray-500\">Legal Description</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.legal_description }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Applicant Information -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Applicant Information</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Name</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.requester_name || 'N/A' }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Email</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.requester_email || 'N/A' }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Phone</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.requester_phone || 'N/A' }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Address</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.applicant_address || 'N/A' }}</p>\n              </div>\n              <div v-if=\"request.data.applicant_company\">\n                <label class=\"text-sm font-medium text-gray-500\">Company/Organization</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.applicant_company }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Delivery & Payment Preferences - only show if request type collects payment -->\n          <div v-if=\"requestTypeConfig.data?.collect_payment\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Delivery & Payment Preferences</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div v-if=\"request.data.delivery_preference\">\n                <label class=\"text-sm font-medium text-gray-500\">Delivery Preference</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.delivery_preference }}</p>\n              </div>\n              <div v-if=\"request.data.invoice_to\">\n                <label class=\"text-sm font-medium text-gray-500\">Invoice To</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.invoice_to }}</p>\n              </div>\n              <div v-if=\"request.data.invoice_recipient_name\">\n                <label class=\"text-sm font-medium text-gray-500\">Invoice Recipient Name</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.invoice_recipient_name }}</p>\n              </div>\n              <div v-if=\"request.data.invoice_recipient_email\">\n                <label class=\"text-sm font-medium text-gray-500\">Invoice Recipient Email</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.invoice_recipient_email }}</p>\n              </div>\n              <div v-if=\"request.data.purchase_order_number\" class=\"col-span-2\">\n                <label class=\"text-sm font-medium text-gray-500\">Purchase Order Number</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.purchase_order_number }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Council Meeting Section -->\n          <div v-if=\"requestTypeConfig.data?.council_meeting_available\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div class=\"flex justify-between items-start mb-4\">\n              <div>\n                <h2 class=\"text-lg font-semibold text-gray-900\">Council Meeting</h2>\n                <p class=\"text-sm text-gray-600 mt-1\">\n                  Schedule a meeting with council planners to discuss your application\n                </p>\n              </div>\n\n              <!-- Status Badge if meeting exists -->\n              <span\n                v-if=\"meetings.data && meetings.data.length > 0\"\n                class=\"px-3 py-1 rounded-full text-sm font-medium\"\n                :class=\"{\n                  'bg-yellow-100 text-yellow-800': meetings.data[0].status === 'Requested',\n                  'bg-blue-100 text-blue-800': meetings.data[0].status === 'Scheduled',\n                  'bg-green-100 text-green-800': meetings.data[0].status === 'Completed',\n                  'bg-gray-100 text-gray-800': meetings.data[0].status === 'Cancelled'\n                }\"\n              >\n                {{ meetings.data[0].status }}\n              </span>\n            </div>\n\n            <!-- Meeting Details (if exists) -->\n            <div v-if=\"meetings.data && meetings.data.length > 0\" class=\"space-y-3\">\n              <div v-for=\"meeting in meetings.data\" :key=\"meeting.name\" class=\"border-l-4 border-blue-500 bg-blue-50 p-4 rounded\">\n                <div class=\"grid grid-cols-2 gap-3 text-sm\">\n                  <div>\n                    <span class=\"font-medium text-gray-700\">Type:</span>\n                    <span class=\"ml-2 text-gray-900\">{{ meeting.meeting_type }}</span>\n                  </div>\n                  <div>\n                    <span class=\"font-medium text-gray-700\">Status:</span>\n                    <span class=\"ml-2 text-gray-900\">{{ meeting.status }}</span>\n                  </div>\n                  <div v-if=\"meeting.scheduled_start\" class=\"col-span-2\">\n                    <span class=\"font-medium text-gray-700\">Scheduled:</span>\n                    <span class=\"ml-2 text-gray-900\">{{ formatMeetingDate(meeting.scheduled_start) }}</span>\n                  </div>\n                  <div v-if=\"meeting.meeting_format\" class=\"col-span-2\">\n                    <span class=\"font-medium text-gray-700\">Format:</span>\n                    <span class=\"ml-2 text-gray-900\">{{ meeting.meeting_format }}</span>\n                  </div>\n                  <div v-if=\"meeting.meeting_location\" class=\"col-span-2\">\n                    <span class=\"font-medium text-gray-700\">Location:</span>\n                    <span class=\"ml-2 text-gray-900\">{{ meeting.meeting_location }}</span>\n                  </div>\n                  <div v-if=\"meeting.google_meet_link\" class=\"col-span-2\">\n                    <span class=\"font-medium text-gray-700\">Meeting Link:</span>\n                    <a :href=\"meeting.google_meet_link\" target=\"_blank\" class=\"ml-2 text-blue-600 hover:underline\">Join Meeting</a>\n                  </div>\n                </div>\n\n                <div v-if=\"meeting.meeting_purpose\" class=\"mt-3 pt-3 border-t border-blue-200\">\n                  <span class=\"font-medium text-gray-700 text-sm\">Purpose:</span>\n                  <p class=\"mt-1 text-sm text-gray-900\">{{ meeting.meeting_purpose }}</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Request Meeting Button (if no meeting) -->\n            <div v-else class=\"text-center py-6\">\n              <svg class=\"mx-auto h-12 w-12 text-gray-400 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n              </svg>\n              <p class=\"text-sm text-gray-600 mb-4\">\n                No meeting scheduled yet. Book a meeting to discuss your application with council planners.\n              </p>\n              <button\n                @click=\"handleBookMeeting\"\n                class=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                Request Council Meeting\n              </button>\n            </div>\n          </div>\n\n          <!-- Dynamic Application Data (using step configuration OR fallback to raw data) -->\n          <template v-if=\"reviewSections.length > 0\">\n            <div\n              v-for=\"step in reviewSections\"\n              :key=\"step.step_code\"\n              class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\"\n            >\n              <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">{{ step.step_title }}</h2>\n              <div class=\"space-y-4\">\n                <div\n                  v-for=\"section in step.sections.filter(s => s.show_on_review)\"\n                  :key=\"section.section_code\"\n                >\n                  <h3 v-if=\"section.section_title\" class=\"text-md font-medium text-gray-700 mb-3\">\n                    {{ section.section_title }}\n                  </h3>\n                  <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div\n                      v-for=\"field in section.fields.filter(f => f.show_on_review)\"\n                      :key=\"field.field_name\"\n                      class=\"border-b border-gray-100 pb-3\"\n                    >\n                      <label class=\"text-sm font-medium text-gray-500\">{{ field.review_label || field.field_label }}</label>\n                      <p class=\"mt-1 text-sm text-gray-900\">{{ formatFieldValue(field, request.data[field.field_name]) }}</p>\n                    </div>\n                  </div>\n                </div>\n                <p v-if=\"!hasReviewContent(step)\" class=\"text-gray-500 text-sm\">\n                  No information to display\n                </p>\n              </div>\n            </div>\n          </template>\n\n          <!-- Fallback: Show raw application data if config not loaded -->\n          <div v-else-if=\"parsedFormData && Object.keys(parsedFormData).length > 0\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Application Details</h2>\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div v-for=\"(value, fieldName) in parsedFormData\" :key=\"fieldName\" class=\"border-b border-gray-100 pb-3\">\n                <label class=\"text-sm font-medium text-gray-500\">{{ formatFieldLabel(fieldName) }}</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ formatSimpleValue(value) }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Fees & Payments -->\n          <div v-if=\"requestTypeConfig.data?.collect_payment\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h2 class=\"text-lg font-semibold text-gray-900\">Fees & Payments</h2>\n              <span class=\"text-sm font-medium\" :class=\"request.data.payment_status === 'Paid' ? 'text-green-600' : 'text-orange-600'\">\n                {{ request.data.payment_status || 'Unpaid' }}\n              </span>\n            </div>\n\n            <div class=\"space-y-3\">\n              <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                <span class=\"text-sm text-gray-600\">Total Fees</span>\n                <span class=\"text-sm font-semibold text-gray-900\">${{ (request.data.total_fees || 0).toFixed(2) }}</span>\n              </div>\n              <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                <span class=\"text-sm text-gray-600\">Total Paid</span>\n                <span class=\"text-sm font-semibold text-green-600\">${{ (request.data.total_paid || 0).toFixed(2) }}</span>\n              </div>\n              <div class=\"flex justify-between items-center py-2\">\n                <span class=\"text-sm font-medium text-gray-900\">Outstanding</span>\n                <span class=\"text-sm font-bold text-orange-600\">${{ ((request.data.total_fees || 0) - (request.data.total_paid || 0)).toFixed(2) }}</span>\n              </div>\n            </div>\n\n            <Button\n              v-if=\"(request.data.total_fees || 0) > (request.data.total_paid || 0)\"\n              @click=\"handleMakePayment\"\n              variant=\"solid\"\n              theme=\"blue\"\n              class=\"w-full mt-4\"\n            >\n              Make Payment\n            </Button>\n          </div>\n\n          <!-- Payment to be Received (for social services / benefits) -->\n          <div v-if=\"requestTypeConfig.data?.make_payment\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h2 class=\"text-lg font-semibold text-gray-900\">Payment to be Received</h2>\n              <span class=\"text-sm font-medium\" :class=\"request.data.payment_status === 'Paid' ? 'text-green-600' : 'text-orange-600'\">\n                {{ request.data.payment_status || 'Pending' }}\n              </span>\n            </div>\n\n            <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n              <div class=\"flex items-start\">\n                <svg class=\"h-5 w-5 text-blue-600 mt-0.5 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <div class=\"flex-1\">\n                  <p class=\"text-sm font-medium text-blue-900\">Benefit Payment Information</p>\n                  <p class=\"text-sm text-blue-700 mt-1\">\n                    Once your application is approved, you will receive payment from the council.\n                    Please ensure your bank details are up to date.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"space-y-3\">\n              <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                <span class=\"text-sm text-gray-600\">Benefit Amount</span>\n                <span class=\"text-sm font-semibold text-gray-900\">\n                  ${{ requestTypeConfig.data?.base_fee ? requestTypeConfig.data.base_fee.toFixed(2) : '0.00' }}\n                </span>\n              </div>\n              <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                <span class=\"text-sm text-gray-600\">Payment Status</span>\n                <span class=\"text-sm font-semibold\" :class=\"request.data.payment_status === 'Paid' ? 'text-green-600' : 'text-orange-600'\">\n                  {{ request.data.payment_status || 'Pending Approval' }}\n                </span>\n              </div>\n              <div v-if=\"request.data.selected_bank_account\" class=\"flex justify-between items-center py-2\">\n                <span class=\"text-sm text-gray-600\">Payment Method</span>\n                <span class=\"text-sm font-medium text-gray-900\">Bank Transfer</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Documents -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h2 class=\"text-lg font-semibold text-gray-900\">Documents</h2>\n              <Button\n                @click=\"handleUploadDocument\"\n                variant=\"outline\"\n                size=\"sm\"\n                :loading=\"uploading\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                  </svg>\n                </template>\n                Upload Document\n              </Button>\n            </div>\n\n            <div v-if=\"!request.data.attachments || request.data.attachments.length === 0\" class=\"text-center py-8\">\n              <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n              </svg>\n              <p class=\"mt-2 text-sm text-gray-500\">No documents uploaded yet</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Sidebar Column -->\n        <div class=\"space-y-6\">\n          <!-- Timeline -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Processing Timeline</h2>\n\n            <!-- Statutory Clock -->\n            <div v-if=\"clockData.statutory_clock_started\" class=\"mb-6 p-4 bg-blue-50 rounded-lg\">\n              <div class=\"flex items-center justify-between mb-2\">\n                <span class=\"text-sm font-medium text-blue-900\">Statutory Clock</span>\n                <span class=\"text-xs text-blue-700\">{{ clockData.working_days_elapsed }} of 20 days</span>\n              </div>\n              <div class=\"w-full bg-blue-200 rounded-full h-2\">\n                <div\n                  class=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                  :style=\"{ width: `${progressPercent}%` }\"\n                ></div>\n              </div>\n              <p class=\"mt-2 text-xs text-blue-700\">\n                {{ clockData.statutory_clock_stopped ? 'Clock stopped (RFI issued)' : `${clockData.working_days_remaining} days remaining` }}\n              </p>\n            </div>\n\n            <!-- Status History -->\n            <div class=\"space-y-4\">\n              <div class=\"flex items-start space-x-3\">\n                <div class=\"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\n                  <svg class=\"w-4 h-4 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\n                  </svg>\n                </div>\n                <div class=\"flex-1\">\n                  <p class=\"text-sm font-medium text-gray-900\">Application Created</p>\n                  <p class=\"text-xs text-gray-500\">{{ formatDate(request.data.creation) }}</p>\n                </div>\n              </div>\n\n              <div v-if=\"request.data.modified !== request.data.creation\" class=\"flex items-start space-x-3\">\n                <div class=\"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                  <svg class=\"w-4 h-4 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" />\n                  </svg>\n                </div>\n                <div class=\"flex-1\">\n                  <p class=\"text-sm font-medium text-gray-900\">Last Updated</p>\n                  <p class=\"text-xs text-gray-500\">{{ formatDate(request.data.modified) }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Meetings -->\n          <div v-if=\"meetings.data && meetings.data.length > 0\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Council Meetings</h2>\n\n            <div class=\"space-y-3\">\n              <div\n                v-for=\"meeting in meetings.data\"\n                :key=\"meeting.name\"\n                class=\"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                <div class=\"flex items-start justify-between mb-2\">\n                  <span class=\"text-sm font-medium text-gray-900\">{{ meeting.meeting_type }}</span>\n                  <span\n                    class=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium\"\n                    :class=\"{\n                      'bg-yellow-100 text-yellow-800': meeting.status === 'Requested',\n                      'bg-blue-100 text-blue-800': meeting.status === 'Scheduled',\n                      'bg-green-100 text-green-800': meeting.status === 'Confirmed' || meeting.status === 'Completed',\n                      'bg-orange-100 text-orange-800': meeting.status === 'Rescheduled',\n                      'bg-red-100 text-red-800': meeting.status === 'Cancelled'\n                    }\"\n                  >\n                    {{ meeting.status }}\n                  </span>\n                </div>\n\n                <div v-if=\"meeting.scheduled_start\" class=\"flex items-center text-xs text-gray-600 mb-1\">\n                  <svg class=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                          d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                  </svg>\n                  {{ formatDate(meeting.scheduled_start) }}\n                </div>\n\n                <div v-if=\"meeting.meeting_format\" class=\"flex items-center text-xs text-gray-600 mb-1\">\n                  <svg class=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                          d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                          d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  </svg>\n                  {{ meeting.meeting_format }}\n                </div>\n\n                <div v-if=\"meeting.meeting_location\" class=\"text-xs text-gray-600\">\n                  {{ meeting.meeting_location }}\n                </div>\n\n                <div v-if=\"meeting.meeting_purpose\" class=\"mt-2 text-xs text-gray-500 line-clamp-2\">\n                  {{ meeting.meeting_purpose }}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Quick Actions -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h2>\n\n            <div class=\"space-y-3\">\n              <Button\n                v-if=\"request.data.status === 'Draft'\"\n                @click=\"handleEditDraft\"\n                variant=\"solid\"\n                theme=\"blue\"\n                class=\"w-full justify-start\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                  </svg>\n                </template>\n                Edit Draft\n              </Button>\n\n              <Button\n                @click=\"handleSendMessage\"\n                variant=\"outline\"\n                class=\"w-full justify-start\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n                  </svg>\n                </template>\n                Send Message\n              </Button>\n\n              <Button\n                @click=\"handlePrintApplication\"\n                variant=\"outline\"\n                class=\"w-full justify-start\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\" />\n                  </svg>\n                </template>\n                Print Application\n              </Button>\n\n              <Button\n                v-if=\"request.data.status === 'Draft'\"\n                @click=\"handleDeleteDraft\"\n                variant=\"outline\"\n                class=\"w-full justify-start text-red-600 hover:text-red-700\"\n                :loading=\"deleting\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 1 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </template>\n                Delete Draft\n              </Button>\n            </div>\n          </div>\n\n          <!-- Contact Info -->\n          <div class=\"bg-blue-50 rounded-lg border border-blue-200 p-6\">\n            <h3 class=\"text-sm font-semibold text-blue-900 mb-3\">Need Help?</h3>\n            <p class=\"text-xs text-blue-800 mb-4\">Contact our planning team for assistance with your application.</p>\n            <div class=\"space-y-2 text-xs text-blue-900\">\n              <div class=\"flex items-center space-x-2\">\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                </svg>\n                <span>consents@council.govt.nz</span>\n              </div>\n              <div class=\"flex items-center space-x-2\">\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n                </svg>\n                <span>0800 LODGEICK</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Modals -->\n    <SendMessageModal\n      v-model:show=\"showSendMessageModal\"\n      :request-id=\"route.params.id\"\n      @sent=\"handleMessageSent\"\n    />\n\n    <BookMeetingModal\n      v-model:show=\"showBookMeetingModal\"\n      :request-id=\"route.params.id\"\n      :request-type-code=\"requestTypeConfig.data?.type_code\"\n      :council-code=\"request.data?.council\"\n      @booked=\"handleMeetingBooked\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { createResource, Button } from 'frappe-ui'\nimport StatusBadge from '../components/StatusBadge.vue'\nimport SendMessageModal from '../components/modals/SendMessageModal.vue'\nimport BookMeetingModal from '../components/modals/BookMeetingModal.vue'\nimport { useStatutoryClock } from '../composables/useStatutoryClock'\n\nconst route = useRoute()\nconst router = useRouter()\n\n// State\nconst fileInput = ref(null)\nconst uploading = ref(false)\nconst submitting = ref(false)\nconst deleting = ref(false)\nconst bookingMeeting = ref(false)\nconst showSendMessageModal = ref(false)\nconst showBookMeetingModal = ref(false)\n\n// Get request details\nconst request = createResource({\n  url: 'frappe.client.get',\n  params: {\n    doctype: 'Request',\n    name: route.params.id\n  },\n  auto: true,\n})\n\n// Get meetings for this request\nconst meetings = createResource({\n  url: 'lodgeick.api.get_request_meetings',\n  params: {\n    request_id: route.params.id\n  },\n  auto: true,\n})\n\n// Get request type configuration\nconst requestTypeConfig = createResource({\n  url: 'lodgeick.api.get_request_type_config',\n  auto: false,\n})\n\n// Watch for request data and load config\nwatch(() => request.data?.request_type, (requestType) => {\n  if (requestType) {\n    // Pass params directly to fetch() instead of in createResource\n    requestTypeConfig.fetch({ request_type_code: requestType })\n  }\n}, { immediate: true })\n\n// Get statutory clock data from appropriate source (RC Application or Request)\nconst { clockData, progressPercent } = useStatutoryClock(request)\n\n// Parse form data from draft_full_data as fallback\nconst parsedFormData = computed(() => {\n  if (!request.data) return {}\n\n  try {\n    let formData = null\n    if (request.data.draft_full_data) {\n      formData = typeof request.data.draft_full_data === 'string'\n        ? JSON.parse(request.data.draft_full_data)\n        : request.data.draft_full_data\n    }\n\n    if (!formData) return {}\n\n    // Filter out standard fields\n    const standardFields = [\n      'name', 'owner', 'creation', 'modified', 'modified_by', 'docstatus', 'idx',\n      'council', 'request_type', 'request_number', 'status', 'requester',\n      'requester_name', 'requester_email', 'requester_phone', 'requester_signature',\n      'applicant_address', 'applicant_company', 'property', 'property_address',\n      'legal_description', 'brief_description', 'detailed_description',\n      'delivery_preference', 'invoice_to', 'invoice_recipient_name',\n      'invoice_recipient_email', 'purchase_order_number', 'total_fees',\n      'total_paid', 'payment_status', 'request_category', 'draft_current_step',\n      'draft_total_steps', 'draft_full_data', 'form_data', 'signature_date'\n    ]\n\n    const filtered = {}\n    Object.keys(formData).forEach(key => {\n      if (!standardFields.includes(key) && formData[key] !== null && formData[key] !== '') {\n        filtered[key] = formData[key]\n      }\n    })\n\n    return filtered\n  } catch (error) {\n    console.error('Error parsing form data:', error)\n    return {}\n  }\n})\n\n// Get review sections from request type configuration (same logic as ReviewStep)\nconst reviewSections = computed(() => {\n  if (!requestTypeConfig.data?.steps) return []\n\n  // Filter steps that should show on review\n  return requestTypeConfig.data.steps.filter(step => step.show_on_review)\n})\n\n// Check if property details should be displayed (same logic as ReviewStep)\nconst hasPropertyDetails = computed(() => {\n  // Show if request has property address\n  if (request.data?.property_address) {\n    return true\n  }\n\n  // Check if request type config indicates property is needed\n  if (requestTypeConfig.data?.property_required) {\n    return true\n  }\n\n  return false\n})\n\n// Check if a step has any content to show on review\nconst hasReviewContent = (step) => {\n  if (!step.sections) return false\n\n  for (const section of step.sections) {\n    if (!section.show_on_review) continue\n\n    for (const field of section.fields) {\n      if (field.show_on_review && request.data[field.field_name]) {\n        return true\n      }\n    }\n  }\n\n  return false\n}\n\n// Format field value for display (same as ReviewStep)\nconst formatFieldValue = (field, value) => {\n  if (value === undefined || value === null || value === '') {\n    return 'Not provided'\n  }\n\n  // Check field type\n  if (field.field_type === 'Check') {\n    return value ? 'Yes' : 'No'\n  }\n\n  if (field.field_type === 'Date' && value) {\n    // Format date nicely\n    try {\n      return new Date(value).toLocaleDateString('en-NZ', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })\n    } catch (e) {\n      return value\n    }\n  }\n\n  if (field.field_type === 'Currency' && value) {\n    return `$${parseFloat(value).toFixed(2)}`\n  }\n\n  if (Array.isArray(value)) {\n    return value.join(', ')\n  }\n\n  return value\n}\n\n// Helper function to format field labels (convert snake_case to Title Case)\nconst formatFieldLabel = (fieldName) => {\n  return fieldName\n    .split('_')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ')\n}\n\n// Helper function to format simple values (for fallback display)\nconst formatSimpleValue = (value) => {\n  if (value === null || value === undefined || value === '') {\n    return 'Not provided'\n  }\n\n  if (typeof value === 'boolean') {\n    return value ? 'Yes' : 'No'\n  }\n\n  if (Array.isArray(value)) {\n    return value.join(', ')\n  }\n\n  if (typeof value === 'object') {\n    return JSON.stringify(value)\n  }\n\n  // Handle dates\n  if (typeof value === 'string' && /^\\d{4}-\\d{2}-\\d{2}/.test(value)) {\n    try {\n      return new Date(value).toLocaleDateString('en-NZ', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })\n    } catch (e) {\n      return value\n    }\n  }\n\n  return value\n}\n\nconst goBack = () => {\n  router.push({ name: 'Dashboard' })\n}\n\n// Format meeting date with time\nconst formatMeetingDate = (dateStr) => {\n  if (!dateStr) return 'Not scheduled'\n  try {\n    return new Date(dateStr).toLocaleString('en-NZ', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    })\n  } catch (e) {\n    return dateStr\n  }\n}\n\nconst formatDate = (dateStr) => {\n  if (!dateStr) return 'N/A'\n  const date = new Date(dateStr)\n  return date.toLocaleDateString('en-NZ', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\n// Quick Actions\nconst handleUploadDocument = () => {\n  fileInput.value.click()\n}\n\nconst handleFileUpload = async (event) => {\n  const files = Array.from(event.target.files)\n  if (files.length === 0) return\n\n  uploading.value = true\n  try {\n    for (const file of files) {\n      const formData = new FormData()\n      formData.append('file', file)\n      formData.append('doctype', 'Request')\n      formData.append('docname', request.data.name)\n      formData.append('is_private', 0)\n\n      await fetch('/api/method/upload_file', {\n        method: 'POST',\n        headers: {\n          'X-Frappe-CSRF-Token': window.csrf_token\n        },\n        body: formData\n      })\n    }\n\n    alert(`${files.length} document(s) uploaded successfully!`)\n    request.reload()\n    event.target.value = '' // Reset file input\n  } catch (error) {\n    console.error('Error uploading file:', error)\n    alert('Failed to upload document. Please try again.')\n  } finally {\n    uploading.value = false\n  }\n}\n\nconst handleSendMessage = () => {\n  showSendMessageModal.value = true\n}\n\nconst handleMessageSent = () => {\n  // Toast notification would be better than alert to avoid blocking modal close\n  // alert('Message sent successfully! The council will respond within 2-3 business days.')\n  request.reload()\n}\n\nconst handlePrintApplication = () => {\n  window.print()\n}\n\nconst handleEditDraft = () => {\n  if (!request.data) {\n    alert('Error: Request data not loaded')\n    return\n  }\n\n  if (!request.data.request_type) {\n    alert('Error: Request type missing')\n    return\n  }\n\n  const url = `/request/new?type=${encodeURIComponent(request.data.request_type)}&draft=${encodeURIComponent(request.data.name)}`\n  router.push(url)\n}\n\nconst handleDeleteDraft = async () => {\n  if (!confirm('Are you sure you want to delete this draft application? This action cannot be undone.')) {\n    return\n  }\n\n  deleting.value = true\n  try {\n    await fetch('/api/method/frappe.client.delete', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        doctype: 'Request',\n        name: request.data.name\n      })\n    })\n\n    alert('Draft deleted successfully')\n    router.push({ name: 'Dashboard' })\n  } catch (error) {\n    console.error('Error deleting draft:', error)\n    alert('Failed to delete draft. Please try again.')\n  } finally {\n    deleting.value = false\n  }\n}\n\nconst handleSubmitApplication = async () => {\n  if (!confirm('Are you sure you want to submit this application? Once submitted, it cannot be edited.')) {\n    return\n  }\n\n  submitting.value = true\n  try {\n    const response = await fetch('/api/method/lodgeick.lodgeick.doctype.request.request.submit_application', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Frappe-CSRF-Token': window.csrf_token\n      },\n      body: JSON.stringify({\n        request_id: request.data.name\n      })\n    })\n\n    const result = await response.json()\n\n    if (result.message && result.message.success) {\n      alert(`Application submitted successfully! Request Number: ${result.message.request_number}`)\n      request.reload()\n    } else {\n      throw new Error('Failed to submit application')\n    }\n  } catch (error) {\n    console.error('Error submitting application:', error)\n    alert('Failed to submit application. Please try again.')\n  } finally {\n    submitting.value = false\n  }\n}\n\nconst handleMakePayment = () => {\n  // TODO: Implement payment integration\n  alert('Payment feature - Coming soon!\\n\\nYou will receive an invoice via email.')\n}\n\nconst handleBookMeeting = () => {\n  showBookMeetingModal.value = true\n}\n\nconst handleMeetingBooked = async (meetingData) => {\n  alert(`Meeting request submitted successfully!\\n\\nMeeting ID: ${meetingData.meeting_id}\\nStatus: ${meetingData.status}\\n\\nA council planner will contact you within 2 business days.`)\n  // Reload meetings list\n  await meetings.reload()\n}\n</script>\n"],"names":["props","__props","emit","__emit","isOpen","computed","value","subject","ref","message","communicationType","sending","error","success","isValid","handleClose","handleSend","__async","data","_a","err","_createBlock","_unref","Dialog","$event","_createElementVNode","_hoisted_1","_cache","_hoisted_2","_createVNode","Input","_openBlock","_createElementBlock","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","_hoisted_9","route","useRoute","router","useRouter","fileInput","uploading","submitting","deleting","showSendMessageModal","showBookMeetingModal","request","createResource","meetings","requestTypeConfig","watch","requestType","clockData","progressPercent","useStatutoryClock","parsedFormData","formData","standardFields","filtered","key","reviewSections","step","hasPropertyDetails","_b","hasReviewContent","section","field","formatFieldValue","e","formatFieldLabel","fieldName","word","formatSimpleValue","goBack","formatMeetingDate","dateStr","formatDate","handleUploadDocument","handleFileUpload","event","files","file","handleSendMessage","handleMessageSent","handlePrintApplication","handleEditDraft","url","handleDeleteDraft","handleSubmitApplication","result","handleMakePayment","handleBookMeeting","handleMeetingBooked","meetingData","_hoisted_3","_hoisted_4","StatusBadge","Button","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_Fragment","_renderList","meeting","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","s","_hoisted_68","_hoisted_69","f","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_createTextVNode","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","SendMessageModal","BookMeetingModal"],"mappings":"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"}