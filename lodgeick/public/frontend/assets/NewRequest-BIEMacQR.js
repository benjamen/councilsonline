var Rt=Object.defineProperty;var Te=Object.getOwnPropertySymbols;var jt=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable;var Ie=(E,A,f)=>A in E?Rt(E,A,{enumerable:!0,configurable:!0,writable:!0,value:f}):E[A]=f,N=(E,A)=>{for(var f in A||(A={}))jt.call(A,f)&&Ie(E,f,A[f]);if(Te)for(var f of Te(A))Dt.call(A,f)&&Ie(E,f,A[f]);return E};var U=(E,A,f)=>new Promise((k,te)=>{var x=q=>{try{W(f.next(q))}catch(H){te(H)}},oe=q=>{try{W(f.throw(q))}catch(H){te(H)}},W=q=>q.done?k(q.value):Promise.resolve(q.value).then(x,oe);W((f=f.apply(E,A)).next())});import{f as Et,q as Tt,r as g,j as O,x as de,k as Le,y as He,z as It,c as a,o as r,a as e,d as u,b as ee,t as d,w as S,h as b,u as I,i as $,F as w,m as C,A as ue,g as D,l as n,v as M,B as Fe,C as p,E as V,G as Se,n as Pe}from"./index-C6TfiXp6.js";import{C as Lt}from"./CouncilSelector-Jf22rJZ0.js";const Ht={class:"min-h-screen bg-gray-50"},Ft={class:"bg-white shadow-sm border-b border-gray-200"},Bt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},zt={class:"flex items-center justify-between py-4"},Ot={class:"flex items-center space-x-3"},$t={class:"text-sm text-gray-500"},Wt={class:"bg-white border-b border-gray-200"},Jt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Zt={class:"flex items-center justify-between mb-2"},Gt={class:"flex flex-col items-center"},Xt={key:0},Yt={key:1},Qt={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Kt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},eo={key:0},to={key:1},oo={key:0,class:"text-center py-12"},so={key:1,class:"grid md:grid-cols-2 gap-4"},lo=["onClick"],ro={class:"flex items-start justify-between"},ao={class:"flex-1"},no={class:"text-lg font-semibold text-gray-900 mb-2"},io=["innerHTML"],uo={class:"mt-4 flex items-center space-x-4 text-xs text-gray-500"},po={key:0},co={key:1},mo={key:2,class:"px-2 py-1 bg-gray-100 rounded"},go={key:0,class:"ml-4"},bo={key:2},vo={class:"text-gray-600 mb-6"},yo={key:0,class:"space-y-6"},fo={class:"bg-white border border-gray-200 rounded-lg p-6"},xo={class:"flex items-start justify-between mb-4"},_o={class:"text-xl font-semibold text-gray-900"},ho={key:0,class:"text-sm text-gray-500 mt-1"},ko={class:"grid md:grid-cols-3 gap-4 mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},wo={class:"text-2xl font-bold text-blue-900 mt-1"},Co={class:"text-2xl font-bold text-blue-900 mt-1"},Ao={class:"text-2xl font-bold text-blue-900 mt-1"},So={key:0,class:"bg-white border border-gray-200 rounded-lg p-6"},Po=["innerHTML"],Mo={key:1,class:"bg-white border border-gray-200 rounded-lg p-6"},Vo={class:"text-gray-700"},No={class:"flex justify-center pt-4"},Uo={key:1,class:"text-center py-12"},qo={key:3},Ro={class:"space-y-6"},jo=["value"],Do={class:"border-t border-gray-200 pt-6 mt-6"},Eo={class:"mb-6"},To={class:"space-y-3"},Io={class:"flex items-start space-x-3 cursor-pointer"},Lo={class:"flex items-start space-x-3 cursor-pointer"},Ho={class:"text-sm font-semibold text-gray-900 mb-4"},Fo={class:"space-y-4"},Bo={class:"grid md:grid-cols-2 gap-4"},zo=["disabled"],Oo={key:0,class:"mt-1 text-xs text-gray-500"},$o=["disabled"],Wo={key:0,class:"mt-1 text-xs text-gray-500"},Jo={class:"grid md:grid-cols-2 gap-4"},Zo={class:"mt-1 text-xs text-gray-500"},Go={class:"space-y-4"},Xo={key:0,class:"relative"},Yo={class:"flex gap-2"},Qo={key:1,class:"relative"},Ko={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto"},es={key:0,class:"p-4 text-center text-gray-500"},ts={key:1},os=["onClick"],ss={class:"font-medium text-gray-900"},ls={class:"text-sm text-gray-600 mt-1"},rs={key:0,class:"text-xs text-gray-500 mt-1"},as={key:2,class:"p-4 text-center text-gray-500"},ns={class:"grid md:grid-cols-2 gap-4"},is={key:0,class:"mt-1 text-xs text-green-600"},ds={key:0,class:"mt-1 text-xs text-green-600"},us={class:"grid md:grid-cols-2 gap-4"},ps={key:0,class:"mt-1 text-xs text-green-600"},cs={class:"grid md:grid-cols-2 gap-4"},ms={key:0,class:"mt-1 text-xs text-green-600"},gs={key:1,class:"mt-1 text-xs text-gray-500"},bs={class:"block text-sm font-medium text-gray-700 mb-2"},vs={key:0,class:"text-red-600"},ys=["required"],fs={key:4},xs={class:"space-y-6"},_s={class:"grid md:grid-cols-3 gap-4 mb-4"},hs={class:"grid md:grid-cols-2 gap-4"},ks={class:"space-y-2 p-3 border border-gray-300 rounded-lg"},ws=["value","onChange","checked"],Cs={class:"ml-2 text-sm text-gray-700"},As={class:"block text-sm font-medium text-gray-700 mb-2"},Ss={key:0,class:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-900"},Ps={key:1,class:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800"},Ms={key:0,class:"border-t border-gray-200 pt-6 mt-6"},Vs={class:"space-y-4"},Ns={class:"grid md:grid-cols-2 gap-4"},Us={class:"flex items-start mb-2"},qs={key:0},Rs={key:0},js={key:0,class:"text-xs text-blue-600 mt-1"},Ds={class:"border-t border-gray-200 pt-6 mt-6"},Es={class:"mb-4"},Ts={class:"grid md:grid-cols-2 gap-4"},Is={class:"mb-4"},Ls={class:"grid md:grid-cols-2 gap-4"},Hs={class:"grid md:grid-cols-2 gap-4"},Fs={class:"space-y-3"},Bs={class:"space-y-3"},zs={class:"border-t border-gray-200 pt-6 mt-6"},Os={class:"space-y-4"},$s={class:"grid md:grid-cols-2 gap-4"},Ws={class:"flex items-start mb-2"},Js={key:0},Zs={class:"border border-blue-200 rounded-lg p-4 bg-blue-50"},Gs={class:"space-y-2 mb-3"},Xs=["id","value"],Ys=["for"],Qs={key:0,class:"border-t border-blue-300 pt-3 mt-3"},Ks={class:"text-xs font-semibold text-blue-900 mb-2"},el={class:"grid md:grid-cols-2 gap-3"},tl=["onUpdate:modelValue"],ol={class:"flex items-end"},sl={class:"flex items-center mb-1"},ll=["id","onUpdate:modelValue"],rl=["for"],al={class:"mt-2"},nl=["onUpdate:modelValue"],il={class:"border-t border-gray-200 pt-6 mt-6"},dl={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4"},ul={class:"grid md:grid-cols-2 gap-3 text-xs"},pl={class:"text-blue-700 ml-1"},cl={class:"text-blue-700 ml-1"},ml={class:"text-blue-700 ml-1"},gl={class:"text-blue-700 ml-1"},bl={class:"space-y-3"},vl={class:"flex items-start mb-2"},yl=["id","onUpdate:modelValue"],fl=["for"],xl={key:0,class:"ml-7 mt-3 space-y-3 border-l-2 border-blue-300 pl-3"},_l={key:0},hl=["onUpdate:modelValue"],kl=["onUpdate:modelValue"],wl=["onUpdate:modelValue"],Cl={class:"flex items-center gap-2"},Al=["onChange"],Sl={key:0,class:"mt-2 space-y-1"},Pl={class:"text-gray-700"},Ml=["onClick"],Vl={key:1,class:"border-t border-gray-200 pt-6 mt-6"},Nl={key:0,class:"space-y-3"},Ul={class:"flex items-start justify-between mb-3"},ql={class:"text-sm font-medium text-gray-900"},Rl=["onClick"],jl={class:"space-y-3"},Dl=["onUpdate:modelValue"],El=["onUpdate:modelValue"],Tl={class:"grid md:grid-cols-3 gap-3"},Il={class:"flex items-center"},Ll=["id","onUpdate:modelValue"],Hl=["for"],Fl={class:"flex items-center"},Bl=["id","onUpdate:modelValue"],zl=["for"],Ol={class:"flex items-center"},$l=["id","onUpdate:modelValue"],Wl=["for"],Jl={class:"flex items-center"},Zl=["id","onUpdate:modelValue"],Gl=["for"],Xl={class:"space-y-2 p-3 border border-gray-200 rounded bg-gray-50"},Yl={class:"flex items-center"},Ql=["id","onChange","checked"],Kl=["for"],er={class:"flex items-center"},tr=["id","onChange","checked"],or=["for"],sr={class:"flex items-center"},lr=["id","onChange","checked"],rr=["for"],ar={class:"flex items-center"},nr=["id","onChange","checked"],ir=["for"],dr={class:"flex items-center"},ur=["id","onChange","checked"],pr=["for"],cr=["onUpdate:modelValue"],mr={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},gr={class:"border-t border-gray-200 pt-6 mt-6"},br={class:"border-t border-gray-200 pt-4"},vr={class:"space-y-4"},yr={class:"grid md:grid-cols-2 gap-4"},fr={class:"border-t border-gray-200 pt-4"},xr={class:"flex items-center justify-between mb-3"},_r={key:0,class:"space-y-3 mb-3"},hr={class:"flex items-start justify-between"},kr={class:"flex-1"},wr={class:"flex items-center gap-2 mb-2"},Cr={class:"text-sm font-semibold text-gray-900"},Ar={class:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded"},Sr={class:"grid md:grid-cols-2 gap-x-6 gap-y-1 text-xs text-gray-600"},Pr={key:0,class:"flex items-start gap-1"},Mr={key:1,class:"flex items-center gap-1"},Vr=["href"],Nr={key:2,class:"flex items-center gap-1"},Ur=["href"],qr={key:3,class:"flex items-start gap-1"},Rr={key:0,class:"mt-2 flex items-center gap-2"},jr={key:0,class:"text-xs text-gray-500"},Dr={key:1,class:"mt-2 text-xs text-gray-600 italic"},Er={class:"flex gap-1 ml-3"},Tr=["onClick"],Ir=["onClick"],Lr={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Hr={key:2,class:"mt-3"},Fr=["max"],Br={class:"mt-1 text-xs text-gray-500"},zr={class:"border-t border-gray-200 pt-4"},Or={class:"space-y-4"},$r={class:"flex items-center"},Wr={key:0},Jr={key:1},Zr={class:"border-t border-gray-200 pt-4"},Gr={class:"flex items-center justify-between mb-3"},Xr={key:0,class:"space-y-3 mb-3"},Yr={class:"flex items-start justify-between mb-2"},Qr={class:"flex items-center gap-2"},Kr={class:"text-sm font-semibold text-gray-900"},ea={class:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded font-medium"},ta={class:"space-y-2 text-xs text-gray-600 mb-3"},oa={class:"flex items-center gap-2"},sa={class:"font-medium"},la={key:0,class:"text-gray-400"},ra={key:0,class:"flex items-center gap-2 text-blue-600"},aa={key:1,class:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-700"},na={class:"flex gap-2"},ia=["onClick"],da=["onClick"],ua={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},pa={key:0,class:"space-y-3 mt-3"},ca={class:"flex items-start justify-between mb-2"},ma={class:"flex items-center gap-2"},ga={class:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-mono rounded"},ba={class:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded"},va={class:"flex gap-1"},ya=["onClick"],fa=["onClick"],xa=["innerHTML"],_a={key:0,class:"mt-2 text-xs text-gray-500 italic"},ha={key:1,class:"text-center py-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},ka={class:"border-t border-gray-200 pt-6 mt-6"},wa={class:"space-y-4"},Ca={class:"flex items-start"},Aa={key:0,class:"ml-7 border-l-2 border-yellow-300 pl-4 bg-yellow-50 p-4 rounded-r-lg"},Sa={class:"border-t border-gray-200 pt-6 mt-6"},Pa={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},Ma={class:"flex items-start"},Va={class:"ml-3 flex-1"},Na={key:7},Ua={class:"space-y-6"},qa={class:"border border-gray-200 rounded-lg p-6"},Ra={class:"grid md:grid-cols-2 gap-4 text-sm"},ja={class:"font-medium text-gray-900 mt-1"},Da={class:"font-medium text-gray-900 mt-1"},Ea={class:"font-medium text-gray-900 mt-1"},Ta={class:"font-medium text-gray-900 mt-1"},Ia={class:"font-medium text-gray-900 mt-1"},La={class:"bg-gray-50 border border-gray-200 rounded-lg p-6"},Ha={class:"flex items-start"},Fa={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},Ba={class:"space-y-2 text-sm"},za={class:"flex justify-between"},Oa={class:"font-medium text-blue-900"},$a={class:"flex justify-between pt-2 border-t border-blue-200"},Wa={class:"text-lg font-bold text-blue-900"},Ja={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-6"},Za={class:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200"},Ga={key:1},Xa={class:"flex space-x-3"},Ya={key:2,class:"text-sm text-gray-500"},Qa={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Ka={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},en={class:"flex items-center justify-between"},tn={class:"text-lg font-semibold text-gray-900"},on={class:"px-6 py-4 space-y-4"},sn={class:"border-t border-gray-200 pt-4"},ln={class:"grid md:grid-cols-2 gap-4"},rn={class:"border-t border-gray-200 pt-4"},an={class:"space-y-3"},nn={class:"border-t border-gray-200 pt-4"},dn={class:"flex items-start mb-3"},un={key:0,class:"ml-7 space-y-3"},pn={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},cn={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},mn={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},gn={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},bn={class:"flex items-center justify-between"},vn={class:"text-lg font-semibold text-gray-900"},yn={class:"px-6 py-4 space-y-4"},fn={class:"border-t border-gray-200 pt-4"},xn={class:"space-y-3"},_n={class:"border-t border-gray-200 pt-4"},hn={class:"space-y-3"},kn={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},wn={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},Cn={class:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col"},An={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},Sn={class:"flex items-center justify-between"},Pn={class:"flex-1 overflow-y-auto"},Mn={class:"grid md:grid-cols-3 gap-6 p-6"},Vn={class:"md:col-span-2 space-y-4"},Nn={class:"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200"},Un=["value"],qn={class:"ml-auto text-xs text-gray-500"},Rn={key:0,class:"text-center py-12"},jn={key:1,class:"space-y-3"},Dn={class:"flex items-start justify-between mb-2"},En={class:"flex-1"},Tn={class:"flex items-center gap-2 mb-1"},In={class:"text-sm font-semibold text-gray-900"},Ln={key:0,class:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-mono rounded"},Hn={class:"flex items-center gap-2 mb-2"},Fn={class:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded"},Bn={key:0,class:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded"},zn={key:1,class:"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded"},On=["innerHTML"],$n=["onClick"],Wn={key:2,class:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},Jn={class:"md:col-span-1 bg-gray-50 rounded-lg p-4 border border-gray-200"},Zn={class:"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between"},Gn={class:"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full"},Xn={key:0,class:"space-y-2 max-h-[600px] overflow-y-auto"},Yn={class:"flex items-start justify-between mb-1"},Qn={class:"flex items-center gap-1"},Kn={class:"px-1.5 py-0.5 bg-gray-100 text-gray-700 font-mono text-xs rounded"},ei={class:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded"},ti=["onClick"],oi=["innerHTML"],si={key:1,class:"text-center py-8 text-xs text-gray-500"},li={key:0,class:"border-t border-gray-200 bg-gray-50 p-6"},ri={class:"text-sm font-semibold text-gray-900 mb-4"},ai={class:"grid md:grid-cols-2 gap-4 mb-4"},ni=["value"],ii={class:"mb-4"},di={class:"flex justify-end gap-2 mt-4"},ui={class:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end"},gi={__name:"NewRequest",setup(E){const A=Et(),f=Tt(),k=g(null),te=g(!1),x=g(1),oe=O(()=>J.value.length),W=g(!1),q=g(!1),H=g([]);g(null);const ye=g(!1),Z=g(!1),fe=g(!1),Be=["Land Use","Subdivision","Discharge Permit","Water Permit","Coastal Permit"],ze=l=>{const t=s.value.consent_types.findIndex(c=>c.consent_type===l);t>-1?s.value.consent_types.splice(t,1):s.value.consent_types.push({consent_type:l})},Oe=l=>s.value.consent_types.some(t=>t.consent_type===l),J=O(()=>{const l=[{title:"Council",number:1},{title:"Type",number:2},{title:"Process Info",number:3},{title:"Property",number:4}];return Y.value&&l.push({title:"RC Details",number:5}),l.push({title:"Review",number:l.length+1}),l}),s=g({council:"",request_type:"",request_category:"",property:"",property_address:"",legal_description:"",valuation_reference:"",parcel_id:"",ct_reference:"",property_coordinates:"",hazard_data:null,zone:"",activity_zone:"",brief_description:"",detailed_description:"",estimated_value:null,proposed_start_date:"",terms_accepted:!1,applicant_phone:"",applicant_type:"",acting_on_behalf:!1,applicant_name:"",applicant_email:"",consent_types:[],activity_status:"",applicant_reference_number:"",delivery_preference:"",pim_reference:"",building_height:null,building_floor_area:null,earthworks_volume:null,earthworks_vertical_alteration:null,vehicle_movements_daily:null,parking_spaces_provided:null,hours_of_operation:"",consent_term_requested:"",site_topography:"",existing_vegetation_description:"",watercourses_present:!1,watercourse_description:"",existing_infrastructure:"",contamination_status_hail:"",boundary_description:"",boundary_activity_description:"",boundary_owner_approval_obtained:!1,boundary_approval_date:"",boundary_approval_document:null,natural_hazards:[],nes_assessments:[],hail_activities:[],confidential_information_claimed:!1,confidential_information_reason:"",assessment_of_effects:"",effects_on_people:"",physical_effects:"",earthworks_effects:"",discharge_contaminants_effects:"",ecosystem_effects:"",hazard_risk_assessment:"",cultural_effects:"",alternatives_considered:"",mitigation_proposed:"",affected_parties:[],written_approvals_obtained:0,iwi_consultation_undertaken:!1,iwi_consulted:"",cultural_impact_assessment:null,iwi_response_summary:"",specialist_reports:[],proposed_conditions:[]}),G=g(""),L=g([]),se=g(!1),pe=g(!1);let xe=null;const P=g(null),$e=["Earthquake","Fire","Tsunami","Erosion","Volcanic and Geothermal","Flood","Sedimentation","Subsidence","Wind","Landslip","Drought"],X=g([]),ce=g({}),F=l=>(ce.value[l]||(ce.value[l]={hazard_type:l,present:!0,risk_level:"",assessment_notes:"",mitigation_required:!1}),ce.value[l]);de(X,l=>{s.value.natural_hazards=l.map(t=>F(t))},{deep:!0}),de(ce,()=>{s.value.natural_hazards=X.value.map(l=>F(l))},{deep:!0});const Me=[{value:"NES for Assessing and Managing Contaminants in Soil (HAIL)",label:"NES for Assessing and Managing Contaminants in Soil (HAIL)"},{value:"NES for Air Quality",label:"NES for Air Quality"},{value:"NES for Sources of Human Drinking Water",label:"NES for Sources of Human Drinking Water"},{value:"NES for Freshwater Management",label:"NES for Freshwater Management"},{value:"NES for Plantation Forestry",label:"NES for Plantation Forestry"},{value:"NES for Electricity Transmission Activities",label:"NES for Electricity Transmission Activities"},{value:"NES for Telecommunication Facilities",label:"NES for Telecommunication Facilities"},{value:"Other",label:"Other NES"}],me=g({}),R=l=>(me.value[l]||(me.value[l]={nes_type:l,applies:!1,compliance_status:"",assessment_notes:"",other_nes_description:""}),me.value[l]),We=(l,t)=>{const c=l.target.files[0];if(!c)return;if(c.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"].includes(c.type)){alert("Only PDF, Word documents, and images are allowed"),l.target.value="";return}s.value.attachments.push({document_category:"NES Documentation",document_type:"NES Assessment",file:c,description:`NES Assessment for ${t}`,nes_type:t}),l.target.value=""},_e=l=>s.value.attachments.filter(t=>t.document_category==="NES Documentation"&&t.nes_type===l),Je=(l,t)=>{const y=_e(l)[t],o=s.value.attachments.indexOf(y);o>-1&&s.value.attachments.splice(o,1)};de(me,()=>{s.value.nes_assessments=Me.filter(l=>R(l.value).applies).map(l=>R(l.value))},{deep:!0});const Ze=O(()=>s.value.nes_assessments.some(l=>l.nes_type&&l.nes_type.includes("HAIL"))),Ge=()=>{s.value.hail_activities.push({activity_description:"",hail_category:"",currently_undertaken:!1,previously_undertaken:!1,likely_undertaken:!1,preliminary_investigation_done:!1,proposed_activities:[],notes:""})},Xe=l=>{s.value.hail_activities.splice(l,1)},le=(l,t)=>{const c=s.value.hail_activities[l];c.proposed_activities||(c.proposed_activities=[]);const y=c.proposed_activities.findIndex(o=>o.activity_type===t);y>-1?c.proposed_activities.splice(y,1):c.proposed_activities.push({activity_type:t})},re=(l,t)=>{const c=s.value.hail_activities[l];return c.proposed_activities?c.proposed_activities.some(y=>y.activity_type===t):!1},Ye=l=>{const t=l.target.files[0];t&&(s.value.boundary_approval_document=t)},Qe=g(JSON.parse(JSON.stringify(s.value))),Ke=O(()=>{const l=N({},s.value),t=N({},Qe.value);delete l.terms_accepted,delete t.terms_accepted;const c=JSON.stringify(l),y=JSON.stringify(t);return c!==y}),Y=O(()=>s.value.request_category==="Resource Consent"),Ve=O(()=>{if(!s.value.activity_status)return null;switch(s.value.activity_status){case"Non-Complying":return"⚠️ Non-complying activities face higher scrutiny and longer processing times. Consider pre-application meeting.";case"Discretionary":return"ℹ️ Discretionary activities may require public notification depending on effects assessment.";case"Controlled":return"✓ Controlled activities must be granted consent. Council will focus on appropriate conditions.";default:return null}}),et=O(()=>Ke.value||H.value.length>0),j=g({data:[],loading:!1,error:null}),Ne=Le({url:"frappe.client.get_list",params:{doctype:"Property",fields:["name","property_id","street_address","suburb","city","legal_description","certificate_of_title"],limit_page_length:100},auto:!0}),he=l=>U(this,null,function*(){if(!l){j.value={data:[],loading:!1,error:null};return}j.value.loading=!0,j.value.error=null;try{yield f.loadRequestTypesForCouncil(l),j.value.data=f.availableRequestTypes,console.log(`[NewRequest] Loaded ${j.value.data.length} request types for council ${l}`)}catch(t){j.value.error=t.message||"Failed to load request types",console.error("[NewRequest] Failed to load request types:",t)}finally{j.value.loading=!1}}),tt=()=>{confirm("Are you sure you want to leave? Any unsaved changes will be lost.")&&A.push({name:"Dashboard"})},ot=l=>l<x.value||l===x.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-600",st=l=>{console.log("[NewRequest] Selecting Request Type:",l.name,l.type_name),s.value.request_type=l.name,s.value.request_category=l.category||"",P.value=l,console.log("[NewRequest] Form data updated:",{request_type:s.value.request_type,request_category:s.value.request_category,details:P.value})},lt=()=>{if(s.value.property){const l=Ne.data.find(t=>t.name===s.value.property);l&&(s.value.property_address=`${l.street_address}, ${l.suburb}, ${l.city}`,s.value.legal_description=l.legal_description||"",s.value.ct_reference=l.certificate_of_title||"",s.value.parcel_id=l.property_id||"",s.value.zone=l.zoning||"",l.latitude&&l.longitude&&(s.value.property_coordinates=`${l.latitude},${l.longitude}`),console.log("[NewRequest] Populated property details from existing property:",{address:s.value.property_address,legal_description:s.value.legal_description,ct_reference:s.value.ct_reference,parcel_id:s.value.parcel_id,zone:s.value.zone}))}},rt=()=>{xe&&clearTimeout(xe);const l=G.value.trim();if(l.length<3){L.value=[];return}xe=setTimeout(()=>U(this,null,function*(){se.value=!0,pe.value=!0;try{const c=yield(yield fetch("/api/method/lodgeick.api.search_property_address",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({query:l})})).json();c.message&&c.message.results?L.value=c.message.results:L.value=[]}catch(t){console.error("[PropertySearch] Error searching properties:",t),L.value=[]}finally{se.value=!1}}),300)},at=l=>{var t,c,y,o,i,m,B,ve,Ee;if(s.value.property_address=l.address,G.value=l.address,(t=l.property)!=null&&t.legal_description&&(s.value.legal_description=l.property.legal_description),(c=l.property)!=null&&c.title_no&&(s.value.ct_reference=l.property.title_no),(y=l.property)!=null&&y.valuation_reference&&(s.value.valuation_reference=l.property.valuation_reference),(o=l.property)!=null&&o.parcel_id&&(s.value.parcel_id=l.property.parcel_id),l.projected_x&&l.projected_y&&(s.value.property_coordinates=`NZTM2000: ${l.projected_x.toFixed(2)}, ${l.projected_y.toFixed(2)}`),(i=l.hazards)!=null&&i.districtPlan&&Array.isArray(l.hazards.districtPlan)&&l.hazards.districtPlan.length>0){const z=l.hazards.districtPlan[0];(m=z.attributes)!=null&&m.Zone_Code||(B=z.attributes)!=null&&B.ZONE_CODE?s.value.zone=z.attributes.Zone_Code||z.attributes.ZONE_CODE:((ve=z.attributes)!=null&&ve.Zone_Name||(Ee=z.attributes)!=null&&Ee.ZONE_NAME)&&(s.value.zone=z.attributes.Zone_Name||z.attributes.ZONE_NAME)}s.value.hazard_data=l.hazards,pe.value=!1,L.value=[],console.log("[PropertySearch] Selected property:",{address:l.address,legal_description:s.value.legal_description,title_no:s.value.ct_reference,zone:s.value.zone,hazards:l.hazards})},nt=()=>{s.value.property_address="",s.value.legal_description="",s.value.ct_reference="",s.value.valuation_reference="",s.value.parcel_id="",s.value.zone="",s.value.property_coordinates="",s.value.hazard_data=null,G.value="",L.value=[],console.log("[PropertySearch] Cleared property data for new search")},Ue=()=>{switch(x.value){case 1:const l=!!s.value.council;return console.log("[NewRequest] canProceed Step 1 (Council):",l,"council:",s.value.council),l;case 2:const t=!!s.value.request_type;return console.log("[NewRequest] canProceed Step 2 (Type):",t,"request_type:",s.value.request_type),t;case 3:return!0;case 4:const c=s.value.property||s.value.property_address,y=s.value.applicant_phone&&s.value.applicant_type&&s.value.applicant_name&&s.value.applicant_email;return!!(c&&y);case 5:return Y.value?!!(s.value.consent_types&&s.value.consent_types.length>0&&s.value.activity_status&&s.value.assessment_of_effects):!0;case 6:return!0;default:return!0}},it=()=>{const l=oe.value,t=x.value,c=Ue();console.log("[NewRequest] nextStep called",{canProceed:c,currentStep:t,totalSteps:l,steps:J.value,willProceed:c&&t<l}),c&&t<l?(x.value++,console.log("[NewRequest] Moved to step:",x.value)):console.warn("[NewRequest] Cannot proceed:",{canProceed:c,currentStep:t,totalSteps:l,reason:c?"at last step":"canProceed returned false"})},dt=()=>{x.value>1&&x.value--},qe=()=>U(this,null,function*(){W.value=!0;try{const t=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:s.value})})).json();if(t.message&&t.message.success)return alert(`Draft saved successfully! Request ID: ${t.message.request_number}`),t.message;throw new Error(t.message||"Failed to save draft")}catch(l){return console.error("Error saving draft:",l),alert("Failed to save draft. Please try again."),null}finally{W.value=!1}}),ut=()=>{var t;const l=(t=j.data)==null?void 0:t.find(c=>c.name===s.value.request_type);return(l==null?void 0:l.type_name)||"N/A"},Re=()=>{var t;const l=(t=j.data)==null?void 0:t.find(c=>c.name===s.value.request_type);return l!=null&&l.base_fee?`$${l.base_fee}`:"TBD"},pt=()=>U(this,null,function*(){if(!s.value.terms_accepted){alert("Please accept the terms and conditions");return}q.value=!0;try{const t=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:s.value})})).json();if(!t.message||!t.message.success)throw new Error("Failed to create request");const c=t.message.request_id;if(H.value.length>0)for(const i of H.value){const m=new FormData;m.append("file",i),m.append("doctype","Request"),m.append("docname",c),m.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:m})}const o=yield(yield fetch("/api/method/lodgeick.lodgeick.doctype.request.request.submit_application",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:c})})).json();if(o.message&&o.message.success)alert(`Application submitted successfully! Request Number: ${o.message.request_number}`),A.push({name:"Dashboard"});else throw new Error("Failed to submit application")}catch(l){console.error("Error submitting application:",l),alert("Failed to submit application")}finally{q.value=!1}}),ct=()=>U(this,null,function*(){if(!s.value.request_type){alert("Please complete your application details first");return}ye.value=!0;try{const t=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:s.value})})).json();if(!t.message||!t.message.success)throw new Error("Failed to save application");const c=t.message.request_id,o=yield(yield fetch("/api/method/lodgeick.api.book_council_meeting",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:c,meeting_type:"Pre-Application Meeting"})})).json();if(o.message&&o.message.success)alert(`Pre-Application Meeting request has been submitted! A council officer will contact you within 2 business days to schedule the meeting. Task ID: ${o.message.task_id}`);else throw new Error(o.message||"Failed to book meeting")}catch(l){console.error("Error booking meeting:",l),alert("Failed to book pre-application meeting. Please try again.")}finally{ye.value=!1}});g(null);const ae=g(!1),Q=g(null),v=g({party_name:"",relationship:"",property_address:"",email:"",phone:"",postal_address:"",approval_obtained:!1,approval_date:"",approval_document:null,comments:""}),mt=()=>{v.value={party_name:"",relationship:"",property_address:"",email:"",phone:"",postal_address:"",approval_obtained:!1,approval_date:"",approval_document:null,comments:""},Q.value=null,ae.value=!0},gt=l=>{v.value=N({},s.value.affected_parties[l]),Q.value=l,ae.value=!0},bt=()=>{if(!v.value.party_name||!v.value.relationship){alert("Please enter party name and relationship");return}Q.value!==null?s.value.affected_parties[Q.value]=N({},v.value):s.value.affected_parties.push(N({},v.value)),ae.value=!1},ke=()=>{ae.value=!1},vt=l=>{confirm("Remove this affected party?")&&s.value.affected_parties.splice(l,1)},yt=l=>{const t=l.target.files[0];if(t){if(t.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"].includes(t.type)){alert("Only PDF, Word documents, and images (JPG, PNG) are allowed"),l.target.value="";return}v.value.approval_document=t}},ne=g(!1),K=g(null),_=g({report_type:"",specialist_name:"",specialist_company:"",report_date:"",document:null,summary:""}),ft=()=>{_.value={report_type:"",specialist_name:"",specialist_company:"",report_date:"",document:null,summary:""},K.value=null,ne.value=!0},xt=l=>{_.value=N({},s.value.specialist_reports[l]),K.value=l,ne.value=!0},_t=()=>{if(!_.value.report_type||!_.value.specialist_name||!_.value.report_date){alert("Please enter report type, specialist name, and report date");return}K.value!==null?s.value.specialist_reports[K.value]=N({},_.value):s.value.specialist_reports.push(N({},_.value)),ne.value=!1},we=()=>{ne.value=!1},ht=l=>{confirm("Remove this specialist report?")&&s.value.specialist_reports.splice(l,1)},kt=l=>{const t=l.target.files[0];if(t){if(t.size>10*1024*1024){alert("File size must be less than 10MB"),l.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type)){alert("Only PDF and Word documents are allowed"),l.target.value="";return}_.value.document=t}},ie=g(!1),T=g(null),Ce=g([]),Ae=g(!1),ge=g("All"),h=g({condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""}),je=["All","General","Timing","Lapse","Review","Financial Contribution","Bonds","Monitoring","Environmental Management","Construction","Operation","Landscape","Ecology","Archaeology","Cultural","Traffic","Parking","Noise","Discharge","Earthworks","Heritage","Water","Coastal","Other"],wt=()=>U(this,null,function*(){Ae.value=!0;try{const l=s.value.consent_types.map(y=>y.consent_type),c=yield(yield fetch("/api/method/frappe.client.get_list",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({doctype:"Consent Condition Template",fields:["name","template_name","condition_code","condition_category","condition_text","applies_to_consent_types","timing","monitoring_required"],filters:{is_active:1},limit_page_length:0})})).json();c.message&&(Ce.value=c.message.filter(y=>!y.applies_to_consent_types||y.applies_to_consent_types==="All"?!0:l.some(o=>y.applies_to_consent_types.includes(o))))}catch(l){console.error("Error fetching condition templates:",l),alert("Failed to load condition templates")}finally{Ae.value=!1}}),be=O(()=>ge.value==="All"?Ce.value:Ce.value.filter(l=>l.condition_category===ge.value)),Ct=()=>U(this,null,function*(){if(!s.value.consent_types||s.value.consent_types.length===0){alert("Please select at least one consent type first");return}yield wt(),h.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},T.value=null,ie.value=!0}),At=l=>{const c={condition_number:(s.value.proposed_conditions.length+1).toString(),condition_category:l.condition_category,condition_text:l.condition_text,compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""};s.value.proposed_conditions.push(c)},St=()=>{h.value={condition_number:(s.value.proposed_conditions.length+1).toString(),condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},T.value=null},Pt=l=>{h.value=N({},s.value.proposed_conditions[l]),T.value=l},Mt=()=>{if(!h.value.condition_category||!h.value.condition_text){alert("Please enter condition category and text");return}T.value!==null?s.value.proposed_conditions[T.value]=N({},h.value):s.value.proposed_conditions.push(N({},h.value)),h.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},T.value=null},Vt=()=>{h.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},T.value=null},De=l=>{confirm("Remove this condition?")&&(s.value.proposed_conditions.splice(l,1),s.value.proposed_conditions.forEach((t,c)=>{t.condition_number=(c+1).toString()}))},Nt=Le({url:"lodgeick.api.book_council_meeting",makeParams:l=>l,onSuccess:l=>{l&&l.success?alert(`✅ Pre-Application Meeting Request Sent!

Task #${l.task_id} has been created for the planning team.

They will contact you within 2 business days to schedule.`):alert("Meeting request sent successfully! The planning team will contact you soon."),Z.value=!1},onError:l=>{console.error("Error requesting meeting:",l),alert("Failed to request pre-application meeting. Please try again or contact the planning team directly."),Z.value=!1}}),Ut=()=>U(this,null,function*(){if(!s.value.request_type||!s.value.property_address){alert("Please complete the Request Type and Property Details first.");return}if(confirm(`Request a pre-application meeting? A planning officer will contact you within 2 business days to schedule.

Note: You should save your application as a draft first.`))try{Z.value=!0;const l=yield qe();if(!l||!l.request_id){alert("Please save your draft application first."),Z.value=!1;return}Nt.submit({request_id:l.request_id,meeting_type:"Pre-Application Meeting"})}catch(l){console.error("Error in meeting request:",l),alert("Failed to request pre-application meeting. Please try again."),Z.value=!1}}),qt=()=>U(this,null,function*(){try{te.value=!0;const l=yield He("lodgeick.api.get_user_profile");k.value=l,l.applicant_type&&!s.value.applicant_type&&(s.value.applicant_type=l.applicant_type),l.phone&&!s.value.applicant_phone&&!s.value.acting_on_behalf&&(s.value.applicant_phone=l.phone),s.value.acting_on_behalf||(s.value.applicant_name=`${l.first_name||""} ${l.last_name||""}`.trim()||l.email,s.value.applicant_email=l.email)}catch(l){console.error("Error loading user profile:",l)}finally{te.value=!1}});return de(()=>s.value.acting_on_behalf,l=>{!l&&k.value?(s.value.applicant_name=`${k.value.first_name||""} ${k.value.last_name||""}`.trim()||k.value.email,s.value.applicant_email=k.value.email,k.value.phone&&(s.value.applicant_phone=k.value.phone),k.value.applicant_type&&(s.value.applicant_type=k.value.applicant_type)):l&&(s.value.applicant_name="",s.value.applicant_email="",s.value.applicant_phone="")}),de(()=>s.value.applicant_phone,(l,t)=>U(this,null,function*(){if(!s.value.acting_on_behalf&&k.value&&l&&l!==t&&l!==k.value.phone)try{yield He("lodgeick.api.update_user_profile",{phone:l}),k.value.phone=l,console.log("[NewRequest] Phone number saved to profile:",l)}catch(c){console.error("[NewRequest] Error saving phone to profile:",c)}})),It(()=>U(this,null,function*(){if(yield qt(),f.preselectedFromUrl)s.value.council=f.preselectedFromUrl,yield he(f.preselectedFromUrl);else{const l=yield f.getUserCouncils();l.default_council&&(s.value.council=l.default_council,yield he(l.default_council))}})),(l,t)=>{var c,y;return r(),a("div",Ht,[e("header",Ft,[e("div",Bt,[e("div",zt,[e("div",Ot,[e("button",{onClick:tt,class:"text-gray-500 hover:text-gray-700"},[...t[121]||(t[121]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),e("div",null,[t[122]||(t[122]=e("h1",{class:"text-xl font-bold text-gray-900"},"New Application",-1)),e("p",$t,"Step "+d(x.value)+" of "+d(oe.value),1)])]),ee(I($),{onClick:qe,variant:"outline",theme:"gray",loading:W.value},{default:S(()=>[...t[123]||(t[123]=[b(" Save Draft ",-1)])]),_:1},8,["loading"])])])]),e("div",Wt,[e("div",Jt,[e("div",Zt,[(r(!0),a(w,null,C(J.value,(o,i)=>(r(),a("div",{key:i,class:ue(["flex items-center",{"flex-1":i<J.value.length-1}])},[e("div",Gt,[e("div",{class:ue(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",ot(i+1)])},[i+1<x.value?(r(),a("span",Xt,"✓")):(r(),a("span",Yt,d(i+1),1))],2),e("span",{class:ue(["text-xs mt-2 text-center",i+1===x.value?"text-blue-600 font-medium":"text-gray-500"])},d(o.title),3)]),i<J.value.length-1?(r(),a("div",{key:0,class:ue(["flex-1 h-1 mx-4 rounded",i+1<x.value?"bg-blue-600":"bg-gray-200"])},null,2)):u("",!0)],2))),128))])])]),e("main",Qt,[e("div",Kt,[x.value===1?(r(),a("div",eo,[t[124]||(t[124]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Council",-1)),t[125]||(t[125]=e("p",{class:"text-gray-600 mb-8"},"Choose the council that will process your application",-1)),ee(Lt,{modelValue:s.value.council,"onUpdate:modelValue":t[0]||(t[0]=o=>s.value.council=o),onChange:he,"display-mode":"cards",required:!0,"show-selected-info":!0,label:"","show-label":!1},null,8,["modelValue"])])):u("",!0),x.value===2?(r(),a("div",to,[t[128]||(t[128]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Application Type",-1)),t[129]||(t[129]=e("p",{class:"text-gray-600 mb-8"},"Choose the type of consent you wish to apply for",-1)),j.value.loading?(r(),a("div",oo,[...t[126]||(t[126]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):(r(),a("div",so,[(r(!0),a(w,null,C(j.value.data,o=>(r(),a("div",{key:o.name,onClick:i=>st(o),class:ue(["border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md",s.value.request_type===o.name?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[e("div",ro,[e("div",ao,[e("h3",no,d(o.type_name),1),e("p",{class:"text-sm text-gray-600",innerHTML:o.description||"No description available"},null,8,io),e("div",uo,[o.base_fee?(r(),a("span",po,"Fee: $"+d(o.base_fee),1)):u("",!0),o.processing_sla_days?(r(),a("span",co,d(o.processing_sla_days)+" days",1)):u("",!0),o.category?(r(),a("span",mo,d(o.category),1)):u("",!0)])]),s.value.request_type===o.name?(r(),a("div",go,[...t[127]||(t[127]=[e("div",{class:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):u("",!0)])],10,lo))),128))]))])):u("",!0),x.value===3?(r(),a("div",bo,[t[141]||(t[141]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Council Process Information",-1)),e("p",vo,"Understanding "+d((y=(c=I(f).councils)==null?void 0:c.find(o=>o.council_code===s.value.council))==null?void 0:y.council_name)+"'s process for this application",1),P.value?(r(),a("div",yo,[e("div",fo,[e("div",xo,[e("div",null,[e("h3",_o,d(P.value.request_type_name),1),P.value.category?(r(),a("p",ho,d(P.value.category),1)):u("",!0)])]),e("div",ko,[e("div",null,[t[130]||(t[130]=e("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Application Fee",-1)),e("div",wo," $"+d(P.value.base_fee||"0"),1),t[131]||(t[131]=e("div",{class:"text-xs text-blue-600 mt-1"},"Plus any additional costs",-1))]),e("div",null,[t[133]||(t[133]=e("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Processing Time",-1)),e("div",Co,[b(d(P.value.sla_days||"N/A")+" ",1),t[132]||(t[132]=e("span",{class:"text-base"},"days",-1))]),t[134]||(t[134]=e("div",{class:"text-xs text-blue-600 mt-1"},"Standard timeframe",-1))]),e("div",null,[t[135]||(t[135]=e("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Payment Required",-1)),e("div",Ao,d(P.value.requires_payment?"Yes":"No"),1),t[136]||(t[136]=e("div",{class:"text-xs text-blue-600 mt-1"},"Before processing",-1))])])]),P.value.process_description?(r(),a("div",So,[t[137]||(t[137]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"How This Works",-1)),e("div",{class:"prose prose-sm max-w-none text-gray-700",innerHTML:P.value.process_description},null,8,Po)])):P.value.description?(r(),a("div",Mo,[t[138]||(t[138]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"About This Application",-1)),e("p",Vo,d(P.value.description),1)])):u("",!0),t[139]||(t[139]=D('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4"><div class="flex items-start"><svg class="w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><div><h5 class="font-semibold text-yellow-900 text-sm">Before You Continue</h5><p class="text-yellow-800 text-sm mt-1"> Please review this information carefully. Make sure you understand the process, fees, and timeframes before proceeding with your application. </p></div></div></div>',1)),e("div",No,[e("button",{onClick:t[1]||(t[1]=o=>x.value++),class:"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors"}," I Understand - Continue to Application ")])])):(r(),a("div",Uo,[...t[140]||(t[140]=[e("p",{class:"text-gray-500"},"No request type selected. Please go back and select a request type.",-1)])]))])):u("",!0),x.value===4?(r(),a("div",qo,[t[168]||(t[168]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Property Details",-1)),t[169]||(t[169]=e("p",{class:"text-gray-600 mb-8"},"Provide details about the property for this application",-1)),e("div",Ro,[e("div",null,[t[143]||(t[143]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Select Existing Property or Enter New ",-1)),n(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.value.property=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:lt},[t[142]||(t[142]=e("option",{value:""},"-- Select a property or enter new --",-1)),(r(!0),a(w,null,C(I(Ne).data,o=>(r(),a("option",{key:o.name,value:o.name},d(o.street_address)+", "+d(o.suburb)+d(o.legal_description?" - "+o.legal_description:""),9,jo))),128))],544),[[M,s.value.property]])]),e("div",Do,[e("div",Eo,[t[146]||(t[146]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Who is this application for?",-1)),e("div",To,[e("label",Io,[n(e("input",{type:"radio",value:!1,"onUpdate:modelValue":t[3]||(t[3]=o=>s.value.acting_on_behalf=o),class:"mt-1"},null,512),[[Fe,s.value.acting_on_behalf]]),t[144]||(t[144]=e("div",null,[e("div",{class:"font-medium text-gray-900"},"This application is for myself"),e("div",{class:"text-sm text-gray-500"},"I am the applicant submitting this request")],-1))]),e("label",Lo,[n(e("input",{type:"radio",value:!0,"onUpdate:modelValue":t[4]||(t[4]=o=>s.value.acting_on_behalf=o),class:"mt-1"},null,512),[[Fe,s.value.acting_on_behalf]]),t[145]||(t[145]=e("div",null,[e("div",{class:"font-medium text-gray-900"},"I am acting on behalf of a client"),e("div",{class:"text-sm text-gray-500"},"I am an agent submitting this request for someone else")],-1))])])]),e("div",null,[e("h3",Ho,d(s.value.acting_on_behalf?"Client Information *":"Applicant Contact Information *"),1),e("div",Fo,[e("div",Bo,[e("div",null,[t[147]||(t[147]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Full Name *",-1)),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.value.applicant_name=o),type:"text",placeholder:"John Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!s.value.acting_on_behalf&&k.value,required:""},null,8,zo),[[p,s.value.applicant_name]]),s.value.acting_on_behalf?u("",!0):(r(),a("p",Oo,"Auto-populated from your profile"))]),e("div",null,[t[148]||(t[148]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email Address *",-1)),n(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>s.value.applicant_email=o),type:"email",placeholder:"john@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!s.value.acting_on_behalf&&k.value,required:""},null,8,$o),[[p,s.value.applicant_email]]),s.value.acting_on_behalf?u("",!0):(r(),a("p",Wo,"Auto-populated from your profile"))])]),e("div",Jo,[e("div",null,[t[149]||(t[149]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Contact Phone *",-1)),n(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>s.value.applicant_phone=o),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[p,s.value.applicant_phone]]),e("p",Zo,d(s.value.acting_on_behalf?"Required for application processing":"Will be saved to your profile for future applications"),1)]),e("div",null,[t[151]||(t[151]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Applicant Type *",-1)),n(e("select",{"onUpdate:modelValue":t[8]||(t[8]=o=>s.value.applicant_type=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...t[150]||(t[150]=[D('<option value="">Select applicant type</option><option value="Individual">Individual</option><option value="Company">Company</option><option value="Trust">Trust</option><option value="Partnership">Partnership</option><option value="Other">Other</option>',6)])],512),[[M,s.value.applicant_type]]),t[152]||(t[152]=e("p",{class:"mt-1 text-xs text-gray-500"},"Type of entity making this application",-1))])])])])]),e("div",Go,[s.value.property_address?(r(),a("div",Xo,[t[153]||(t[153]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Property Address *",-1)),e("div",Yo,[n(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>s.value.property_address=o),type:"text",readonly:"",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-900"},null,512),[[p,s.value.property_address]]),e("button",{onClick:nt,type:"button",class:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 border border-blue-600 rounded-lg hover:bg-blue-50"}," Change ")]),t[154]||(t[154]=e("p",{class:"mt-1 text-xs text-green-600"},"✓ Address selected from LINZ database",-1))])):(r(),a("div",Qo,[t[157]||(t[157]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search Property Address *",-1)),n(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>G.value=o),onInput:rt,onFocus:t[11]||(t[11]=o=>pe.value=!0),type:"text",placeholder:"Start typing address... e.g., 123 Main Street",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autocomplete:"off"},null,544),[[p,G.value]]),t[158]||(t[158]=e("p",{class:"mt-1 text-xs text-gray-500"},"Type to search LINZ property database",-1)),pe.value&&(L.value.length>0||se.value)?(r(),a("div",Ko,[se.value?(r(),a("div",es,[...t[155]||(t[155]=[e("div",{class:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mb-2"},null,-1),e("p",{class:"text-sm"},"Searching properties...",-1)])])):(r(),a("div",ts,[(r(!0),a(w,null,C(L.value,(o,i)=>{var m,B;return r(),a("button",{key:i,onClick:ve=>at(o),type:"button",class:"w-full text-left px-4 py-3 hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors focus:outline-none focus:bg-blue-50"},[e("div",ss,d(o.address),1),e("div",ls,d(((m=o.property)==null?void 0:m.legal_description)||"Legal description not available"),1),(B=o.property)!=null&&B.title_no?(r(),a("div",rs," Title: "+d(o.property.title_no),1)):u("",!0)],8,os)}),128))])),!se.value&&L.value.length===0&&G.value.length>=3?(r(),a("div",as,[...t[156]||(t[156]=[e("p",{class:"text-sm"},"No properties found. Try a different search.",-1)])])):u("",!0)])):u("",!0)])),e("div",ns,[e("div",null,[t[159]||(t[159]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Legal Description",-1)),n(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>s.value.legal_description=o),type:"text",placeholder:"Lot 1 DP 12345",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readonly:""},null,512),[[p,s.value.legal_description]]),s.value.legal_description?(r(),a("p",is," ✓ Auto-populated from LINZ ")):u("",!0)]),e("div",null,[t[160]||(t[160]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Certificate of Title",-1)),n(e("input",{"onUpdate:modelValue":t[13]||(t[13]=o=>s.value.ct_reference=o),type:"text",placeholder:"WN123/456",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readonly:""},null,512),[[p,s.value.ct_reference]]),s.value.ct_reference?(r(),a("p",ds," ✓ Auto-populated from LINZ ")):u("",!0)])]),e("div",us,[e("div",null,[t[161]||(t[161]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Valuation Reference",-1)),n(e("input",{"onUpdate:modelValue":t[14]||(t[14]=o=>s.value.valuation_reference=o),type:"text",placeholder:"1234567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.valuation_reference]]),t[162]||(t[162]=e("p",{class:"mt-1 text-xs text-gray-500"},"Property valuation number (optional)",-1))]),e("div",null,[t[163]||(t[163]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Parcel ID",-1)),n(e("input",{"onUpdate:modelValue":t[15]||(t[15]=o=>s.value.parcel_id=o),type:"text",placeholder:"Auto-populated",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readonly:""},null,512),[[p,s.value.parcel_id]]),s.value.parcel_id?(r(),a("p",ps," ✓ LINZ Parcel ID ")):u("",!0)])]),e("div",cs,[e("div",null,[t[164]||(t[164]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Zone",-1)),n(e("input",{"onUpdate:modelValue":t[16]||(t[16]=o=>s.value.zone=o),type:"text",placeholder:"Auto-populated from District Plan",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readonly:""},null,512),[[p,s.value.zone]]),s.value.zone?(r(),a("p",ms," ✓ District Plan zone ")):(r(),a("p",gs," Will be populated when address is selected "))]),e("div",null,[e("label",bs,[t[165]||(t[165]=b(" Activity Status ",-1)),Y.value?(r(),a("span",vs,"*")):u("",!0)]),n(e("select",{"onUpdate:modelValue":t[17]||(t[17]=o=>s.value.activity_zone=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:Y.value},[...t[166]||(t[166]=[D('<option value="">Select activity status</option><option value="Permitted">Permitted</option><option value="Controlled">Controlled</option><option value="Restricted Discretionary">Restricted Discretionary</option><option value="Discretionary">Discretionary</option><option value="Non-Complying">Non-Complying</option><option value="Prohibited">Prohibited</option>',7)])],8,ys),[[M,s.value.activity_zone]]),t[167]||(t[167]=e("p",{class:"mt-1 text-xs text-gray-500"}," What is the activity status of your proposal under the zone rules? ",-1))])])])])])):u("",!0),x.value===5&&Y.value?(r(),a("div",fs,[t[306]||(t[306]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Resource Consent Details",-1)),t[307]||(t[307]=e("p",{class:"text-gray-600 mb-8"},"Provide Resource Management Act (RMA) specific information",-1)),e("div",xs,[e("div",_s,[e("div",null,[t[170]||(t[170]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Applicant Reference Number ",-1)),n(e("input",{"onUpdate:modelValue":t[18]||(t[18]=o=>s.value.applicant_reference_number=o),type:"text",placeholder:"e.g., PROJ-2025-001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.applicant_reference_number]]),t[171]||(t[171]=e("p",{class:"mt-1 text-xs text-gray-500"},"Your internal project/file reference (optional)",-1))]),e("div",null,[t[172]||(t[172]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," PIM Reference ",-1)),n(e("input",{"onUpdate:modelValue":t[19]||(t[19]=o=>s.value.pim_reference=o),type:"text",placeholder:"e.g., PIM-2024-12345",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.pim_reference]]),t[173]||(t[173]=e("p",{class:"mt-1 text-xs text-gray-500"},"Property Information Memorandum number (if applicable)",-1))]),e("div",null,[t[175]||(t[175]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Delivery Preference ",-1)),n(e("select",{"onUpdate:modelValue":t[20]||(t[20]=o=>s.value.delivery_preference=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[174]||(t[174]=[e("option",{value:""},"Select preference",-1),e("option",{value:"Email"},"Email",-1),e("option",{value:"Postal Mail"},"Postal Mail",-1),e("option",{value:"Both Email and Postal"},"Both Email and Postal",-1)])],512),[[M,s.value.delivery_preference]]),t[176]||(t[176]=e("p",{class:"mt-1 text-xs text-gray-500"},"How to receive correspondence",-1))])]),e("div",hs,[e("div",null,[t[177]||(t[177]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Consent Type(s) * ",-1)),e("div",ks,[(r(),a(w,null,C(Be,o=>e("label",{key:o,class:"flex items-center"},[e("input",{type:"checkbox",value:o,onChange:i=>ze(o),checked:Oe(o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,ws),e("span",Cs,d(o),1)])),64))]),t[178]||(t[178]=e("p",{class:"mt-1 text-xs text-gray-500"},"Select all consent types required (multiple allowed)",-1))]),e("div",null,[e("label",As,[t[180]||(t[180]=b(" Activity Status * ",-1)),e("button",{type:"button",onClick:t[21]||(t[21]=o=>fe.value=!fe.value),class:"ml-1 text-blue-600 hover:text-blue-800",title:"Click for help"},[...t[179]||(t[179]=[e("svg",{class:"w-4 h-4 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])]),fe.value?(r(),a("div",Ss,[...t[181]||(t[181]=[D('<p class="font-semibold mb-2">RMA Activity Status Guide:</p><ul class="space-y-1 ml-4 list-disc"><li><strong>Permitted:</strong> Allowed without consent (no application needed)</li><li><strong>Controlled:</strong> Consent must be granted; council sets conditions</li><li><strong>Restricted Discretionary:</strong> Council has limited grounds to decline</li><li><strong>Discretionary:</strong> Council has full discretion to grant or decline</li><li><strong>Non-Complying:</strong> Does not comply with plan; requires special justification</li><li><strong>Prohibited:</strong> Cannot be consented under any circumstances</li></ul><p class="mt-2 text-xs text-blue-700">Check your district plan zone rules to determine status</p>',3)])])):u("",!0),n(e("select",{"onUpdate:modelValue":t[22]||(t[22]=o=>s.value.activity_status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...t[182]||(t[182]=[D('<option value="">Select activity status</option><option value="Controlled">Controlled</option><option value="Restricted Discretionary">Restricted Discretionary</option><option value="Discretionary">Discretionary</option><option value="Non-Complying">Non-Complying</option><option value="Permitted Boundary Activity">Permitted Boundary Activity</option>',6)])],512),[[M,s.value.activity_status]]),t[183]||(t[183]=e("p",{class:"mt-1 text-xs text-gray-500"},"Activity classification under district plan",-1)),Ve.value?(r(),a("div",Ps,d(Ve.value),1)):u("",!0)])]),s.value.activity_status==="Permitted Boundary Activity"?(r(),a("div",Ms,[t[189]||(t[189]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Permitted Boundary Activity (RMA s87BA)",-1)),t[190]||(t[190]=e("p",{class:"text-xs text-gray-500 mb-4"},"This is a special consent type for boundary infringements under section 87BA of the Resource Management Act",-1)),e("div",Vs,[e("div",null,[t[184]||(t[184]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Boundary Description",-1)),n(e("input",{"onUpdate:modelValue":t[23]||(t[23]=o=>s.value.boundary_description=o),type:"text",placeholder:"e.g., Side boundary with 123 Main Street",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,s.value.boundary_description]])]),e("div",null,[t[185]||(t[185]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Description of Boundary Activity",-1)),n(e("textarea",{"onUpdate:modelValue":t[24]||(t[24]=o=>s.value.boundary_activity_description=o),rows:"3",placeholder:"Describe how the activity infringes the boundary setback requirements...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,s.value.boundary_activity_description]])]),e("div",Ns,[e("div",null,[e("div",Us,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[25]||(t[25]=o=>s.value.boundary_owner_approval_obtained=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[V,s.value.boundary_owner_approval_obtained]]),t[186]||(t[186]=e("label",{class:"ml-3 text-xs font-medium text-gray-700"}," Affected boundary owner approval obtained ",-1))])]),s.value.boundary_owner_approval_obtained?(r(),a("div",qs,[t[187]||(t[187]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Date",-1)),n(e("input",{"onUpdate:modelValue":t[26]||(t[26]=o=>s.value.boundary_approval_date=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,s.value.boundary_approval_date]])])):u("",!0)]),s.value.boundary_owner_approval_obtained?(r(),a("div",Rs,[t[188]||(t[188]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Documentation",-1)),e("input",{type:"file",onChange:Ye,accept:".pdf,.doc,.docx,.jpg,.png",class:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"},null,32),s.value.boundary_approval_document?(r(),a("p",js," ✓ Document uploaded ")):u("",!0)])):u("",!0)])])):u("",!0),e("div",Ds,[t[203]||(t[203]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Proposal Details",-1)),t[204]||(t[204]=e("p",{class:"text-xs text-gray-500 mb-4"},"Provide details about your proposed development (all fields optional)",-1)),e("div",Es,[t[193]||(t[193]=e("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Building/Structure Dimensions",-1)),e("div",Ts,[e("div",null,[t[191]||(t[191]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Building Height (metres)",-1)),n(e("input",{"onUpdate:modelValue":t[27]||(t[27]=o=>s.value.building_height=o),type:"number",placeholder:"e.g., 8.5",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.building_height]])]),e("div",null,[t[192]||(t[192]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Total Floor Area (m²)",-1)),n(e("input",{"onUpdate:modelValue":t[28]||(t[28]=o=>s.value.building_floor_area=o),type:"number",placeholder:"e.g., 250",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.building_floor_area]])])])]),e("div",Is,[t[196]||(t[196]=e("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Earthworks",-1)),e("div",Ls,[e("div",null,[t[194]||(t[194]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Earthworks Volume (m³)",-1)),n(e("input",{"onUpdate:modelValue":t[29]||(t[29]=o=>s.value.earthworks_volume=o),type:"number",placeholder:"e.g., 150",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.earthworks_volume]])]),e("div",null,[t[195]||(t[195]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Maximum Vertical Alteration (metres)",-1)),n(e("input",{"onUpdate:modelValue":t[30]||(t[30]=o=>s.value.earthworks_vertical_alteration=o),type:"number",placeholder:"e.g., 2.5",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.earthworks_vertical_alteration]])])])]),e("div",Hs,[e("div",null,[t[199]||(t[199]=e("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Traffic & Parking",-1)),e("div",Fs,[e("div",null,[t[197]||(t[197]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Additional Vehicle Movements/Day",-1)),n(e("input",{"onUpdate:modelValue":t[31]||(t[31]=o=>s.value.vehicle_movements_daily=o),type:"number",placeholder:"e.g., 20",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.vehicle_movements_daily]])]),e("div",null,[t[198]||(t[198]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Parking Spaces Provided",-1)),n(e("input",{"onUpdate:modelValue":t[32]||(t[32]=o=>s.value.parking_spaces_provided=o),type:"number",placeholder:"e.g., 4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.parking_spaces_provided]])])])]),e("div",null,[t[202]||(t[202]=e("h4",{class:"text-xs font-medium text-gray-700 mb-3"},"Operations",-1)),e("div",Bs,[e("div",null,[t[200]||(t[200]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Hours of Operation",-1)),n(e("input",{"onUpdate:modelValue":t[33]||(t[33]=o=>s.value.hours_of_operation=o),type:"text",placeholder:"e.g., Mon-Fri 8am-6pm",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.hours_of_operation]])]),e("div",null,[t[201]||(t[201]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Consent Term Requested",-1)),n(e("input",{"onUpdate:modelValue":t[34]||(t[34]=o=>s.value.consent_term_requested=o),type:"text",placeholder:"e.g., 5 years, Unlimited",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,s.value.consent_term_requested]])])])])])]),e("div",zs,[t[216]||(t[216]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Site & Environment",-1)),t[217]||(t[217]=e("p",{class:"text-xs text-gray-500 mb-4"},"Describe existing site conditions and environmental features (all fields optional)",-1)),e("div",Os,[e("div",null,[t[205]||(t[205]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Site Topography",-1)),n(e("textarea",{"onUpdate:modelValue":t[35]||(t[35]=o=>s.value.site_topography=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Generally flat with gentle slope to north, approximately 10m elevation..."},null,512),[[p,s.value.site_topography]])]),e("div",null,[t[206]||(t[206]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Existing Vegetation",-1)),n(e("textarea",{"onUpdate:modelValue":t[36]||(t[36]=o=>s.value.existing_vegetation_description=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe existing trees, shrubs, native vegetation, notable specimens..."},null,512),[[p,s.value.existing_vegetation_description]])]),e("div",$s,[e("div",null,[e("div",Ws,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[37]||(t[37]=o=>s.value.watercourses_present=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[V,s.value.watercourses_present]]),t[207]||(t[207]=e("label",{class:"ml-3 text-xs font-medium text-gray-700"}," Watercourses/Wetlands Present on Site ",-1))]),s.value.watercourses_present?(r(),a("div",Js,[n(e("textarea",{"onUpdate:modelValue":t[38]||(t[38]=o=>s.value.watercourse_description=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe watercourses, streams, wetlands..."},null,512),[[p,s.value.watercourse_description]])])):u("",!0)]),e("div",null,[t[209]||(t[209]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"HAIL Contamination Status",-1)),n(e("select",{"onUpdate:modelValue":t[39]||(t[39]=o=>s.value.contamination_status_hail=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"},[...t[208]||(t[208]=[D('<option value="">Select contamination status</option><option value="Not Assessed">Not Assessed</option><option value="Not HAIL">Not HAIL (Hazardous Activities and Industries List)</option><option value="HAIL - Not Investigated">HAIL - Not Investigated</option><option value="HAIL - Investigated (Clean)">HAIL - Investigated (Clean)</option><option value="HAIL - Contaminated">HAIL - Contaminated</option>',6)])],512),[[M,s.value.contamination_status_hail]])])]),e("div",Zs,[t[213]||(t[213]=e("h4",{class:"text-sm font-semibold text-blue-900 mb-3"},"Natural Hazards Assessment (RMA s104)",-1)),t[214]||(t[214]=e("p",{class:"text-xs text-blue-700 mb-3"},"Indicate which natural hazards are present on or near the site",-1)),e("div",Gs,[(r(),a(w,null,C($e,o=>e("div",{key:o,class:"flex items-center"},[n(e("input",{type:"checkbox",id:"hazard-"+o,value:o,"onUpdate:modelValue":t[40]||(t[40]=i=>X.value=i),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Xs),[[V,X.value]]),e("label",{for:"hazard-"+o,class:"ml-2 text-sm text-gray-700"},d(o),9,Ys)])),64))]),X.value.length>0?(r(),a("div",Qs,[(r(!0),a(w,null,C(X.value,o=>(r(),a("div",{key:o,class:"mb-4 last:mb-0"},[e("h5",Ks,d(o),1),e("div",el,[e("div",null,[t[211]||(t[211]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Risk Level",-1)),n(e("select",{"onUpdate:modelValue":i=>F(o).risk_level=i,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...t[210]||(t[210]=[D('<option value="">Select risk level</option><option value="Low">Low</option><option value="Medium">Medium</option><option value="High">High</option><option value="Extreme">Extreme</option>',5)])],8,tl),[[M,F(o).risk_level]])]),e("div",ol,[e("div",sl,[n(e("input",{type:"checkbox",id:"mitigation-"+o,"onUpdate:modelValue":i=>F(o).mitigation_required=i,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,ll),[[V,F(o).mitigation_required]]),e("label",{for:"mitigation-"+o,class:"ml-2 text-xs text-gray-700"},"Mitigation Required",8,rl)])])]),e("div",al,[t[212]||(t[212]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Assessment Notes",-1)),n(e("textarea",{"onUpdate:modelValue":i=>F(o).assessment_notes=i,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Describe the hazard and its potential impact..."},null,8,nl),[[p,F(o).assessment_notes]])])]))),128))])):u("",!0)]),e("div",null,[t[215]||(t[215]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Existing Infrastructure",-1)),n(e("textarea",{"onUpdate:modelValue":t[41]||(t[41]=o=>s.value.existing_infrastructure=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Wastewater, stormwater, electricity connections..."},null,512),[[p,s.value.existing_infrastructure]])])])]),e("div",il,[t[229]||(t[229]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"National Environmental Standards (NES) Assessment",-1)),t[230]||(t[230]=e("p",{class:"text-xs text-gray-500 mb-4"},"Indicate which National Environmental Standards apply to this proposal",-1)),e("div",dl,[t[222]||(t[222]=e("h4",{class:"text-sm font-semibold text-blue-900 mb-2"},"Application Context",-1)),e("div",ul,[e("div",null,[t[218]||(t[218]=e("span",{class:"font-medium text-blue-800"},"Applicant:",-1)),e("span",pl,d(s.value.applicant_name||"Not provided"),1)]),e("div",null,[t[219]||(t[219]=e("span",{class:"font-medium text-blue-800"},"Location:",-1)),e("span",cl,d(s.value.property_address||"Not provided"),1)]),e("div",null,[t[220]||(t[220]=e("span",{class:"font-medium text-blue-800"},"Consent Type(s):",-1)),e("span",ml,d(s.value.consent_types.map(o=>o.consent_type).join(", ")||"Not selected"),1)]),e("div",null,[t[221]||(t[221]=e("span",{class:"font-medium text-blue-800"},"Activity Status:",-1)),e("span",gl,d(s.value.activity_status||"Not selected"),1)])])]),e("div",bl,[(r(),a(w,null,C(Me,o=>e("div",{key:o.value,class:"border border-gray-200 rounded-lg p-3 bg-gray-50"},[e("div",vl,[n(e("input",{type:"checkbox",id:"nes-"+o.value,"onUpdate:modelValue":i=>R(o.value).applies=i,class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,yl),[[V,R(o.value).applies]]),e("label",{for:"nes-"+o.value,class:"ml-3 text-sm font-medium text-gray-900"},d(o.label),9,fl)]),R(o.value).applies?(r(),a("div",xl,[o.value==="Other"?(r(),a("div",_l,[t[223]||(t[223]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Other NES Description *",-1)),n(e("input",{"onUpdate:modelValue":i=>R(o.value).other_nes_description=i,type:"text",required:"",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Please specify the NES type..."},null,8,hl),[[p,R(o.value).other_nes_description]])])):u("",!0),e("div",null,[t[225]||(t[225]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Compliance Status",-1)),n(e("select",{"onUpdate:modelValue":i=>R(o.value).compliance_status=i,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...t[224]||(t[224]=[e("option",{value:""},"Select compliance status",-1),e("option",{value:"Permitted Activity"},"Permitted Activity",-1),e("option",{value:"Requires Consent"},"Requires Consent",-1),e("option",{value:"Non-Complying Activity"},"Non-Complying Activity",-1)])],8,kl),[[M,R(o.value).compliance_status]])]),e("div",null,[t[226]||(t[226]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Assessment Notes",-1)),n(e("textarea",{"onUpdate:modelValue":i=>R(o.value).assessment_notes=i,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white",placeholder:"Provide details on how the NES applies..."},null,8,wl),[[p,R(o.value).assessment_notes]])]),e("div",null,[t[227]||(t[227]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Upload NES Assessment Document",-1)),e("div",Cl,[e("input",{type:"file",onChange:i=>We(i,o.value),accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",class:"text-xs file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,40,Al)]),t[228]||(t[228]=e("p",{class:"text-xs text-gray-500 mt-1"},"PDF, Word documents, or images (max 10MB)",-1)),_e(o.value).length>0?(r(),a("div",Sl,[(r(!0),a(w,null,C(_e(o.value),(i,m)=>{var B;return r(),a("div",{key:m,class:"flex items-center justify-between text-xs bg-gray-50 p-2 rounded"},[e("span",Pl,d(i.document_type)+" - "+d(((B=i.file)==null?void 0:B.name)||"Uploaded"),1),e("button",{onClick:ve=>Je(o.value,m),type:"button",class:"text-red-600 hover:text-red-800"}," Remove ",8,Ml)])}),128))])):u("",!0)])])):u("",!0)])),64))])]),Ze.value?(r(),a("div",Vl,[t[241]||(t[241]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"HAIL Activities (Hazardous Activities and Industries List)",-1)),t[242]||(t[242]=e("p",{class:"text-xs text-gray-500 mb-4"},"For sites with potential soil contamination under the NES for Assessing and Managing Contaminants in Soil",-1)),e("div",{class:"flex items-center justify-between mb-3"},[t[231]||(t[231]=e("p",{class:"text-xs text-gray-600"},"List any HAIL activities on the site (past, current, or likely)",-1)),e("button",{onClick:Ge,type:"button",class:"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200"}," + Add HAIL Activity ")]),s.value.hail_activities.length>0?(r(),a("div",Nl,[(r(!0),a(w,null,C(s.value.hail_activities,(o,i)=>(r(),a("div",{key:i,class:"border border-gray-300 rounded-lg p-4 bg-white"},[e("div",Ul,[e("h4",ql,"HAIL Activity #"+d(i+1),1),e("button",{onClick:m=>Xe(i),type:"button",class:"text-red-600 hover:text-red-800"},[...t[232]||(t[232]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Rl)]),e("div",jl,[e("div",null,[t[233]||(t[233]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Activity Description *",-1)),n(e("textarea",{"onUpdate:modelValue":m=>o.activity_description=m,rows:"2",required:"",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Describe the HAIL activity (e.g., Former service station, industrial site)..."},null,8,Dl),[[p,o.activity_description]])]),e("div",null,[t[235]||(t[235]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"HAIL Category",-1)),n(e("select",{"onUpdate:modelValue":m=>o.hail_category=m,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...t[234]||(t[234]=[D('<option value="">Select HAIL category</option><option value="Category A - Petroleum/Oil Storage">Category A - Petroleum/Oil Storage</option><option value="Category B - Asbestos Products">Category B - Asbestos Products</option><option value="Category C - Chemicals">Category C - Chemicals</option><option value="Category D - Engineering Workshops">Category D - Engineering Workshops</option><option value="Category E - Gasworks/Coke Works">Category E - Gasworks/Coke Works</option><option value="Category F - Horticulture">Category F - Horticulture</option><option value="Category G - Landfills/Waste Disposal">Category G - Landfills/Waste Disposal</option><option value="Category H - Metal Treatment">Category H - Metal Treatment</option><option value="Category I - Timber Treatment">Category I - Timber Treatment</option>',10)])],8,El),[[M,o.hail_category]]),t[236]||(t[236]=e("p",{class:"text-xs text-gray-500 mt-1"},"Select the applicable HAIL category for this activity",-1))]),e("div",Tl,[e("div",Il,[n(e("input",{type:"checkbox",id:"hail-current-"+i,"onUpdate:modelValue":m=>o.currently_undertaken=m,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ll),[[V,o.currently_undertaken]]),e("label",{for:"hail-current-"+i,class:"ml-2 text-xs text-gray-700"},"Currently Being Undertaken",8,Hl)]),e("div",Fl,[n(e("input",{type:"checkbox",id:"hail-previous-"+i,"onUpdate:modelValue":m=>o.previously_undertaken=m,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Bl),[[V,o.previously_undertaken]]),e("label",{for:"hail-previous-"+i,class:"ml-2 text-xs text-gray-700"},"Previously Undertaken",8,zl)]),e("div",Ol,[n(e("input",{type:"checkbox",id:"hail-likely-"+i,"onUpdate:modelValue":m=>o.likely_undertaken=m,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,$l),[[V,o.likely_undertaken]]),e("label",{for:"hail-likely-"+i,class:"ml-2 text-xs text-gray-700"},"Likely to Have Been Undertaken",8,Wl)])]),e("div",Jl,[n(e("input",{type:"checkbox",id:"hail-investigated-"+i,"onUpdate:modelValue":m=>o.preliminary_investigation_done=m,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Zl),[[V,o.preliminary_investigation_done]]),e("label",{for:"hail-investigated-"+i,class:"ml-2 text-xs text-gray-700"},"Preliminary Investigation Completed",8,Gl)]),e("div",null,[t[237]||(t[237]=e("label",{class:"block text-xs font-medium text-gray-700 mb-2"},"Proposed Activities",-1)),e("div",Xl,[e("div",Yl,[e("input",{type:"checkbox",id:"hail-activity-fuel-"+i,onChange:m=>le(i,"Removing or replacing fuel storage system"),checked:re(i,"Removing or replacing fuel storage system"),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,Ql),e("label",{for:"hail-activity-fuel-"+i,class:"ml-2 text-xs text-gray-700"},"Removing or replacing fuel storage system",8,Kl)]),e("div",er,[e("input",{type:"checkbox",id:"hail-activity-disturb-"+i,onChange:m=>le(i,"Disturbing soil"),checked:re(i,"Disturbing soil"),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,tr),e("label",{for:"hail-activity-disturb-"+i,class:"ml-2 text-xs text-gray-700"},"Disturbing soil",8,or)]),e("div",sr,[e("input",{type:"checkbox",id:"hail-activity-sample-"+i,onChange:m=>le(i,"Sampling soil"),checked:re(i,"Sampling soil"),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,lr),e("label",{for:"hail-activity-sample-"+i,class:"ml-2 text-xs text-gray-700"},"Sampling soil",8,rr)]),e("div",ar,[e("input",{type:"checkbox",id:"hail-activity-subdivide-"+i,onChange:m=>le(i,"Subdividing land"),checked:re(i,"Subdividing land"),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,nr),e("label",{for:"hail-activity-subdivide-"+i,class:"ml-2 text-xs text-gray-700"},"Subdividing land",8,ir)]),e("div",dr,[e("input",{type:"checkbox",id:"hail-activity-change-"+i,onChange:m=>le(i,"Changing use of land"),checked:re(i,"Changing use of land"),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,ur),e("label",{for:"hail-activity-change-"+i,class:"ml-2 text-xs text-gray-700"},"Changing use of land",8,pr)])]),t[238]||(t[238]=e("p",{class:"text-xs text-gray-500 mt-1"},"Select all proposed activities that apply (multiple allowed)",-1))]),e("div",null,[t[239]||(t[239]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Notes",-1)),n(e("textarea",{"onUpdate:modelValue":m=>o.notes=m,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"Additional notes about the HAIL activity..."},null,8,cr),[[p,o.notes]])])])]))),128))])):(r(),a("div",mr,[...t[240]||(t[240]=[e("p",{class:"text-sm text-gray-500"},"No HAIL activities added yet",-1),e("p",{class:"text-xs text-gray-400 mt-1"},'Click "Add HAIL Activity" to document contaminated land activities',-1)])]))])):u("",!0),e("div",gr,[t[243]||(t[243]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Assessment of Environmental Effects (AEE) * ",-1)),n(e("textarea",{"onUpdate:modelValue":t[42]||(t[42]=o=>s.value.assessment_of_effects=o),rows:"8",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the actual and potential effects on the environment as per Schedule 4 of the RMA. Include effects on people, physical environment, ecosystems, and cultural/heritage values...",required:""},null,512),[[p,s.value.assessment_of_effects]]),t[244]||(t[244]=e("p",{class:"mt-1 text-xs text-gray-500"},"Required under Schedule 4 of the Resource Management Act",-1))]),e("div",br,[t[252]||(t[252]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Detailed Effects Assessment (Optional)",-1)),t[253]||(t[253]=e("p",{class:"text-xs text-gray-500 mb-4"},"Break down your AEE into specific effect categories for a more comprehensive assessment",-1)),e("div",vr,[e("div",null,[t[245]||(t[245]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Effects on People",-1)),n(e("textarea",{"onUpdate:modelValue":t[43]||(t[43]=o=>s.value.effects_on_people=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Privacy, sunlight access, visual amenity, noise impacts..."},null,512),[[p,s.value.effects_on_people]])]),e("div",null,[t[246]||(t[246]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Physical Effects",-1)),n(e("textarea",{"onUpdate:modelValue":t[44]||(t[44]=o=>s.value.physical_effects=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Traffic, parking, stormwater, infrastructure impacts..."},null,512),[[p,s.value.physical_effects]])]),e("div",null,[t[247]||(t[247]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Earthworks Effects",-1)),n(e("textarea",{"onUpdate:modelValue":t[45]||(t[45]=o=>s.value.earthworks_effects=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Soil disturbance, erosion, sediment control, slope stability, construction impacts..."},null,512),[[p,s.value.earthworks_effects]])]),e("div",null,[t[248]||(t[248]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Discharge/Contaminants Effects",-1)),n(e("textarea",{"onUpdate:modelValue":t[46]||(t[46]=o=>s.value.discharge_contaminants_effects=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Stormwater discharge, wastewater, air quality, dust, odour, contaminant management..."},null,512),[[p,s.value.discharge_contaminants_effects]])]),e("div",null,[t[249]||(t[249]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Ecosystem Effects",-1)),n(e("textarea",{"onUpdate:modelValue":t[47]||(t[47]=o=>s.value.ecosystem_effects=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Indigenous vegetation, habitat values, watercourses, biodiversity..."},null,512),[[p,s.value.ecosystem_effects]])]),e("div",null,[t[250]||(t[250]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Hazard Risk Assessment",-1)),n(e("textarea",{"onUpdate:modelValue":t[48]||(t[48]=o=>s.value.hazard_risk_assessment=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Flood risk, liquefaction, slope instability, coastal hazards, seismic risk..."},null,512),[[p,s.value.hazard_risk_assessment]])]),e("div",null,[t[251]||(t[251]=e("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Cultural/Heritage Effects",-1)),n(e("textarea",{"onUpdate:modelValue":t[49]||(t[49]=o=>s.value.cultural_effects=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Heritage values, sites of significance to Māori, archaeological sites..."},null,512),[[p,s.value.cultural_effects]])])])]),e("div",yr,[e("div",null,[t[254]||(t[254]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Alternatives Considered ",-1)),n(e("textarea",{"onUpdate:modelValue":t[50]||(t[50]=o=>s.value.alternatives_considered=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"What alternative designs, locations, or methods were considered?..."},null,512),[[p,s.value.alternatives_considered]])]),e("div",null,[t[255]||(t[255]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Mitigation Measures ",-1)),n(e("textarea",{"onUpdate:modelValue":t[51]||(t[51]=o=>s.value.mitigation_proposed=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"What measures will be implemented to avoid, remedy or mitigate adverse effects?..."},null,512),[[p,s.value.mitigation_proposed]])])]),e("div",fr,[e("div",xr,[t[258]||(t[258]=e("h3",{class:"text-sm font-semibold text-gray-900"},"Affected Parties",-1)),ee(I($),{onClick:mt,variant:"outline",theme:"blue",size:"sm"},{prefix:S(()=>[...t[256]||(t[256]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:S(()=>[t[257]||(t[257]=b(" Add Party ",-1))]),_:1})]),t[268]||(t[268]=e("p",{class:"text-xs text-gray-500 mb-3"}," List any parties (neighbors, landowners, etc.) who may be adversely affected by the proposal ",-1)),s.value.affected_parties.length>0?(r(),a("div",_r,[(r(!0),a(w,null,C(s.value.affected_parties,(o,i)=>(r(),a("div",{key:i,class:"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[e("div",hr,[e("div",kr,[e("div",wr,[e("h4",Cr,d(o.party_name),1),e("span",Ar,d(o.relationship),1)]),e("div",Sr,[o.property_address?(r(),a("div",Pr,[t[259]||(t[259]=e("svg",{class:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("span",null,d(o.property_address),1)])):u("",!0),o.email?(r(),a("div",Mr,[t[260]||(t[260]=e("svg",{class:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),e("a",{href:"mailto:"+o.email,class:"text-blue-600 hover:underline"},d(o.email),9,Vr)])):u("",!0),o.phone?(r(),a("div",Nr,[t[261]||(t[261]=e("svg",{class:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),e("a",{href:"tel:"+o.phone,class:"text-blue-600 hover:underline"},d(o.phone),9,Ur)])):u("",!0),o.postal_address?(r(),a("div",qr,[t[262]||(t[262]=e("svg",{class:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"})],-1)),e("span",null,"Postal: "+d(o.postal_address),1)])):u("",!0)]),o.approval_obtained?(r(),a("div",Rr,[t[263]||(t[263]=e("span",{class:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded"},[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),b(" Written approval obtained ")],-1)),o.approval_date?(r(),a("span",jr,d(o.approval_date),1)):u("",!0)])):u("",!0),o.comments?(r(),a("p",Dr,d(o.comments),1)):u("",!0)]),e("div",Er,[e("button",{onClick:m=>gt(i),class:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit party"},[...t[264]||(t[264]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Tr),e("button",{onClick:m=>vt(i),class:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove party"},[...t[265]||(t[265]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ir)])])]))),128))])):(r(),a("div",Lr,[...t[266]||(t[266]=[e("p",{class:"text-sm text-gray-500"},"No affected parties added yet",-1)])])),s.value.affected_parties.length>0?(r(),a("div",Hr,[t[267]||(t[267]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Number of Written Approvals Obtained ",-1)),n(e("input",{"onUpdate:modelValue":t[52]||(t[52]=o=>s.value.written_approvals_obtained=o),type:"number",min:"0",max:s.value.affected_parties.length,class:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,8,Fr),[[p,s.value.written_approvals_obtained,void 0,{number:!0}]]),e("p",Br," How many of the "+d(s.value.affected_parties.length)+" affected parties have provided written approval? ",1)])):u("",!0),t[269]||(t[269]=D('<div class="mt-4 p-3 bg-green-50 border border-green-200 rounded-lg"><div class="flex items-start gap-2"><svg class="w-5 h-5 text-green-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><h4 class="text-sm font-semibold text-green-900">Treaty of Waitangi Obligations</h4><p class="text-xs text-green-700 mt-1"> To record iwi/hapū consultation, add them as affected parties above using the relationship type &quot;Iwi&quot;. Include their response in the comments field. Upload any Cultural Impact Assessment (CIA) as a specialist report. </p></div></div></div>',1))]),e("div",zr,[t[274]||(t[274]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3"},"Iwi Consultation",-1)),t[275]||(t[275]=e("p",{class:"text-xs text-gray-500 mb-4"}," Details of consultation with iwi and hapū under RMA s8 (Treaty of Waitangi) ",-1)),e("div",Or,[e("div",$r,[n(e("input",{"onUpdate:modelValue":t[53]||(t[53]=o=>s.value.iwi_consultation_undertaken=o),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[V,s.value.iwi_consultation_undertaken]]),t[270]||(t[270]=e("label",{class:"ml-2 text-sm text-gray-700"}," Iwi/Hapū consultation has been undertaken ",-1))]),s.value.iwi_consultation_undertaken?(r(),a("div",Wr,[t[271]||(t[271]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Iwi/Hapū Consulted ",-1)),n(e("textarea",{"onUpdate:modelValue":t[54]||(t[54]=o=>s.value.iwi_consulted=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"List the iwi and hapū groups that were consulted..."},null,512),[[p,s.value.iwi_consulted]])])):u("",!0),s.value.iwi_consultation_undertaken?(r(),a("div",Jr,[t[272]||(t[272]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Response Summary ",-1)),n(e("textarea",{"onUpdate:modelValue":t[55]||(t[55]=o=>s.value.iwi_response_summary=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Summarize the responses received from iwi/hapū, including any concerns raised and how they are addressed..."},null,512),[[p,s.value.iwi_response_summary]]),t[273]||(t[273]=e("p",{class:"mt-1 text-xs text-gray-500"}," Summary of feedback and responses from consulted iwi/hapū ",-1))])):u("",!0)])]),e("div",Zr,[e("div",Gr,[t[278]||(t[278]=e("h3",{class:"text-sm font-semibold text-gray-900"},"Specialist Reports",-1)),ee(I($),{onClick:ft,variant:"outline",theme:"blue",size:"sm"},{prefix:S(()=>[...t[276]||(t[276]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])]),default:S(()=>[t[277]||(t[277]=b(" Add Report ",-1))]),_:1})]),t[286]||(t[286]=e("p",{class:"text-xs text-gray-500 mb-3"}," Add any specialist technical reports (traffic, geotechnical, acoustic, ecological, etc.) ",-1)),s.value.specialist_reports.length>0?(r(),a("div",Xr,[(r(!0),a(w,null,C(s.value.specialist_reports,(o,i)=>(r(),a("div",{key:i,class:"p-4 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[e("div",Yr,[e("div",Qr,[t[279]||(t[279]=e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("h4",Kr,d(o.report_type),1)]),e("span",ea,d(o.report_date),1)]),e("div",ta,[e("div",oa,[t[280]||(t[280]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),e("span",sa,d(o.specialist_name),1),o.specialist_company?(r(),a("span",la,"• "+d(o.specialist_company),1)):u("",!0)]),o.document?(r(),a("div",ra,[t[281]||(t[281]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1)),e("span",null,d(typeof o.document=="object"?o.document.name:"Document attached"),1)])):u("",!0),o.summary?(r(),a("div",aa,[t[282]||(t[282]=e("span",{class:"font-medium"},"Summary: ",-1)),b(d(o.summary),1)])):u("",!0)]),e("div",na,[e("button",{onClick:m=>xt(i),class:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded transition-colors"},[...t[283]||(t[283]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),b(" Edit ",-1)])],8,ia),e("button",{onClick:m=>ht(i),class:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded transition-colors"},[...t[284]||(t[284]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),b(" Remove ",-1)])],8,da)])]))),128))])):(r(),a("div",ua,[...t[285]||(t[285]=[e("p",{class:"text-sm text-gray-500"},"No specialist reports added yet",-1),e("p",{class:"text-xs text-gray-400 mt-1"},"Upload report files in the Documents step",-1)])]))]),e("div",null,[e("div",{class:"flex items-center justify-between mb-2"},[t[288]||(t[288]=e("div",null,[e("label",{class:"block text-sm font-medium text-gray-700"}," Proposed Conditions (Optional) "),e("p",{class:"mt-1 text-xs text-gray-500"},"Select from standard templates or propose custom conditions")],-1)),e("button",{type:"button",onClick:Ct,class:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 flex items-center gap-1.5"},[...t[287]||(t[287]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Browse Templates ",-1)])])]),s.value.proposed_conditions&&s.value.proposed_conditions.length>0?(r(),a("div",pa,[(r(!0),a(w,null,C(s.value.proposed_conditions,(o,i)=>(r(),a("div",{key:i,class:"p-3 bg-white rounded-lg border border-gray-300 hover:border-blue-400 transition-colors"},[e("div",ca,[e("div",ma,[e("span",ga,d(o.condition_number),1),e("span",ba,d(o.condition_category),1)]),e("div",va,[e("button",{type:"button",onClick:m=>Pt(i),class:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit condition"},[...t[289]||(t[289]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,ya),e("button",{type:"button",onClick:m=>De(i),class:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove condition"},[...t[290]||(t[290]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,fa)])]),e("div",{class:"text-xs text-gray-700",innerHTML:o.condition_text},null,8,xa),o.compliance_notes?(r(),a("div",_a,d(o.compliance_notes),1)):u("",!0)]))),128))])):(r(),a("div",ha,[...t[291]||(t[291]=[e("svg",{class:"w-10 h-10 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"text-sm text-gray-500"},"No conditions proposed yet",-1),e("p",{class:"text-xs text-gray-400 mt-1"},'Click "Browse Templates" to select standard conditions',-1)])])),t[292]||(t[292]=e("p",{class:"mt-2 text-xs text-gray-500"},[e("svg",{class:"w-3.5 h-3.5 inline mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),b(" The council will determine final consent conditions based on the assessment ")],-1))]),e("div",ka,[t[297]||(t[297]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-2"},"Confidential Information (RMA s42)",-1)),t[298]||(t[298]=e("p",{class:"text-xs text-gray-500 mb-4"},"Under section 42 of the RMA, you may request that certain information be kept confidential if it contains trade secrets or is commercially sensitive",-1)),e("div",wa,[e("div",Ca,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[56]||(t[56]=o=>s.value.confidential_information_claimed=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[V,s.value.confidential_information_claimed]]),t[293]||(t[293]=e("label",{class:"ml-3 text-sm font-medium text-gray-700"}," This application contains confidential information that should be withheld from public notification ",-1))]),s.value.confidential_information_claimed?(r(),a("div",Aa,[t[294]||(t[294]=e("label",{class:"block text-sm font-medium text-gray-900 mb-2"}," Justification for Confidentiality * ",-1)),t[295]||(t[295]=e("p",{class:"text-xs text-gray-600 mb-3"}," Explain why this information should be withheld under s42 of the RMA. You must demonstrate that the information is a trade secret or that making it public would unreasonably prejudice your commercial position. ",-1)),n(e("textarea",{"onUpdate:modelValue":t[57]||(t[57]=o=>s.value.confidential_information_reason=o),rows:"4",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white",placeholder:"Provide detailed justification for why this information should be kept confidential. Include references to specific documents or sections that contain confidential material..."},null,512),[[p,s.value.confidential_information_reason]]),t[296]||(t[296]=e("p",{class:"mt-2 text-xs text-yellow-700"}," ⚠ Note: The consent authority will determine whether your justification meets the requirements of s42. Confidentiality is not guaranteed. ",-1))])):u("",!0)])]),e("div",Sa,[e("div",Pa,[e("div",Ma,[t[305]||(t[305]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",Va,[t[301]||(t[301]=e("h3",{class:"text-sm font-semibold text-blue-900 mb-2"}," Need Help with Your Application? ",-1)),t[302]||(t[302]=e("p",{class:"text-sm text-blue-800 mb-3"},[b(" For "),e("strong",null,"discretionary"),b(" or "),e("strong",null,"non-complying"),b(" activities, we recommend booking a pre-application meeting with our planning team. This can help: ")],-1)),t[303]||(t[303]=e("ul",{class:"text-sm text-blue-800 space-y-1 ml-4 list-disc mb-4"},[e("li",null,"Clarify district plan requirements"),e("li",null,"Identify potential issues early"),e("li",null,"Understand what information you'll need"),e("li",null,"Get preliminary feedback on your proposal")],-1)),ee(I($),{onClick:Ut,variant:"solid",theme:"blue",size:"sm",loading:Z.value},{prefix:S(()=>[...t[299]||(t[299]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:S(()=>[t[300]||(t[300]=b(" Request Pre-Application Meeting ",-1))]),_:1},8,["loading"]),t[304]||(t[304]=e("p",{class:"text-xs text-blue-700 mt-2"}," A planning officer will contact you within 2 business days to schedule. ",-1))])])])])])])):u("",!0),u("",!0),u("",!0),x.value===J.value[J.value.length-1].number?(r(),a("div",Na,[t[470]||(t[470]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Review & Submit",-1)),t[471]||(t[471]=e("p",{class:"text-gray-600 mb-8"},"Please review your application before submission",-1)),e("div",Ua,[e("div",qa,[t[460]||(t[460]=e("h3",{class:"font-semibold text-gray-900 mb-4"},"Application Summary",-1)),e("dl",Ra,[e("div",null,[t[455]||(t[455]=e("dt",{class:"text-gray-600"},"Application Type",-1)),e("dd",ja,d(ut()),1)]),e("div",null,[t[456]||(t[456]=e("dt",{class:"text-gray-600"},"Property Address",-1)),e("dd",Da,d(s.value.property_address||"N/A"),1)]),e("div",null,[t[457]||(t[457]=e("dt",{class:"text-gray-600"},"Brief Description",-1)),e("dd",Ea,d(s.value.brief_description||"N/A"),1)]),e("div",null,[t[458]||(t[458]=e("dt",{class:"text-gray-600"},"Estimated Value",-1)),e("dd",Ta,d(s.value.estimated_value?`$${s.value.estimated_value}`:"N/A"),1)]),e("div",null,[t[459]||(t[459]=e("dt",{class:"text-gray-600"},"Documents Uploaded",-1)),e("dd",Ia,d(H.value.length)+" files",1)])])]),e("div",La,[e("div",Ha,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[98]||(t[98]=o=>s.value.terms_accepted=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[V,s.value.terms_accepted]]),t[461]||(t[461]=e("label",{class:"ml-3 text-sm text-gray-700"},[b(" I confirm that the information provided in this application is true and accurate to the best of my knowledge. I understand that providing false or misleading information may result in the application being declined or consent being revoked. I have read and agree to the "),e("a",{href:"#",class:"text-blue-600 hover:text-blue-800"},"terms and conditions"),b(". ")],-1))])]),e("div",Fa,[t[464]||(t[464]=e("h4",{class:"font-medium text-blue-900 mb-3"},"Fee Summary",-1)),e("div",Ba,[e("div",za,[t[462]||(t[462]=e("span",{class:"text-blue-800"},"Application Fee",-1)),e("span",Oa,d(Re()),1)]),e("div",$a,[t[463]||(t[463]=e("span",{class:"font-medium text-blue-900"},"Total Due",-1)),e("span",Wa,d(Re()),1)])]),t[465]||(t[465]=e("p",{class:"text-xs text-blue-700 mt-3"}," Payment will be processed after submission. You will receive an invoice via email. ",-1))]),Y.value?(r(),a("div",Ja,[t[468]||(t[468]=e("h4",{class:"font-medium text-green-900 mb-2"},"Pre-Application Meeting",-1)),t[469]||(t[469]=e("p",{class:"text-sm text-green-700 mb-4"}," For Resource Consent applications, we strongly recommend booking a pre-application meeting with our planning team. This helps ensure your application meets all requirements and can speed up the approval process. ",-1)),ee(I($),{onClick:ct,variant:"solid",theme:"green",loading:ye.value},{prefix:S(()=>[...t[466]||(t[466]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:S(()=>[t[467]||(t[467]=b(" Book Pre-Application Meeting ",-1))]),_:1},8,["loading"])])):u("",!0)])])):u("",!0),e("div",Za,[x.value>1?(r(),Se(I($),{key:0,onClick:dt,variant:"outline",theme:"gray"},{prefix:S(()=>[...t[472]||(t[472]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),default:S(()=>[t[473]||(t[473]=b(" Previous ",-1))]),_:1})):(r(),a("div",Ga)),e("div",Xa,[x.value<oe.value?(r(),Se(I($),{key:0,onClick:it,variant:"solid",theme:"blue",disabled:!Ue()},{suffix:S(()=>[...t[474]||(t[474]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),default:S(()=>[t[475]||(t[475]=b(" Next ",-1))]),_:1},8,["disabled"])):et.value?(r(),Se(I($),{key:1,onClick:pt,variant:"solid",theme:"blue",loading:q.value,disabled:!s.value.terms_accepted},{default:S(()=>[...t[476]||(t[476]=[b(" Submit Application ",-1)])]),_:1},8,["loading","disabled"])):(r(),a("div",Ya," Make changes to your application to enable submission "))])])])]),ae.value?(r(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:Pe(ke,["self"])},[e("div",Qa,[e("div",Ka,[e("div",en,[e("h3",tn,d(Q.value!==null?"Edit":"Add")+" Affected Party ",1),e("button",{onClick:ke,class:"text-gray-400 hover:text-gray-600"},[...t[477]||(t[477]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",on,[e("div",null,[t[478]||(t[478]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[b(" Party Name "),e("span",{class:"text-red-500"},"*")],-1)),n(e("input",{"onUpdate:modelValue":t[99]||(t[99]=o=>v.value.party_name=o),type:"text",required:"",placeholder:"e.g., John Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,v.value.party_name]])]),e("div",null,[t[480]||(t[480]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[b(" Relationship "),e("span",{class:"text-red-500"},"*")],-1)),n(e("select",{"onUpdate:modelValue":t[100]||(t[100]=o=>v.value.relationship=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[479]||(t[479]=[D('<option value="">Select relationship</option><option value="Adjacent Property Owner">Adjacent Property Owner</option><option value="Neighbor">Neighbor</option><option value="Iwi">Iwi</option><option value="Infrastructure Provider">Infrastructure Provider</option><option value="Other">Other</option>',6)])],512),[[M,v.value.relationship]])]),e("div",sn,[t[483]||(t[483]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Contact Information",-1)),e("div",ln,[e("div",null,[t[481]||(t[481]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Email",-1)),n(e("input",{"onUpdate:modelValue":t[101]||(t[101]=o=>v.value.email=o),type:"email",placeholder:"email@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,v.value.email]])]),e("div",null,[t[482]||(t[482]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Phone",-1)),n(e("input",{"onUpdate:modelValue":t[102]||(t[102]=o=>v.value.phone=o),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,v.value.phone]])])])]),e("div",rn,[t[488]||(t[488]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Addresses",-1)),e("div",an,[e("div",null,[t[484]||(t[484]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Property Address",-1)),n(e("textarea",{"onUpdate:modelValue":t[103]||(t[103]=o=>v.value.property_address=o),rows:"2",placeholder:"123 Main Street, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,v.value.property_address]]),t[485]||(t[485]=e("p",{class:"mt-1 text-xs text-gray-500"},"The property address affected by this proposal",-1))]),e("div",null,[t[486]||(t[486]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Postal Address",-1)),n(e("textarea",{"onUpdate:modelValue":t[104]||(t[104]=o=>v.value.postal_address=o),rows:"2",placeholder:"PO Box 123, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,v.value.postal_address]]),t[487]||(t[487]=e("p",{class:"mt-1 text-xs text-gray-500"},"For correspondence (if different from property address)",-1))])])]),e("div",nn,[t[494]||(t[494]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Written Approval",-1)),e("div",dn,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[105]||(t[105]=o=>v.value.approval_obtained=o),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[V,v.value.approval_obtained]]),t[489]||(t[489]=e("label",{class:"ml-3 text-sm text-gray-700"}," Written approval obtained from this party ",-1))]),v.value.approval_obtained?(r(),a("div",un,[e("div",null,[t[490]||(t[490]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Date",-1)),n(e("input",{"onUpdate:modelValue":t[106]||(t[106]=o=>v.value.approval_date=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,v.value.approval_date]])]),e("div",null,[t[492]||(t[492]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Document",-1)),e("input",{type:"file",onChange:yt,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[493]||(t[493]=e("p",{class:"mt-1 text-xs text-gray-500"},"Upload written approval (PDF, Word, or image, max 10MB)",-1)),v.value.approval_document?(r(),a("div",pn,[t[491]||(t[491]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,d(typeof v.value.approval_document=="object"?v.value.approval_document.name:"Document attached"),1)])):u("",!0)])])):u("",!0)]),e("div",null,[t[495]||(t[495]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Comments",-1)),n(e("textarea",{"onUpdate:modelValue":t[107]||(t[107]=o=>v.value.comments=o),rows:"3",placeholder:"Any additional notes about this party or their concerns...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,v.value.comments]])])]),e("div",cn,[e("button",{onClick:ke,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:bt,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},d(Q.value!==null?"Update":"Add")+" Party ",1)])])])):u("",!0),ne.value?(r(),a("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:Pe(we,["self"])},[e("div",mn,[e("div",gn,[e("div",bn,[e("h3",vn,d(K.value!==null?"Edit":"Add")+" Specialist Report ",1),e("button",{onClick:we,class:"text-gray-400 hover:text-gray-600"},[...t[496]||(t[496]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",yn,[e("div",null,[t[498]||(t[498]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[b(" Report Type "),e("span",{class:"text-red-500"},"*")],-1)),n(e("select",{"onUpdate:modelValue":t[108]||(t[108]=o=>_.value.report_type=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[497]||(t[497]=[D('<option value="">Select report type</option><option value="Traffic Impact Assessment">Traffic Impact Assessment</option><option value="Acoustic Assessment">Acoustic Assessment</option><option value="Geotechnical Report">Geotechnical Report</option><option value="Ecological Assessment">Ecological Assessment</option><option value="Archaeological Assessment">Archaeological Assessment</option><option value="Landscape Assessment">Landscape Assessment</option><option value="Contaminated Land Assessment">Contaminated Land Assessment</option><option value="Flood Risk Assessment">Flood Risk Assessment</option><option value="Other">Other</option>',10)])],512),[[M,_.value.report_type]])]),e("div",fn,[t[501]||(t[501]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Consultant Details",-1)),e("div",xn,[e("div",null,[t[499]||(t[499]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[b(" Specialist Name "),e("span",{class:"text-red-500"},"*")],-1)),n(e("input",{"onUpdate:modelValue":t[109]||(t[109]=o=>_.value.specialist_name=o),type:"text",required:"",placeholder:"e.g., Dr. Jane Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,_.value.specialist_name]])]),e("div",null,[t[500]||(t[500]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Company/Organization",-1)),n(e("input",{"onUpdate:modelValue":t[110]||(t[110]=o=>_.value.specialist_company=o),type:"text",placeholder:"e.g., ABC Consultants Ltd",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,_.value.specialist_company]])])])]),e("div",_n,[t[509]||(t[509]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Report Details",-1)),e("div",hn,[e("div",null,[t[502]||(t[502]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[b(" Report Date "),e("span",{class:"text-red-500"},"*")],-1)),n(e("input",{"onUpdate:modelValue":t[111]||(t[111]=o=>_.value.report_date=o),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[p,_.value.report_date]]),t[503]||(t[503]=e("p",{class:"mt-1 text-xs text-gray-500"},"Date the report was prepared or finalized",-1))]),e("div",null,[t[505]||(t[505]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[b(" Document "),e("span",{class:"text-red-500"},"*")],-1)),e("input",{type:"file",onChange:kt,accept:".pdf,.doc,.docx",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[506]||(t[506]=e("p",{class:"mt-1 text-xs text-gray-500"},"Upload the specialist report (PDF or Word, max 10MB)",-1)),_.value.document?(r(),a("div",kn,[t[504]||(t[504]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,d(typeof _.value.document=="object"?_.value.document.name:"Document attached"),1)])):u("",!0)]),e("div",null,[t[507]||(t[507]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Summary",-1)),n(e("textarea",{"onUpdate:modelValue":t[112]||(t[112]=o=>_.value.summary=o),rows:"4",placeholder:"Brief summary of key findings and recommendations...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[p,_.value.summary]]),t[508]||(t[508]=e("p",{class:"mt-1 text-xs text-gray-500"},"Optional: Provide a brief summary of the report's key findings",-1))])])])]),e("div",wn,[e("button",{onClick:we,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:_t,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},d(K.value!==null?"Update":"Add")+" Report ",1)])])])):u("",!0),ie.value?(r(),a("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t[120]||(t[120]=Pe(o=>ie.value=!1,["self"]))},[e("div",Cn,[e("div",An,[e("div",Sn,[t[511]||(t[511]=e("h3",{class:"text-lg font-semibold text-gray-900"}," Browse Condition Templates ",-1)),e("button",{onClick:t[113]||(t[113]=o=>ie.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[510]||(t[510]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Pn,[e("div",Mn,[e("div",Vn,[e("div",Nn,[t[512]||(t[512]=e("label",{class:"text-sm font-medium text-gray-700"},"Filter by Category:",-1)),n(e("select",{"onUpdate:modelValue":t[114]||(t[114]=o=>ge.value=o),class:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(r(),a(w,null,C(je,o=>e("option",{key:o,value:o},d(o),9,Un)),64))],512),[[M,ge.value]]),e("span",qn,d(be.value.length)+" template"+d(be.value.length!==1?"s":""),1)]),Ae.value?(r(),a("div",Rn,[...t[513]||(t[513]=[e("svg",{class:"animate-spin h-8 w-8 mx-auto text-blue-600",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"},"Loading templates...",-1)])])):be.value.length>0?(r(),a("div",jn,[(r(!0),a(w,null,C(be.value,o=>(r(),a("div",{key:o.name,class:"p-4 bg-white border border-gray-300 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all"},[e("div",Dn,[e("div",En,[e("div",Tn,[e("h4",In,d(o.template_name),1),o.condition_code?(r(),a("span",Ln,d(o.condition_code),1)):u("",!0)]),e("div",Hn,[e("span",Fn,d(o.condition_category),1),o.timing?(r(),a("span",Bn,d(o.timing),1)):u("",!0),o.monitoring_required?(r(),a("span",zn," Monitoring Required ")):u("",!0)]),e("div",{class:"text-xs text-gray-700 line-clamp-3",innerHTML:o.condition_text},null,8,On)]),e("button",{onClick:i=>At(o),type:"button",class:"ml-3 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 flex items-center gap-1 flex-shrink-0"},[...t[514]||(t[514]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Add ",-1)])],8,$n)])]))),128))])):(r(),a("div",Wn,[...t[515]||(t[515]=[e("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"text-sm text-gray-500"},"No templates found for selected category",-1)])])),e("div",{class:"pt-4 border-t border-gray-200"},[e("button",{onClick:St,type:"button",class:"w-full px-4 py-2.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300"},[...t[516]||(t[516]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Add Custom Condition ",-1)])])])]),e("div",Jn,[e("h4",Zn,[t[517]||(t[517]=e("span",null,"Selected Conditions",-1)),e("span",Gn,d(s.value.proposed_conditions.length),1)]),s.value.proposed_conditions.length>0?(r(),a("div",Xn,[(r(!0),a(w,null,C(s.value.proposed_conditions,(o,i)=>(r(),a("div",{key:i,class:"p-2 bg-white rounded border border-gray-300 text-xs"},[e("div",Yn,[e("div",Qn,[e("span",Kn,d(o.condition_number),1),e("span",ei,d(o.condition_category),1)]),e("button",{onClick:m=>De(i),type:"button",class:"text-red-600 hover:bg-red-50 rounded p-0.5",title:"Remove"},[...t[518]||(t[518]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ti)]),e("div",{class:"text-gray-700 line-clamp-2",innerHTML:o.condition_text},null,8,oi)]))),128))])):(r(),a("div",si,[...t[519]||(t[519]=[e("svg",{class:"w-8 h-8 mx-auto text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),b(" No conditions selected ",-1)])]))])]),T.value!==null||h.value.condition_text||h.value.condition_category?(r(),a("div",li,[e("h4",ri,d(T.value!==null?"Edit":"Add Custom")+" Condition ",1),e("div",ai,[e("div",null,[t[520]||(t[520]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[b(" Condition Number "),e("span",{class:"text-red-500"},"*")],-1)),n(e("input",{"onUpdate:modelValue":t[115]||(t[115]=o=>h.value.condition_number=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1"},null,512),[[p,h.value.condition_number]])]),e("div",null,[t[522]||(t[522]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[b(" Category "),e("span",{class:"text-red-500"},"*")],-1)),n(e("select",{"onUpdate:modelValue":t[116]||(t[116]=o=>h.value.condition_category=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[521]||(t[521]=e("option",{value:""},"Select category",-1)),(r(!0),a(w,null,C(je.filter(o=>o!=="All"),o=>(r(),a("option",{key:o,value:o},d(o),9,ni))),128))],512),[[M,h.value.condition_category]])])]),e("div",ii,[t[523]||(t[523]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[b(" Condition Text "),e("span",{class:"text-red-500"},"*")],-1)),n(e("textarea",{"onUpdate:modelValue":t[117]||(t[117]=o=>h.value.condition_text=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter the condition text..."},null,512),[[p,h.value.condition_text]])]),e("div",null,[t[524]||(t[524]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Notes",-1)),n(e("textarea",{"onUpdate:modelValue":t[118]||(t[118]=o=>h.value.compliance_notes=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional notes about this condition..."},null,512),[[p,h.value.compliance_notes]])]),e("div",di,[e("button",{onClick:Vt,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:Mt,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},d(T.value!==null?"Update":"Add")+" Condition ",1)])])):u("",!0)]),e("div",ui,[e("button",{onClick:t[119]||(t[119]=o=>ie.value=!1),type:"button",class:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Done ")])])])):u("",!0)])}}};export{gi as default};
//# sourceMappingURL=NewRequest-BIEMacQR.js.map
