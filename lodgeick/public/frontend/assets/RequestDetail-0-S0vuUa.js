var $=(M,k,o)=>new Promise((v,y)=>{var _=a=>{try{n(o.next(a))}catch(p){y(p)}},x=a=>{try{n(o.throw(a))}catch(p){y(p)}},n=a=>a.done?v(a.value):Promise.resolve(a.value).then(_,x);n((o=o.apply(M,k)).next())});import{k as L,j as X,c as l,u as s,o as r,a as t,d,t as i,q as j,h as c,F as H,m as N,K,f as G,r as C,J as w,w as g,i as b,b as T,g as Z,L as Q}from"./index-gyDEbwmI.js";import{_ as q}from"./StatusBadge-CU1hirEa.js";import{u as W}from"./useStatutoryClock-UxUksOfB.js";const Y={key:0,class:"space-y-6"},tt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},et={class:"grid md:grid-cols-2 gap-4"},st={class:"mt-1 text-sm text-gray-900"},at={class:"mt-1"},ot={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},nt={class:"prose prose-sm max-w-none"},rt=["innerHTML"],it={key:0,class:"mt-4 pt-4 border-t border-gray-200"},lt={class:"space-y-3"},dt={key:0},ut=["innerHTML"],mt={key:1},ct=["innerHTML"],pt={key:2},gt=["innerHTML"],xt={key:3},yt=["innerHTML"],ft={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},_t={class:"prose prose-sm max-w-none"},bt=["innerHTML"],vt={key:0,class:"mt-4 pt-4 border-t border-gray-200 space-y-3"},ht={key:0},wt=["innerHTML"],kt={key:1},$t=["innerHTML"],Ct={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Mt={class:"text-lg font-semibold text-gray-900 mb-4"},At={class:"ml-2 text-sm font-normal text-gray-500"},Dt={class:"space-y-2"},Tt={class:"text-sm font-medium text-gray-900"},Lt={class:"text-xs text-gray-500"},jt={key:0,class:"text-xs text-green-600 mt-1"},Ht={class:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs"},Nt={class:"font-medium"},Pt={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},St={class:"space-y-3"},qt={class:"mt-1 text-sm text-gray-900"},Rt={key:0},Ft={class:"mt-1 text-sm text-gray-900"},Bt={key:1},Et={class:"mt-1"},Vt=["href"],zt={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},It={class:"text-lg font-semibold text-gray-900 mb-4"},Ot={class:"ml-2 text-sm font-normal text-gray-500"},Ut={class:"space-y-2"},Jt={class:"text-sm font-medium text-gray-900"},Xt={class:"text-xs text-gray-500"},Kt={key:0},Gt={key:3,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Zt={class:"prose prose-sm max-w-none"},Qt=["innerHTML"],Wt={key:1,class:"text-center py-12"},Yt={key:2,class:"text-center py-12 bg-gray-50 rounded-lg"},te={__name:"ResourceConsentDetails",props:{requestId:{type:String,required:!0}},setup(M){const o=L({url:"frappe.client.get",params:{doctype:"Resource Consent Application",name:M.requestId},auto:!0}),v=X(()=>o.data?!!(o.data.effects_on_people||o.data.physical_effects||o.data.ecosystem_effects||o.data.cultural_effects):!1),y=x=>({Controlled:"bg-blue-100 text-blue-800","Restricted Discretionary":"bg-yellow-100 text-yellow-800",Discretionary:"bg-orange-100 text-orange-800","Non-Complying":"bg-red-100 text-red-800"})[x]||"bg-gray-100 text-gray-800",_=x=>x?new Date(x).toLocaleDateString("en-NZ",{day:"numeric",month:"short",year:"numeric"}):"N/A";return(x,n)=>s(o).data?(r(),l("div",Y,[t("div",tt,[n[2]||(n[2]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Resource Consent Details",-1)),t("div",et,[t("div",null,[n[0]||(n[0]=t("dt",{class:"text-sm font-medium text-gray-600"},"Consent Type",-1)),t("dd",st,i(s(o).data.consent_types||"N/A"),1)]),t("div",null,[n[1]||(n[1]=t("dt",{class:"text-sm font-medium text-gray-600"},"Activity Status",-1)),t("dd",at,[t("span",{class:j([y(s(o).data.activity_status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},i(s(o).data.activity_status||"N/A"),3)])])])]),t("div",ot,[n[8]||(n[8]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Assessment of Environmental Effects",-1)),t("div",nt,[t("div",{innerHTML:s(o).data.assessment_of_effects||"<p class='text-gray-500'>No AEE provided</p>"},null,8,rt)]),v.value?(r(),l("div",it,[n[7]||(n[7]=t("h4",{class:"text-sm font-semibold text-gray-900 mb-3"},"Detailed Effects Breakdown",-1)),t("div",lt,[s(o).data.effects_on_people?(r(),l("div",dt,[n[3]||(n[3]=t("dt",{class:"text-xs font-medium text-gray-600"},"Effects on People",-1)),t("dd",{class:"mt-1 text-sm text-gray-900",innerHTML:s(o).data.effects_on_people},null,8,ut)])):d("",!0),s(o).data.physical_effects?(r(),l("div",mt,[n[4]||(n[4]=t("dt",{class:"text-xs font-medium text-gray-600"},"Physical Effects",-1)),t("dd",{class:"mt-1 text-sm text-gray-900",innerHTML:s(o).data.physical_effects},null,8,ct)])):d("",!0),s(o).data.ecosystem_effects?(r(),l("div",pt,[n[5]||(n[5]=t("dt",{class:"text-xs font-medium text-gray-600"},"Ecosystem Effects",-1)),t("dd",{class:"mt-1 text-sm text-gray-900",innerHTML:s(o).data.ecosystem_effects},null,8,gt)])):d("",!0),s(o).data.cultural_effects?(r(),l("div",xt,[n[6]||(n[6]=t("dt",{class:"text-xs font-medium text-gray-600"},"Cultural/Heritage Effects",-1)),t("dd",{class:"mt-1 text-sm text-gray-900",innerHTML:s(o).data.cultural_effects},null,8,yt)])):d("",!0)])])):d("",!0)]),t("div",ft,[n[11]||(n[11]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Planning Assessment",-1)),t("div",_t,[t("div",{innerHTML:s(o).data.planning_assessment||"<p class='text-gray-500'>No planning assessment provided</p>"},null,8,bt)]),s(o).data.alternatives_considered||s(o).data.mitigation_proposed?(r(),l("div",vt,[s(o).data.alternatives_considered?(r(),l("div",ht,[n[9]||(n[9]=t("dt",{class:"text-sm font-medium text-gray-600"},"Alternatives Considered",-1)),t("dd",{class:"mt-1 text-sm text-gray-900",innerHTML:s(o).data.alternatives_considered},null,8,wt)])):d("",!0),s(o).data.mitigation_proposed?(r(),l("div",kt,[n[10]||(n[10]=t("dt",{class:"text-sm font-medium text-gray-600"},"Mitigation Measures",-1)),t("dd",{class:"mt-1 text-sm text-gray-900",innerHTML:s(o).data.mitigation_proposed},null,8,$t)])):d("",!0)])):d("",!0)]),s(o).data.affected_parties&&s(o).data.affected_parties.length>0?(r(),l("div",Ct,[t("h3",Mt,[n[12]||(n[12]=c(" Affected Parties ",-1)),t("span",At,"("+i(s(o).data.affected_parties.length)+")",1)]),t("div",Dt,[(r(!0),l(H,null,N(s(o).data.affected_parties,(a,p)=>(r(),l("div",{key:p,class:"p-3 bg-gray-50 rounded-lg"},[t("p",Tt,i(a.party_name),1),t("p",Lt,i(a.address),1),a.written_approval_obtained?(r(),l("p",jt,"✓ Written approval obtained")):d("",!0)]))),128))]),t("div",Ht,[t("span",Nt,i(s(o).data.written_approvals_obtained||0),1),c(" of "+i(s(o).data.affected_parties.length)+" approvals obtained ",1)])])):d("",!0),s(o).data.iwi_consultation_undertaken?(r(),l("div",Pt,[n[16]||(n[16]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Iwi Consultation",-1)),t("div",St,[t("div",null,[n[13]||(n[13]=t("dt",{class:"text-sm font-medium text-gray-600"},"Iwi/Hapū Consulted",-1)),t("dd",qt,i(s(o).data.iwi_consulted||"Not specified"),1)]),s(o).data.iwi_response_summary?(r(),l("div",Rt,[n[14]||(n[14]=t("dt",{class:"text-sm font-medium text-gray-600"},"Response Summary",-1)),t("dd",Ft,i(s(o).data.iwi_response_summary),1)])):d("",!0),s(o).data.cultural_impact_assessment?(r(),l("div",Bt,[n[15]||(n[15]=t("dt",{class:"text-sm font-medium text-gray-600"},"Cultural Impact Assessment",-1)),t("dd",Et,[t("a",{href:s(o).data.cultural_impact_assessment,target:"_blank",class:"text-sm text-blue-600 hover:text-blue-800 underline"}," View CIA Document ",8,Vt)])])):d("",!0)])])):d("",!0),s(o).data.specialist_reports&&s(o).data.specialist_reports.length>0?(r(),l("div",zt,[t("h3",It,[n[17]||(n[17]=c(" Specialist Reports ",-1)),t("span",Ot,"("+i(s(o).data.specialist_reports.length)+")",1)]),t("div",Ut,[(r(!0),l(H,null,N(s(o).data.specialist_reports,(a,p)=>(r(),l("div",{key:p,class:"p-3 bg-gray-50 rounded-lg"},[t("p",Jt,i(a.report_type),1),t("p",Xt,[c(i(a.specialist_name)+" ",1),a.date_prepared?(r(),l("span",Kt," | "+i(_(a.date_prepared)),1)):d("",!0)])]))),128))])])):d("",!0),s(o).data.proposed_conditions?(r(),l("div",Gt,[n[18]||(n[18]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Proposed Conditions",-1)),t("div",Zt,[t("div",{innerHTML:s(o).data.proposed_conditions},null,8,Qt)])])):d("",!0)])):s(o).loading?(r(),l("div",Wt,[...n[19]||(n[19]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-sm text-gray-500"},"Loading Resource Consent details...",-1)])])):(r(),l("div",Yt,[...n[20]||(n[20]=[t("p",{class:"text-gray-500"},"No Resource Consent Application data available",-1)])]))}},ee={class:"min-h-screen bg-gray-50"},se={class:"bg-white shadow-sm border-b border-gray-200"},ae={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},oe={class:"flex justify-between items-center py-4"},ne={class:"flex items-center space-x-4"},re={class:"text-xl font-bold text-gray-900"},ie={class:"text-sm text-gray-500"},le={class:"flex items-center space-x-3"},de={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},ue={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},me={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ce={class:"lg:col-span-2 space-y-6"},pe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ge={class:"grid grid-cols-2 gap-4"},xe={class:"mt-1 text-sm text-gray-900"},ye={class:"mt-1 text-sm text-gray-900"},fe={class:"mt-1"},_e={class:"mt-1 text-sm text-gray-900"},be={class:"mt-6 pt-6 border-t border-gray-200"},ve={class:"mt-1 text-sm text-gray-900"},he={class:"mt-4"},we=["innerHTML"],ke={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},$e={class:"grid grid-cols-2 gap-4"},Ce={class:"mt-1 text-sm text-gray-900"},Me={class:"mt-1 text-sm text-gray-900"},Ae={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},De={class:"grid grid-cols-2 gap-4"},Te={class:"mt-1 text-sm text-gray-900"},Le={class:"mt-1 text-sm text-gray-900"},je={class:"mt-1 text-sm text-gray-900"},He={class:"mt-1 text-sm text-gray-900"},Ne={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Pe={class:"flex justify-between items-center mb-4"},Se={class:"space-y-3"},qe={class:"flex justify-between items-center py-2 border-b border-gray-100"},Re={class:"text-sm font-semibold text-gray-900"},Fe={class:"flex justify-between items-center py-2 border-b border-gray-100"},Be={class:"text-sm font-semibold text-green-600"},Ee={class:"flex justify-between items-center py-2"},Ve={class:"text-sm font-bold text-orange-600"},ze={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Ie={class:"flex justify-between items-center mb-4"},Oe={key:0,class:"text-center py-8"},Ue={class:"space-y-6"},Je={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Xe={key:0,class:"mb-6 p-4 bg-blue-50 rounded-lg"},Ke={class:"flex items-center justify-between mb-2"},Ge={class:"text-xs text-blue-700"},Ze={class:"w-full bg-blue-200 rounded-full h-2"},Qe={class:"mt-2 text-xs text-blue-700"},We={class:"space-y-4"},Ye={class:"flex items-start space-x-3"},ts={class:"flex-1"},es={class:"text-xs text-gray-500"},ss={key:0,class:"flex items-start space-x-3"},as={class:"flex-1"},os={class:"text-xs text-gray-500"},ns={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},rs={class:"space-y-3"},is={class:"flex items-start justify-between mb-2"},ls={class:"text-sm font-medium text-gray-900"},ds={key:0,class:"flex items-center text-xs text-gray-600 mb-1"},us={key:1,class:"flex items-center text-xs text-gray-600 mb-1"},ms={key:2,class:"text-xs text-gray-600"},cs={key:3,class:"mt-2 text-xs text-gray-500 line-clamp-2"},ps={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},gs={class:"space-y-3"},bs={__name:"RequestDetail",setup(M){const k=K(),o=G(),v=C(null),y=C(!1),_=C(!1),x=C(!1),n=C(!1),a=L({url:"frappe.client.get",params:{doctype:"Request",name:k.params.id},auto:!0}),p=L({url:"lodgeick.api.get_request_meetings",params:{request_id:k.params.id},auto:!0}),{clockData:A,progressPercent:R}=W(a),F=()=>{o.push({name:"Dashboard"})},D=m=>m?new Date(m).toLocaleDateString("en-NZ",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",B=()=>{v.value.click()},E=m=>$(this,null,function*(){const e=Array.from(m.target.files);if(e.length!==0){y.value=!0;try{for(const h of e){const f=new FormData;f.append("file",h),f.append("doctype","Request"),f.append("docname",a.data.name),f.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:f})}alert(`${e.length} document(s) uploaded successfully!`),a.reload(),m.target.value=""}catch(h){console.error("Error uploading file:",h),alert("Failed to upload document. Please try again.")}finally{y.value=!1}}}),V=()=>{alert(`Send Message feature - Coming soon!

For now, please contact us at:
consents@council.govt.nz
0800 LODGEICK`)},z=()=>{window.print()},I=()=>$(this,null,function*(){if(confirm("Are you sure you want to delete this draft application? This action cannot be undone.")){x.value=!0;try{yield fetch("/api/method/frappe.client.delete",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({doctype:"Request",name:a.data.name})}),alert("Draft deleted successfully"),o.push({name:"Dashboard"})}catch(m){console.error("Error deleting draft:",m),alert("Failed to delete draft. Please try again.")}finally{x.value=!1}}}),O=()=>$(this,null,function*(){if(confirm("Are you sure you want to submit this application? Once submitted, it cannot be edited.")){_.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.lodgeick.doctype.request.request.submit_application",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:a.data.name})})).json();if(e.message&&e.message.success)alert(`Application submitted successfully! Request Number: ${e.message.request_number}`),a.reload();else throw new Error("Failed to submit application")}catch(m){console.error("Error submitting application:",m),alert("Failed to submit application. Please try again.")}finally{_.value=!1}}}),U=()=>{alert(`Payment feature - Coming soon!

You will receive an invoice via email.`)},J=()=>$(this,null,function*(){n.value=!0;try{const e=yield(yield fetch("/api/method/lodgeick.api.book_council_meeting",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:a.data.name,meeting_type:"Pre-Application Meeting"})})).json();if(e.message&&e.message.success)alert(`Pre-Application Meeting request has been submitted! A council officer will contact you within 2 business days to schedule the meeting. Meeting ID: ${e.message.meeting_id}`),yield p.reload();else throw new Error(e.message||"Failed to book meeting")}catch(m){console.error("Error booking meeting:",m),alert("Failed to book pre-application meeting. Please try again.")}finally{n.value=!1}});return(m,e)=>{var h,f,P,S;return r(),l("div",ee,[t("header",se,[t("div",ae,[t("div",oe,[t("div",ne,[t("button",{onClick:F,class:"text-gray-600 hover:text-gray-900"},[...e[0]||(e[0]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),t("div",null,[t("h1",re,i(((h=s(a).data)==null?void 0:h.request_number)||"Loading..."),1),t("p",ie,i((f=s(a).data)==null?void 0:f.request_type),1)])]),t("div",le,[s(a).data?(r(),w(q,{key:0,status:s(a).data.status},null,8,["status"])):d("",!0),((P=s(a).data)==null?void 0:P.status)==="Draft"?(r(),w(s(b),{key:1,onClick:O,variant:"solid",theme:"blue",loading:_.value},{default:g(()=>[...e[1]||(e[1]=[c(" Submit Application ",-1)])]),_:1},8,["loading"])):d("",!0)])])])]),t("input",{ref_key:"fileInput",ref:v,type:"file",multiple:"",class:"hidden",onChange:E},null,544),s(a).loading?(r(),l("div",de,[...e[2]||(e[2]=[t("div",{class:"text-center"},[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t("p",{class:"mt-4 text-gray-500"},"Loading request details...")],-1)])])):s(a).data?(r(),l("div",ue,[t("div",me,[t("div",ce,[t("div",pe,[e[9]||(e[9]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Application Overview",-1)),t("div",ge,[t("div",null,[e[3]||(e[3]=t("label",{class:"text-sm font-medium text-gray-500"},"Request Number",-1)),t("p",xe,i(s(a).data.request_number),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"text-sm font-medium text-gray-500"},"Type",-1)),t("p",ye,i(s(a).data.request_type),1)]),t("div",null,[e[5]||(e[5]=t("label",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("div",fe,[T(q,{status:s(a).data.status},null,8,["status"])])]),t("div",null,[e[6]||(e[6]=t("label",{class:"text-sm font-medium text-gray-500"},"Submitted Date",-1)),t("p",_e,i(D(s(a).data.creation)),1)])]),t("div",be,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-gray-500"},"Brief Description",-1)),t("p",ve,i(s(a).data.brief_description||"N/A"),1)]),t("div",he,[e[8]||(e[8]=t("label",{class:"text-sm font-medium text-gray-500"},"Detailed Description",-1)),t("div",{class:"mt-1 text-sm text-gray-900 prose prose-sm max-w-none",innerHTML:s(a).data.detailed_description||"N/A"},null,8,we)])]),t("div",ke,[e[12]||(e[12]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Property Information",-1)),t("div",$e,[t("div",null,[e[10]||(e[10]=t("label",{class:"text-sm font-medium text-gray-500"},"Property ID",-1)),t("p",Ce,i(s(a).data.property||"N/A"),1)]),t("div",null,[e[11]||(e[11]=t("label",{class:"text-sm font-medium text-gray-500"},"Address",-1)),t("p",Me,i(s(a).data.property_address||"N/A"),1)])])]),((S=s(a).data)==null?void 0:S.request_category)==="Resource Consent"?(r(),w(te,{key:0,"request-id":s(a).data.name},null,8,["request-id"])):d("",!0),t("div",Ae,[e[17]||(e[17]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Applicant Information",-1)),t("div",De,[t("div",null,[e[13]||(e[13]=t("label",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("p",Te,i(s(a).data.applicant_name||"N/A"),1)]),t("div",null,[e[14]||(e[14]=t("label",{class:"text-sm font-medium text-gray-500"},"Email",-1)),t("p",Le,i(s(a).data.applicant_email||"N/A"),1)]),t("div",null,[e[15]||(e[15]=t("label",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),t("p",je,i(s(a).data.applicant_phone||"N/A"),1)]),t("div",null,[e[16]||(e[16]=t("label",{class:"text-sm font-medium text-gray-500"},"Address",-1)),t("p",He,i(s(a).data.applicant_address||"N/A"),1)])])]),t("div",Ne,[t("div",Pe,[e[18]||(e[18]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Fees & Payments",-1)),t("span",{class:j(["text-sm font-medium",s(a).data.payment_status==="Paid"?"text-green-600":"text-orange-600"])},i(s(a).data.payment_status||"Unpaid"),3)]),t("div",Se,[t("div",qe,[e[19]||(e[19]=t("span",{class:"text-sm text-gray-600"},"Total Fees",-1)),t("span",Re,"$"+i((s(a).data.total_fees||0).toFixed(2)),1)]),t("div",Fe,[e[20]||(e[20]=t("span",{class:"text-sm text-gray-600"},"Total Paid",-1)),t("span",Be,"$"+i((s(a).data.total_paid||0).toFixed(2)),1)]),t("div",Ee,[e[21]||(e[21]=t("span",{class:"text-sm font-medium text-gray-900"},"Outstanding",-1)),t("span",Ve,"$"+i(((s(a).data.total_fees||0)-(s(a).data.total_paid||0)).toFixed(2)),1)])]),(s(a).data.total_fees||0)>(s(a).data.total_paid||0)?(r(),w(s(b),{key:0,onClick:U,variant:"solid",theme:"blue",class:"w-full mt-4"},{default:g(()=>[...e[22]||(e[22]=[c(" Make Payment ",-1)])]),_:1})):d("",!0)]),t("div",ze,[t("div",Ie,[e[25]||(e[25]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Documents",-1)),T(s(b),{onClick:B,variant:"outline",size:"sm",loading:y.value},{prefix:g(()=>[...e[23]||(e[23]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)])]),default:g(()=>[e[24]||(e[24]=c(" Upload Document ",-1))]),_:1},8,["loading"])]),!s(a).data.attachments||s(a).data.attachments.length===0?(r(),l("div",Oe,[...e[26]||(e[26]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("p",{class:"mt-2 text-sm text-gray-500"},"No documents uploaded yet",-1)])])):d("",!0)])]),t("div",Ue,[t("div",Je,[e[32]||(e[32]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Processing Timeline",-1)),s(A).statutory_clock_started?(r(),l("div",Xe,[t("div",Ke,[e[27]||(e[27]=t("span",{class:"text-sm font-medium text-blue-900"},"Statutory Clock",-1)),t("span",Ge,i(s(A).working_days_elapsed)+" of 20 days",1)]),t("div",Ze,[t("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Q({width:`${s(R)}%`})},null,4)]),t("p",Qe,i(s(A).statutory_clock_stopped?"Clock stopped (RFI issued)":`${s(A).working_days_remaining} days remaining`),1)])):d("",!0),t("div",We,[t("div",Ye,[e[29]||(e[29]=t("div",{class:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),t("div",ts,[e[28]||(e[28]=t("p",{class:"text-sm font-medium text-gray-900"},"Application Created",-1)),t("p",es,i(D(s(a).data.creation)),1)])]),s(a).data.modified!==s(a).data.creation?(r(),l("div",ss,[e[31]||(e[31]=t("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})])],-1)),t("div",as,[e[30]||(e[30]=t("p",{class:"text-sm font-medium text-gray-900"},"Last Updated",-1)),t("p",os,i(D(s(a).data.modified)),1)])])):d("",!0)])]),s(p).data&&s(p).data.length>0?(r(),l("div",ns,[e[35]||(e[35]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Pre-Application Meetings",-1)),t("div",rs,[(r(!0),l(H,null,N(s(p).data,u=>(r(),l("div",{key:u.name,class:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},[t("div",is,[t("span",ls,i(u.meeting_type),1),t("span",{class:j(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",{"bg-yellow-100 text-yellow-800":u.status==="Requested","bg-blue-100 text-blue-800":u.status==="Scheduled","bg-green-100 text-green-800":u.status==="Confirmed"||u.status==="Completed","bg-orange-100 text-orange-800":u.status==="Rescheduled","bg-red-100 text-red-800":u.status==="Cancelled"}])},i(u.status),3)]),u.scheduled_start?(r(),l("div",ds,[e[33]||(e[33]=t("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),c(" "+i(D(u.scheduled_start)),1)])):d("",!0),u.meeting_format?(r(),l("div",us,[e[34]||(e[34]=t("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),c(" "+i(u.meeting_format),1)])):d("",!0),u.meeting_location?(r(),l("div",ms,i(u.meeting_location),1)):d("",!0),u.meeting_purpose?(r(),l("div",cs,i(u.meeting_purpose),1)):d("",!0)]))),128))])])):d("",!0),t("div",ps,[e[44]||(e[44]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Quick Actions",-1)),t("div",gs,[T(s(b),{onClick:V,variant:"outline",class:"w-full justify-start"},{prefix:g(()=>[...e[36]||(e[36]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})],-1)])]),default:g(()=>[e[37]||(e[37]=c(" Send Message ",-1))]),_:1}),T(s(b),{onClick:z,variant:"outline",class:"w-full justify-start"},{prefix:g(()=>[...e[38]||(e[38]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1)])]),default:g(()=>[e[39]||(e[39]=c(" Print Application ",-1))]),_:1}),s(a).data.status==="Draft"?(r(),w(s(b),{key:0,onClick:I,variant:"outline",class:"w-full justify-start text-red-600 hover:text-red-700",loading:x.value},{prefix:g(()=>[...e[40]||(e[40]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])]),default:g(()=>[e[41]||(e[41]=c(" Delete Draft ",-1))]),_:1},8,["loading"])):d("",!0),s(a).data.request_category==="Resource Consent"?(r(),w(s(b),{key:1,onClick:J,variant:"outline",class:"w-full justify-start text-green-600 hover:text-green-700",loading:n.value},{prefix:g(()=>[...e[42]||(e[42]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),default:g(()=>[e[43]||(e[43]=c(" Book Pre-Application Meeting ",-1))]),_:1},8,["loading"])):d("",!0)])]),e[45]||(e[45]=Z('<div class="bg-blue-50 rounded-lg border border-blue-200 p-6"><h3 class="text-sm font-semibold text-blue-900 mb-3">Need Help?</h3><p class="text-xs text-blue-800 mb-4">Contact our planning team for assistance with your application.</p><div class="space-y-2 text-xs text-blue-900"><div class="flex items-center space-x-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg><span>consents@council.govt.nz</span></div><div class="flex items-center space-x-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg><span>0800 LODGEICK</span></div></div></div>',1))])])])):d("",!0)])}}};export{bs as default};
//# sourceMappingURL=RequestDetail-0-S0vuUa.js.map
