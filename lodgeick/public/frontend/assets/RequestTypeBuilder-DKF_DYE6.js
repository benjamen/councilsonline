var U=(q,s,b)=>new Promise((V,v)=>{var f=m=>{try{x(b.next(m))}catch(y){v(y)}},S=m=>{try{x(b.throw(m))}catch(y){v(y)}},x=m=>m.done?V(m.value):Promise.resolve(m.value).then(f,S);x((b=b.apply(q,s)).next())});import{e as N,aZ as M,r as O,c as i,o as r,a as e,l as d,a0 as u,v as h,g as R,$ as _,F as k,m as w,t as C,d as B,h as T}from"./index-DZIpuqUC.js";const P={class:"min-h-screen bg-gray-50"},E={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},L={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},z={class:"lg:col-span-1"},H={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Z={class:"space-y-4"},G={class:"flex items-center gap-4"},J={class:"flex items-center"},K={class:"flex items-center"},Q={class:"mt-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6"},W={class:"space-y-2"},X=["onClick"],Y={class:"font-medium text-gray-900"},I={class:"text-xs text-gray-500 mt-1"},ee={class:"lg:col-span-2"},te={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},se={key:0,class:"text-center py-12 text-gray-500"},oe={key:1,class:"space-y-4"},le={class:"bg-gray-50 px-4 py-3 flex items-center justify-between border-b border-gray-200"},ne={class:"flex items-center gap-3"},ae={class:"flex items-center gap-2"},de=["onClick","disabled"],ie=["onClick","disabled"],re={class:"text-sm font-medium text-gray-900"},pe=["onUpdate:modelValue"],ce={class:"flex items-center gap-2"},ue=["onClick"],me=["onClick"],be={key:0,class:"p-4"},ge={class:"grid grid-cols-2 gap-4 mb-4"},xe=["onUpdate:modelValue"],ye=["onUpdate:modelValue"],_e={class:"flex gap-4 mb-4"},ve={class:"flex items-center text-sm"},fe=["onUpdate:modelValue"],he={class:"flex items-center text-sm"},ke=["onUpdate:modelValue"],we={class:"mt-4"},Ce={class:"flex items-center justify-between mb-2"},Ve=["onClick"],Se={key:0,class:"text-xs text-gray-500 text-center py-4"},Ue={key:1,class:"space-y-3"},Te={class:"flex items-center justify-between mb-2"},qe=["onUpdate:modelValue"],De=["onClick"],Re={class:"grid grid-cols-2 gap-2 mb-2"},Be=["onUpdate:modelValue"],$e=["onUpdate:modelValue"],Ae={class:"mt-3"},Fe={class:"flex items-center justify-between mb-2"},je=["onClick"],Ne={key:0,class:"text-xs text-gray-400 text-center py-2"},Me={key:1,class:"space-y-2"},Oe={class:"grid grid-cols-3 gap-2"},Pe={class:"col-span-2"},Ee=["onUpdate:modelValue"],Le=["onUpdate:modelValue"],ze={class:"grid grid-cols-3 gap-2 mt-2"},He={class:"col-span-2"},Ze=["onUpdate:modelValue"],Ge={class:"flex items-center gap-2"},Je={class:"flex items-center text-xs"},Ke=["onUpdate:modelValue"],Qe=["onClick"],We={key:0,class:"mt-2"},Xe=["onUpdate:modelValue"],Ye={class:"mt-2"},Ie=["onUpdate:modelValue"],et={__name:"RequestTypeBuilder",setup(q){const s=M({name:"",category:"",description:"",collects_payment:!1,make_payment:!1,steps:[]}),b=O([{name:"declaration",title:"Declaration & Submission",description:"Standard declaration with signature (5 fields)"},{name:"applicant_details",title:"Applicant Details",description:"Personal info and address (7 fields)"},{name:"bank_details",title:"Bank Account Details",description:"For payouts to applicants (5 fields)"},{name:"payment_collection",title:"Payment & Invoice",description:"For fee collection from applicants (6 fields)"}]);function V(){s.steps.push({step_number:s.steps.length+1,step_code:`step_${s.steps.length+1}`,step_title:`Step ${s.steps.length+1}`,step_component:"DynamicStepRenderer",is_required:!0,show_on_review:!0,expanded:!0,sections:[]})}function v(l){confirm("Delete this step?")&&(s.steps.splice(l,1),s.steps.forEach((t,o)=>{t.step_number=o+1}))}function f(l,t){const o=t==="up"?l-1:l+1;if(o>=0&&o<s.steps.length){const p=s.steps[l];s.steps[l]=s.steps[o],s.steps[o]=p,s.steps.forEach((n,g)=>{n.step_number=g+1})}}function S(l){s.steps[l].expanded=!s.steps[l].expanded}function x(l){s.steps[l].sections||(s.steps[l].sections=[]),s.steps[l].sections.push({section_code:`section_${s.steps[l].sections.length+1}`,section_title:"",section_type:"Standard",sequence:s.steps[l].sections.length+1,is_enabled:!0,is_required:!0,show_on_review:!0,fields:[]})}function m(l,t){s.steps[l].sections.splice(t,1)}function y(l,t){s.steps[l].sections[t].fields||(s.steps[l].sections[t].fields=[]),s.steps[l].sections[t].fields.push({field_name:"",field_label:"",field_type:"Data",is_required:!1,show_on_review:!0,options:"",validation:""})}function $(l,t,o){s.steps[l].sections[t].fields.splice(o,1)}function A(l){return U(this,null,function*(){alert(`Applying template: ${l}`)})}function F(){alert("Load Template modal - TODO")}function j(){return U(this,null,function*(){if(!s.name){alert("Please enter a Request Type name");return}console.log("Saving Request Type:",s),alert("Request Type saved! (TODO: Implement backend save)")})}return(l,t)=>(r(),i("div",P,[e("div",{class:"bg-white shadow-sm border-b border-gray-200"},[e("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},[e("div",{class:"flex items-center justify-between"},[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Request Type Builder"),e("p",{class:"mt-1 text-sm text-gray-500"},"Visual configuration editor for Request Types")],-1)),e("div",{class:"flex gap-3"},[e("button",{onClick:F,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50"}," Load Template "),e("button",{onClick:j,class:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700"}," Save Request Type ")])])])]),e("div",E,[e("div",L,[e("div",z,[e("div",H,[t[12]||(t[12]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Basic Information",-1)),e("div",Z,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Request Type Name",-1)),d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.name=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Building Consent"},null,512),[[u,s.name]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),d(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.category=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[7]||(t[7]=[R('<option value="" data-v-cf567842>Select Category</option><option value="Planning" data-v-cf567842>Planning</option><option value="Building" data-v-cf567842>Building</option><option value="Social Assistance" data-v-cf567842>Social Assistance</option><option value="Environmental" data-v-cf567842>Environmental</option><option value="Other" data-v-cf567842>Other</option>',6)])],512),[[h,s.category]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),d(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.description=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe this request type..."},null,512),[[u,s.description]])]),e("div",G,[e("label",J,[d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.collects_payment=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[_,s.collects_payment]]),t[10]||(t[10]=e("span",{class:"ml-2 text-sm text-gray-700"},"Collects Payment",-1))]),e("label",K,[d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.make_payment=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[_,s.make_payment]]),t[11]||(t[11]=e("span",{class:"ml-2 text-sm text-gray-700"},"Makes Payment",-1))])])])]),e("div",Q,[t[13]||(t[13]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Template Library",-1)),e("div",W,[(r(!0),i(k,null,w(b.value,o=>(r(),i("button",{key:o.name,onClick:p=>A(o.name),class:"w-full text-left px-4 py-3 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors"},[e("div",Y,C(o.title),1),e("div",I,C(o.description),1)],8,X))),128))])])]),e("div",ee,[e("div",te,[e("div",{class:"flex items-center justify-between mb-6"},[t[14]||(t[14]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Steps Configuration",-1)),e("button",{onClick:V,class:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700"}," + Add Step ")]),s.steps.length===0?(r(),i("div",se,[...t[15]||(t[15]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"mt-2 text-sm"},"No steps configured yet",-1),e("p",{class:"text-xs text-gray-400 mt-1"},'Click "Add Step" or use a template to get started',-1)])])):(r(),i("div",oe,[(r(!0),i(k,null,w(s.steps,(o,p)=>(r(),i("div",{key:p,class:"border border-gray-200 rounded-lg overflow-hidden"},[e("div",le,[e("div",ne,[e("div",ae,[e("button",{onClick:n=>f(p,"up"),disabled:p===0,class:"p-1 hover:bg-gray-200 rounded disabled:opacity-30 disabled:cursor-not-allowed"},[...t[16]||(t[16]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)])],8,de),e("button",{onClick:n=>f(p,"down"),disabled:p===s.steps.length-1,class:"p-1 hover:bg-gray-200 rounded disabled:opacity-30 disabled:cursor-not-allowed"},[...t[17]||(t[17]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])],8,ie)]),e("span",re,"Step "+C(p+1),1),d(e("input",{"onUpdate:modelValue":n=>o.step_title=n,type:"text",class:"px-3 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Step Title"},null,8,pe),[[u,o.step_title]])]),e("div",ce,[e("button",{onClick:n=>S(p),class:"text-sm text-gray-600 hover:text-gray-900"},C(o.expanded?"Collapse":"Expand"),9,ue),e("button",{onClick:n=>v(p),class:"text-sm text-red-600 hover:text-red-700"}," Delete ",8,me)])]),o.expanded?(r(),i("div",be,[e("div",ge,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Step Code",-1)),d(e("input",{"onUpdate:modelValue":n=>o.step_code=n,type:"text",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"e.g., applicant_details"},null,8,xe),[[u,o.step_code]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Component",-1)),d(e("select",{"onUpdate:modelValue":n=>o.step_component=n,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm"},[...t[19]||(t[19]=[e("option",{value:"DynamicStepRenderer"},"Dynamic Step Renderer",-1),e("option",{value:"Custom"},"Custom Component",-1)])],8,ye),[[h,o.step_component]])])]),e("div",_e,[e("label",ve,[d(e("input",{"onUpdate:modelValue":n=>o.is_required=n,type:"checkbox",class:"mr-2"},null,8,fe),[[_,o.is_required]]),t[21]||(t[21]=T(" Required ",-1))]),e("label",he,[d(e("input",{"onUpdate:modelValue":n=>o.show_on_review=n,type:"checkbox",class:"mr-2"},null,8,ke),[[_,o.show_on_review]]),t[22]||(t[22]=T(" Show on Review ",-1))])]),e("div",we,[e("div",Ce,[t[23]||(t[23]=e("h4",{class:"text-sm font-medium text-gray-700"},"Sections",-1)),e("button",{onClick:n=>x(p),class:"text-xs px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200"}," + Add Section ",8,Ve)]),!o.sections||o.sections.length===0?(r(),i("div",Se," No sections yet ")):(r(),i("div",Ue,[(r(!0),i(k,null,w(o.sections,(n,g)=>(r(),i("div",{key:g,class:"bg-gray-50 p-3 rounded border border-gray-200"},[e("div",Te,[d(e("input",{"onUpdate:modelValue":a=>n.section_title=a,type:"text",class:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm mr-2",placeholder:"Section Title"},null,8,qe),[[u,n.section_title]]),e("button",{onClick:a=>m(p,g),class:"text-xs text-red-600 hover:text-red-700"}," Delete ",8,De)]),e("div",Re,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-xs text-gray-600 mb-1"},"Section Code",-1)),d(e("input",{"onUpdate:modelValue":a=>n.section_code=a,type:"text",class:"w-full px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"e.g., personal_info"},null,8,Be),[[u,n.section_code]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-xs text-gray-600 mb-1"},"Section Type",-1)),d(e("select",{"onUpdate:modelValue":a=>n.section_type=a,class:"w-full px-2 py-1 border border-gray-300 rounded text-xs"},[...t[25]||(t[25]=[e("option",{value:"Standard"},"Standard",-1),e("option",{value:"Tab"},"Tab",-1),e("option",{value:"Accordion"},"Accordion",-1)])],8,$e),[[h,n.section_type]])])]),e("div",Ae,[e("div",Fe,[t[27]||(t[27]=e("span",{class:"text-xs font-medium text-gray-700"},"Fields",-1)),e("button",{onClick:a=>y(p,g),class:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200"}," + Add Field ",8,je)]),!n.fields||n.fields.length===0?(r(),i("div",Ne," No fields yet ")):(r(),i("div",Me,[(r(!0),i(k,null,w(n.fields,(a,D)=>(r(),i("div",{key:D,class:"bg-white p-2 rounded border border-gray-200"},[e("div",Oe,[e("div",Pe,[d(e("input",{"onUpdate:modelValue":c=>a.field_label=c,type:"text",class:"w-full px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Field Label"},null,8,Ee),[[u,a.field_label]])]),e("div",null,[d(e("select",{"onUpdate:modelValue":c=>a.field_type=c,class:"w-full px-2 py-1 border border-gray-300 rounded text-xs"},[...t[28]||(t[28]=[R('<option value="Data" data-v-cf567842>Text</option><option value="Text" data-v-cf567842>Textarea</option><option value="Select" data-v-cf567842>Select</option><option value="Date" data-v-cf567842>Date</option><option value="Check" data-v-cf567842>Checkbox</option><option value="Currency" data-v-cf567842>Currency</option><option value="Int" data-v-cf567842>Integer</option><option value="Float" data-v-cf567842>Float</option>',8)])],8,Le),[[h,a.field_type]])])]),e("div",ze,[e("div",He,[d(e("input",{"onUpdate:modelValue":c=>a.field_name=c,type:"text",class:"w-full px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"field_name"},null,8,Ze),[[u,a.field_name]])]),e("div",Ge,[e("label",Je,[d(e("input",{"onUpdate:modelValue":c=>a.is_required=c,type:"checkbox",class:"mr-1 text-xs"},null,8,Ke),[[_,a.is_required]]),t[29]||(t[29]=T(" Required ",-1))]),e("button",{onClick:c=>$(p,g,D),class:"text-xs text-red-600 hover:text-red-700 ml-auto"}," âœ• ",8,Qe)])]),a.field_type==="Select"?(r(),i("div",We,[d(e("textarea",{"onUpdate:modelValue":c=>a.options=c,rows:"2",class:"w-full px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Options (one per line)"},null,8,Xe),[[u,a.options]])])):B("",!0),e("div",Ye,[d(e("input",{"onUpdate:modelValue":c=>a.validation=c,type:"text",class:"w-full px-2 py-1 border border-gray-300 rounded text-xs",placeholder:"Validation: email, phone, eval:value >= 18"},null,8,Ie),[[u,a.validation]])])]))),128))]))])]))),128))]))])])):B("",!0)]))),128))]))])])])])]))}},ot=N(et,[["__scopeId","data-v-cf567842"]]);export{ot as default};
//# sourceMappingURL=RequestTypeBuilder-DKF_DYE6.js.map
