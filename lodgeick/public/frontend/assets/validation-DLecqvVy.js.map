{"version":3,"file":"validation-DLecqvVy.js","sources":["../../../../frontend/src/components/AddressLookup.vue","../../../../frontend/src/utils/validation.js"],"sourcesContent":["<template>\n  <div class=\"relative\">\n    <label v-if=\"label\" :for=\"id\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n      {{ label }}\n      <span v-if=\"required\" class=\"text-red-500\">*</span>\n    </label>\n\n    <!-- Search Input -->\n    <div class=\"relative\">\n      <input\n        :id=\"id\"\n        v-model=\"searchQuery\"\n        @input=\"handleSearch\"\n        @focus=\"showDropdown = true\"\n        @blur=\"handleBlur\"\n        type=\"text\"\n        :placeholder=\"placeholder\"\n        :required=\"required\"\n        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        autocomplete=\"off\"\n      />\n      <div v-if=\"loading\" class=\"absolute right-3 top-1/2 -translate-y-1/2\">\n        <svg class=\"animate-spin h-5 w-5 text-blue-600\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n          <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n      </div>\n    </div>\n\n    <p v-if=\"description\" class=\"mt-1 text-xs text-gray-500\">{{ description }}</p>\n\n    <!-- Validation Error -->\n    <p v-if=\"validationError\" class=\"mt-1 text-xs text-red-600\">{{ validationError }}</p>\n\n    <!-- Search Results Dropdown -->\n    <div\n      v-if=\"showDropdown && (searchResults.length > 0 || loading)\"\n      class=\"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto\"\n    >\n      <div v-if=\"loading\" class=\"p-4 text-center text-gray-500\">\n        <div class=\"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mb-2\"></div>\n        <p class=\"text-sm\">Searching addresses...</p>\n      </div>\n\n      <div v-else>\n        <button\n          v-for=\"(result, index) in searchResults\"\n          :key=\"index\"\n          @mousedown.prevent=\"selectAddress(result)\"\n          type=\"button\"\n          class=\"w-full text-left px-4 py-3 hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors\"\n        >\n          <div class=\"font-medium text-gray-900\">{{ result.full_address }}</div>\n          <div v-if=\"result.suburb\" class=\"text-sm text-gray-600 mt-1\">{{ result.suburb }}, {{ result.city }}</div>\n          <div v-if=\"result.address_id\" class=\"text-xs text-gray-500 mt-1\">\n            ID: {{ result.address_id }}\n          </div>\n        </button>\n      </div>\n\n      <div v-if=\"!loading && searchResults.length === 0 && searchQuery.length >= 3\" class=\"p-4 text-center text-gray-500\">\n        <p class=\"text-sm\">No addresses found. Try a different search.</p>\n        <p class=\"text-xs mt-2 text-gray-400\">Make sure to include street number and name</p>\n      </div>\n    </div>\n\n    <!-- Selected Address Display -->\n    <div v-if=\"selectedAddress\" class=\"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg\">\n      <div class=\"flex items-start justify-between\">\n        <div class=\"flex-1\">\n          <p class=\"text-sm font-medium text-green-900\">Selected Address</p>\n          <p class=\"text-sm text-green-700 mt-1\">{{ selectedAddress.full_address }}</p>\n          <div v-if=\"selectedAddress.suburb || selectedAddress.city\" class=\"text-xs text-green-600 mt-1\">\n            <span v-if=\"selectedAddress.suburb\">{{ selectedAddress.suburb }}, </span>\n            <span>{{ selectedAddress.city }}</span>\n            <span v-if=\"selectedAddress.postcode\"> {{ selectedAddress.postcode }}</span>\n          </div>\n        </div>\n        <button\n          @click=\"clearAddress\"\n          type=\"button\"\n          class=\"text-green-600 hover:text-green-700 ml-2\"\n          title=\"Clear selection\"\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport { call } from 'frappe-ui'\n\nconst props = defineProps({\n  modelValue: {\n    type: Object,\n    default: null\n  },\n  id: {\n    type: String,\n    default: 'address-lookup'\n  },\n  label: {\n    type: String,\n    default: 'Property Address'\n  },\n  placeholder: {\n    type: String,\n    default: 'Start typing address... e.g., 123 Main Street'\n  },\n  description: {\n    type: String,\n    default: 'Type to search for addresses in New Zealand'\n  },\n  required: {\n    type: Boolean,\n    default: false\n  },\n  apiMethod: {\n    type: String,\n    default: 'lodgeick.api.search_property_addresses'\n  }\n})\n\nconst emit = defineEmits(['update:modelValue', 'address-selected'])\n\nconst searchQuery = ref('')\nconst searchResults = ref([])\nconst loading = ref(false)\nconst showDropdown = ref(false)\nconst selectedAddress = ref(props.modelValue)\nconst validationError = ref('')\nlet searchTimeout = null\n\n// Watch for external changes to modelValue\nwatch(() => props.modelValue, (newVal) => {\n  selectedAddress.value = newVal\n  if (newVal) {\n    searchQuery.value = newVal.full_address || ''\n  }\n})\n\n// Handle search input\nconst handleSearch = async () => {\n  if (searchTimeout) {\n    clearTimeout(searchTimeout)\n  }\n\n  const query = searchQuery.value.trim()\n\n  // Clear validation error\n  validationError.value = ''\n\n  // Clear selected address if user is typing new search\n  if (selectedAddress.value && query !== selectedAddress.value.full_address) {\n    selectedAddress.value = null\n    emit('update:modelValue', null)\n  }\n\n  if (query.length < 3) {\n    searchResults.value = []\n    return\n  }\n\n  searchTimeout = setTimeout(async () => {\n    loading.value = true\n    try {\n      // TODO: Replace with actual LINZ API integration\n      // For now, we'll use the existing property search or create a stub\n      const results = await searchAddresses(query)\n      searchResults.value = results || []\n    } catch (error) {\n      console.error('[AddressLookup] Error searching addresses:', error)\n      searchResults.value = []\n      validationError.value = 'Error searching addresses. Please try again.'\n    } finally {\n      loading.value = false\n    }\n  }, 300)\n}\n\n// Search for addresses - integrates with backend API\nconst searchAddresses = async (query) => {\n  try {\n    // Call backend API that searches LINZ or property database\n    const results = await call(props.apiMethod, {\n      query: query\n    })\n\n    // Transform results to standardized format\n    return results.map(result => ({\n      full_address: result.address || result.full_address,\n      street_address: result.street_address || extractStreet(result.address),\n      suburb: result.suburb || result.locality,\n      city: result.city || result.town,\n      postcode: result.postcode || result.postal_code,\n      address_id: result.address_id || result.id,\n      // Additional property data if available\n      property_id: result.property?.parcel_id,\n      legal_description: result.property?.legal_description,\n      title_no: result.property?.title_no,\n      valuation_reference: result.property?.valuation_reference,\n      zone: result.property?.zone\n    }))\n  } catch (error) {\n    console.error('[AddressLookup] API error:', error)\n    // Return empty array or stub data for development\n    return []\n  }\n}\n\n// Extract street address from full address\nconst extractStreet = (fullAddress) => {\n  if (!fullAddress) return ''\n  // Simple extraction - take first part before comma\n  return fullAddress.split(',')[0]?.trim() || fullAddress\n}\n\n// Select an address from search results\nconst selectAddress = (address) => {\n  selectedAddress.value = address\n  searchQuery.value = address.full_address\n  searchResults.value = []\n  showDropdown.value = false\n  validationError.value = ''\n\n  emit('update:modelValue', address)\n  emit('address-selected', address)\n}\n\n// Clear selected address\nconst clearAddress = () => {\n  selectedAddress.value = null\n  searchQuery.value = ''\n  searchResults.value = []\n  validationError.value = ''\n\n  emit('update:modelValue', null)\n  emit('address-selected', null)\n}\n\n// Handle blur event (delayed to allow click on dropdown)\nconst handleBlur = () => {\n  setTimeout(() => {\n    showDropdown.value = false\n  }, 200)\n}\n\n// Expose methods for parent component\ndefineExpose({\n  clearAddress,\n  selectedAddress\n})\n</script>\n","/**\n * Validation utilities for Lodgeick\n */\n\n/**\n * Validates New Zealand phone numbers\n * Accepts landline and mobile formats:\n * - Mobile: 021, 022, 027, 028, 029 (with or without spaces)\n * - Landline: 03-09 area codes (with or without spaces)\n * - International format: +64 prefix\n *\n * @param {string} phone - Phone number to validate\n * @returns {Object} - { isValid: boolean, message: string, formatted: string }\n */\nexport function validateNZPhoneNumber(phone) {\n  if (!phone || phone.trim() === '') {\n    return {\n      isValid: false,\n      message: 'Phone number is required',\n      formatted: ''\n    }\n  }\n\n  // Remove spaces, hyphens, and parentheses\n  const cleaned = phone.replace(/[\\s\\-()]/g, '')\n\n  // Check for international prefix\n  const hasInternationalPrefix = cleaned.startsWith('+64') || cleaned.startsWith('0064')\n\n  // Remove international prefix for validation\n  let numberToValidate = cleaned\n  if (cleaned.startsWith('+64')) {\n    numberToValidate = '0' + cleaned.substring(3)\n  } else if (cleaned.startsWith('0064')) {\n    numberToValidate = '0' + cleaned.substring(4)\n  }\n\n  // Check if it contains only digits (after removing valid prefixes)\n  if (!/^[0-9]+$/.test(numberToValidate)) {\n    return {\n      isValid: false,\n      message: 'Phone number should contain only numbers, spaces, hyphens, or parentheses',\n      formatted: ''\n    }\n  }\n\n  // Mobile number validation (021, 022, 027, 028, 029)\n  const mobilePattern = /^0(2[1278]|29)[0-9]{6,8}$/\n  if (mobilePattern.test(numberToValidate)) {\n    // Format as: 021 234 5678\n    const formatted = numberToValidate.replace(/^(0\\d{2})(\\d{3})(\\d{4})$/, '$1 $2 $3')\n    return {\n      isValid: true,\n      message: '',\n      formatted: formatted\n    }\n  }\n\n  // Landline validation (03-09 area codes)\n  const landlinePattern = /^0[3-9][0-9]{7,8}$/\n  if (landlinePattern.test(numberToValidate)) {\n    // Format as: 09 123 4567 or 03 123 4567\n    if (numberToValidate.length === 9) {\n      const formatted = numberToValidate.replace(/^(0\\d)(\\d{3})(\\d{4})$/, '$1 $2 $3')\n      return {\n        isValid: true,\n        message: '',\n        formatted: formatted\n      }\n    } else if (numberToValidate.length === 10) {\n      const formatted = numberToValidate.replace(/^(0\\d)(\\d{3})(\\d{5})$/, '$1 $2 $3')\n      return {\n        isValid: true,\n        message: '',\n        formatted: formatted\n      }\n    }\n  }\n\n  // Too short\n  if (numberToValidate.length < 9) {\n    return {\n      isValid: false,\n      message: 'Phone number is too short. NZ phone numbers are 9-10 digits.',\n      formatted: ''\n    }\n  }\n\n  // Too long\n  if (numberToValidate.length > 11) {\n    return {\n      isValid: false,\n      message: 'Phone number is too long. NZ phone numbers are 9-10 digits.',\n      formatted: ''\n    }\n  }\n\n  // Invalid format\n  return {\n    isValid: false,\n    message: 'Invalid NZ phone number. Mobile numbers start with 02, landlines with 03-09.',\n    formatted: ''\n  }\n}\n\n/**\n * Format phone number for display\n * @param {string} phone - Phone number to format\n * @returns {string} - Formatted phone number\n */\nexport function formatPhoneNumber(phone) {\n  const validation = validateNZPhoneNumber(phone)\n  return validation.formatted || phone\n}\n\n/**\n * Validates email address\n * @param {string} email - Email address to validate\n * @returns {Object} - { isValid: boolean, message: string }\n */\nexport function validateEmail(email) {\n  if (!email || email.trim() === '') {\n    return {\n      isValid: false,\n      message: 'Email address is required'\n    }\n  }\n\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  if (!emailPattern.test(email)) {\n    return {\n      isValid: false,\n      message: 'Please enter a valid email address'\n    }\n  }\n\n  return {\n    isValid: true,\n    message: ''\n  }\n}\n\n/**\n * Validates NZBN (New Zealand Business Number)\n * @param {string} nzbn - NZBN to validate\n * @returns {Object} - { isValid: boolean, message: string }\n */\nexport function validateNZBN(nzbn) {\n  if (!nzbn || nzbn.trim() === '') {\n    return { isValid: true, message: '' } // Optional field\n  }\n\n  const cleaned = nzbn.replace(/[\\s\\-]/g, '')\n\n  if (!/^\\d{13}$/.test(cleaned)) {\n    return {\n      isValid: false,\n      message: 'NZBN must be exactly 13 digits'\n    }\n  }\n\n  return {\n    isValid: true,\n    message: ''\n  }\n}\n\n/**\n * Validates password strength\n * @param {string} password - Password to validate\n * @returns {Object} - { isValid: boolean, message: string, strength: string }\n */\nexport function validatePassword(password) {\n  if (!password || password.trim() === '') {\n    return {\n      isValid: false,\n      message: 'Password is required',\n      strength: 'none'\n    }\n  }\n\n  if (password.length < 8) {\n    return {\n      isValid: false,\n      message: 'Password must be at least 8 characters long',\n      strength: 'weak'\n    }\n  }\n\n  let strength = 'weak'\n  let strengthScore = 0\n\n  // Check for length\n  if (password.length >= 12) strengthScore++\n\n  // Check for uppercase\n  if (/[A-Z]/.test(password)) strengthScore++\n\n  // Check for lowercase\n  if (/[a-z]/.test(password)) strengthScore++\n\n  // Check for numbers\n  if (/[0-9]/.test(password)) strengthScore++\n\n  // Check for special characters\n  if (/[^A-Za-z0-9]/.test(password)) strengthScore++\n\n  if (strengthScore >= 4) strength = 'strong'\n  else if (strengthScore >= 2) strength = 'medium'\n\n  return {\n    isValid: true,\n    message: '',\n    strength: strength\n  }\n}\n"],"names":["props","__props","emit","__emit","searchQuery","ref","searchResults","loading","showDropdown","selectedAddress","validationError","searchTimeout","watch","newVal","handleSearch","__async","query","results","searchAddresses","error","call","result","extractStreet","_a","_b","_c","_d","_e","fullAddress","selectAddress","address","clearAddress","handleBlur","__expose","_openBlock","_createElementBlock","_hoisted_1","_createTextVNode","_toDisplayString","_hoisted_3","_createElementVNode","_hoisted_4","$event","_hoisted_6","_cache","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_Fragment","_renderList","index","_withModifiers","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","validateNZPhoneNumber","phone","cleaned","numberToValidate","validateEmail","email","validateNZBN","nzbn","validatePassword","password","strength","strengthScore"],"mappings":"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"}