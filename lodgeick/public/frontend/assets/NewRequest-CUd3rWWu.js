var el=Object.defineProperty,tl=Object.defineProperties;var ll=Object.getOwnPropertyDescriptors;var Ie=Object.getOwnPropertySymbols;var gt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable;var vt=(l,p,b)=>p in l?el(l,p,{enumerable:!0,configurable:!0,writable:!0,value:b}):l[p]=b,E=(l,p)=>{for(var b in p||(p={}))gt.call(p,b)&&vt(l,b,p[b]);if(Ie)for(var b of Ie(p))yt.call(p,b)&&vt(l,b,p[b]);return l},Ce=(l,p)=>tl(l,ll(p));var ye=(l,p)=>{var b={};for(var x in l)gt.call(l,x)&&p.indexOf(x)<0&&(b[x]=l[x]);if(l!=null&&Ie)for(var x of Ie(l))p.indexOf(x)<0&&yt.call(l,x)&&(b[x]=l[x]);return b};var K=(l,p,b)=>new Promise((x,r)=>{var C=w=>{try{m(b.next(w))}catch($){r($)}},y=w=>{try{m(b.throw(w))}catch($){r($)}},m=w=>w.done?x(w.value):Promise.resolve(w.value).then(C,y);m((b=b.apply(l,p)).next())});import{r as h,q as de,x as tt,y as z,z as ce,j as q,A as He,B as ve,C as Le,E as sl,G as ze,H as Ue,J as ol,K as xe,L as Ve,M as X,N as Ee,O as Oe,P as al,Q as ht,R as le,S as $e,T as nl,F as U,U as Ne,V as rl,W as il,X as fe,Y as re,c as o,o as s,a as e,b as W,m as O,Z as I,d as g,t as f,f as wt,g as me,l as T,$ as ee,h as D,n as be,v as ie,a0 as L,s as et,e as Se,a1 as ue,a2 as ul,w as te,a3 as dl,a4 as cl,a5 as ft,a6 as pl,u as oe,a7 as ml,a8 as vl,k as bt,a9 as Be,i as xt}from"./index-CVyGQhe3.js";import{C as gl}from"./CouncilSelector-BYdCKdHd.js";function _t(l,p){if(l)return l;let b=p!=null?p:"button";if(typeof b=="string"&&b.toLowerCase()==="button")return"button"}function kt(l,p){let b=h(_t(l.value.type,l.value.as));return de(()=>{b.value=_t(l.value.type,l.value.as)}),tt(()=>{var x;b.value||z(p)&&z(p)instanceof HTMLButtonElement&&!((x=z(p))!=null&&x.hasAttribute("type"))&&(b.value="button")}),b}var yl=(l=>(l[l.Open=0]="Open",l[l.Closed=1]="Closed",l))(yl||{});let Ct=Symbol("DisclosureContext");function lt(l){let p=Ve(Ct,null);if(p===null){let b=new Error(`<${l} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,lt),b}return p}let $t=Symbol("DisclosurePanelContext");function fl(){return Ve($t,null)}let bl=ce({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(l,{slots:p,attrs:b}){let x=h(l.defaultOpen?0:1),r=h(null),C=h(null),y={buttonId:h(`headlessui-disclosure-button-${Ue()}`),panelId:h(`headlessui-disclosure-panel-${Ue()}`),disclosureState:x,panel:r,button:C,toggleDisclosure(){x.value=xe(x.value,{0:1,1:0})},closeDisclosure(){x.value!==1&&(x.value=1)},close(m){y.closeDisclosure();let w=m?m instanceof HTMLElement?m:m.value instanceof HTMLElement?z(m):z(y.button):z(y.button);w==null||w.focus()}};return Le(Ct,y),ol(q(()=>xe(x.value,{0:ze.Open,1:ze.Closed}))),()=>{let k=l,{defaultOpen:m}=k,w=ye(k,["defaultOpen"]),$={open:x.value===0,close:y.close};return ve({theirProps:w,ourProps:{},slot:$,slots:p,attrs:b,name:"Disclosure"})}}}),xl=ce({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(l,{attrs:p,slots:b,expose:x}){let r=lt("DisclosureButton"),C=fl(),y=q(()=>C===null?!1:C.value===r.panelId.value);de(()=>{y.value||l.id!==null&&(r.buttonId.value=l.id)}),He(()=>{y.value||(r.buttonId.value=null)});let m=h(null);x({el:m,$el:m}),y.value||tt(()=>{r.button.value=m.value});let w=kt(q(()=>({as:l.as,type:p.type})),m);function $(){var a;l.disabled||(y.value?(r.toggleDisclosure(),(a=z(r.button))==null||a.focus()):r.toggleDisclosure())}function k(a){var V;if(!l.disabled)if(y.value)switch(a.key){case X.Space:case X.Enter:a.preventDefault(),a.stopPropagation(),r.toggleDisclosure(),(V=z(r.button))==null||V.focus();break}else switch(a.key){case X.Space:case X.Enter:a.preventDefault(),a.stopPropagation(),r.toggleDisclosure();break}}function _(a){switch(a.key){case X.Space:a.preventDefault();break}}return()=>{var a;let V={open:r.disclosureState.value===0},i=l,{id:j}=i,c=ye(i,["id"]),n=y.value?{ref:m,type:w.value,onClick:$,onKeydown:k}:{id:(a=r.buttonId.value)!=null?a:j,ref:m,type:w.value,"aria-expanded":r.disclosureState.value===0,"aria-controls":r.disclosureState.value===0||z(r.panel)?r.panelId.value:void 0,disabled:l.disabled?!0:void 0,onClick:$,onKeydown:k,onKeyup:_};return ve({ourProps:n,theirProps:c,slot:V,attrs:p,slots:b,name:"DisclosureButton"})}}}),_l=ce({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(l,{attrs:p,slots:b,expose:x}){let r=lt("DisclosurePanel");de(()=>{l.id!==null&&(r.panelId.value=l.id)}),He(()=>{r.panelId.value=null}),x({el:r.panel,$el:r.panel}),Le($t,r.panelId);let C=sl(),y=q(()=>C!==null?(C.value&ze.Open)===ze.Open:r.disclosureState.value===0);return()=>{var m;let w={open:r.disclosureState.value===0,close:r.close},a=l,{id:$}=a,k=ye(a,["id"]),_={id:(m=r.panelId.value)!=null?m:$,ref:r.panel};return ve({ourProps:_,theirProps:k,slot:w,attrs:p,slots:b,features:Ee.RenderStrategy|Ee.Static,visible:y.value,name:"DisclosurePanel"})}}}),hl=ce({props:{onFocus:{type:Function,required:!0}},setup(l){let p=h(!0);return()=>p.value?Oe(ht,{as:"button",type:"button",features:al.Focusable,onFocus(b){b.preventDefault();let x,r=50;function C(){var y;if(r--<=0){x&&cancelAnimationFrame(x);return}if((y=l.onFocus)!=null&&y.call(l)){p.value=!1,cancelAnimationFrame(x);return}x=requestAnimationFrame(C)}x=requestAnimationFrame(C)}}):null}});var wl=(l=>(l[l.Forwards=0]="Forwards",l[l.Backwards=1]="Backwards",l))(wl||{}),kl=(l=>(l[l.Less=-1]="Less",l[l.Equal=0]="Equal",l[l.Greater=1]="Greater",l))(kl||{});let Vt=Symbol("TabsContext");function qe(l){let p=Ve(Vt,null);if(p===null){let b=new Error(`<${l} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,qe),b}return p}let st=Symbol("TabsSSRContext"),Cl=ce({name:"TabGroup",emits:{change:l=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(l,{slots:p,attrs:b,emit:x}){var r;let C=h((r=l.selectedIndex)!=null?r:l.defaultIndex),y=h([]),m=h([]),w=q(()=>l.selectedIndex!==null),$=q(()=>w.value?l.selectedIndex:C.value);function k(c){var n;let i=$e(_.tabs.value,z),v=$e(_.panels.value,z),A=i.filter(N=>{var G;return!((G=z(N))!=null&&G.hasAttribute("disabled"))});if(c<0||c>i.length-1){let N=xe(C.value===null?0:Math.sign(c-C.value),{[-1]:()=>1,0:()=>xe(Math.sign(c),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),G=xe(N,{0:()=>i.indexOf(A[0]),1:()=>i.indexOf(A[A.length-1])});G!==-1&&(C.value=G),_.tabs.value=i,_.panels.value=v}else{let N=i.slice(0,c),G=[...i.slice(c),...N].find(Z=>A.includes(Z));if(!G)return;let Y=(n=i.indexOf(G))!=null?n:_.selectedIndex.value;Y===-1&&(Y=_.selectedIndex.value),C.value=Y,_.tabs.value=i,_.panels.value=v}}let _={selectedIndex:q(()=>{var c,n;return(n=(c=C.value)!=null?c:l.defaultIndex)!=null?n:null}),orientation:q(()=>l.vertical?"vertical":"horizontal"),activation:q(()=>l.manual?"manual":"auto"),tabs:y,panels:m,setSelectedIndex(c){$.value!==c&&x("change",c),w.value||k(c)},registerTab(c){var n;if(y.value.includes(c))return;let i=y.value[C.value];if(y.value.push(c),y.value=$e(y.value,z),!w.value){let v=(n=y.value.indexOf(i))!=null?n:C.value;v!==-1&&(C.value=v)}},unregisterTab(c){let n=y.value.indexOf(c);n!==-1&&y.value.splice(n,1)},registerPanel(c){m.value.includes(c)||(m.value.push(c),m.value=$e(m.value,z))},unregisterPanel(c){let n=m.value.indexOf(c);n!==-1&&m.value.splice(n,1)}};Le(Vt,_);let a=h({tabs:[],panels:[]}),V=h(!1);de(()=>{V.value=!0}),Le(st,q(()=>V.value?null:a.value));let j=q(()=>l.selectedIndex);return de(()=>{le([j],()=>{var c;return k((c=l.selectedIndex)!=null?c:l.defaultIndex)},{immediate:!0})}),tt(()=>{if(!w.value||$.value==null||_.tabs.value.length<=0)return;let c=$e(_.tabs.value,z);c.some((n,i)=>z(_.tabs.value[i])!==z(n))&&_.setSelectedIndex(c.findIndex(n=>z(n)===z(_.tabs.value[$.value])))}),()=>{let c={selectedIndex:C.value};return Oe(U,[y.value.length<=0&&Oe(hl,{onFocus:()=>{for(let n of y.value){let i=z(n);if((i==null?void 0:i.tabIndex)===0)return i.focus(),!0}return!1}}),ve({theirProps:E(E({},b),nl(l,["selectedIndex","defaultIndex","manual","vertical","onChange"])),ourProps:{},slot:c,slots:p,attrs:b,name:"TabGroup"})])}}}),$l=ce({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(l,{attrs:p,slots:b}){let x=qe("TabList");return()=>{let r={selectedIndex:x.selectedIndex.value},C={role:"tablist","aria-orientation":x.orientation.value};return ve({ourProps:C,theirProps:l,slot:r,attrs:p,slots:b,name:"TabList"})}}}),Vl=ce({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(l,{attrs:p,slots:b,expose:x}){var r;let C=(r=l.id)!=null?r:`headlessui-tabs-tab-${Ue()}`,y=qe("Tab"),m=h(null);x({el:m,$el:m}),de(()=>y.registerTab(m)),He(()=>y.unregisterTab(m));let w=Ve(st),$=q(()=>{if(w.value){let v=w.value.tabs.indexOf(C);return v===-1?w.value.tabs.push(C)-1:v}return-1}),k=q(()=>{let v=y.tabs.value.indexOf(m);return v===-1?$.value:v}),_=q(()=>k.value===y.selectedIndex.value);function a(v){var A;let N=v();if(N===Ne.Success&&y.activation.value==="auto"){let G=(A=il(m))==null?void 0:A.activeElement,Y=y.tabs.value.findIndex(Z=>z(Z)===G);Y!==-1&&y.setSelectedIndex(Y)}return N}function V(v){let A=y.tabs.value.map(N=>z(N)).filter(Boolean);if(v.key===X.Space||v.key===X.Enter){v.preventDefault(),v.stopPropagation(),y.setSelectedIndex(k.value);return}switch(v.key){case X.Home:case X.PageUp:return v.preventDefault(),v.stopPropagation(),a(()=>fe(A,re.First));case X.End:case X.PageDown:return v.preventDefault(),v.stopPropagation(),a(()=>fe(A,re.Last))}if(a(()=>xe(y.orientation.value,{vertical(){return v.key===X.ArrowUp?fe(A,re.Previous|re.WrapAround):v.key===X.ArrowDown?fe(A,re.Next|re.WrapAround):Ne.Error},horizontal(){return v.key===X.ArrowLeft?fe(A,re.Previous|re.WrapAround):v.key===X.ArrowRight?fe(A,re.Next|re.WrapAround):Ne.Error}}))===Ne.Success)return v.preventDefault()}let j=h(!1);function c(){var v;j.value||(j.value=!0,!l.disabled&&((v=z(m))==null||v.focus({preventScroll:!0}),y.setSelectedIndex(k.value),rl(()=>{j.value=!1})))}function n(v){v.preventDefault()}let i=kt(q(()=>({as:l.as,type:p.type})),m);return()=>{var v,A;let N={selected:_.value,disabled:(v=l.disabled)!=null?v:!1},G=ye(l,[]),Y={ref:m,onKeydown:V,onMousedown:n,onClick:c,id:C,role:"tab",type:i.value,"aria-controls":(A=z(y.panels.value[k.value]))==null?void 0:A.id,"aria-selected":_.value,tabIndex:_.value?0:-1,disabled:l.disabled?!0:void 0};return ve({ourProps:Y,theirProps:G,slot:N,attrs:p,slots:b,name:"Tab"})}}}),Sl=ce({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(l,{slots:p,attrs:b}){let x=qe("TabPanels");return()=>{let r={selectedIndex:x.selectedIndex.value};return ve({theirProps:l,ourProps:{},slot:r,attrs:b,slots:p,name:"TabPanels"})}}}),ql=ce({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(l,{attrs:p,slots:b,expose:x}){var r;let C=(r=l.id)!=null?r:`headlessui-tabs-panel-${Ue()}`,y=qe("TabPanel"),m=h(null);x({el:m,$el:m}),de(()=>y.registerPanel(m)),He(()=>y.unregisterPanel(m));let w=Ve(st),$=q(()=>{if(w.value){let a=w.value.panels.indexOf(C);return a===-1?w.value.panels.push(C)-1:a}return-1}),k=q(()=>{let a=y.panels.value.indexOf(m);return a===-1?$.value:a}),_=q(()=>k.value===y.selectedIndex.value);return()=>{var a;let V={selected:_.value},i=l,{tabIndex:j}=i,c=ye(i,["tabIndex"]),n={ref:m,id:C,role:"tabpanel","aria-labelledby":(a=z(y.tabs.value[k.value]))==null?void 0:a.id,tabIndex:_.value?j:-1};return!_.value&&l.unmount&&!l.static?Oe(ht,E({as:"span","aria-hidden":!0},n)):ve({ourProps:n,theirProps:c,slot:V,attrs:p,slots:b,features:Ee.Static|Ee.RenderStrategy,visible:_.value,name:"TabPanel"})}}});const Tl={__name:"Step1CouncilSelection",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","council-change"],setup(l,{emit:p}){const b=l,x=p,r=C=>{console.log("[Step1CouncilSelection] updateCouncil called with:",C),console.log("[Step1CouncilSelection] Current modelValue:",b.modelValue),x("update:modelValue",Ce(E({},b.modelValue),{council:C})),x("council-change",C),console.log("[Step1CouncilSelection] Emitted events")};return(C,y)=>(s(),o("div",null,[y[0]||(y[0]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Council",-1)),y[1]||(y[1]=e("p",{class:"text-gray-600 mb-8"},"Choose the council that will process your application",-1)),W(gl,{"model-value":l.modelValue.council,"onUpdate:modelValue":r,"display-mode":"cards",required:!0,"show-selected-info":!0,label:"","show-label":!1},null,8,["model-value"])]))}},Ml={key:0,class:"text-center py-12"},Al={key:1,class:"grid md:grid-cols-2 gap-4"},Pl=["onClick"],Dl={class:"flex items-start justify-between"},jl={class:"flex-1"},Rl={class:"text-lg font-semibold text-gray-900 mb-2"},Il=["innerHTML"],Nl={class:"mt-4 flex items-center space-x-4 text-xs text-gray-500"},Bl={key:0},Fl={key:1},Ll={key:2,class:"px-2 py-1 bg-gray-100 rounded"},zl={key:0,class:"ml-4"},Ul={__name:"Step2RequestType",props:{modelValue:{type:Object,required:!0},requestTypes:{type:Object,required:!0}},emits:["update:modelValue","type-selected"],setup(l,{emit:p}){const b=l,x=p,r=C=>{console.log("[Step2RequestType] selectType called with:",C.name),console.log("[Step2RequestType] props.modelValue:",b.modelValue),console.log("[Step2RequestType] props.modelValue.council:",b.modelValue.council);const y=Ce(E({},b.modelValue),{request_type:C.name});console.log("[Step2RequestType] Emitting updatedValue:",y),x("update:modelValue",y),x("type-selected",C)};return(C,y)=>(s(),o("div",null,[y[2]||(y[2]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Select Application Type",-1)),y[3]||(y[3]=e("p",{class:"text-gray-600 mb-8"},"Choose the type of consent you wish to apply for",-1)),l.requestTypes.loading?(s(),o("div",Ml,[...y[0]||(y[0]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):(s(),o("div",Al,[(s(!0),o(U,null,O(l.requestTypes.data,m=>(s(),o("div",{key:m.name,onClick:w=>r(m),class:I(["border-2 rounded-lg p-6 cursor-pointer transition-all hover:shadow-md",l.modelValue.request_type===m.name?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"])},[e("div",Dl,[e("div",jl,[e("h3",Rl,f(m.type_name),1),e("p",{class:"text-sm text-gray-600",innerHTML:m.description||"No description available"},null,8,Il),e("div",Nl,[m.base_fee?(s(),o("span",Bl,"Fee: $"+f(m.base_fee),1)):g("",!0),m.processing_sla_days?(s(),o("span",Fl,f(m.processing_sla_days)+" days",1)):g("",!0),m.category?(s(),o("span",Ll,f(m.category),1)):g("",!0)])]),l.modelValue.request_type===m.name?(s(),o("div",zl,[...y[1]||(y[1]=[e("div",{class:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)])])):g("",!0)])],10,Pl))),128))]))]))}},El={class:"text-gray-600 mb-6"},Ol={key:0,class:"space-y-6"},Hl={key:0,class:"bg-white border border-gray-200 rounded-lg p-6"},Wl={class:"flex items-center gap-4 mb-4"},Gl={class:"flex items-center"},Jl={key:1,class:"mt-4"},Kl={class:"space-y-2"},Ql={class:"flex-1"},Xl={class:"text-sm font-medium text-gray-900"},Yl={class:"text-xs text-gray-600 mt-1"},Zl={key:0,class:"text-xs text-gray-500 mt-1"},es=["onClick"],ts={class:"bg-white border border-gray-200 rounded-lg p-6"},ls={class:"flex items-start justify-between mb-4"},ss={class:"text-xl font-semibold text-gray-900"},os={key:0,class:"text-sm text-gray-500 mt-1"},as={class:"grid md:grid-cols-3 gap-4 mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"},ns={class:"text-2xl font-bold text-blue-900 mt-1"},rs={class:"text-2xl font-bold text-blue-900 mt-1"},is={class:"text-2xl font-bold text-blue-900 mt-1"},us={key:1,class:"bg-white border border-gray-200 rounded-lg p-6"},ds=["innerHTML"],cs={key:2,class:"bg-white border border-gray-200 rounded-lg p-6"},ps=["innerHTML"],ms={key:1,class:"text-center py-12"},vs={class:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden"},gs={class:"overflow-y-auto max-h-[calc(90vh-140px)] px-6 py-4"},ys={class:"space-y-4"},fs={class:"sticky bottom-0 bg-gray-50 px-6 py-4 flex justify-end gap-3 border-t border-gray-200"},bs=["disabled"],xs={__name:"Step3ProcessInfo",props:{requestTypeDetails:{type:Object,default:null},councilName:{type:String,default:""},modelValue:{type:Object,default:()=>({})}},emits:["continue","update:modelValue"],setup(l,{emit:p}){var c,n;const b=wt(),x=l,r=p,C=h(((c=x.modelValue)==null?void 0:c.pre_app_meeting_not_required)||!1),y=h(((n=x.modelValue)==null?void 0:n.pre_app_meetings)||[]),m=h(!1),w=h({meeting_type:"Council Meeting",meeting_format:"In Person",meeting_purpose:"",preferred_time_slot_1_start:null});le([C,y],()=>{r("update:modelValue",Ce(E({},x.modelValue),{pre_app_meeting_not_required:C.value,pre_app_meetings:y.value}))},{deep:!0});const $=()=>{w.value={meeting_type:"Council Meeting",meeting_format:"In Person",meeting_purpose:"",preferred_time_slot_1_start:null},m.value=!0},k=()=>{m.value=!1},_=()=>{y.value.push(E({},w.value)),k()},a=i=>{confirm("Remove this council meeting request?")&&y.value.splice(i,1)},V=i=>i?new Date(i).toLocaleString("en-NZ",{dateStyle:"medium",timeStyle:"short"}):"",j=()=>{if(!et.isLoggedIn){const i=window.location.pathname+window.location.search;b.push({name:"Login",query:{redirect:i}});return}r("continue")};return(i,v)=>(s(),o("div",null,[v[27]||(v[27]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Council Process Information",-1)),e("p",El,"Understanding "+f(l.councilName)+"'s process for this application",1),l.requestTypeDetails?(s(),o("div",Ol,[l.requestTypeDetails.council_meeting_available?(s(),o("div",Hl,[v[6]||(v[6]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-4"},"Council Meeting",-1)),v[7]||(v[7]=e("p",{class:"text-sm text-gray-600 mb-4"}," You may schedule a Council Meeting with the Council to seek further clarifications in respect of your application before proceeding. ",-1)),e("div",Wl,[e("label",Gl,[T(e("input",{type:"checkbox","onUpdate:modelValue":v[0]||(v[0]=A=>C.value=A),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[ee,C.value]]),v[4]||(v[4]=e("span",{class:"ml-2 text-sm text-gray-700"},"I do not require a council meeting",-1))])]),C.value?g("",!0):(s(),o("button",{key:0,onClick:$,type:"button",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," Request Council Meeting ")),y.value&&y.value.length>0?(s(),o("div",Jl,[v[5]||(v[5]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Requested Meetings",-1)),e("div",Kl,[(s(!0),o(U,null,O(y.value,(A,N)=>(s(),o("div",{key:N,class:"p-3 bg-gray-50 border border-gray-200 rounded-lg flex items-start justify-between"},[e("div",Ql,[e("span",Xl,f(A.meeting_type||"Council Meeting"),1),e("p",Yl,f(A.meeting_format),1),A.preferred_time_slot_1_start?(s(),o("p",Zl," Preferred: "+f(V(A.preferred_time_slot_1_start)),1)):g("",!0)]),e("button",{onClick:G=>a(N),type:"button",class:"text-red-600 hover:text-red-800 text-sm ml-4"}," Remove ",8,es)]))),128))])])):g("",!0)])):g("",!0),e("div",ts,[e("div",ls,[e("div",null,[e("h3",ss,f(l.requestTypeDetails.request_type_name),1),l.requestTypeDetails.category?(s(),o("p",os,f(l.requestTypeDetails.category),1)):g("",!0)])]),e("div",as,[e("div",null,[v[8]||(v[8]=e("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Application Fee",-1)),e("div",ns," $"+f(l.requestTypeDetails.base_fee||"0"),1),v[9]||(v[9]=e("div",{class:"text-xs text-blue-600 mt-1"},"Plus any additional costs",-1))]),e("div",null,[v[11]||(v[11]=e("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Processing Time",-1)),e("div",rs,[D(f(l.requestTypeDetails.sla_days||"N/A")+" ",1),v[10]||(v[10]=e("span",{class:"text-base"},"days",-1))]),v[12]||(v[12]=e("div",{class:"text-xs text-blue-600 mt-1"},"Standard timeframe",-1))]),e("div",null,[v[13]||(v[13]=e("div",{class:"text-xs text-blue-600 font-medium uppercase"},"Payment Required",-1)),e("div",is,f(l.requestTypeDetails.requires_payment?"Yes":"No"),1),v[14]||(v[14]=e("div",{class:"text-xs text-blue-600 mt-1"},"Before processing",-1))])])]),l.requestTypeDetails.process_description?(s(),o("div",us,[v[15]||(v[15]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"How This Works",-1)),e("div",{class:"prose prose-sm max-w-none text-gray-700",innerHTML:l.requestTypeDetails.process_description},null,8,ds)])):l.requestTypeDetails.description?(s(),o("div",cs,[v[16]||(v[16]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4"},"About This Application",-1)),e("div",{class:"prose prose-sm max-w-none text-gray-700",innerHTML:l.requestTypeDetails.description},null,8,ps)])):g("",!0),v[17]||(v[17]=me('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4"><div class="flex items-start"><svg class="w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><div><h5 class="font-semibold text-yellow-900 text-sm">Before You Continue</h5><p class="text-yellow-800 text-sm mt-1"> Please review this information carefully. Make sure you understand the process, fees, and timeframes before proceeding with your application. </p></div></div></div>',1)),e("div",{class:"flex justify-center pt-4"},[e("button",{type:"button",onClick:j,class:"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors"}," I Understand - Continue to Application ")])])):(s(),o("div",ms,[...v[18]||(v[18]=[e("p",{class:"text-gray-500"},"No request type selected. Please go back and select a request type.",-1)])])),m.value?(s(),o("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:be(k,["self"])},[e("div",vs,[e("div",{class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between"},[v[20]||(v[20]=e("h3",{class:"text-xl font-bold text-gray-900"},"Request Council Meeting",-1)),e("button",{onClick:k,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...v[19]||(v[19]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",gs,[e("div",ys,[v[26]||(v[26]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[e("p",{class:"text-sm text-blue-900"}," A council meeting allows you to discuss your proposal with council planners before formally submitting your application. ")],-1)),e("div",null,[v[22]||(v[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Meeting Format *",-1)),T(e("select",{"onUpdate:modelValue":v[1]||(v[1]=A=>w.value.meeting_format=A),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[...v[21]||(v[21]=[e("option",{value:"In Person"},"In Person",-1),e("option",{value:"Video Call"},"Video Call",-1),e("option",{value:"Phone Call"},"Phone Call",-1)])],512),[[ie,w.value.meeting_format]])]),e("div",null,[v[23]||(v[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Meeting Purpose *",-1)),T(e("textarea",{"onUpdate:modelValue":v[2]||(v[2]=A=>w.value.meeting_purpose=A),rows:"4",placeholder:"Describe what you'd like to discuss in this meeting...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[L,w.value.meeting_purpose]])]),e("div",null,[v[24]||(v[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Preferred Date & Time",-1)),T(e("input",{"onUpdate:modelValue":v[3]||(v[3]=A=>w.value.preferred_time_slot_1_start=A),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,w.value.preferred_time_slot_1_start]]),v[25]||(v[25]=e("p",{class:"text-xs text-gray-500 mt-1"},"Select your preferred date and time. The council will confirm or propose an alternative.",-1))])])]),e("div",fs,[e("button",{onClick:k,type:"button",class:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors"}," Cancel "),e("button",{onClick:_,type:"button",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",disabled:!w.value.meeting_purpose}," Request Meeting ",8,bs)])])])):g("",!0)]))}},_s={class:"px-4 sm:px-0"},hs={class:"space-y-4 sm:space-y-6"},ws={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6"},ks={class:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-0"},Cs={class:"text-base sm:text-lg font-semibold text-blue-900"},$s={class:"text-xs sm:text-sm text-blue-700 mt-1"},Vs={class:"sm:text-right"},Ss={class:"text-xl sm:text-2xl font-bold text-blue-900"},qs={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Ts={class:"p-4 sm:p-6 space-y-3"},Ms={class:"grid md:grid-cols-2 gap-4"},As={class:"font-medium"},Ps={class:"font-medium"},Ds={class:"font-medium"},js={key:0},Rs={class:"font-medium"},Is={key:0,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Ns={class:"p-4 sm:p-6"},Bs={key:0,class:"space-y-2"},Fs={class:"font-medium"},Ls={key:0},zs={class:"font-medium"},Us={key:1,class:"text-gray-500"},Es={key:1,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Os={class:"p-4 sm:p-6 space-y-3"},Hs={class:"font-medium"},Ws={class:"font-medium"},Gs={class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},Js={class:"font-semibold text-gray-900 text-sm sm:text-base"},Ks={class:"p-4 sm:p-6 space-y-4"},Qs={key:0,class:"text-sm font-medium text-gray-700 mb-2"},Xs={class:"grid md:grid-cols-2 gap-4"},Ys={class:"text-sm text-gray-500"},Zs={class:"font-medium"},eo={key:0,class:"text-gray-500 text-sm"},to={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},lo={class:"p-4 sm:p-6"},so={class:"space-y-3"},oo={class:"mt-2 flex flex-wrap gap-2"},ao={key:0,class:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium"},no={key:1,class:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium"},ro={key:2,class:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium"},io={key:3,class:"px-3 py-1 bg-cyan-100 text-cyan-800 rounded-full text-sm font-medium"},uo={key:4,class:"px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm font-medium"},co={key:5,class:"text-gray-500"},po={class:"mt-1 inline-flex items-center"},mo={key:0},vo={class:"font-medium break-words"},go={key:0,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},yo={class:"p-4 sm:p-6"},fo={class:"flex flex-wrap gap-2"},bo={key:0,class:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium inline-flex items-center gap-1"},xo={key:1,class:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium inline-flex items-center gap-1"},_o={key:2,class:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium inline-flex items-center gap-1"},ho={key:3,class:"px-3 py-1 bg-cyan-100 text-cyan-800 rounded-full text-sm font-medium inline-flex items-center gap-1"},wo={key:1,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},ko={class:"p-4 sm:p-6"},Co={class:"space-y-3"},$o={class:"font-medium"},Vo={key:0},So={class:"text-sm mt-1 line-clamp-3"},qo={key:1},To={class:"text-sm mt-1 line-clamp-3"},Mo={class:"flex items-center gap-2"},Ao={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Po={class:"p-4 sm:p-6"},Do={class:"space-y-4"},jo={key:0},Ro=["innerHTML"],Io={key:1},No=["innerHTML"],Bo={key:2},Fo={class:"text-sm mt-1 line-clamp-3"},Lo={key:3},zo={class:"text-sm mt-1 space-y-1 list-disc list-inside"},Uo={key:0},Eo={key:1},Oo={key:2},Ho={key:4},Wo=["innerHTML"],Go={key:5,class:"text-gray-500 text-sm"},Jo={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Ko={class:"p-4 sm:p-6"},Qo={class:"space-y-2"},Xo={class:"flex items-start gap-2"},Yo={class:"flex items-start gap-2"},Zo={class:"flex items-start gap-2"},ea={key:0,class:"mt-4 pt-4 border-t border-gray-200"},ta={class:"font-medium"},la={key:0,class:"text-sm text-gray-500"},sa={key:4,class:"bg-red-50 border border-red-200 rounded-lg p-4"},oa={__name:"Step17Review",props:{modelValue:{type:Object,required:!0},councilName:{type:String,default:"Council"},requestTypeName:{type:String,default:"Application"},applicationFee:{type:String,default:"TBD"},isResourceConsent:{type:Boolean,default:!1},stepConfigs:{type:Array,default:()=>[]},usesConfigurableSteps:{type:Boolean,default:!1},requestTypeDetails:{type:Object,default:null}},setup(l){const p=l,b=q(()=>!p.usesConfigurableSteps||!p.stepConfigs?[]:p.stepConfigs.filter(c=>c.show_on_review)),x=q(()=>p.isResourceConsent?!0:!!(p.modelValue.property||p.modelValue.property_address)),r=c=>{if(!c.sections)return!1;for(const n of c.sections)if(n.show_on_review){for(const i of n.fields)if(i.show_on_review&&p.modelValue[i.field_name])return!0}return!1},C=(c,n)=>{if(n==null||n==="")return"Not provided";if(c.field_type==="Check")return n?"Yes":"No";if(c.field_type==="Date"&&n)try{return new Date(n).toLocaleDateString("en-NZ",{year:"numeric",month:"long",day:"numeric"})}catch(i){return n}return c.field_type==="Currency"&&n?`₱${Number(n).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`:c.field_type==="Select"?n:c.field_type==="Attach"||c.field_type==="Attach Image"?n?"✓ File attached":"Not provided":n},y=q(()=>!!(p.modelValue.consent_type_land_use||p.modelValue.consent_type_subdivision||p.modelValue.consent_type_discharge||p.modelValue.consent_type_water||p.modelValue.consent_type_coastal)),m=q(()=>{const c=p.modelValue.activity_status_type;return c==="Permitted"?"bg-green-100 text-green-800":c==="Controlled"?"bg-blue-100 text-blue-800":c==="Restricted Discretionary"?"bg-yellow-100 text-yellow-800":c==="Discretionary"?"bg-orange-100 text-orange-800":c==="Non-Complying"?"bg-red-100 text-red-800":c==="Prohibited"?"bg-gray-800 text-white":"bg-gray-100 text-gray-800"}),w=q(()=>!!(p.modelValue.hazard_flooding||p.modelValue.hazard_earthquake||p.modelValue.hazard_landslip||p.modelValue.hazard_coastal)),$=q(()=>!!(p.modelValue.consultation_undertaken||p.modelValue.consultation_summary||p.modelValue.affected_parties_details||p.modelValue.written_approvals_obtained)),k=q(()=>!!(p.modelValue.activity_description||p.modelValue.aee_full_assessment||p.modelValue.positive_effects_description||p.modelValue.effects_visual_amenity||p.modelValue.effects_traffic_parking||p.modelValue.effects_noise||p.modelValue.mitigation_measures||p.modelValue.aee_activity_description||p.modelValue.aee_existing_environment||p.modelValue.assessment_of_effects||p.modelValue.aee_document)),_=c=>{if(!c)return"";const n=document.createElement("div");return n.innerHTML=c,n.textContent||n.innerText||""},a=(c,n)=>{if(!c)return"";const i=_(c);return i.length<=n?i:i.substring(0,n)+"..."},V=c=>{if(!c)return"";try{return new Date(c).toLocaleDateString("en-NZ",{year:"numeric",month:"long",day:"numeric"})}catch(n){return c}},j=q(()=>{const c=!!(p.modelValue.council&&p.modelValue.request_type&&p.modelValue.applicant_name&&p.modelValue.applicant_email&&p.modelValue.property_address&&p.modelValue.delivery_preference);if(p.isResourceConsent){const n=!!(y.value&&p.modelValue.activity_status_type&&p.modelValue.activity_description&&p.modelValue.aee_full_assessment&&p.modelValue.declaration_accuracy&&p.modelValue.declaration_authority&&p.modelValue.declaration_acknowledgment);return c&&n}return c});return(c,n)=>{var i;return s(),o("div",_s,[n[39]||(n[39]=e("h2",{class:"text-xl sm:text-2xl font-bold text-gray-900 mb-2"},"Review & Submit",-1)),n[40]||(n[40]=e("p",{class:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8"},"Review your application details before submitting",-1)),e("div",hs,[e("div",ws,[e("div",ks,[e("div",null,[e("h3",Cs,f(l.requestTypeName),1),e("p",$s,f(l.councilName),1)]),e("div",Vs,[n[0]||(n[0]=e("div",{class:"text-xs sm:text-sm text-blue-600 font-medium"},"Application Fee",-1)),e("div",Ss,f(l.applicationFee),1)])])]),e("div",qs,[n[5]||(n[5]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Applicant Details")],-1)),e("div",Ts,[e("div",Ms,[e("div",null,[n[1]||(n[1]=e("span",{class:"text-sm text-gray-500"},"Name:",-1)),e("p",As,f(l.modelValue.applicant_name||"Not provided"),1)]),e("div",null,[n[2]||(n[2]=e("span",{class:"text-sm text-gray-500"},"Email:",-1)),e("p",Ps,f(l.modelValue.applicant_email||"Not provided"),1)]),e("div",null,[n[3]||(n[3]=e("span",{class:"text-sm text-gray-500"},"Phone:",-1)),e("p",Ds,f(l.modelValue.applicant_phone||"Not provided"),1)]),l.modelValue.applicant_company?(s(),o("div",js,[n[4]||(n[4]=e("span",{class:"text-sm text-gray-500"},"Company:",-1)),e("p",Rs,f(l.modelValue.applicant_company),1)])):g("",!0)])])]),x.value?(s(),o("div",Is,[n[8]||(n[8]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Property Details")],-1)),e("div",Ns,[l.modelValue.property_address?(s(),o("div",Bs,[e("div",null,[n[6]||(n[6]=e("span",{class:"text-sm text-gray-500"},"Address:",-1)),e("p",Fs,f(l.modelValue.property_address),1)]),l.modelValue.legal_description?(s(),o("div",Ls,[n[7]||(n[7]=e("span",{class:"text-sm text-gray-500"},"Legal Description:",-1)),e("p",zs,f(l.modelValue.legal_description),1)])):g("",!0)])):(s(),o("p",Us,"No property selected"))])])):g("",!0),(i=l.requestTypeDetails)!=null&&i.collect_payment?(s(),o("div",Es,[n[11]||(n[11]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Delivery & Payment")],-1)),e("div",Os,[e("div",null,[n[9]||(n[9]=e("span",{class:"text-sm text-gray-500"},"Delivery Preference:",-1)),e("p",Hs,f(l.modelValue.delivery_preference||"Not selected"),1)]),e("div",null,[n[10]||(n[10]=e("span",{class:"text-sm text-gray-500"},"Invoice To:",-1)),e("p",Ws,f(l.modelValue.invoice_to||"Not specified"),1)])])])):g("",!0),l.usesConfigurableSteps&&b.value.length>0?(s(!0),o(U,{key:2},O(b.value,v=>(s(),o("div",{key:v.step_code,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},[e("div",Gs,[e("h3",Js,f(v.step_title),1)]),e("div",Ks,[(s(!0),o(U,null,O(v.sections.filter(A=>A.show_on_review),A=>(s(),o("div",{key:A.section_code},[A.section_title?(s(),o("h4",Qs,f(A.section_title),1)):g("",!0),e("div",Xs,[(s(!0),o(U,null,O(A.fields.filter(N=>N.show_on_review),N=>(s(),o("div",{key:N.field_name},[e("span",Ys,f(N.review_label||N.field_label)+":",1),e("p",Zs,f(C(N,l.modelValue[N.field_name])),1)]))),128))])]))),128)),r(v)?g("",!0):(s(),o("p",eo," No information to display for review "))])]))),128)):g("",!0),l.isResourceConsent?(s(),o(U,{key:3},[e("div",to,[n[15]||(n[15]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Consent Types & Activity Status")],-1)),e("div",lo,[e("div",so,[e("div",null,[n[12]||(n[12]=e("span",{class:"text-sm text-gray-500"},"Consent Types:",-1)),e("div",oo,[l.modelValue.consent_type_land_use?(s(),o("span",ao," Land Use Consent ")):g("",!0),l.modelValue.consent_type_subdivision?(s(),o("span",no," Subdivision Consent ")):g("",!0),l.modelValue.consent_type_discharge?(s(),o("span",ro," Discharge Permit ")):g("",!0),l.modelValue.consent_type_water?(s(),o("span",io," Water Permit ")):g("",!0),l.modelValue.consent_type_coastal?(s(),o("span",uo," Coastal Permit ")):g("",!0),y.value?g("",!0):(s(),o("span",co," None selected "))])]),e("div",null,[n[13]||(n[13]=e("span",{class:"text-sm text-gray-500"},"Activity Status:",-1)),e("div",po,[e("span",{class:I(["px-3 py-1 rounded-full text-sm font-medium",m.value])},f(l.modelValue.activity_status_type||"Not specified"),3)])]),l.modelValue.activity_title?(s(),o("div",mo,[n[14]||(n[14]=e("span",{class:"text-sm text-gray-500"},"Activity Title:",-1)),e("p",vo,f(l.modelValue.activity_title),1)])):g("",!0)])])]),w.value?(s(),o("div",go,[n[20]||(n[20]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Natural Hazards")],-1)),e("div",yo,[e("div",fo,[l.modelValue.hazard_flooding?(s(),o("span",bo,[...n[16]||(n[16]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"})],-1),D(" Flood Hazard ",-1)])])):g("",!0),l.modelValue.hazard_earthquake?(s(),o("span",xo,[...n[17]||(n[17]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),D(" Earthquake/Fault Line ",-1)])])):g("",!0),l.modelValue.hazard_landslip?(s(),o("span",_o,[...n[18]||(n[18]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1),D(" Landslip/Slope Instability ",-1)])])):g("",!0),l.modelValue.hazard_coastal?(s(),o("span",ho,[...n[19]||(n[19]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5"})],-1),D(" Coastal Hazard ",-1)])])):g("",!0)])])])):g("",!0),$.value?(s(),o("div",wo,[n[25]||(n[25]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Consultation & Affected Parties")],-1)),e("div",ko,[e("div",Co,[e("div",null,[n[21]||(n[21]=e("span",{class:"text-sm text-gray-500"},"Consultation Undertaken:",-1)),e("p",$o,f(l.modelValue.consultation_undertaken||"Not specified"),1)]),l.modelValue.consultation_summary?(s(),o("div",Vo,[n[22]||(n[22]=e("span",{class:"text-sm text-gray-500"},"Consultation Summary:",-1)),e("p",So,f(l.modelValue.consultation_summary),1)])):g("",!0),l.modelValue.affected_parties_details?(s(),o("div",qo,[n[23]||(n[23]=e("span",{class:"text-sm text-gray-500"},"Affected Parties:",-1)),e("p",To,f(_(l.modelValue.affected_parties_details)),1)])):g("",!0),e("div",Mo,[(s(),o("svg",{class:I(["w-5 h-5",l.modelValue.written_approvals_obtained?"text-green-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...n[24]||(n[24]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),e("span",{class:I(l.modelValue.written_approvals_obtained?"text-gray-900":"text-gray-500")}," Written Approvals "+f(l.modelValue.written_approvals_obtained?"Obtained":"Not Obtained"),3)])])])])):g("",!0),e("div",Ao,[n[31]||(n[31]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Assessment of Environmental Effects")],-1)),e("div",Po,[e("div",Do,[l.modelValue.activity_description?(s(),o("div",jo,[n[26]||(n[26]=e("span",{class:"text-sm text-gray-500"},"Activity Description:",-1)),e("div",{class:"text-sm mt-1 line-clamp-3",innerHTML:l.modelValue.activity_description},null,8,Ro)])):g("",!0),l.modelValue.aee_full_assessment?(s(),o("div",Io,[n[27]||(n[27]=e("span",{class:"text-sm text-gray-500"},"Full Assessment:",-1)),e("div",{class:"text-sm mt-1 line-clamp-3",innerHTML:l.modelValue.aee_full_assessment},null,8,No)])):g("",!0),l.modelValue.positive_effects_description?(s(),o("div",Bo,[n[28]||(n[28]=e("span",{class:"text-sm text-gray-500"},"Positive Effects:",-1)),e("p",Fo,f(l.modelValue.positive_effects_description),1)])):g("",!0),l.modelValue.effects_visual_amenity||l.modelValue.effects_traffic_parking||l.modelValue.effects_noise?(s(),o("div",Lo,[n[29]||(n[29]=e("span",{class:"text-sm text-gray-500"},"Adverse Effects Summary:",-1)),e("ul",zo,[l.modelValue.effects_visual_amenity?(s(),o("li",Uo,"Visual/Amenity: "+f(a(l.modelValue.effects_visual_amenity,50)),1)):g("",!0),l.modelValue.effects_traffic_parking?(s(),o("li",Eo,"Traffic/Parking: "+f(a(l.modelValue.effects_traffic_parking,50)),1)):g("",!0),l.modelValue.effects_noise?(s(),o("li",Oo,"Noise: "+f(a(l.modelValue.effects_noise,50)),1)):g("",!0)])])):g("",!0),l.modelValue.mitigation_measures?(s(),o("div",Ho,[n[30]||(n[30]=e("span",{class:"text-sm text-gray-500"},"Mitigation Measures:",-1)),e("div",{class:"text-sm mt-1 line-clamp-3",innerHTML:l.modelValue.mitigation_measures},null,8,Wo)])):g("",!0),k.value?g("",!0):(s(),o("p",Go," AEE not yet completed "))])])]),e("div",Jo,[n[36]||(n[36]=e("div",{class:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200"},[e("h3",{class:"font-semibold text-gray-900 text-sm sm:text-base"},"Statutory Declarations")],-1)),e("div",Ko,[e("div",Qo,[e("div",Xo,[(s(),o("svg",{class:I(["w-5 h-5 flex-shrink-0 mt-0.5",l.modelValue.declaration_accuracy||l.modelValue.declaration_rma_compliance?"text-green-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...n[32]||(n[32]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),e("span",{class:I(["text-sm",l.modelValue.declaration_accuracy||l.modelValue.declaration_rma_compliance?"text-gray-900":"text-gray-500"])}," Declaration of Accuracy & RMA Compliance ",2)]),e("div",Yo,[(s(),o("svg",{class:I(["w-5 h-5 flex-shrink-0 mt-0.5",l.modelValue.declaration_authority||l.modelValue.declaration_authorized?"text-green-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...n[33]||(n[33]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),e("span",{class:I(["text-sm",l.modelValue.declaration_authority||l.modelValue.declaration_authorized?"text-gray-900":"text-gray-500"])}," Declaration of Authority to Apply ",2)]),e("div",Zo,[(s(),o("svg",{class:I(["w-5 h-5 flex-shrink-0 mt-0.5",l.modelValue.declaration_acknowledgment||l.modelValue.declaration_public_information?"text-green-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...n[34]||(n[34]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),e("span",{class:I(["text-sm",l.modelValue.declaration_acknowledgment||l.modelValue.declaration_public_information?"text-gray-900":"text-gray-500"])}," Public Information & Privacy Acknowledgment ",2)]),l.modelValue.applicant_signature?(s(),o("div",ea,[n[35]||(n[35]=e("span",{class:"text-sm text-gray-500"},"Signed by:",-1)),e("p",ta,f(l.modelValue.applicant_signature),1),l.modelValue.signature_date?(s(),o("p",la," Date: "+f(V(l.modelValue.signature_date)),1)):g("",!0)])):g("",!0)])])])],64)):g("",!0),n[38]||(n[38]=me('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 sm:p-6" data-v-3fc986b6><div class="flex items-start gap-2 sm:gap-3" data-v-3fc986b6><svg class="w-5 h-5 sm:w-6 sm:h-6 text-yellow-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3fc986b6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-3fc986b6></path></svg><div data-v-3fc986b6><h4 class="font-semibold text-yellow-900 text-sm sm:text-base" data-v-3fc986b6>Before You Submit</h4><ul class="mt-2 text-xs sm:text-sm text-yellow-800 space-y-1 list-disc list-inside" data-v-3fc986b6><li data-v-3fc986b6>Review all information carefully for accuracy and completeness</li><li data-v-3fc986b6>Ensure all required fields are completed</li><li data-v-3fc986b6>For Resource Consent applications, verify all statutory declarations are confirmed</li><li data-v-3fc986b6>Once submitted, you cannot edit the application (you may need to withdraw and resubmit)</li></ul></div></div></div>',1)),j.value?g("",!0):(s(),o("div",sa,[...n[37]||(n[37]=[me('<div class="flex items-start gap-2 sm:gap-3" data-v-3fc986b6><svg class="w-5 h-5 text-red-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3fc986b6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-3fc986b6></path></svg><div data-v-3fc986b6><h5 class="font-semibold text-red-900 text-xs sm:text-sm" data-v-3fc986b6>Application Incomplete</h5><p class="text-red-800 text-xs sm:text-sm mt-1" data-v-3fc986b6> Please complete all required sections before submitting. Use the Previous button to go back and fill in missing information. </p></div></div>',1)])]))])])}}},aa=Se(oa,[["__scopeId","data-v-3fc986b6"]]);function na(l,p){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z","clip-rule":"evenodd"})])}const ra={class:"space-y-4"},ia={class:"block"},ua={class:"text-sm font-medium text-gray-900"},da={key:0,class:"text-red-500"},ca={key:0,class:"text-xs text-gray-500 mt-1"},pa={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ma=["disabled"],va=["disabled"],ga={class:"text-center"},ya={class:"text-xs text-gray-500"},fa=["accept","multiple"],ba={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},xa={class:"flex items-center space-x-3"},_a={class:"flex-1"},ha={class:"mt-1 w-full bg-blue-200 rounded-full h-2"},wa={key:1,class:"space-y-2"},ka={class:"flex items-center space-x-3 flex-1 min-w-0"},Ca={class:"flex-shrink-0"},$a={key:0,class:"w-12 h-12 rounded-lg overflow-hidden border-2 border-green-300"},Va=["src","alt"],Sa={key:1,class:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center"},qa={class:"flex-1 min-w-0"},Ta={class:"text-sm font-medium text-gray-900 truncate"},Ma={class:"text-xs text-gray-500"},Aa=["onClick"],Pa={class:"bg-white rounded-2xl max-w-2xl w-full overflow-hidden shadow-2xl"},Da={class:"relative bg-black aspect-video"},ja=["src"],Ra={key:2,class:"absolute inset-0 pointer-events-none"},Ia={class:"w-full h-full grid grid-cols-3 grid-rows-3"},Na={class:"bg-gray-900 px-6 py-6"},Ba={key:0,class:"flex items-center justify-center space-x-6"},Fa={key:1,class:"flex items-center justify-center space-x-4"},La={__name:"CameraUpload",props:{label:{type:String,required:!0},helpText:{type:String,default:""},modelValue:{type:Array,default:()=>[]},accept:{type:String,default:"image/*,.pdf"},multiple:{type:Boolean,default:!1},required:{type:Boolean,default:!1},allowCamera:{type:Boolean,default:!0},maxSize:{type:Number,default:20*1024*1024}},emits:["update:modelValue","upload"],setup(l,{emit:p}){const b=l,x=p,r=h(null),C=h(null),y=h(!1),m=h(null),w=h(null),$=h(!1),k=h(0),_=q({get:()=>b.modelValue,set:P=>x("update:modelValue",P)}),a=()=>{var P;(P=r.value)==null||P.click()},V=P=>K(this,null,function*(){const S=Array.from(P.target.files);yield j(S),P.target.value=""}),j=P=>K(this,null,function*(){const S=[];for(const M of P){if(M.size>b.maxSize){alert(`File ${M.name} exceeds maximum size of ${_e(b.maxSize)}`);continue}let B=null;M.type.startsWith("image/")&&(B=yield c(M)),S.push({file:M,name:M.name,size:M.size,type:M.type,preview:B,uploadDate:new Date().toISOString()})}if(S.length>0){const M=b.multiple?[..._.value,...S]:S;x("update:modelValue",M),yield n(S)}}),c=P=>new Promise(S=>{const M=new FileReader;M.onload=B=>S(B.target.result),M.onerror=()=>S(null),M.readAsDataURL(P)}),n=P=>K(this,null,function*(){$.value=!0,k.value=0;try{for(let S=0;S<P.length;S++){const M=P[S],B=setInterval(()=>{k.value=Math.min(k.value+10,90)},100);yield new Promise(Te=>{x("upload",M,Te)}),clearInterval(B),k.value=(S+1)/P.length*100}}catch(S){console.error("Upload error:",S),alert("Failed to upload files. Please try again.")}finally{$.value=!1,k.value=0}}),i=P=>{const S=[..._.value];S.splice(P,1),x("update:modelValue",S)},v=()=>K(this,null,function*(){try{y.value=!0,yield A()}catch(P){console.error("Camera error:",P),alert("Unable to access camera. Please check permissions or upload a file instead."),y.value=!1}}),A=()=>K(this,null,function*(){try{const P=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}},audio:!1});w.value=P,C.value&&(C.value.srcObject=P)}catch(P){throw P}}),N=()=>{const P=C.value,S=document.createElement("canvas");S.width=P.videoWidth,S.height=P.videoHeight,S.getContext("2d").drawImage(P,0,0,S.width,S.height),m.value=S.toDataURL("image/jpeg",.9)},G=()=>{m.value=null},Y=()=>K(this,null,function*(){if(!m.value)return;const P=yield(yield fetch(m.value)).blob(),S=new File([P],`photo-${Date.now()}.jpg`,{type:"image/jpeg"});yield j([S]),Z()}),Z=()=>{w.value&&(w.value.getTracks().forEach(P=>P.stop()),w.value=null),m.value=null,y.value=!1},_e=P=>{if(P===0)return"0 Bytes";const S=1024,M=["Bytes","KB","MB","GB"],B=Math.floor(Math.log(P)/Math.log(S));return Math.round(P/Math.pow(S,B)*100)/100+" "+M[B]};return(P,S)=>(s(),o("div",ra,[e("label",ia,[e("span",ua,[D(f(l.label)+" ",1),l.required?(s(),o("span",da,"*")):g("",!0)]),l.helpText?(s(),o("p",ca,f(l.helpText),1)):g("",!0)]),e("div",pa,[l.allowCamera?(s(),o("button",{key:0,onClick:v,type:"button",class:I(["relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-blue-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",{"opacity-50 cursor-not-allowed":$.value}]),disabled:$.value},[...S[0]||(S[0]=[me('<div class="text-center" data-v-2bd160e5><svg class="mx-auto h-10 w-10 text-blue-500 group-hover:text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-2bd160e5><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" data-v-2bd160e5></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" data-v-2bd160e5></path></svg><p class="mt-2 text-sm font-medium text-blue-600 group-hover:text-blue-700" data-v-2bd160e5>Take Photo</p><p class="text-xs text-gray-500" data-v-2bd160e5>Use camera</p></div>',1)])],10,ma)):g("",!0),e("button",{onClick:a,type:"button",class:I(["relative flex items-center justify-center px-6 py-4 border-2 border-dashed border-gray-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",{"opacity-50 cursor-not-allowed":$.value}]),disabled:$.value},[e("div",ga,[S[1]||(S[1]=e("svg",{class:"mx-auto h-10 w-10 text-gray-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),S[2]||(S[2]=e("p",{class:"mt-2 text-sm font-medium text-gray-700 group-hover:text-blue-700"},"Upload File",-1)),e("p",ya,"Browse "+f(l.multiple?"files":"file"),1)]),e("input",{ref_key:"fileInput",ref:r,type:"file",accept:l.accept,multiple:l.multiple,onChange:V,class:"hidden"},null,40,fa)],10,va)]),$.value?(s(),o("div",ba,[e("div",xa,[S[4]||(S[4]=e("svg",{class:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e("div",_a,[S[3]||(S[3]=e("p",{class:"text-sm font-medium text-blue-900"},"Uploading...",-1)),e("div",ha,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all",style:ul({width:k.value+"%"})},null,4)])])])])):g("",!0),_.value.length>0?(s(),o("div",wa,[W(dl,{name:"list"},{default:te(()=>[(s(!0),o(U,null,O(_.value,(M,B)=>(s(),o("div",{key:M.name+B,class:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg group hover:bg-green-100 transition-colors"},[e("div",ka,[e("div",Ca,[M.preview?(s(),o("div",$a,[e("img",{src:M.preview,alt:M.name,class:"w-full h-full object-cover"},null,8,Va)])):(s(),o("div",Sa,[...S[5]||(S[5]=[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])]))]),e("div",qa,[e("p",Ta,f(M.name),1),e("p",Ma,f(_e(M.size)),1)]),e("button",{onClick:Te=>i(B),type:"button",class:"flex-shrink-0 p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-lg transition-colors",title:"Remove"},[...S[6]||(S[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Aa)])]))),128))]),_:1})])):g("",!0),(s(),ue(cl,{to:"body"},[y.value?(s(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:be(Z,["self"])},[e("div",Pa,[e("div",{class:"bg-gray-900 px-6 py-4 flex items-center justify-between"},[S[8]||(S[8]=e("h3",{class:"text-white font-semibold text-lg"},"Take Photo",-1)),e("button",{onClick:Z,class:"text-gray-400 hover:text-white transition-colors"},[...S[7]||(S[7]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Da,[m.value?(s(),o("img",{key:1,src:m.value,alt:"Captured",class:"w-full h-full object-contain"},null,8,ja)):(s(),o("video",{key:0,ref_key:"videoElement",ref:C,autoplay:"",playsinline:"",class:"w-full h-full object-contain"},null,512)),m.value?g("",!0):(s(),o("div",Ra,[e("div",Ia,[(s(),o(U,null,O(9,M=>e("div",{key:M,class:"border border-white/20"})),64))])]))]),e("div",Na,[m.value?(s(),o("div",Fa,[e("button",{onClick:G,type:"button",class:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium"}," Retake "),e("button",{onClick:Y,type:"button",class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"}," Use Photo ")])):(s(),o("div",Ba,[e("button",{onClick:N,type:"button",class:"w-16 h-16 rounded-full bg-white border-4 border-gray-700 hover:border-blue-500 transition-all flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105"},[...S[9]||(S[9]=[e("div",{class:"w-12 h-12 rounded-full bg-blue-500"},null,-1)])])]))])])])):g("",!0)]))]))}},za=Se(La,[["__scopeId","data-v-2bd160e5"]]),Ua={class:"space-y-4"},Ea={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Oa={class:"block text-sm font-medium text-gray-700 mb-2"},Ha={key:0,class:"text-red-500"},Wa={class:"relative"},Ga=["required"],Ja=["value"],Ka={class:"block text-sm font-medium text-gray-700 mb-2"},Qa={key:0,class:"text-red-500"},Xa={class:"relative"},Ya=["required","disabled"],Za=["value"],en={key:0,class:"mt-1 text-xs text-gray-500"},tn={class:"block text-sm font-medium text-gray-700 mb-2"},ln={key:0,class:"text-red-500"},sn={class:"relative"},on=["required","disabled"],an=["value"],nn={key:0,class:"mt-1 text-xs text-gray-500"},rn={class:"block text-sm font-medium text-gray-700 mb-2"},un={key:0,class:"text-red-500"},dn=["required"],cn={class:"md:col-span-2"},pn={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4"},mn={class:"flex items-start"},vn={class:"flex-1"},gn={class:"text-sm text-green-700 mt-1"},yn={__name:"PhilippinesAddressInput",props:{modelValue:{type:[String,Object],default:""},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(l,{emit:p}){const b=l,x=p,r=h({street:"",barangay:"",municipality:"",province:"",zipCode:""}),C=["Metro Manila","Rizal","Cavite","Laguna","Bulacan","Pampanga","Batangas","Quezon","Cebu","Davao del Sur","Benguet","Iloilo","Negros Occidental","Pangasinan","Albay"],y={"Metro Manila":["Manila City","Quezon City","Makati City","Pasig City","Taguig City","Mandaluyong City","Pasay City","Parañaque City","Las Piñas City","Muntinlupa City","Caloocan City","Malabon City","Navotas City","Valenzuela City","Marikina City","San Juan City","Pateros"],Rizal:["Taytay","Antipolo City","Cainta","Binangonan","San Mateo","Rodriguez (Montalban)","Angono","Cardona","Jalajala","Morong","Pililla","Tanay","Teresa","Baras"],Cavite:["Bacoor City","Cavite City","Dasmarinas City","Imus City","Tagaytay City","Trece Martires City","General Trias","Silang","Kawit","Noveleta","Rosario","Tanza","Naic"]},m={Taytay:["Dolores","San Juan","Muzon","San Isidro","Sta. Ana","Poblacion","Bagumbayan","Bamban","Calumpang","Dalig","Dolores","San Juan","Muzon"],"Manila City":["Ermita","Intramuros","Malate","Paco","Pandacan","Port Area","Quiapo","Sampaloc","San Andres","San Miguel","San Nicolas","Santa Ana","Santa Cruz","Santa Mesa","Tondo"],"Quezon City":["Bagong Pag-asa","Bahay Toro","Batasan Hills","Commonwealth","Cubao","Fairview","Kamuning","Novaliches","Project 4","Tatalon","Teacher's Village"]},w=q(()=>r.value.province?y[r.value.province]||[]:[]),$=q(()=>r.value.municipality?m[r.value.municipality]||["Other - Please specify in Street field"]:[]),k=q(()=>{const j=[];return r.value.street&&j.push(r.value.street),r.value.barangay&&j.push(`Brgy. ${r.value.barangay}`),r.value.municipality&&j.push(r.value.municipality),r.value.province&&j.push(r.value.province),r.value.zipCode&&j.push(r.value.zipCode),j.length>0?j.join(", "):""}),_=()=>{r.value.municipality="",r.value.barangay="",V()},a=()=>{r.value.barangay="",V()},V=()=>{x("update:modelValue",k.value)};return de(()=>{var j;if(b.modelValue)if(typeof b.modelValue=="string"){const c=b.modelValue.split(",").map(n=>n.trim());c.length>=3&&(r.value.street=c[0]||"",r.value.barangay=((j=c[1])==null?void 0:j.replace("Brgy. ",""))||"",r.value.municipality=c[2]||"",r.value.province=c[3]||"",r.value.zipCode=c[4]||"")}else typeof b.modelValue=="object"&&(r.value=E(E({},r.value),b.modelValue))}),le(()=>b.modelValue,j=>{j&&typeof j=="object"&&(r.value=E(E({},r.value),j))}),(j,c)=>(s(),o("div",Ua,[c[18]||(c[18]=me('<div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200"><div class="flex items-start"><svg class="h-5 w-5 text-blue-600 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><div class="flex-1"><h3 class="text-sm font-semibold text-blue-900">Residential Address</h3><p class="text-xs text-blue-700 mt-0.5">Please provide your complete address details</p></div></div></div>',1)),e("div",Ea,[e("div",null,[e("label",Oa,[c[5]||(c[5]=D(" Province ",-1)),l.required?(s(),o("span",Ha,"*")):g("",!0)]),e("div",Wa,[T(e("select",{"onUpdate:modelValue":c[0]||(c[0]=n=>r.value.province=n),onChange:_,required:l.required,class:I(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value.province}])},[c[6]||(c[6]=e("option",{value:""},"Select Province",-1)),(s(),o(U,null,O(C,n=>e("option",{key:n,value:n},f(n),9,Ja)),64))],42,Ga),[[ie,r.value.province]]),c[7]||(c[7]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("div",null,[e("label",Ka,[c[8]||(c[8]=D(" Municipality/City ",-1)),l.required?(s(),o("span",Qa,"*")):g("",!0)]),e("div",Xa,[T(e("select",{"onUpdate:modelValue":c[1]||(c[1]=n=>r.value.municipality=n),onChange:a,required:l.required,disabled:!r.value.province,class:I(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",{"border-blue-500 ring-2 ring-blue-100":r.value.municipality}])},[c[9]||(c[9]=e("option",{value:""},"Select Municipality/City",-1)),(s(!0),o(U,null,O(w.value,n=>(s(),o("option",{key:n,value:n},f(n),9,Za))),128))],42,Ya),[[ie,r.value.municipality]]),c[10]||(c[10]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),r.value.province?g("",!0):(s(),o("p",en,"Select province first"))]),e("div",null,[e("label",tn,[c[11]||(c[11]=D(" Barangay ",-1)),l.required?(s(),o("span",ln,"*")):g("",!0)]),e("div",sn,[T(e("select",{"onUpdate:modelValue":c[2]||(c[2]=n=>r.value.barangay=n),onChange:V,required:l.required,disabled:!r.value.municipality,class:I(["block w-full pl-3 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",{"border-blue-500 ring-2 ring-blue-100":r.value.barangay}])},[c[12]||(c[12]=e("option",{value:""},"Select Barangay",-1)),(s(!0),o(U,null,O($.value,n=>(s(),o("option",{key:n,value:n},f(n),9,an))),128))],42,on),[[ie,r.value.barangay]]),c[13]||(c[13]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),r.value.municipality?g("",!0):(s(),o("p",nn,"Select municipality first"))]),e("div",null,[e("label",rn,[c[14]||(c[14]=D(" Street / House No. ",-1)),l.required?(s(),o("span",un,"*")):g("",!0)]),T(e("input",{"onUpdate:modelValue":c[3]||(c[3]=n=>r.value.street=n),onInput:V,type:"text",required:l.required,placeholder:"e.g., 123 Main Street, Blk 5 Lot 10",class:I(["block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value.street}])},null,42,dn),[[L,r.value.street]])]),e("div",cn,[c[15]||(c[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[D(" ZIP Code "),e("span",{class:"text-gray-500 text-xs font-normal"},"(Optional)")],-1)),T(e("input",{"onUpdate:modelValue":c[4]||(c[4]=n=>r.value.zipCode=n),onInput:V,type:"text",placeholder:"e.g., 1630",maxlength:"4",class:"block w-full px-3 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all max-w-xs"},null,544),[[L,r.value.zipCode]])])]),k.value?(s(),o("div",pn,[e("div",mn,[c[17]||(c[17]=e("svg",{class:"h-5 w-5 text-green-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",vn,[c[16]||(c[16]=e("p",{class:"text-sm font-medium text-green-900"},"Complete Address",-1)),e("p",gn,f(k.value),1)])])])):g("",!0)]))}},fn={class:"inline-block relative group"},bn={__name:"Tooltip",props:{text:{type:String,default:""},position:{type:String,default:"top",validator:l=>["top","bottom","left","right"].includes(l)}},setup(l){const p=l,b=h(!1),x=q(()=>{switch(p.position){case"top":return"bottom-full left-1/2 -translate-x-1/2 mb-2";case"bottom":return"top-full left-1/2 -translate-x-1/2 mt-2";case"left":return"right-full top-1/2 -translate-y-1/2 mr-2";case"right":return"left-full top-1/2 -translate-y-1/2 ml-2";default:return"bottom-full left-1/2 -translate-x-1/2 mb-2"}}),r=q(()=>{switch(p.position){case"top":return"tooltip-arrow-bottom";case"bottom":return"tooltip-arrow-top";case"left":return"tooltip-arrow-right";case"right":return"tooltip-arrow-left";default:return"tooltip-arrow-bottom"}});return(C,y)=>(s(),o("div",fn,[ft(C.$slots,"trigger",{},()=>[e("button",{type:"button",class:"inline-flex items-center justify-center w-5 h-5 ml-1 text-gray-400 hover:text-blue-600 rounded-full hover:bg-blue-50 transition-colors cursor-help",onMouseenter:y[0]||(y[0]=m=>b.value=!0),onMouseleave:y[1]||(y[1]=m=>b.value=!1)},[...y[2]||(y[2]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])],32)],!0),W(pl,{name:"tooltip"},{default:te(()=>[b.value?(s(),o("div",{key:0,class:I(["absolute z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg pointer-events-none",x.value]),style:{"max-width":"300px","white-space":"normal"}},[ft(C.$slots,"default",{},()=>[D(f(l.text),1)],!0),e("div",{class:I(["tooltip-arrow",r.value])},null,2)],2)):g("",!0)]),_:3})]))}},Fe=Se(bn,[["__scopeId","data-v-1fa5e90e"]]),xn={class:"space-y-6"},_n={key:0,class:"form-group"},hn={key:1,class:"form-group"},wn=["for"],kn={key:0,class:"text-red-500 ml-1"},Cn={class:"relative"},$n=["id","onUpdate:modelValue","required","placeholder"],Vn={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},Sn=["innerHTML"],qn={key:0,class:"mt-1 text-xs text-gray-500"},Tn={key:2,class:"form-group"},Mn=["for"],An={key:0,class:"text-red-500 ml-1"},Pn={class:"relative"},Dn=["id","onUpdate:modelValue","required"],jn={value:""},Rn=["value"],In={key:0,class:"mt-1 text-xs text-gray-500"},Nn={key:3,class:"form-group"},Bn={class:"flex items-start p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors"},Fn={class:"flex items-center h-5"},Ln=["id","onUpdate:modelValue","required"],zn={class:"ml-3 text-sm"},Un=["for"],En={key:0,class:"text-red-500 ml-1"},On={key:0,class:"mt-1 text-xs text-gray-500"},Hn={key:4,class:"form-group"},Wn=["for"],Gn={key:0,class:"text-red-500 ml-1"},Jn=["id","onUpdate:modelValue","required","placeholder"],Kn={key:0,class:"mt-1 text-xs text-gray-500"},Qn={key:5,class:"form-group"},Xn=["for"],Yn={key:0,class:"text-red-500 ml-1"},Zn={class:"relative"},er=["id","onUpdate:modelValue","required"],tr={key:0,class:"mt-1 text-xs text-gray-500"},lr={key:6,class:"form-group"},sr=["for"],or={key:0,class:"text-red-500 ml-1"},ar={class:"relative"},nr=["id","onUpdate:modelValue","required","placeholder"],rr={key:0,class:"mt-1 text-xs text-gray-500"},ir={key:7,class:"form-group"},ur=["for"],dr={key:0,class:"text-red-500 ml-1"},cr={class:"relative"},pr=["id","onUpdate:modelValue","required","placeholder"],mr={key:0,class:"mt-1 text-xs text-gray-500"},vr={key:8,class:"form-group"},gr=["for"],yr={key:0,class:"text-red-500 ml-1"},fr={class:"relative"},br=["id","onUpdate:modelValue","required"],xr={key:0,class:"mt-1 text-xs text-gray-500"},_r={key:9,class:"form-group"},hr={key:10,class:"form-group"},wr={class:"text-sm text-gray-500 italic"},kr={__name:"DynamicFieldRenderer",props:{fields:{type:Array,required:!0},modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(l,{emit:p}){const b=l,x=p,r=q({get:()=>b.modelValue,set:k=>x("update:modelValue",k)}),C=q(()=>b.fields.filter(k=>(k.depends_on,!0))),y=k=>{var V;const _=((V=k.parent_section_code)==null?void 0:V.toLowerCase())||"";return["address","residential_address","permanent_address","property_address","current_address","home_address"].includes(_)&&k.field_name==="address_line"&&k.field_type==="Data"},m=k=>{var a;if(k.placeholder)return k.placeholder;const _=((a=k.field_label)==null?void 0:a.toLowerCase())||"";return _.includes("name")?"e.g., Juan Dela Cruz":_.includes("email")?"e.g., juan@example.com":_.includes("phone")||_.includes("mobile")||_.includes("contact")?"e.g., 0917 123 4567":_.includes("age")?"e.g., 25":_.includes("occupation")?"e.g., Teacher":_.includes("income")||_.includes("salary")?"e.g., 15000":`Enter ${k.field_label}`},w=k=>{var a;const _=((a=k.field_label)==null?void 0:a.toLowerCase())||"";return _.includes("email")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"/></svg>':_.includes("phone")||_.includes("mobile")||_.includes("contact")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>':_.includes("name")?'<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>':null},$=k=>k?k.split(`
`).map(_=>_.trim()).filter(Boolean):[];return le(()=>b.fields,k=>{k.forEach(_=>{_.default_value&&!r.value[_.field_name]&&(_.default_value==="Today"&&_.field_type==="Date"?r.value[_.field_name]=new Date().toISOString().split("T")[0]:r.value[_.field_name]=_.default_value)})},{immediate:!0}),(k,_)=>(s(),o("div",xn,[(s(!0),o(U,null,O(C.value,a=>(s(),o("div",{key:a.field_name,class:"field-wrapper"},[y(a)?(s(),o("div",_n,[W(yn,{modelValue:r.value[a.field_name],"onUpdate:modelValue":V=>r.value[a.field_name]=V,required:a.is_required},null,8,["modelValue","onUpdate:modelValue","required"])])):a.field_type==="Data"?(s(),o("div",hn,[e("label",{for:a.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[e("span",null,f(a.field_label),1),a.is_required?(s(),o("span",kn,"*")):g("",!0),a.help_text||a.description?(s(),ue(Fe,{key:1,text:a.help_text||a.description},null,8,["text"])):g("",!0)],8,wn),e("div",Cn,[T(e("input",{id:a.field_name,type:"text","onUpdate:modelValue":V=>r.value[a.field_name]=V,required:a.is_required,class:I(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value[a.field_name]}]),placeholder:m(a)},null,10,$n),[[L,r.value[a.field_name]]]),w(a)?(s(),o("div",Vn,[e("span",{innerHTML:w(a),class:"text-gray-400"},null,8,Sn)])):g("",!0)]),a.description?(s(),o("p",qn,f(a.description),1)):g("",!0)])):a.field_type==="Select"?(s(),o("div",Tn,[e("label",{for:a.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[e("span",null,f(a.field_label),1),a.is_required?(s(),o("span",An,"*")):g("",!0),a.help_text||a.description?(s(),ue(Fe,{key:1,text:a.help_text||a.description},null,8,["text"])):g("",!0)],8,Mn),e("div",Pn,[T(e("select",{id:a.field_name,"onUpdate:modelValue":V=>r.value[a.field_name]=V,required:a.is_required,class:I(["block w-full pl-4 pr-10 py-3 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all appearance-none bg-white",{"border-blue-500 ring-2 ring-blue-100":r.value[a.field_name]}])},[e("option",jn,"Select "+f(a.field_label),1),(s(!0),o(U,null,O($(a.options),V=>(s(),o("option",{key:V,value:V},f(V),9,Rn))),128))],10,Dn),[[ie,r.value[a.field_name]]]),_[0]||(_[0]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),a.description?(s(),o("p",In,f(a.description),1)):g("",!0)])):a.field_type==="Check"?(s(),o("div",Nn,[e("div",Bn,[e("div",Fn,[T(e("input",{id:a.field_name,type:"checkbox","onUpdate:modelValue":V=>r.value[a.field_name]=V,required:a.is_required,class:"focus:ring-blue-500 h-5 w-5 text-blue-600 border-gray-300 rounded cursor-pointer"},null,8,Ln),[[ee,r.value[a.field_name]]])]),e("div",zn,[e("label",{for:a.field_name,class:"font-medium text-gray-700 cursor-pointer"},[D(f(a.field_label)+" ",1),a.is_required?(s(),o("span",En,"*")):g("",!0)],8,Un),a.description?(s(),o("p",On,f(a.description),1)):g("",!0)])])])):a.field_type==="Text"?(s(),o("div",Hn,[e("label",{for:a.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[D(f(a.field_label)+" ",1),a.is_required?(s(),o("span",Gn,"*")):g("",!0)],8,Wn),T(e("textarea",{id:a.field_name,"onUpdate:modelValue":V=>r.value[a.field_name]=V,required:a.is_required,rows:"4",class:I(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-y",{"border-blue-500 ring-2 ring-blue-100":r.value[a.field_name]}]),placeholder:m(a)},null,10,Jn),[[L,r.value[a.field_name]]]),a.description?(s(),o("p",Kn,f(a.description),1)):g("",!0)])):a.field_type==="Date"?(s(),o("div",Qn,[e("label",{for:a.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[e("span",null,f(a.field_label),1),a.is_required?(s(),o("span",Yn,"*")):g("",!0),a.help_text||a.description?(s(),ue(Fe,{key:1,text:a.help_text||a.description},null,8,["text"])):g("",!0)],8,Xn),e("div",Zn,[T(e("input",{id:a.field_name,type:"date","onUpdate:modelValue":V=>r.value[a.field_name]=V,required:a.is_required,class:I(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value[a.field_name]}])},null,10,er),[[L,r.value[a.field_name]]]),_[1]||(_[1]=e("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1))]),a.description?(s(),o("p",tr,f(a.description),1)):g("",!0)])):a.field_type==="Int"?(s(),o("div",lr,[e("label",{for:a.field_name,class:"block text-sm font-medium text-gray-700 mb-2 flex items-center"},[e("span",null,f(a.field_label),1),a.is_required?(s(),o("span",or,"*")):g("",!0),a.help_text||a.description?(s(),ue(Fe,{key:1,text:a.help_text||a.description},null,8,["text"])):g("",!0)],8,sr),e("div",ar,[T(e("input",{id:a.field_name,type:"number","onUpdate:modelValue":V=>r.value[a.field_name]=V,required:a.is_required,step:"1",class:I(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value[a.field_name]}]),placeholder:m(a)},null,10,nr),[[L,r.value[a.field_name],void 0,{number:!0}]]),_[2]||(_[2]=e("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})])],-1))]),a.description?(s(),o("p",rr,f(a.description),1)):g("",!0)])):a.field_type==="Float"?(s(),o("div",ir,[e("label",{for:a.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[D(f(a.field_label)+" ",1),a.is_required?(s(),o("span",dr,"*")):g("",!0)],8,ur),e("div",cr,[T(e("input",{id:a.field_name,type:"number","onUpdate:modelValue":V=>r.value[a.field_name]=V,required:a.is_required,step:"0.01",class:I(["block w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value[a.field_name]}]),placeholder:m(a)},null,10,pr),[[L,r.value[a.field_name],void 0,{number:!0}]]),_[3]||(_[3]=e("div",{class:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})])],-1))]),a.description?(s(),o("p",mr,f(a.description),1)):g("",!0)])):a.field_type==="Currency"?(s(),o("div",vr,[e("label",{for:a.field_name,class:"block text-sm font-medium text-gray-700 mb-2"},[D(f(a.field_label)+" ",1),a.is_required?(s(),o("span",yr,"*")):g("",!0)],8,gr),e("div",fr,[_[4]||(_[4]=e("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 text-base font-medium"},"₱")],-1)),T(e("input",{id:a.field_name,type:"number","onUpdate:modelValue":V=>r.value[a.field_name]=V,required:a.is_required,step:"0.01",class:I(["block w-full pl-10 pr-4 py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",{"border-blue-500 ring-2 ring-blue-100":r.value[a.field_name]}]),placeholder:"0.00"},null,10,br),[[L,r.value[a.field_name],void 0,{number:!0}]])]),a.description?(s(),o("p",xr,f(a.description),1)):g("",!0)])):a.field_type==="Attach"||a.field_type==="Attach Image"?(s(),o("div",_r,[W(za,{label:a.field_label,required:a.is_required,accept:a.field_type==="Attach Image"?"image/*":"*",multiple:!1,modelValue:r.value[a.field_name],"onUpdate:modelValue":V=>r.value[a.field_name]=V},null,8,["label","required","accept","modelValue","onUpdate:modelValue"])])):(s(),o("div",hr,[e("div",wr,' Field type "'+f(a.field_type)+'" not yet supported for '+f(a.field_label),1)]))]))),128))]))}},Ze=Se(kr,[["__scopeId","data-v-f21a8f74"]]),Cr={class:"dynamic-step max-w-4xl mx-auto"},$r={class:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200"},Vr={class:"flex items-start"},Sr={class:"ml-4 flex-1"},qr={class:"text-2xl font-bold text-blue-900"},Tr={key:0,class:"mt-2 text-sm text-blue-700"},Mr={class:"space-y-6"},Ar={class:"mb-4 pb-3 border-b-2 border-gray-200"},Pr={class:"flex items-center"},Dr={class:"text-lg font-semibold text-gray-900"},jr={key:0,class:"text-red-500 ml-1"},Rr={key:0,class:"text-sm text-gray-600 mt-0.5"},Ir={key:0,class:"text-xs text-gray-500 mt-2 ml-11"},Nr={class:"section-content"},Br={key:2,class:"bg-white p-6 rounded-lg border-2 border-gray-200 shadow-sm hover:shadow-md transition-shadow"},Fr={__name:"DynamicStepRenderer",props:{stepConfig:{type:Object,required:!0},modelValue:{type:Object,required:!0},stepDescription:{type:String,default:""}},emits:["update:modelValue"],setup(l,{emit:p}){const b=l,x=p,r=q({get:()=>b.modelValue,set:m=>x("update:modelValue",m)}),C=q(()=>b.stepConfig.sections?b.stepConfig.sections.filter(m=>m.is_enabled?(m.depends_on,!0):!1):[]),y=m=>[m.section_title];return le(()=>b.stepConfig,m=>{m.sections&&m.sections.forEach(w=>{w.fields.forEach($=>{$.default_value&&!r.value[$.field_name]&&($.default_value==="Today"&&$.field_type==="Date"?r.value[$.field_name]=new Date().toISOString().split("T")[0]:r.value[$.field_name]=$.default_value)})})},{immediate:!0,deep:!0}),(m,w)=>(s(),o("div",Cr,[e("div",$r,[e("div",Vr,[w[3]||(w[3]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",Sr,[e("h2",qr,f(l.stepConfig.step_title),1),l.stepDescription?(s(),o("p",Tr,f(l.stepDescription),1)):g("",!0)])])]),e("div",Mr,[(s(!0),o(U,null,O(C.value,$=>(s(),o("div",{key:$.section_code,class:"section"},[e("div",Ar,[e("div",Pr,[w[4]||(w[4]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3"},[e("svg",{class:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),e("div",null,[e("h3",Dr,[D(f($.section_title)+" ",1),$.is_required?(s(),o("span",jr,"*")):g("",!0)]),$.section_description?(s(),o("p",Rr,f($.section_description),1)):g("",!0)])]),$.is_required?(s(),o("div",Ir,[...w[5]||(w[5]=[D(" All fields marked with ",-1),e("span",{class:"text-red-500"},"*",-1),D(" are required ",-1)])])):g("",!0)]),e("div",Nr,[$.section_type==="Tab"?(s(),ue(oe(Cl),{key:0},{default:te(()=>[W(oe($l),{class:"flex space-x-1 rounded-xl bg-blue-900/20 p-1 mb-4"},{default:te(()=>[(s(!0),o(U,null,O(y($),(k,_)=>(s(),ue(oe(Vl),{key:_,class:I(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700 ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",m.selected?"bg-white shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"])},{default:te(({selected:a})=>[D(f(k),1)]),_:2},1032,["class"]))),128))]),_:2},1024),W(oe(Sl),null,{default:te(()=>[(s(!0),o(U,null,O(y($),(k,_)=>(s(),ue(oe(ql),{key:_},{default:te(()=>[W(Ze,{fields:$.fields,modelValue:r.value,"onUpdate:modelValue":w[0]||(w[0]=a=>r.value=a)},null,8,["fields","modelValue"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)):$.section_type==="Accordion"?(s(),ue(oe(bl),{key:1},{default:te(({open:k})=>[W(oe(xl),{class:"flex w-full justify-between rounded-lg bg-blue-50 px-4 py-3 text-left text-sm font-medium text-blue-900 hover:bg-blue-100 focus:outline-none focus-visible:ring focus-visible:ring-blue-500 focus-visible:ring-opacity-75 mb-2"},{default:te(()=>[e("span",null,f($.section_title),1),W(oe(na),{class:I([k?"rotate-180 transform":"","h-5 w-5 text-blue-500"])},null,8,["class"])]),_:2},1024),W(oe(_l),{class:"px-4 pt-4 pb-2 text-sm text-gray-500"},{default:te(()=>[W(Ze,{fields:$.fields,modelValue:r.value,"onUpdate:modelValue":w[1]||(w[1]=_=>r.value=_)},null,8,["fields","modelValue"])]),_:2},1024)]),_:2},1024)):(s(),o("div",Br,[W(Ze,{fields:$.fields,modelValue:r.value,"onUpdate:modelValue":w[2]||(w[2]=k=>r.value=k)},null,8,["fields","modelValue"])]))])]))),128))])]))}},Lr=Se(Fr,[["__scopeId","data-v-7ca36352"]]),zr={class:"min-h-screen bg-gray-50"},Ur={class:"bg-white shadow-sm border-b border-gray-200"},Er={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Or={class:"flex items-center justify-between py-4"},Hr={class:"flex items-center space-x-3"},Wr={class:"text-sm text-gray-500"},Gr={class:"flex items-center gap-2"},Jr={class:"bg-white border-b border-gray-200"},Kr={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Qr={class:"flex items-center justify-between mb-2"},Xr={class:"flex flex-col items-center"},Yr={key:0},Zr={key:1},ei={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ti={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},li={key:0},si={key:1},oi={key:2},ai={key:4},ni={class:"mt-8 flex justify-between items-center"},ri={key:1},ii=["disabled"],ui=["disabled"],di={key:0},ci={key:1},pi={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},mi={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},vi={class:"flex items-center justify-between"},gi={class:"text-lg font-semibold text-gray-900"},yi={class:"px-6 py-4 space-y-4"},fi={class:"border-t border-gray-200 pt-4"},bi={class:"grid md:grid-cols-2 gap-4"},xi={class:"border-t border-gray-200 pt-4"},_i={class:"space-y-3"},hi={class:"border-t border-gray-200 pt-4"},wi={class:"flex items-start mb-3"},ki={key:0,class:"ml-7 space-y-3"},Ci={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},$i={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},Vi={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Si={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},qi={class:"flex items-center justify-between"},Ti={class:"text-lg font-semibold text-gray-900"},Mi={class:"px-6 py-4 space-y-4"},Ai={class:"border-t border-gray-200 pt-4"},Pi={class:"space-y-3"},Di={class:"border-t border-gray-200 pt-4"},ji={class:"space-y-3"},Ri={key:0,class:"mt-2 text-xs text-green-600 flex items-center gap-1"},Ii={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},Ni={class:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto"},Bi={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},Fi={class:"flex items-center justify-between"},Li={class:"text-lg font-semibold text-gray-900"},zi={class:"px-6 py-4 space-y-4"},Ui={class:"border-t border-gray-200 pt-4"},Ei={class:"grid md:grid-cols-3 gap-3"},Oi={class:"flex items-center"},Hi={class:"flex items-center"},Wi={class:"flex items-center"},Gi={class:"flex items-center"},Ji={class:"border-t border-gray-200 pt-4"},Ki={class:"space-y-2 p-3 border border-gray-200 rounded bg-gray-50"},Qi={class:"flex items-center"},Xi={class:"flex items-center"},Yi={class:"flex items-center"},Zi={class:"flex items-center"},eu={class:"flex items-center"},tu={class:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end gap-3"},lu={class:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col"},su={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4"},ou={class:"flex items-center justify-between"},au={class:"flex-1 overflow-y-auto"},nu={class:"grid md:grid-cols-3 gap-6 p-6"},ru={class:"md:col-span-2 space-y-4"},iu={class:"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200"},uu=["value"],du={class:"ml-auto text-xs text-gray-500"},cu={key:0,class:"text-center py-12"},pu={key:1,class:"space-y-3"},mu={class:"flex items-start justify-between mb-2"},vu={class:"flex-1"},gu={class:"flex items-center gap-2 mb-1"},yu={class:"text-sm font-semibold text-gray-900"},fu={key:0,class:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs font-mono rounded"},bu={class:"flex items-center gap-2 mb-2"},xu={class:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded"},_u={key:0,class:"px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded"},hu={key:1,class:"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded"},wu=["innerHTML"],ku=["onClick"],Cu={key:2,class:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300"},$u={class:"md:col-span-1 bg-gray-50 rounded-lg p-4 border border-gray-200"},Vu={class:"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between"},Su={class:"px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full"},qu={key:0,class:"space-y-2 max-h-[600px] overflow-y-auto"},Tu={class:"flex items-start justify-between mb-1"},Mu={class:"flex items-center gap-1"},Au={class:"px-1.5 py-0.5 bg-gray-100 text-gray-700 font-mono text-xs rounded"},Pu={class:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded"},Du=["onClick"],ju=["innerHTML"],Ru={key:1,class:"text-center py-8 text-xs text-gray-500"},Iu={key:0,class:"border-t border-gray-200 bg-gray-50 p-6"},Nu={class:"text-sm font-semibold text-gray-900 mb-4"},Bu={class:"grid md:grid-cols-2 gap-4 mb-4"},Fu=["value"],Lu={class:"mb-4"},zu={class:"flex justify-end gap-2 mt-4"},Uu={class:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end"},Gu={__name:"NewRequest",setup(l){const p=wt(),b=ml(),x=vl(),r=h(null),C=h(!1),y=h(null),m=h(0),w=q(()=>n.value.length),$=h(!1),k=h(!1),_=h([]);h(null),h(!1);const a=h(!1);h(!1);const V=h([]),j=h(!1),c=h(!1),n=q(()=>{const d=[];console.log("[Steps] Computing steps..."),console.log("[Steps] councilStore.isCouncilLocked:",x.isCouncilLocked),console.log("[Steps] route.query.type:",b.query.type),console.log("[Steps] formData.value.request_type:",i.value.request_type),x.isCouncilLocked?console.log("[Steps] Skipped Council step (locked)"):(d.push({title:"Council",number:d.length+1}),console.log("[Steps] Added Council step"));const t=b.query.type||b.query.locked==="true"&&i.value.request_type,u=x.isCouncilLocked&&t;return console.log("[Steps] hasPreselectedType:",t),console.log("[Steps] skipTypeStep:",u),u?console.log("[Steps] Skipped Type step (locked + preselected)"):(d.push({title:"Type",number:d.length+1}),console.log("[Steps] Added Type step")),d.push({title:"Process Info",number:d.length+1}),console.log("[Steps] Added Process Info step"),c.value&&V.value.length>0&&V.value.forEach((R,ne)=>{d.push({title:R.step_title,number:d.length+1,code:R.step_code,config:R,isDynamic:!0})}),d.push({title:"Review",number:d.length+1}),console.log("[Steps] Final steps:",d.map(R=>R.title).join(" → ")),console.log("[Steps] Total steps:",d.length),d}),i=h({council:"",request_type:"",request_category:"",property:"",property_address:"",legal_description:"",valuation_reference:"",parcel_id:"",ct_reference:"",property_coordinates:"",hazard_data:null,zone:"",activity_zone:"",brief_description:"",detailed_description:"",estimated_value:null,proposed_start_date:"",terms_accepted:!1,applicant_phone:"",applicant_type:"",submitted_on_behalf_of:"Myself",company_account:null,acting_on_behalf:!1,applicant_name:"",applicant_email:"",consent_types:[],activity_status:"",applicant_reference_number:"",delivery_preference:"",pim_reference:"",building_height:null,building_floor_area:null,earthworks_volume:null,earthworks_vertical_alteration:null,vehicle_movements_daily:null,parking_spaces_provided:null,hours_of_operation:"",consent_term_requested:"",site_topography:"",existing_vegetation_description:"",watercourses_present:!1,watercourse_description:"",existing_infrastructure:"",contamination_status_hail:"",boundary_description:"",boundary_activity_description:"",boundary_owner_approval_obtained:!1,boundary_approval_date:"",boundary_approval_document:null,natural_hazards:[],nes_assessments:[],hail_activities:[],confidential_information_claimed:!1,confidential_information_reason:"",assessment_of_effects:"",effects_on_people:"",physical_effects:"",earthworks_effects:"",discharge_contaminants_effects:"",ecosystem_effects:"",hazard_risk_assessment:"",cultural_effects:"",aee_document:null,aee_activity_description:"",aee_activity_status:"",aee_existing_environment:"",aee_site_area:null,aee_current_use:"",aee_zoning:"",aee_overlays:"",aee_designations:"",aee_part2_assessment:"",aee_plan_rules:[],aee_compliance_standards:[],aee_written_approvals:[],aee_proposed_conditions:[],aee_consultation_summary:"",alternatives_considered:"",mitigation_proposed:"",applicant_is_not_owner:!1,owner_name:"",owner_email:"",owner_phone:"",owner_address:"",certificate_of_title_document:null,declaration_rma_compliance:!1,declaration_public_information:!1,declaration_authorized:!1,invoice_to:"Applicant",invoice_name:"",invoice_email:"",invoice_address:"",purchase_order_number:"",transfer_deposit_required:!1,transfer_deposit_consent_number:"",affected_parties:[],written_approvals_obtained:0,iwi_consultation_undertaken:!1,iwi_consulted:"",cultural_impact_assessment:null,iwi_response_summary:"",specialist_reports:[],proposed_conditions:[]});h(""),h([]),h(!1),h(!1);const v=h(null),A=h([]),N=h({}),G=d=>(N.value[d]||(N.value[d]={hazard_type:d,present:!0,risk_level:"",assessment_notes:"",mitigation_required:!1}),N.value[d]);le(A,d=>{i.value.natural_hazards=d.map(t=>G(t))},{deep:!0}),le(N,()=>{i.value.natural_hazards=A.value.map(d=>G(d))},{deep:!0});const Y=[{value:"Contaminated Soil (HAIL)",label:"NES for Assessing and Managing Contaminants in Soil (HAIL)"},{value:"Air Quality",label:"NES for Air Quality"},{value:"Drinking Water",label:"NES for Sources of Human Drinking Water"},{value:"Freshwater",label:"NES for Freshwater Management"},{value:"Plantation Forestry",label:"NES for Plantation Forestry"},{value:"Electricity Transmission",label:"NES for Electricity Transmission Activities"},{value:"Telecommunications",label:"NES for Telecommunication Facilities"},{value:"Other",label:"Other NES"}],Z=h({}),_e=d=>(Z.value[d]||(Z.value[d]={nes_type:d,applies:!1,description:"",compliance_notes:""}),Z.value[d]);le(Z,()=>{i.value.nes_assessments=Y.filter(d=>_e(d.value).applies).map(d=>_e(d.value))},{deep:!0}),q(()=>i.value.nes_assessments.some(d=>d.nes_type&&d.nes_type.includes("HAIL")));const P=h(!1),S=h(null),M=h({activity_description:"",hail_category:"",currently_undertaken:!1,previously_undertaken:!1,likely_undertaken:!1,preliminary_investigation_done:!1,proposed_activities:[],notes:""}),B=h({fuel:!1,disturb:!1,sample:!1,subdivide:!1,change:!1}),Te=()=>{if(!M.value.activity_description){alert("Please enter activity description");return}const d=[];B.value.fuel&&d.push({activity_type:"Removing or replacing fuel storage system"}),B.value.disturb&&d.push({activity_type:"Disturbing soil"}),B.value.sample&&d.push({activity_type:"Sampling soil"}),B.value.subdivide&&d.push({activity_type:"Subdividing land"}),B.value.change&&d.push({activity_type:"Changing use of land"});const t=Ce(E({},M.value),{proposed_activities:d});S.value!==null?i.value.hail_activities[S.value]=t:i.value.hail_activities.push(t),P.value=!1},We=()=>{P.value=!1};h({building:!0,earthworks:!1,traffic:!1,operations:!1});const St=h(JSON.parse(JSON.stringify(i.value))),qt=q(()=>{const d=E({},i.value),t=E({},St.value);delete d.terms_accepted,delete t.terms_accepted;const u=JSON.stringify(d),R=JSON.stringify(t);return u!==R}),he=q(()=>i.value.request_category==="Resource Consent"),we=d=>{var t;return((t=i.value.consent_types)==null?void 0:t.some(u=>u.consent_type===d))||!1},ot=q(()=>we("Land Use")),Ge=q(()=>we("Subdivision")),Tt=q(()=>we("Water Permit")),Mt=q(()=>we("Discharge Permit")),At=q(()=>we("Coastal Permit"));q(()=>ot.value||Ge.value),q(()=>{const d=i.value.activity_status==="Controlled",t=!Ge.value;return d&&t&&he.value}),q(()=>(ot.value||Ge.value)&&!(Tt.value||Mt.value||At.value)),q(()=>{if(!i.value.activity_status)return null;switch(i.value.activity_status){case"Non-Complying":return"⚠️ Non-complying activities face higher scrutiny and longer processing times. Consider council meeting.";case"Discretionary":return"ℹ️ Discretionary activities may require public notification depending on effects assessment.";case"Controlled":return"✓ Controlled activities must be granted consent. Council will focus on appropriate conditions.";default:return null}});const at=q(()=>qt.value||_.value.length>0),ae=h({data:[],loading:!1,error:null}),Pt=bt({url:"frappe.client.get_list",params:{doctype:"Property",fields:["name","property_id","street_address","suburb","city","legal_description","certificate_of_title"],limit_page_length:100},auto:!1}),Me=d=>K(this,null,function*(){if(console.log("[NewRequest] onCouncilChange called with:",d),console.log("[NewRequest] formData.value.council is now:",i.value.council),!d){ae.value={data:[],loading:!1,error:null};return}ae.value.loading=!0,ae.value.error=null;try{yield x.loadRequestTypesForCouncil(d),ae.value.data=x.availableRequestTypes,console.log(`[NewRequest] Loaded ${ae.value.data.length} request types for council ${d}`)}catch(t){ae.value.error=t.message||"Failed to load request types",console.error("[NewRequest] Failed to load request types:",t)}finally{ae.value.loading=!1}}),Dt=()=>{confirm("Are you sure you want to leave? Any unsaved changes will be lost.")&&p.push({name:"Dashboard"})},jt=d=>d<m.value||d===m.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-600",Rt=d=>K(this,null,function*(){console.log("[NewRequest] Selecting Request Type:",d.name,d.type_name),i.value.request_type=d.name,i.value.request_category=d.category||"",v.value=d,console.log("[NewRequest] Form data updated:"),console.log("  request_type:",i.value.request_type),console.log("  request_category:",i.value.request_category),console.log("  council:",i.value.council),console.log("  formData.value:",i.value),d.category==="Resource Consent"&&et.user&&et.user!=="Guest"&&Pt.fetch(),yield nt(d.name)}),nt=d=>K(this,null,function*(){if(!d||!i.value.council){console.log("[NewRequest] Skipping step config load - missing requestType or council");return}try{j.value=!0,console.log("[NewRequest] Loading step config for:",d,"council:",i.value.council);const t=yield Be("lodgeick.api.get_request_type_steps",{request_type:d,council_code:i.value.council});console.log("[NewRequest] Step config API result:",t),t&&t.uses_config&&t.steps&&t.steps.length>0?(V.value=t.steps,c.value=!0,console.log("[NewRequest] Loaded",V.value.length,"configured steps")):(V.value=[],c.value=!1,console.log("[NewRequest] No step configuration found - using hardcoded flow"))}catch(t){console.error("[NewRequest] Error loading step configuration:",t),V.value=[],c.value=!1}finally{j.value=!1}}),Je=q(()=>{var t,u,R,ne,J;switch(m.value){case 1:return!!i.value.council;case 2:return!!i.value.request_type;case 3:return!0;case 4:return!0;case 5:if(he.value){const se=i.value.consent_types;if(se==null?void 0:se.some(ke=>ke.consent_type==="Land Use"||ke.consent_type==="Subdivision")){const ke=i.value.natural_hazards,Zt=i.value.no_natural_hazards_confirmed;return ke&&ke.length>0||Zt}return!0}return!0;case 6:return!0;case 7:return!0;case 8:return!0;case 9:return!0;case 10:return he.value?i.value.aee_completion_method==="upload"?!!i.value.aee_document&&!!i.value.aee_document_confirmed:!!((t=i.value.aee_activity_description)!=null&&t.trim())&&!!((u=i.value.aee_existing_environment)!=null&&u.trim())&&!!((R=i.value.assessment_of_effects)!=null&&R.trim())&&!!i.value.aee_inline_confirmed:!0;case 11:if(he.value){const se=i.value.declaration_rma_compliance&&i.value.declaration_public_information&&i.value.declaration_authorized,mt=!!((ne=i.value.applicant_signature_first_name)!=null&&ne.trim())&&!!((J=i.value.applicant_signature_last_name)!=null&&J.trim())&&!!i.value.applicant_signature_date;return se&&mt}return!0;default:return!0}}),It=d=>K(this,null,function*(){try{const u=yield(yield fetch("/api/method/lodgeick.api.load_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:d})})).json();if(u.message&&u.message.success)i.value=u.message.form_data||{},m.value=u.message.current_step||1,console.log(`Draft loaded successfully. Resuming at step ${m.value}`);else throw new Error(u.message||"Failed to load draft")}catch(t){console.error("Error loading draft:",t),alert("Failed to load draft. Starting new application.")}}),rt=(d=!1)=>K(this,null,function*(){$.value=!0;try{const u=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:i.value,current_step:m.value,total_steps:w.value})})).json();if(u.message&&u.message.success)return u.message.request_id&&!i.value.request_id&&(i.value.request_id=u.message.request_id),alert(`Draft saved successfully! Request ID: ${u.message.request_number}`),d&&p.push({name:"Dashboard"}),u.message;throw new Error(u.message||"Failed to save draft")}catch(t){return console.error("Error saving draft:",t),alert("Failed to save draft. Please try again."),null}finally{$.value=!1}}),it=()=>{var t;const d=(t=x.councils)==null?void 0:t.find(u=>u.council_code===i.value.council);return(d==null?void 0:d.council_name)||"Council"},Nt=()=>{var t;const d=(t=ae.data)==null?void 0:t.find(u=>u.name===i.value.request_type);return(d==null?void 0:d.type_name)||"N/A"},Bt=()=>{var t;const d=(t=ae.data)==null?void 0:t.find(u=>u.name===i.value.request_type);return d!=null&&d.base_fee?`$${d.base_fee}`:"TBD"},ut=()=>{Je.value&&m.value++},dt=()=>{if(!c.value||V.value.length===0)return null;const d=n.value.findIndex(u=>u.title==="Process Info"),t=m.value-d-1;return t>=0&&t<V.value.length?V.value[t]:null},ge=()=>{const d=m.value>=0&&m.value<n.value.length?n.value[m.value].title:"";return console.log("[getCurrentStepTitle] currentStep:",m.value,"title:",d,"allSteps:",n.value.map(t=>t.title).join(" → ")),d},Ft=()=>K(this,null,function*(){yield Lt()}),Lt=()=>K(this,null,function*(){if(!i.value.declaration_rma_compliance||!i.value.declaration_public_information||!i.value.declaration_authorized){alert("Please confirm all three statutory declarations before submitting your application");return}k.value=!0;try{const t=yield(yield fetch("/api/method/lodgeick.api.create_draft_request",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({data:i.value})})).json();if(!t.message||!t.message.success)throw new Error("Failed to create request");const u=t.message.request_id;if(_.value.length>0)for(const J of _.value){const se=new FormData;se.append("file",J),se.append("doctype","Request"),se.append("docname",u),se.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:se})}if(i.value.certificate_of_title_document){const J=new FormData;J.append("file",i.value.certificate_of_title_document),J.append("doctype","Request"),J.append("docname",u),J.append("fieldname","certificate_of_title_document"),J.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:J})}if(i.value.aee_document){const J=new FormData;J.append("file",i.value.aee_document),J.append("doctype","Resource Consent Application"),J.append("docname",u),J.append("fieldname","aee_document"),J.append("is_private",0),yield fetch("/api/method/upload_file",{method:"POST",headers:{"X-Frappe-CSRF-Token":window.csrf_token},body:J})}const ne=yield(yield fetch("/api/method/lodgeick.lodgeick.doctype.request.request.submit_application",{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":window.csrf_token},body:JSON.stringify({request_id:u})})).json();if(ne.message&&ne.message.success)alert(`Application submitted successfully! Request Number: ${ne.message.request_number}`),p.push({name:"Dashboard"});else throw new Error("Failed to submit application")}catch(d){console.error("Error submitting application:",d),alert("Failed to submit application")}finally{k.value=!1}});h(null);const Ke=h(!1),Ae=h(null),F=h({party_name:"",relationship:"",property_address:"",email:"",phone:"",postal_address:"",approval_obtained:!1,approval_date:"",approval_document:null,comments:""}),zt=()=>{if(!F.value.party_name||!F.value.relationship){alert("Please enter party name and relationship");return}Ae.value!==null?i.value.affected_parties[Ae.value]=E({},F.value):i.value.affected_parties.push(E({},F.value)),Ke.value=!1},Qe=()=>{Ke.value=!1},Ut=d=>{const t=d.target.files[0];if(t){if(t.size>10*1024*1024){alert("File size must be less than 10MB"),d.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png"].includes(t.type)){alert("Only PDF, Word documents, and images (JPG, PNG) are allowed"),d.target.value="";return}F.value.approval_document=t}},Xe=h(!1),Pe=h(null),H=h({report_type:"",specialist_name:"",specialist_company:"",report_date:"",document:null,summary:""}),Et=()=>{if(!H.value.report_type||!H.value.specialist_name||!H.value.report_date){alert("Please enter report type, specialist name, and report date");return}Pe.value!==null?i.value.specialist_reports[Pe.value]=E({},H.value):i.value.specialist_reports.push(E({},H.value)),Xe.value=!1},Ye=()=>{Xe.value=!1},Ot=d=>{const t=d.target.files[0];if(t){if(t.size>10*1024*1024){alert("File size must be less than 10MB"),d.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type)){alert("Only PDF and Word documents are allowed"),d.target.value="";return}H.value.document=t}},De=h(!1),pe=h(null),ct=h([]),Ht=h(!1),je=h("All"),Q=h({condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""}),pt=["All","General","Timing","Lapse","Review","Financial Contribution","Bonds","Monitoring","Environmental Management","Construction","Operation","Landscape","Ecology","Archaeology","Cultural","Traffic","Parking","Noise","Discharge","Earthworks","Heritage","Water","Coastal","Other"],Re=q(()=>je.value==="All"?ct.value:ct.value.filter(d=>d.condition_category===je.value)),Wt=d=>{const u={condition_number:(i.value.proposed_conditions.length+1).toString(),condition_category:d.condition_category,condition_text:d.condition_text,compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""};i.value.proposed_conditions.push(u)},Gt=()=>{Q.value={condition_number:(i.value.proposed_conditions.length+1).toString(),condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},pe.value=null},Jt=()=>{if(!Q.value.condition_category||!Q.value.condition_text){alert("Please enter condition category and text");return}pe.value!==null?i.value.proposed_conditions[pe.value]=E({},Q.value):i.value.proposed_conditions.push(E({},Q.value)),Q.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},pe.value=null},Kt=()=>{Q.value={condition_number:"",condition_category:"",condition_text:"",compliance_status:"Not Started",compliance_due_date:"",compliance_notes:""},pe.value=null},Qt=d=>{confirm("Remove this condition?")&&(i.value.proposed_conditions.splice(d,1),i.value.proposed_conditions.forEach((t,u)=>{t.condition_number=(u+1).toString()}))};bt({url:"lodgeick.api.book_council_meeting",makeParams:d=>d,onSuccess:d=>{d&&d.success?alert(`✅ Council Meeting Request Sent!

Task #${d.task_id} has been created for the planning team.

They will contact you within 2 business days to schedule.`):alert("Meeting request sent successfully! The planning team will contact you soon."),a.value=!1},onError:d=>{console.error("Error requesting meeting:",d),alert("Failed to request council meeting. Please try again or contact the planning team directly."),a.value=!1}});const Xt=()=>K(this,null,function*(){try{C.value=!0;const d=yield Be("lodgeick.api.get_user_profile");r.value=d,d.applicant_type&&!i.value.applicant_type&&(i.value.applicant_type=d.applicant_type),d.phone&&!i.value.applicant_phone&&!i.value.acting_on_behalf&&(i.value.applicant_phone=d.phone),i.value.acting_on_behalf||(i.value.applicant_name=`${d.first_name||""} ${d.last_name||""}`.trim()||d.email,i.value.applicant_email=d.email)}catch(d){console.error("Error loading user profile:",d)}finally{C.value=!1}}),Yt=()=>K(this,null,function*(){try{const d=yield Be("lodgeick.api.get_user_company_account");d&&(y.value=d)}catch(d){console.error("Error loading company account:",d)}});return le(()=>i.value.submitted_on_behalf_of,d=>{d==="Company"&&y.value?i.value.company_account=y.value.name:i.value.company_account=null}),le(()=>i.value.acting_on_behalf,d=>{!d&&r.value?(i.value.applicant_name=`${r.value.first_name||""} ${r.value.last_name||""}`.trim()||r.value.email,i.value.applicant_email=r.value.email,r.value.phone&&(i.value.applicant_phone=r.value.phone),r.value.applicant_type&&(i.value.applicant_type=r.value.applicant_type)):d&&(i.value.applicant_name="",i.value.applicant_email="",i.value.applicant_phone="")}),le(()=>i.value.applicant_phone,(d,t)=>K(this,null,function*(){if(!i.value.acting_on_behalf&&r.value&&d&&d!==t&&d!==r.value.phone)try{yield Be("lodgeick.api.update_user_profile",{phone:d}),r.value.phone=d,console.log("[NewRequest] Phone number saved to profile:",d)}catch(u){console.error("[NewRequest] Error saving phone to profile:",u)}})),le(()=>i.value.council,(d,t)=>{console.log("[NewRequest] formData.council changed from:",t,"to:",d),console.trace("[NewRequest] Stack trace for council change")}),de(()=>K(this,null,function*(){console.log("[NewRequest] onMounted - starting initialization"),yield Xt(),yield Yt();const d=b.params.id||b.query.draft_id;if(d){yield It(d);return}console.log("[NewRequest] Before loadLockedCouncil - isCouncilLocked:",x.isCouncilLocked);const t=yield x.loadLockedCouncil();console.log("[NewRequest] After loadLockedCouncil - result:",t),console.log("[NewRequest] After loadLockedCouncil - isCouncilLocked:",x.isCouncilLocked),console.log("[NewRequest] After loadLockedCouncil - lockedCouncil:",x.lockedCouncil);const u=b.query.type;if(console.log("[NewRequest] preselectedType from URL:",u),x.isCouncilLocked)if(console.log("[NewRequest] Council is locked:",x.lockedCouncil),i.value.council=x.lockedCouncil,yield Me(x.lockedCouncil),u){console.log("[NewRequest] Request type is pre-selected:",u),i.value.request_type=u;const R=x.requestTypes.find(ne=>ne.name===u);R&&(v.value=R,i.value.request_category=R.category||"",console.log("[NewRequest] Set selectedRequestTypeDetails:",R)),yield nt(u),m.value=0}else m.value=0;else if(x.preselectedFromUrl)console.log("[NewRequest] Setting council from URL:",x.preselectedFromUrl),i.value.council=x.preselectedFromUrl,yield Me(x.preselectedFromUrl);else{const R=yield x.getUserCouncils();R.default_council&&(console.log("[NewRequest] Setting council from user default:",R.default_council),i.value.council=R.default_council,yield Me(R.default_council))}console.log("[NewRequest] onMounted - initialization complete"),console.log("  Council:",i.value.council),console.log("  Type:",i.value.request_type),console.log("  Current Step:",m.value)})),(d,t)=>(s(),o("div",zr,[e("header",Ur,[e("div",Er,[e("div",Or,[e("div",Hr,[e("button",{onClick:Dt,class:"text-gray-500 hover:text-gray-700"},[...t[42]||(t[42]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),e("div",null,[t[43]||(t[43]=e("h1",{class:"text-xl font-bold text-gray-900"},"New Application",-1)),e("p",Wr,"Step "+f(m.value+1)+" of "+f(w.value),1)])]),e("div",Gr,[W(oe(xt),{onClick:t[0]||(t[0]=u=>rt(!1)),variant:"outline",theme:"gray",loading:$.value},{default:te(()=>[...t[44]||(t[44]=[D(" Save Draft ",-1)])]),_:1},8,["loading"]),W(oe(xt),{onClick:t[1]||(t[1]=u=>rt(!0)),variant:"outline",theme:"gray",loading:$.value},{default:te(()=>[...t[45]||(t[45]=[D(" Save Draft & Close ",-1)])]),_:1},8,["loading"])])])])]),e("div",Jr,[e("div",Kr,[e("div",Qr,[(s(!0),o(U,null,O(n.value,(u,R)=>(s(),o("div",{key:R,class:I(["flex items-center",{"flex-1":R<n.value.length-1}])},[e("div",Xr,[e("div",{class:I(["w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm",jt(R)])},[R<m.value?(s(),o("span",Yr,"✓")):(s(),o("span",Zr,f(R+1),1))],2),e("span",{class:I(["text-xs mt-2 text-center",R===m.value?"text-blue-600 font-medium":"text-gray-500"])},f(u.title),3)]),R<n.value.length-1?(s(),o("div",{key:0,class:I(["flex-1 h-1 mx-4 rounded",R<m.value?"bg-blue-600":"bg-gray-200"])},null,2)):g("",!0)],2))),128))])])]),e("main",ei,[e("div",ti,[ge()==="Council"?(s(),o("div",li,[W(Tl,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=u=>i.value=u),onCouncilChange:Me},null,8,["modelValue"])])):g("",!0),ge()==="Type"?(s(),o("div",si,[W(Ul,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=u=>i.value=u),"request-types":ae.value,onTypeSelected:Rt},null,8,["modelValue","request-types"])])):g("",!0),ge()==="Process Info"?(s(),o("div",oi,[W(xs,{"request-type-details":v.value,"council-name":it(),modelValue:i.value,"onUpdate:modelValue":t[4]||(t[4]=u=>i.value=u),onContinue:ut},null,8,["request-type-details","council-name","modelValue"])])):g("",!0),c.value&&dt()&&ge()!=="Process Info"&&ge()!=="Review"?(s(),ue(Lr,{key:3,stepConfig:dt(),modelValue:i.value,"onUpdate:modelValue":t[5]||(t[5]=u=>i.value=u)},null,8,["stepConfig","modelValue"])):g("",!0),ge()==="Review"?(s(),o("div",ai,[W(aa,{modelValue:i.value,"onUpdate:modelValue":t[6]||(t[6]=u=>i.value=u),"council-name":it(),"request-type-name":Nt(),"application-fee":Bt(),"is-resource-consent":he.value,"step-configs":V.value,"uses-configurable-steps":c.value,"request-type-details":v.value},null,8,["modelValue","council-name","request-type-name","application-fee","is-resource-consent","step-configs","uses-configurable-steps","request-type-details"])])):g("",!0)]),e("div",ni,[m.value>0?(s(),o("button",{key:0,onClick:t[7]||(t[7]=u=>m.value--),class:"px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors flex items-center"},[...t[46]||(t[46]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),D(" Previous ",-1)])])):(s(),o("div",ri)),m.value<n.value.length-1?(s(),o("button",{key:2,type:"button",onClick:ut,disabled:!Je.value,class:I(["px-6 py-3 font-medium rounded-lg transition-colors flex items-center",Je.value?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[...t[47]||(t[47]=[D(" Next ",-1),e("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],10,ii)):(s(),o("button",{key:3,onClick:Ft,disabled:!at.value||k.value,class:I(["px-6 py-3 font-medium rounded-lg transition-colors",at.value&&!k.value?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[k.value?(s(),o("span",di,"Submitting...")):(s(),o("span",ci,"Submit Application"))],10,ui))])]),Ke.value?(s(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:be(Qe,["self"])},[e("div",pi,[e("div",mi,[e("div",vi,[e("h3",gi,f(Ae.value!==null?"Edit":"Add")+" Affected Party ",1),e("button",{onClick:Qe,class:"text-gray-400 hover:text-gray-600"},[...t[48]||(t[48]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",yi,[e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[D(" Party Name "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{"onUpdate:modelValue":t[8]||(t[8]=u=>F.value.party_name=u),type:"text",required:"",placeholder:"e.g., John Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,F.value.party_name]])]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[D(" Relationship "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{"onUpdate:modelValue":t[9]||(t[9]=u=>F.value.relationship=u),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[50]||(t[50]=[me('<option value="">Select relationship</option><option value="Adjacent Property Owner">Adjacent Property Owner</option><option value="Neighbor">Neighbor</option><option value="Iwi">Iwi</option><option value="Infrastructure Provider">Infrastructure Provider</option><option value="Other">Other</option>',6)])],512),[[ie,F.value.relationship]])]),e("div",fi,[t[54]||(t[54]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Contact Information",-1)),e("div",bi,[e("div",null,[t[52]||(t[52]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Email",-1)),T(e("input",{"onUpdate:modelValue":t[10]||(t[10]=u=>F.value.email=u),type:"email",placeholder:"email@example.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,F.value.email]])]),e("div",null,[t[53]||(t[53]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Phone",-1)),T(e("input",{"onUpdate:modelValue":t[11]||(t[11]=u=>F.value.phone=u),type:"tel",placeholder:"021 123 4567",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,F.value.phone]])])])]),e("div",xi,[t[59]||(t[59]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Addresses",-1)),e("div",_i,[e("div",null,[t[55]||(t[55]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Property Address",-1)),T(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=u=>F.value.property_address=u),rows:"2",placeholder:"123 Main Street, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,F.value.property_address]]),t[56]||(t[56]=e("p",{class:"mt-1 text-xs text-gray-500"},"The property address affected by this proposal",-1))]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Postal Address",-1)),T(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=u=>F.value.postal_address=u),rows:"2",placeholder:"PO Box 123, Suburb, City",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,F.value.postal_address]]),t[58]||(t[58]=e("p",{class:"mt-1 text-xs text-gray-500"},"For correspondence (if different from property address)",-1))])])]),e("div",hi,[t[65]||(t[65]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Written Approval",-1)),e("div",wi,[T(e("input",{type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=u=>F.value.approval_obtained=u),class:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,F.value.approval_obtained]]),t[60]||(t[60]=e("label",{class:"ml-3 text-sm text-gray-700"}," Written approval obtained from this party ",-1))]),F.value.approval_obtained?(s(),o("div",ki,[e("div",null,[t[61]||(t[61]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Date",-1)),T(e("input",{"onUpdate:modelValue":t[15]||(t[15]=u=>F.value.approval_date=u),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,F.value.approval_date]])]),e("div",null,[t[63]||(t[63]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Approval Document",-1)),e("input",{type:"file",onChange:Ut,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[64]||(t[64]=e("p",{class:"mt-1 text-xs text-gray-500"},"Upload written approval (PDF, Word, or image, max 10MB)",-1)),F.value.approval_document?(s(),o("div",Ci,[t[62]||(t[62]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,f(typeof F.value.approval_document=="object"?F.value.approval_document.name:"Document attached"),1)])):g("",!0)])])):g("",!0)]),e("div",null,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Comments",-1)),T(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=u=>F.value.comments=u),rows:"3",placeholder:"Any additional notes about this party or their concerns...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,F.value.comments]])])]),e("div",$i,[e("button",{onClick:Qe,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:zt,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},f(Ae.value!==null?"Update":"Add")+" Party ",1)])])])):g("",!0),Xe.value?(s(),o("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:be(Ye,["self"])},[e("div",Vi,[e("div",Si,[e("div",qi,[e("h3",Ti,f(Pe.value!==null?"Edit":"Add")+" Specialist Report ",1),e("button",{onClick:Ye,class:"text-gray-400 hover:text-gray-600"},[...t[67]||(t[67]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Mi,[e("div",null,[t[69]||(t[69]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[D(" Report Type "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{"onUpdate:modelValue":t[17]||(t[17]=u=>H.value.report_type=u),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[68]||(t[68]=[me('<option value="">Select report type</option><option value="Traffic Impact Assessment">Traffic Impact Assessment</option><option value="Acoustic Assessment">Acoustic Assessment</option><option value="Geotechnical Report">Geotechnical Report</option><option value="Ecological Assessment">Ecological Assessment</option><option value="Archaeological Assessment">Archaeological Assessment</option><option value="Landscape Assessment">Landscape Assessment</option><option value="Contaminated Land Assessment">Contaminated Land Assessment</option><option value="Flood Risk Assessment">Flood Risk Assessment</option><option value="Other">Other</option>',10)])],512),[[ie,H.value.report_type]])]),e("div",Ai,[t[72]||(t[72]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Consultant Details",-1)),e("div",Pi,[e("div",null,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[D(" Specialist Name "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{"onUpdate:modelValue":t[18]||(t[18]=u=>H.value.specialist_name=u),type:"text",required:"",placeholder:"e.g., Dr. Jane Smith",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,H.value.specialist_name]])]),e("div",null,[t[71]||(t[71]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Company/Organization",-1)),T(e("input",{"onUpdate:modelValue":t[19]||(t[19]=u=>H.value.specialist_company=u),type:"text",placeholder:"e.g., ABC Consultants Ltd",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,H.value.specialist_company]])])])]),e("div",Di,[t[80]||(t[80]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Report Details",-1)),e("div",ji,[e("div",null,[t[73]||(t[73]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[D(" Report Date "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{"onUpdate:modelValue":t[20]||(t[20]=u=>H.value.report_date=u),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,H.value.report_date]]),t[74]||(t[74]=e("p",{class:"mt-1 text-xs text-gray-500"},"Date the report was prepared or finalized",-1))]),e("div",null,[t[76]||(t[76]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[D(" Document "),e("span",{class:"text-red-500"},"*")],-1)),e("input",{type:"file",onChange:Ot,accept:".pdf,.doc,.docx",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),t[77]||(t[77]=e("p",{class:"mt-1 text-xs text-gray-500"},"Upload the specialist report (PDF or Word, max 10MB)",-1)),H.value.document?(s(),o("div",Ri,[t[75]||(t[75]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,f(typeof H.value.document=="object"?H.value.document.name:"Document attached"),1)])):g("",!0)]),e("div",null,[t[78]||(t[78]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Summary",-1)),T(e("textarea",{"onUpdate:modelValue":t[21]||(t[21]=u=>H.value.summary=u),rows:"4",placeholder:"Brief summary of key findings and recommendations...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},null,512),[[L,H.value.summary]]),t[79]||(t[79]=e("p",{class:"mt-1 text-xs text-gray-500"},"Optional: Provide a brief summary of the report's key findings",-1))])])])]),e("div",Ii,[e("button",{onClick:Ye,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:Et,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},f(Pe.value!==null?"Update":"Add")+" Report ",1)])])])):g("",!0),P.value?(s(),o("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:be(We,["self"])},[e("div",Ni,[e("div",Bi,[e("div",Fi,[e("h3",Li,f(S.value!==null?"Edit":"Add")+" HAIL Activity ",1),e("button",{onClick:We,class:"text-gray-400 hover:text-gray-600"},[...t[81]||(t[81]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",zi,[e("div",null,[t[82]||(t[82]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[D(" Activity Description "),e("span",{class:"text-red-500"},"*")],-1)),T(e("textarea",{"onUpdate:modelValue":t[22]||(t[22]=u=>M.value.activity_description=u),rows:"3",required:"",placeholder:"Describe the HAIL activity (e.g., Former service station, industrial site)...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,M.value.activity_description]])]),e("div",null,[t[84]||(t[84]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," HAIL Category ",-1)),T(e("select",{"onUpdate:modelValue":t[23]||(t[23]=u=>M.value.hail_category=u),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[83]||(t[83]=[me('<option value="">Select HAIL category</option><option value="Category A - Petroleum/Oil Storage">Category A - Petroleum/Oil Storage</option><option value="Category B - Asbestos Products">Category B - Asbestos Products</option><option value="Category C - Chemicals">Category C - Chemicals</option><option value="Category D - Engineering Workshops">Category D - Engineering Workshops</option><option value="Category E - Gasworks/Coke Works">Category E - Gasworks/Coke Works</option><option value="Category F - Horticulture">Category F - Horticulture</option><option value="Category G - Landfills/Waste Disposal">Category G - Landfills/Waste Disposal</option><option value="Category H - Metal Treatment">Category H - Metal Treatment</option><option value="Category I - Timber Treatment">Category I - Timber Treatment</option>',10)])],512),[[ie,M.value.hail_category]])]),e("div",Ui,[t[88]||(t[88]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Activity Status",-1)),e("div",Ei,[e("div",Oi,[T(e("input",{type:"checkbox",id:"hail-current","onUpdate:modelValue":t[24]||(t[24]=u=>M.value.currently_undertaken=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,M.value.currently_undertaken]]),t[85]||(t[85]=e("label",{for:"hail-current",class:"ml-2 text-sm text-gray-700"},"Currently Being Undertaken",-1))]),e("div",Hi,[T(e("input",{type:"checkbox",id:"hail-previous","onUpdate:modelValue":t[25]||(t[25]=u=>M.value.previously_undertaken=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,M.value.previously_undertaken]]),t[86]||(t[86]=e("label",{for:"hail-previous",class:"ml-2 text-sm text-gray-700"},"Previously Undertaken",-1))]),e("div",Wi,[T(e("input",{type:"checkbox",id:"hail-likely","onUpdate:modelValue":t[26]||(t[26]=u=>M.value.likely_undertaken=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,M.value.likely_undertaken]]),t[87]||(t[87]=e("label",{for:"hail-likely",class:"ml-2 text-sm text-gray-700"},"Likely to Have Been Undertaken",-1))])])]),e("div",Gi,[T(e("input",{type:"checkbox",id:"hail-investigated","onUpdate:modelValue":t[27]||(t[27]=u=>M.value.preliminary_investigation_done=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,M.value.preliminary_investigation_done]]),t[89]||(t[89]=e("label",{for:"hail-investigated",class:"ml-2 text-sm text-gray-700"},"Preliminary Investigation Completed",-1))]),e("div",Ji,[t[95]||(t[95]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Proposed Activities",-1)),e("div",Ki,[e("div",Qi,[T(e("input",{type:"checkbox",id:"hail-activity-fuel","onUpdate:modelValue":t[28]||(t[28]=u=>B.value.fuel=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,B.value.fuel]]),t[90]||(t[90]=e("label",{for:"hail-activity-fuel",class:"ml-2 text-sm text-gray-700"},"Removing or replacing fuel storage system",-1))]),e("div",Xi,[T(e("input",{type:"checkbox",id:"hail-activity-disturb","onUpdate:modelValue":t[29]||(t[29]=u=>B.value.disturb=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,B.value.disturb]]),t[91]||(t[91]=e("label",{for:"hail-activity-disturb",class:"ml-2 text-sm text-gray-700"},"Disturbing soil",-1))]),e("div",Yi,[T(e("input",{type:"checkbox",id:"hail-activity-sample","onUpdate:modelValue":t[30]||(t[30]=u=>B.value.sample=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,B.value.sample]]),t[92]||(t[92]=e("label",{for:"hail-activity-sample",class:"ml-2 text-sm text-gray-700"},"Sampling soil",-1))]),e("div",Zi,[T(e("input",{type:"checkbox",id:"hail-activity-subdivide","onUpdate:modelValue":t[31]||(t[31]=u=>B.value.subdivide=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,B.value.subdivide]]),t[93]||(t[93]=e("label",{for:"hail-activity-subdivide",class:"ml-2 text-sm text-gray-700"},"Subdividing land",-1))]),e("div",eu,[T(e("input",{type:"checkbox",id:"hail-activity-change","onUpdate:modelValue":t[32]||(t[32]=u=>B.value.change=u),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,B.value.change]]),t[94]||(t[94]=e("label",{for:"hail-activity-change",class:"ml-2 text-sm text-gray-700"},"Changing use of land",-1))])]),t[96]||(t[96]=e("p",{class:"text-xs text-gray-500 mt-2"},"Select all proposed activities that apply",-1))]),e("div",null,[t[97]||(t[97]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Additional Notes",-1)),T(e("textarea",{"onUpdate:modelValue":t[33]||(t[33]=u=>M.value.notes=u),rows:"3",placeholder:"Additional notes about the HAIL activity...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[L,M.value.notes]])])]),e("div",tu,[e("button",{onClick:We,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:Te,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},f(S.value!==null?"Update":"Add")+" Activity ",1)])])])):g("",!0),De.value?(s(),o("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t[41]||(t[41]=be(u=>De.value=!1,["self"]))},[e("div",lu,[e("div",su,[e("div",ou,[t[99]||(t[99]=e("h3",{class:"text-lg font-semibold text-gray-900"}," Browse Condition Templates ",-1)),e("button",{onClick:t[34]||(t[34]=u=>De.value=!1),class:"text-gray-400 hover:text-gray-600"},[...t[98]||(t[98]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",au,[e("div",nu,[e("div",ru,[e("div",iu,[t[100]||(t[100]=e("label",{class:"text-sm font-medium text-gray-700"},"Filter by Category:",-1)),T(e("select",{"onUpdate:modelValue":t[35]||(t[35]=u=>je.value=u),class:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(s(),o(U,null,O(pt,u=>e("option",{key:u,value:u},f(u),9,uu)),64))],512),[[ie,je.value]]),e("span",du,f(Re.value.length)+" template"+f(Re.value.length!==1?"s":""),1)]),Ht.value?(s(),o("div",cu,[...t[101]||(t[101]=[e("svg",{class:"animate-spin h-8 w-8 mx-auto text-blue-600",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"mt-2 text-sm text-gray-500"},"Loading templates...",-1)])])):Re.value.length>0?(s(),o("div",pu,[(s(!0),o(U,null,O(Re.value,u=>(s(),o("div",{key:u.name,class:"p-4 bg-white border border-gray-300 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all"},[e("div",mu,[e("div",vu,[e("div",gu,[e("h4",yu,f(u.template_name),1),u.condition_code?(s(),o("span",fu,f(u.condition_code),1)):g("",!0)]),e("div",bu,[e("span",xu,f(u.condition_category),1),u.timing?(s(),o("span",_u,f(u.timing),1)):g("",!0),u.monitoring_required?(s(),o("span",hu," Monitoring Required ")):g("",!0)]),e("div",{class:"text-xs text-gray-700 line-clamp-3",innerHTML:u.condition_text},null,8,wu)]),e("button",{onClick:R=>Wt(u),type:"button",class:"ml-3 px-3 py-1.5 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 flex items-center gap-1 flex-shrink-0"},[...t[102]||(t[102]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),D(" Add ",-1)])],8,ku)])]))),128))])):(s(),o("div",Cu,[...t[103]||(t[103]=[e("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"text-sm text-gray-500"},"No templates found for selected category",-1)])])),e("div",{class:"pt-4 border-t border-gray-200"},[e("button",{onClick:Gt,type:"button",class:"w-full px-4 py-2.5 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 flex items-center justify-center gap-2 border-2 border-dashed border-gray-300"},[...t[104]||(t[104]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),D(" Add Custom Condition ",-1)])])])]),e("div",$u,[e("h4",Vu,[t[105]||(t[105]=e("span",null,"Selected Conditions",-1)),e("span",Su,f(i.value.proposed_conditions.length),1)]),i.value.proposed_conditions.length>0?(s(),o("div",qu,[(s(!0),o(U,null,O(i.value.proposed_conditions,(u,R)=>(s(),o("div",{key:R,class:"p-2 bg-white rounded border border-gray-300 text-xs"},[e("div",Tu,[e("div",Mu,[e("span",Au,f(u.condition_number),1),e("span",Pu,f(u.condition_category),1)]),e("button",{onClick:ne=>Qt(R),type:"button",class:"text-red-600 hover:bg-red-50 rounded p-0.5",title:"Remove"},[...t[106]||(t[106]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Du)]),e("div",{class:"text-gray-700 line-clamp-2",innerHTML:u.condition_text},null,8,ju)]))),128))])):(s(),o("div",Ru,[...t[107]||(t[107]=[e("svg",{class:"w-8 h-8 mx-auto text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),D(" No conditions selected ",-1)])]))])]),pe.value!==null||Q.value.condition_text||Q.value.condition_category?(s(),o("div",Iu,[e("h4",Nu,f(pe.value!==null?"Edit":"Add Custom")+" Condition ",1),e("div",Bu,[e("div",null,[t[108]||(t[108]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[D(" Condition Number "),e("span",{class:"text-red-500"},"*")],-1)),T(e("input",{"onUpdate:modelValue":t[36]||(t[36]=u=>Q.value.condition_number=u),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 1"},null,512),[[L,Q.value.condition_number]])]),e("div",null,[t[110]||(t[110]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[D(" Category "),e("span",{class:"text-red-500"},"*")],-1)),T(e("select",{"onUpdate:modelValue":t[37]||(t[37]=u=>Q.value.condition_category=u),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[109]||(t[109]=e("option",{value:""},"Select category",-1)),(s(!0),o(U,null,O(pt.filter(u=>u!=="All"),u=>(s(),o("option",{key:u,value:u},f(u),9,Fu))),128))],512),[[ie,Q.value.condition_category]])])]),e("div",Lu,[t[111]||(t[111]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[D(" Condition Text "),e("span",{class:"text-red-500"},"*")],-1)),T(e("textarea",{"onUpdate:modelValue":t[38]||(t[38]=u=>Q.value.condition_text=u),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter the condition text..."},null,512),[[L,Q.value.condition_text]])]),e("div",null,[t[112]||(t[112]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Notes",-1)),T(e("textarea",{"onUpdate:modelValue":t[39]||(t[39]=u=>Q.value.compliance_notes=u),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional notes about this condition..."},null,512),[[L,Q.value.compliance_notes]])]),e("div",zu,[e("button",{onClick:Kt,type:"button",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancel "),e("button",{onClick:Jt,type:"button",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},f(pe.value!==null?"Update":"Add")+" Condition ",1)])])):g("",!0)]),e("div",Uu,[e("button",{onClick:t[40]||(t[40]=u=>De.value=!1),type:"button",class:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"}," Done ")])])])):g("",!0)]))}};export{Gu as default};
//# sourceMappingURL=NewRequest-CUd3rWWu.js.map
