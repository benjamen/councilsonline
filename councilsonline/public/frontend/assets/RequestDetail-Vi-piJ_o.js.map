{"version":3,"mappings":"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","names":["_createElementBlock","_createElementVNode","_hoisted_1","_cache","_hoisted_2","__props","_createBlock","_unref","Button","$emit","_createVNode","_hoisted_3","_hoisted_4","_toDisplayString","_a","_hoisted_5","_openBlock","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_normalizeClass","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","formatMeetingDate","dateString","_Fragment","_renderList","meeting","_hoisted_17","_hoisted_18","slot","index","_hoisted_19","$event","_hoisted_22","formatDate","dateStr","SendMessageModal","defineAsyncComponent","__vitePreload","BookMeetingModal","PaymentModal","route","useRoute","router","useRouter","fileInput","ref","uploading","submitting","deleting","cancellingMeeting","showSendMessageModal","showBookMeetingModal","request","createResource","meetings","requestTypeConfig","councilDetails","watch","requestType","councilCode","clockData","progressPercent","useStatutoryClock","parsedFormData","computed","formData","standardFields","filtered","key","error","enrichedRequest","fullFormData","__spreadValues","reviewSections","step","hasPropertyDetails","_b","hasReviewContent","section","field","formatFieldValue","value","e","formatFieldLabel","fieldName","word","formatSimpleValue","formatAddress","addressObj","parts","goBack","handleUploadDocument","handleFileUpload","event","__async","files","file","handleSendMessage","handleMessageSent","handlePrintApplication","handleEditDraft","url","handleDeleteDraft","handleSubmitApplication","result","showPaymentModal","handleMakePayment","handleInvoiceRequested","invoiceData","message","handleBookMeeting","handleMeetingBooked","meetingData","editingMeeting","handleEditMeeting","handleCancelMeeting","RequestHeader","StatusBadge","_hoisted_20","_hoisted_21","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","RequestMeetingsSection","_hoisted_62","_hoisted_63","s","_hoisted_64","_hoisted_65","f","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","RequestFeesSection","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","RequestTimelineCard","RequestActionsCard","resource"],"ignoreList":[],"sources":["../../../../frontend/src/components/request/RequestActionsCard.vue","../../../../frontend/src/components/request/RequestFeesSection.vue","../../../../frontend/src/components/request/RequestMeetingsSection.vue","../../../../frontend/src/components/request/RequestTimelineCard.vue","../../../../frontend/src/pages/RequestDetail.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<!-- Quick Actions -->\n\t\t<div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n\t\t\t<h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h2>\n\n\t\t\t<div class=\"space-y-3\">\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"workflowState === 'Draft'\"\n\t\t\t\t\t@click=\"$emit('edit-draft')\"\n\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\ttheme=\"blue\"\n\t\t\t\t\tclass=\"w-full justify-start\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</template>\n\t\t\t\t\tEdit Draft\n\t\t\t\t</Button>\n\n\t\t\t\t<Button\n\t\t\t\t\t@click=\"$emit('send-message')\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tclass=\"w-full justify-start\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</template>\n\t\t\t\t\tSend Message\n\t\t\t\t</Button>\n\n\t\t\t\t<Button\n\t\t\t\t\t@click=\"$emit('print-application')\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tclass=\"w-full justify-start\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</template>\n\t\t\t\t\tPrint Application\n\t\t\t\t</Button>\n\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"workflowState === 'Draft'\"\n\t\t\t\t\t@click=\"$emit('delete-draft')\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tclass=\"w-full justify-start text-red-600 hover:text-red-700\"\n\t\t\t\t\t:loading=\"deleting\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 1 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</template>\n\t\t\t\t\tDelete Draft\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Contact Info -->\n\t\t<div class=\"bg-blue-50 rounded-lg border border-blue-200 p-6 mt-6\">\n\t\t\t<h3 class=\"text-sm font-semibold text-blue-900 mb-3\">Need Help?</h3>\n\t\t\t<p class=\"text-xs text-blue-800 mb-4\">Contact {{ councilDetails.data?.council_name || 'the council' }} for assistance with your application.</p>\n\t\t\t<div v-if=\"councilDetails.loading\" class=\"text-xs text-blue-800\">\n\t\t\t\tLoading contact information...\n\t\t\t</div>\n\t\t\t<div v-else-if=\"councilDetails.data\" class=\"space-y-2 text-xs text-blue-900\">\n\t\t\t\t<div v-if=\"councilDetails.data.contact_email\" class=\"flex items-center space-x-2\">\n\t\t\t\t\t<svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t\t<a :href=\"`mailto:${councilDetails.data.contact_email}`\" class=\"hover:underline\">\n\t\t\t\t\t\t{{ councilDetails.data.contact_email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"councilDetails.data.contact_phone\" class=\"flex items-center space-x-2\">\n\t\t\t\t\t<svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t\t<a :href=\"`tel:${councilDetails.data.contact_phone}`\" class=\"hover:underline\">\n\t\t\t\t\t\t{{ councilDetails.data.contact_phone }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { Button } from \"frappe-ui\"\n\ndefineProps({\n\tworkflowState: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tcouncilDetails: {\n\t\ttype: Object,\n\t\trequired: true,\n\t\tdefault: () => ({ loading: false, data: null }),\n\t},\n\tdeleting: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n})\n\ndefineEmits([\"edit-draft\", \"send-message\", \"print-application\", \"delete-draft\"])\n</script>\n","<template>\n\t<div>\n\t\t<!-- Fees & Payments (Council collects from user) -->\n\t\t<div v-if=\"collectPayment\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n\t\t\t<div class=\"flex justify-between items-center mb-4\">\n\t\t\t\t<h2 class=\"text-lg font-semibold text-gray-900\">Fees & Payments</h2>\n\t\t\t\t<span class=\"text-sm font-medium\" :class=\"paymentStatus === 'Paid' ? 'text-green-600' : 'text-orange-600'\">\n\t\t\t\t\t{{ paymentStatus || 'Unpaid' }}\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div class=\"space-y-3\">\n\t\t\t\t<div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n\t\t\t\t\t<span class=\"text-sm text-gray-600\">Total Fees</span>\n\t\t\t\t\t<span class=\"text-sm font-semibold text-gray-900\">${{ totalFees.toFixed(2) }}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n\t\t\t\t\t<span class=\"text-sm text-gray-600\">Total Paid</span>\n\t\t\t\t\t<span class=\"text-sm font-semibold text-green-600\">${{ totalPaid.toFixed(2) }}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex justify-between items-center py-2\">\n\t\t\t\t\t<span class=\"text-sm font-medium text-gray-900\">Outstanding</span>\n\t\t\t\t\t<span class=\"text-sm font-bold text-orange-600\">${{ (totalFees - totalPaid).toFixed(2) }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<Button\n\t\t\t\tv-if=\"totalFees > totalPaid\"\n\t\t\t\t@click=\"$emit('make-payment')\"\n\t\t\t\tvariant=\"solid\"\n\t\t\t\ttheme=\"blue\"\n\t\t\t\tclass=\"w-full mt-4\"\n\t\t\t>\n\t\t\t\tMake Payment\n\t\t\t</Button>\n\t\t</div>\n\n\t\t<!-- Payment to be Received (Council pays user - benefits) -->\n\t\t<div v-if=\"makePayment\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n\t\t\t<div class=\"flex justify-between items-center mb-4\">\n\t\t\t\t<h2 class=\"text-lg font-semibold text-gray-900\">Payment to be Received</h2>\n\t\t\t\t<span class=\"text-sm font-medium\" :class=\"paymentStatus === 'Paid' ? 'text-green-600' : 'text-orange-600'\">\n\t\t\t\t\t{{ paymentStatus || 'Pending' }}\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n\t\t\t\t<div class=\"flex items-start\">\n\t\t\t\t\t<svg class=\"h-5 w-5 text-blue-600 mt-0.5 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t<p class=\"text-sm font-medium text-blue-900\">Benefit Payment Information</p>\n\t\t\t\t\t\t<p class=\"text-sm text-blue-700 mt-1\">\n\t\t\t\t\t\t\tOnce your application is approved, you will receive payment from the council.\n\t\t\t\t\t\t\tPlease ensure your bank details are up to date.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"space-y-3\">\n\t\t\t\t<div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n\t\t\t\t\t<span class=\"text-sm text-gray-600\">Benefit Amount</span>\n\t\t\t\t\t<span class=\"text-sm font-semibold text-gray-900\">\n\t\t\t\t\t\t${{ benefitAmount.toFixed(2) }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n\t\t\t\t\t<span class=\"text-sm text-gray-600\">Payment Status</span>\n\t\t\t\t\t<span class=\"text-sm font-semibold\" :class=\"paymentStatus === 'Paid' ? 'text-green-600' : 'text-orange-600'\">\n\t\t\t\t\t\t{{ paymentStatus || 'Pending Approval' }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"selectedBankAccount\" class=\"flex justify-between items-center py-2\">\n\t\t\t\t\t<span class=\"text-sm text-gray-600\">Payment Method</span>\n\t\t\t\t\t<span class=\"text-sm font-medium text-gray-900\">Bank Transfer</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { Button } from \"frappe-ui\"\n\nconst props = defineProps({\n\t// Show collect payment section\n\tcollectPayment: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\t// Show make payment section (benefits)\n\tmakePayment: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\t// Payment status\n\tpaymentStatus: {\n\t\ttype: String,\n\t\tdefault: null,\n\t},\n\t// For collect payment section\n\ttotalFees: {\n\t\ttype: Number,\n\t\tdefault: 0,\n\t},\n\ttotalPaid: {\n\t\ttype: Number,\n\t\tdefault: 0,\n\t},\n\t// For make payment section (benefits)\n\tbenefitAmount: {\n\t\ttype: Number,\n\t\tdefault: 0,\n\t},\n\tselectedBankAccount: {\n\t\ttype: String,\n\t\tdefault: null,\n\t},\n})\n\ndefineEmits([\"make-payment\"])\n</script>\n","<template>\n\t<div v-if=\"show\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n\t\t<div class=\"flex justify-between items-start mb-4\">\n\t\t\t<div>\n\t\t\t\t<h2 class=\"text-lg font-semibold text-gray-900\">Council Meeting</h2>\n\t\t\t\t<p class=\"text-sm text-gray-600 mt-1\">\n\t\t\t\t\tSchedule a meeting with council planners to discuss your application\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<!-- Status Badge if meeting exists -->\n\t\t\t<span\n\t\t\t\tv-if=\"meetings && meetings.length > 0\"\n\t\t\t\tclass=\"px-3 py-1 rounded-full text-sm font-medium\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'bg-yellow-100 text-yellow-800': meetings[0].status === 'Requested',\n\t\t\t\t\t'bg-blue-100 text-blue-800': meetings[0].status === 'Scheduled' || meetings[0].status === 'Confirmed',\n\t\t\t\t\t'bg-green-100 text-green-800': meetings[0].status === 'Completed',\n\t\t\t\t\t'bg-gray-100 text-gray-800': meetings[0].status === 'Cancelled'\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t{{ meetings[0].status }}\n\t\t\t</span>\n\t\t</div>\n\n\t\t<!-- Meeting Details (if exists) -->\n\t\t<div v-if=\"meetings && meetings.length > 0\" class=\"space-y-4\">\n\t\t\t<div v-for=\"meeting in meetings\" :key=\"meeting.name\" class=\"border-l-4 border-blue-500 bg-blue-50 p-4 rounded\">\n\t\t\t\t<div class=\"grid grid-cols-2 gap-3 text-sm\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span class=\"font-medium text-gray-700\">Type:</span>\n\t\t\t\t\t\t<span class=\"ml-2 text-gray-900\">{{ meeting.meeting_type }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span class=\"font-medium text-gray-700\">Status:</span>\n\t\t\t\t\t\t<span class=\"ml-2 text-gray-900\">{{ meeting.status }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"meeting.scheduled_start\" class=\"col-span-2\">\n\t\t\t\t\t\t<span class=\"font-medium text-gray-700\">Scheduled:</span>\n\t\t\t\t\t\t<span class=\"ml-2 text-gray-900\">{{ formatMeetingDate(meeting.scheduled_start) }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"meeting.meeting_format\" class=\"col-span-2\">\n\t\t\t\t\t\t<span class=\"font-medium text-gray-700\">Format:</span>\n\t\t\t\t\t\t<span class=\"ml-2 text-gray-900\">{{ meeting.meeting_format }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"meeting.meeting_location\" class=\"col-span-2\">\n\t\t\t\t\t\t<span class=\"font-medium text-gray-700\">Location:</span>\n\t\t\t\t\t\t<span class=\"ml-2 text-gray-900\">{{ meeting.meeting_location }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"meeting.google_meet_link\" class=\"col-span-2\">\n\t\t\t\t\t\t<span class=\"font-medium text-gray-700\">Meeting Link:</span>\n\t\t\t\t\t\t<a :href=\"meeting.google_meet_link\" target=\"_blank\" class=\"ml-2 text-blue-600 hover:underline\">Join Meeting</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"meeting.meeting_purpose\" class=\"mt-3 pt-3 border-t border-blue-200\">\n\t\t\t\t\t<span class=\"font-medium text-gray-700 text-sm\">Purpose:</span>\n\t\t\t\t\t<p class=\"mt-1 text-sm text-gray-900\">{{ meeting.meeting_purpose }}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Proposed Time Slots -->\n\t\t\t\t<div v-if=\"meeting.status === 'Requested' && meeting.proposed_slots && meeting.proposed_slots.length > 0\" class=\"mt-3 pt-3 border-t border-blue-200\">\n\t\t\t\t\t<span class=\"font-medium text-gray-700 text-sm\">Proposed Time Slots:</span>\n\t\t\t\t\t<ul class=\"mt-2 space-y-1\">\n\t\t\t\t\t\t<li v-for=\"(slot, index) in meeting.proposed_slots\" :key=\"index\" class=\"text-sm text-gray-900 flex items-center\">\n\t\t\t\t\t\t\t<svg class=\"w-4 h-4 mr-2 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t{{ formatMeetingDate(slot) }}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Action Buttons -->\n\t\t\t\t<div v-if=\"meeting.status === 'Requested' || meeting.status === 'Scheduled'\" class=\"mt-4 pt-3 border-t border-blue-200 flex space-x-3\">\n\t\t\t\t\t<button\n\t\t\t\t\t\t@click=\"$emit('edit-meeting', meeting)\"\n\t\t\t\t\t\tclass=\"flex-1 px-4 py-2 bg-white border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors text-sm font-medium\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\tEdit Request\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\t@click=\"$emit('cancel-meeting', meeting)\"\n\t\t\t\t\t\t:disabled=\"cancelling\"\n\t\t\t\t\t\tclass=\"flex-1 px-4 py-2 bg-white border border-red-600 text-red-600 rounded-lg hover:bg-red-50 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg class=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\tCancel Meeting\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Request Meeting Button -->\n\t\t<div v-else class=\"text-center py-6\">\n\t\t\t<svg class=\"mx-auto h-12 w-12 text-gray-400 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n\t\t\t</svg>\n\t\t\t<p class=\"text-sm text-gray-600 mb-4\">\n\t\t\t\tNo meeting scheduled yet. Book a meeting to discuss your application with council planners.\n\t\t\t</p>\n\t\t\t<button\n\t\t\t\t@click=\"$emit('book-meeting')\"\n\t\t\t\tclass=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n\t\t\t>\n\t\t\t\tRequest Council Meeting\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nconst props = defineProps({\n\tshow: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\tmeetings: {\n\t\ttype: Array,\n\t\tdefault: () => [],\n\t},\n\tcancelling: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n})\n\ndefineEmits([\"book-meeting\", \"edit-meeting\", \"cancel-meeting\"])\n\nconst formatMeetingDate = (dateString) => {\n\tif (!dateString) return \"N/A\"\n\tconst date = new Date(dateString)\n\treturn date.toLocaleString(\"en-NZ\", {\n\t\tweekday: \"short\",\n\t\tyear: \"numeric\",\n\t\tmonth: \"short\",\n\t\tday: \"numeric\",\n\t\thour: \"2-digit\",\n\t\tminute: \"2-digit\",\n\t})\n}\n</script>\n","<template>\n\t<div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n\t\t<h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Processing Timeline</h2>\n\n\t\t<!-- SLA / Statutory Clock -->\n\t\t<div v-if=\"clockData.statutory_clock_started\" class=\"mb-6 p-4 bg-blue-50 rounded-lg\">\n\t\t\t<div class=\"flex items-center justify-between mb-2\">\n\t\t\t\t<span class=\"text-sm font-medium text-blue-900\">SLA / Statutory Clock</span>\n\t\t\t\t<span class=\"text-xs text-blue-700\">{{ clockData.working_days_elapsed }} of 20 days</span>\n\t\t\t</div>\n\t\t\t<div class=\"w-full bg-blue-200 rounded-full h-2\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n\t\t\t\t\t:style=\"{ width: `${progressPercent}%` }\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<p class=\"mt-2 text-xs text-blue-700\">\n\t\t\t\t{{ clockData.statutory_clock_stopped ? 'Clock stopped (RFI issued)' : `${clockData.working_days_remaining} days remaining` }}\n\t\t\t</p>\n\t\t</div>\n\n\t\t<!-- Status History -->\n\t\t<div class=\"space-y-4\">\n\t\t\t<div class=\"flex items-start space-x-3\">\n\t\t\t\t<div class=\"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\n\t\t\t\t\t<svg class=\"w-4 h-4 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t<p class=\"text-sm font-medium text-gray-900\">Application Created</p>\n\t\t\t\t\t<p class=\"text-xs text-gray-500\">{{ formatDate(creation) }}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"modified !== creation\" class=\"flex items-start space-x-3\">\n\t\t\t\t<div class=\"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n\t\t\t\t\t<svg class=\"w-4 h-4 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n\t\t\t\t\t\t<path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t<p class=\"text-sm font-medium text-gray-900\">Last Updated</p>\n\t\t\t\t\t<p class=\"text-xs text-gray-500\">{{ formatDate(modified) }}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nconst props = defineProps({\n\tclockData: {\n\t\ttype: Object,\n\t\trequired: true,\n\t\tdefault: () => ({\n\t\t\tstatutory_clock_started: false,\n\t\t\tworking_days_elapsed: 0,\n\t\t\tworking_days_remaining: 20,\n\t\t\tstatutory_clock_stopped: false,\n\t\t}),\n\t},\n\tprogressPercent: {\n\t\ttype: Number,\n\t\tdefault: 0,\n\t},\n\tcreation: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tmodified: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\n/**\n * Format date to NZ locale with date and time\n * @param {string} dateStr - ISO date string\n * @returns {string} Formatted date string\n */\nconst formatDate = (dateStr) => {\n\tif (!dateStr) return \"N/A\"\n\tconst date = new Date(dateStr)\n\treturn date.toLocaleDateString(\"en-NZ\", {\n\t\tyear: \"numeric\",\n\t\tmonth: \"short\",\n\t\tday: \"numeric\",\n\t\thour: \"2-digit\",\n\t\tminute: \"2-digit\",\n\t})\n}\n</script>\n","<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <RequestHeader\n      :title=\"request.data?.request_number || 'Loading...'\"\n      :subtitle=\"request.data?.request_type\"\n      :loading=\"request.loading\"\n      @back=\"goBack\"\n    >\n      <template #actions>\n        <StatusBadge v-if=\"request.data\" :status=\"request.data.workflow_state\" />\n        <Button\n          v-if=\"request.data?.workflow_state === 'Draft'\"\n          @click=\"handleSubmitApplication\"\n          variant=\"solid\"\n          theme=\"blue\"\n          :loading=\"submitting\"\n        >\n          Submit Application\n        </Button>\n      </template>\n    </RequestHeader>\n\n    <!-- Hidden file input -->\n    <input\n      ref=\"fileInput\"\n      type=\"file\"\n      multiple\n      class=\"hidden\"\n      @change=\"handleFileUpload\"\n    />\n\n    <!-- Loading State -->\n    <div v-if=\"request.loading\" class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n      <div class=\"text-center\">\n        <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        <p class=\"mt-4 text-gray-500\">Loading request details...</p>\n      </div>\n    </div>\n\n    <!-- Main Content -->\n    <div v-else-if=\"request.data\" class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <!-- Main Content Column -->\n        <div class=\"lg:col-span-2 space-y-6\">\n          <!-- Overview Card -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Application Overview</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Request Number</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.request_number }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Type</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.request_type }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Status</label>\n                <div class=\"mt-1\">\n                  <StatusBadge :status=\"request.data.workflow_state\" />\n                </div>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Submitted Date</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ formatDate(request.data.creation) }}</p>\n              </div>\n            </div>\n\n            <div class=\"mt-6 pt-6 border-t border-gray-200\">\n              <label class=\"text-sm font-medium text-gray-500\">Brief Description</label>\n              <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.brief_description || 'N/A' }}</p>\n            </div>\n\n            <div class=\"mt-4\">\n              <label class=\"text-sm font-medium text-gray-500\">Detailed Description</label>\n              <div class=\"mt-1 text-sm text-gray-900 prose prose-sm max-w-none\" v-html=\"request.data.detailed_description || 'N/A'\"></div>\n            </div>\n          </div>\n\n          <!-- Property Information - only show if request type has property -->\n          <div v-if=\"hasPropertyDetails\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Property Information</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div v-if=\"enrichedRequest.property_address\">\n                <label class=\"text-sm font-medium text-gray-500\">Address</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.property_address }}</p>\n              </div>\n              <div v-if=\"enrichedRequest.legal_description\">\n                <label class=\"text-sm font-medium text-gray-500\">Legal Description</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.legal_description }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Applicant Information -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Applicant Information</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Name</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.full_name || enrichedRequest.requester_name || 'N/A' }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Email</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.requester_email || 'N/A' }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Phone</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.mobile_number || enrichedRequest.requester_phone || 'N/A' }}</p>\n              </div>\n              <div>\n                <label class=\"text-sm font-medium text-gray-500\">Address</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ formatAddress(enrichedRequest.address_line) || enrichedRequest.applicant_address || 'N/A' }}</p>\n              </div>\n              <div v-if=\"enrichedRequest.applicant_company\">\n                <label class=\"text-sm font-medium text-gray-500\">Company/Organization</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.applicant_company }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- SPISC Application Details - only show if request is SPISC -->\n          <div v-if=\"request.data?.request_type?.includes('SPISC')\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">SPISC Application Details</h2>\n\n            <div class=\"space-y-6\">\n              <!-- Personal Information -->\n              <div>\n                <h3 class=\"text-sm font-semibold text-gray-700 mb-3\">Personal Information</h3>\n                <div class=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Birth Date</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ formatDate(enrichedRequest.birth_date) || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Age</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.age || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Sex</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.sex || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Civil Status</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.civil_status || 'N/A' }}</p>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Household & Economic Information -->\n              <div>\n                <h3 class=\"text-sm font-semibold text-gray-700 mb-3\">Household & Economic Information</h3>\n                <div class=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Household Size</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.household_size || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Living Arrangement</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.living_arrangement || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Monthly Income</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.monthly_income || '0' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">Income Source</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.income_source || 'N/A' }}</p>\n                  </div>\n                  <div>\n                    <label class=\"text-sm font-medium text-gray-500\">4Ps Beneficiary</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ enrichedRequest.is_4ps_beneficiary ? 'Yes' : 'No' }}</p>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Identity Documents -->\n              <div>\n                <h3 class=\"text-sm font-semibold text-gray-700 mb-3\">Identity Documents</h3>\n                <div class=\"grid grid-cols-2 gap-4\">\n                  <div v-if=\"request.data.philsys_id\">\n                    <label class=\"text-sm font-medium text-gray-500\">PhilSys ID</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.philsys_id }}</p>\n                  </div>\n                  <div v-if=\"request.data.sss_number\">\n                    <label class=\"text-sm font-medium text-gray-500\">SSS Number</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.sss_number }}</p>\n                  </div>\n                  <div v-if=\"request.data.osca_id\">\n                    <label class=\"text-sm font-medium text-gray-500\">OSCA ID</label>\n                    <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.osca_id }}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Delivery & Payment Preferences - only show if request type collects payment -->\n          <div v-if=\"requestTypeConfig.data?.collect_payment\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Delivery & Payment Preferences</h2>\n\n            <div class=\"grid grid-cols-2 gap-4\">\n              <div v-if=\"request.data.delivery_preference\">\n                <label class=\"text-sm font-medium text-gray-500\">Delivery Preference</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.delivery_preference }}</p>\n              </div>\n              <div v-if=\"request.data.invoice_to\">\n                <label class=\"text-sm font-medium text-gray-500\">Invoice To</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.invoice_to }}</p>\n              </div>\n              <div v-if=\"request.data.invoice_recipient_name\">\n                <label class=\"text-sm font-medium text-gray-500\">Invoice Recipient Name</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.invoice_recipient_name }}</p>\n              </div>\n              <div v-if=\"request.data.invoice_recipient_email\">\n                <label class=\"text-sm font-medium text-gray-500\">Invoice Recipient Email</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.invoice_recipient_email }}</p>\n              </div>\n              <div v-if=\"request.data.purchase_order_number\" class=\"col-span-2\">\n                <label class=\"text-sm font-medium text-gray-500\">Purchase Order Number</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ request.data.purchase_order_number }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Council Meeting Section -->\n          <RequestMeetingsSection\n            :show=\"requestTypeConfig.data?.council_meeting_available\"\n            :meetings=\"meetings.data\"\n            :cancelling=\"cancellingMeeting\"\n            @book-meeting=\"handleBookMeeting\"\n            @edit-meeting=\"handleEditMeeting\"\n            @cancel-meeting=\"handleCancelMeeting\"\n          />\n\n          <!-- Dynamic Application Data (using step configuration OR fallback to raw data) -->\n          <template v-if=\"reviewSections.length > 0\">\n            <div\n              v-for=\"step in reviewSections\"\n              :key=\"step.step_code\"\n              class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\"\n            >\n              <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">{{ step.step_title }}</h2>\n              <div class=\"space-y-4\">\n                <div\n                  v-for=\"section in step.sections.filter(s => s.show_on_review)\"\n                  :key=\"section.section_code\"\n                >\n                  <h3 v-if=\"section.section_title\" class=\"text-md font-medium text-gray-700 mb-3\">\n                    {{ section.section_title }}\n                  </h3>\n                  <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div\n                      v-for=\"field in section.fields.filter(f => f.show_on_review)\"\n                      :key=\"field.field_name\"\n                      class=\"border-b border-gray-100 pb-3\"\n                    >\n                      <label class=\"text-sm font-medium text-gray-500\">{{ field.review_label || field.field_label }}</label>\n                      <p class=\"mt-1 text-sm text-gray-900\">{{ formatFieldValue(field, enrichedRequest[field.field_name]) }}</p>\n                    </div>\n                  </div>\n                </div>\n                <p v-if=\"!hasReviewContent(step)\" class=\"text-gray-500 text-sm\">\n                  No information to display\n                </p>\n              </div>\n            </div>\n          </template>\n\n          <!-- Fallback: Show raw application data if config not loaded -->\n          <div v-else-if=\"parsedFormData && Object.keys(parsedFormData).length > 0\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Application Details</h2>\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div v-for=\"(value, fieldName) in parsedFormData\" :key=\"fieldName\" class=\"border-b border-gray-100 pb-3\">\n                <label class=\"text-sm font-medium text-gray-500\">{{ formatFieldLabel(fieldName) }}</label>\n                <p class=\"mt-1 text-sm text-gray-900\">{{ formatSimpleValue(value) }}</p>\n              </div>\n            </div>\n          </div>\n\n          <!-- Fees & Payments Section -->\n          <RequestFeesSection\n            :collect-payment=\"requestTypeConfig.data?.collect_payment\"\n            :make-payment=\"requestTypeConfig.data?.make_payment\"\n            :payment-status=\"request.data.payment_status\"\n            :total-fees=\"request.data.total_fees || 0\"\n            :total-paid=\"request.data.total_paid || 0\"\n            :benefit-amount=\"requestTypeConfig.data?.base_fee || 0\"\n            :selected-bank-account=\"request.data.selected_bank_account\"\n            @make-payment=\"handleMakePayment\"\n          />\n\n          <!-- Documents -->\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <div class=\"flex justify-between items-center mb-4\">\n              <h2 class=\"text-lg font-semibold text-gray-900\">Documents</h2>\n              <Button\n                @click=\"handleUploadDocument\"\n                variant=\"outline\"\n                size=\"sm\"\n                :loading=\"uploading\"\n              >\n                <template #prefix>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                  </svg>\n                </template>\n                Upload Document\n              </Button>\n            </div>\n\n            <div v-if=\"!request.data.attachments || request.data.attachments.length === 0\" class=\"text-center py-8\">\n              <svg class=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n              </svg>\n              <p class=\"mt-2 text-sm text-gray-500\">No documents uploaded yet</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Sidebar Column -->\n        <div class=\"space-y-6\">\n          <!-- Timeline -->\n          <RequestTimelineCard\n            :clock-data=\"clockData\"\n            :progress-percent=\"progressPercent\"\n            :creation=\"request.data.creation\"\n            :modified=\"request.data.modified\"\n          />\n\n          <!-- Quick Actions -->\n          <RequestActionsCard\n            :workflow-state=\"request.data.workflow_state\"\n            :council-details=\"councilDetails\"\n            :deleting=\"deleting\"\n            @edit-draft=\"handleEditDraft\"\n            @send-message=\"handleSendMessage\"\n            @print-application=\"handlePrintApplication\"\n            @delete-draft=\"handleDeleteDraft\"\n          />\n        </div>\n      </div>\n    </div>\n\n    <!-- Modals -->\n    <SendMessageModal\n      v-model:show=\"showSendMessageModal\"\n      :request-id=\"route.params.id\"\n      @sent=\"handleMessageSent\"\n    />\n\n    <BookMeetingModal\n      v-model:show=\"showBookMeetingModal\"\n      :request-id=\"route.params.id\"\n      :request-type-code=\"requestTypeConfig.data?.type_code\"\n      :council-code=\"request.data?.council\"\n      :meeting=\"editingMeeting\"\n      @booked=\"handleMeetingBooked\"\n    />\n\n    <PaymentModal\n      v-model:show=\"showPaymentModal\"\n      :request-id=\"route.params.id\"\n      :total-amount=\"resource.data?.total_fees_incl_gst || 0\"\n      :fees-excl-gst=\"resource.data?.total_fees_excl_gst || 0\"\n      :gst=\"resource.data?.gst_amount || 0\"\n      :stripe-enabled=\"false\"\n      @invoice-requested=\"handleInvoiceRequested\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { Button, createResource } from \"frappe-ui\"\nimport { computed, defineAsyncComponent, ref, watch } from \"vue\"\nimport { useRoute, useRouter } from \"vue-router\"\nimport StatusBadge from \"../components/StatusBadge.vue\"\nimport RequestActionsCard from \"../components/request/RequestActionsCard.vue\"\nimport RequestFeesSection from \"../components/request/RequestFeesSection.vue\"\nimport RequestHeader from \"../components/request/RequestHeader.vue\"\nimport RequestMeetingsSection from \"../components/request/RequestMeetingsSection.vue\"\nimport RequestTimelineCard from \"../components/request/RequestTimelineCard.vue\"\n// Lazy-loaded modals (load on demand to reduce bundle size)\nconst SendMessageModal = defineAsyncComponent(\n\t() => import(\"../components/modals/SendMessageModal.vue\"),\n)\nconst BookMeetingModal = defineAsyncComponent(\n\t() => import(\"../components/modals/BookMeetingModal.vue\"),\n)\nconst PaymentModal = defineAsyncComponent(\n\t() => import(\"../components/modals/PaymentModal.vue\"),\n)\nimport { useStatutoryClock } from \"../composables/useStatutoryClock\"\n\nconst route = useRoute()\nconst router = useRouter()\n\n// State\nconst fileInput = ref(null)\nconst uploading = ref(false)\nconst submitting = ref(false)\nconst deleting = ref(false)\nconst cancellingMeeting = ref(false)\nconst showSendMessageModal = ref(false)\nconst showBookMeetingModal = ref(false)\n\n// Get request details\nconst request = createResource({\n\turl: \"frappe.client.get\",\n\tparams: {\n\t\tdoctype: \"Request\",\n\t\tname: route.params.id,\n\t},\n\tauto: true,\n})\n\n// Get meetings for this request\nconst meetings = createResource({\n\turl: \"councilsonline.api.get_request_meetings\",\n\tparams: {\n\t\trequest_id: route.params.id,\n\t},\n\tauto: true,\n})\n\n// Get request type configuration\nconst requestTypeConfig = createResource({\n\turl: \"councilsonline.api.get_request_type_config\",\n\tauto: false,\n})\n\n// Get council details for contact information\nconst councilDetails = createResource({\n\turl: \"frappe.client.get\",\n\tauto: false,\n})\n\n// Watch for request data and load config\nwatch(\n\t() => request.data?.request_type,\n\t(requestType) => {\n\t\tif (requestType) {\n\t\t\t// Pass params directly to fetch() instead of in createResource\n\t\t\trequestTypeConfig.fetch({ request_type_code: requestType })\n\t\t}\n\t},\n\t{ immediate: true },\n)\n\n// Watch for council code and load council details\nwatch(\n\t() => request.data?.council,\n\t(councilCode) => {\n\t\tif (councilCode) {\n\t\t\tcouncilDetails.fetch({\n\t\t\t\tdoctype: \"Council\",\n\t\t\t\tname: councilCode,\n\t\t\t\tfields: [\"name\", \"council_name\", \"contact_email\", \"contact_phone\"],\n\t\t\t})\n\t\t}\n\t},\n\t{ immediate: true },\n)\n\n// Get statutory clock data from appropriate source (RC Application or Request)\nconst { clockData, progressPercent } = useStatutoryClock(request)\n\n// Parse form data from draft_full_data as fallback\nconst parsedFormData = computed(() => {\n\tif (!request.data) return {}\n\n\ttry {\n\t\tlet formData = null\n\t\tif (request.data.draft_full_data) {\n\t\t\tformData =\n\t\t\t\ttypeof request.data.draft_full_data === \"string\"\n\t\t\t\t\t? JSON.parse(request.data.draft_full_data)\n\t\t\t\t\t: request.data.draft_full_data\n\t\t}\n\n\t\tif (!formData) return {}\n\n\t\t// Filter out standard fields\n\t\tconst standardFields = [\n\t\t\t\"name\",\n\t\t\t\"owner\",\n\t\t\t\"creation\",\n\t\t\t\"modified\",\n\t\t\t\"modified_by\",\n\t\t\t\"docstatus\",\n\t\t\t\"idx\",\n\t\t\t\"council\",\n\t\t\t\"request_type\",\n\t\t\t\"request_number\",\n\t\t\t\"status\",\n\t\t\t\"requester\",\n\t\t\t\"requester_name\",\n\t\t\t\"requester_email\",\n\t\t\t\"requester_phone\",\n\t\t\t\"requester_signature\",\n\t\t\t\"applicant_address\",\n\t\t\t\"applicant_company\",\n\t\t\t\"property\",\n\t\t\t\"property_address\",\n\t\t\t\"legal_description\",\n\t\t\t\"brief_description\",\n\t\t\t\"detailed_description\",\n\t\t\t\"delivery_preference\",\n\t\t\t\"invoice_to\",\n\t\t\t\"invoice_recipient_name\",\n\t\t\t\"invoice_recipient_email\",\n\t\t\t\"purchase_order_number\",\n\t\t\t\"total_fees\",\n\t\t\t\"total_paid\",\n\t\t\t\"payment_status\",\n\t\t\t\"request_category\",\n\t\t\t\"draft_current_step\",\n\t\t\t\"draft_total_steps\",\n\t\t\t\"draft_full_data\",\n\t\t\t\"form_data\",\n\t\t\t\"signature_date\",\n\t\t]\n\n\t\tconst filtered = {}\n\t\tObject.keys(formData).forEach((key) => {\n\t\t\tif (\n\t\t\t\t!standardFields.includes(key) &&\n\t\t\t\tformData[key] !== null &&\n\t\t\t\tformData[key] !== \"\"\n\t\t\t) {\n\t\t\t\tfiltered[key] = formData[key]\n\t\t\t}\n\t\t})\n\n\t\treturn filtered\n\t} catch (error) {\n\t\tconsole.error(\"Error parsing form data:\", error)\n\t\treturn {}\n\t}\n})\n\n// Create enriched request data that merges request.data with draft_full_data\nconst enrichedRequest = computed(() => {\n\tif (!request.data) return {}\n\n\ttry {\n\t\tlet fullFormData = {}\n\t\tif (request.data.draft_full_data) {\n\t\t\tfullFormData =\n\t\t\t\ttypeof request.data.draft_full_data === \"string\"\n\t\t\t\t\t? JSON.parse(request.data.draft_full_data)\n\t\t\t\t\t: request.data.draft_full_data\n\t\t}\n\n\t\t// Merge request.data with full form data from draft_full_data\n\t\t// draft_full_data takes precedence for any overlapping keys\n\t\treturn {\n\t\t\t...request.data,\n\t\t\t...fullFormData,\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"Error merging form data:\", error)\n\t\treturn request.data\n\t}\n})\n\n// Get review sections from request type configuration (same logic as ReviewStep)\nconst reviewSections = computed(() => {\n\tif (!requestTypeConfig.data?.steps) return []\n\n\t// Filter steps that should show on review\n\treturn requestTypeConfig.data.steps.filter((step) => step.show_on_review)\n})\n\n// Check if property details should be displayed (same logic as ReviewStep)\nconst hasPropertyDetails = computed(() => {\n\t// Show if request has property address (check enriched data)\n\tif (enrichedRequest.value?.property_address) {\n\t\treturn true\n\t}\n\n\t// Check if request type config indicates property is needed\n\tif (requestTypeConfig.data?.property_required) {\n\t\treturn true\n\t}\n\n\treturn false\n})\n\n// Check if a step has any content to show on review\nconst hasReviewContent = (step) => {\n\tif (!step.sections) return false\n\n\tfor (const section of step.sections) {\n\t\tif (!section.show_on_review) continue\n\n\t\tfor (const field of section.fields) {\n\t\t\tif (field.show_on_review && request.data[field.field_name]) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false\n}\n\n// Format field value for display (same as ReviewStep)\nconst formatFieldValue = (field, value) => {\n\tif (value === undefined || value === null || value === \"\") {\n\t\treturn \"Not provided\"\n\t}\n\n\t// Check field type\n\tif (field.field_type === \"Check\") {\n\t\treturn value ? \"Yes\" : \"No\"\n\t}\n\n\tif (field.field_type === \"Date\" && value) {\n\t\t// Format date nicely\n\t\ttry {\n\t\t\treturn new Date(value).toLocaleDateString(\"en-NZ\", {\n\t\t\t\tyear: \"numeric\",\n\t\t\t\tmonth: \"long\",\n\t\t\t\tday: \"numeric\",\n\t\t\t})\n\t\t} catch (e) {\n\t\t\treturn value\n\t\t}\n\t}\n\n\tif (field.field_type === \"Currency\" && value) {\n\t\treturn `$${Number.parseFloat(value).toFixed(2)}`\n\t}\n\n\tif (Array.isArray(value)) {\n\t\treturn value.join(\", \")\n\t}\n\n\treturn value\n}\n\n// Helper function to format field labels (convert snake_case to Title Case)\nconst formatFieldLabel = (fieldName) => {\n\treturn fieldName\n\t\t.split(\"_\")\n\t\t.map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n\t\t.join(\" \")\n}\n\n// Helper function to format simple values (for fallback display)\nconst formatSimpleValue = (value) => {\n\tif (value === null || value === undefined || value === \"\") {\n\t\treturn \"Not provided\"\n\t}\n\n\tif (typeof value === \"boolean\") {\n\t\treturn value ? \"Yes\" : \"No\"\n\t}\n\n\tif (Array.isArray(value)) {\n\t\treturn value.join(\", \")\n\t}\n\n\tif (typeof value === \"object\") {\n\t\treturn JSON.stringify(value)\n\t}\n\n\t// Handle dates\n\tif (typeof value === \"string\" && /^\\d{4}-\\d{2}-\\d{2}/.test(value)) {\n\t\ttry {\n\t\t\treturn new Date(value).toLocaleDateString(\"en-NZ\", {\n\t\t\t\tyear: \"numeric\",\n\t\t\t\tmonth: \"long\",\n\t\t\t\tday: \"numeric\",\n\t\t\t})\n\t\t} catch (e) {\n\t\t\treturn value\n\t\t}\n\t}\n\n\treturn value\n}\n\n// Helper function to format address from address_line object\nconst formatAddress = (addressObj) => {\n\tif (!addressObj) return null\n\n\t// If it's already a string, return it\n\tif (typeof addressObj === \"string\") return addressObj\n\n\t// If it's an object with full_address, use that\n\tif (addressObj.full_address) return addressObj.full_address\n\n\t// Otherwise build address from components\n\tconst parts = []\n\tif (addressObj.address_line) parts.push(addressObj.address_line)\n\tif (addressObj.barangay) parts.push(`Brgy. ${addressObj.barangay}`)\n\tif (addressObj.municipality) parts.push(addressObj.municipality)\n\tif (addressObj.province) parts.push(addressObj.province)\n\tif (addressObj.zip_code) parts.push(addressObj.zip_code)\n\n\treturn parts.length > 0 ? parts.join(\", \") : null\n}\n\nconst goBack = () => {\n\trouter.push({ name: \"Dashboard\" })\n}\n\n// Format meeting date with time\nconst formatMeetingDate = (dateStr) => {\n\tif (!dateStr) return \"Not scheduled\"\n\ttry {\n\t\treturn new Date(dateStr).toLocaleString(\"en-NZ\", {\n\t\t\tweekday: \"long\",\n\t\t\tyear: \"numeric\",\n\t\t\tmonth: \"long\",\n\t\t\tday: \"numeric\",\n\t\t\thour: \"2-digit\",\n\t\t\tminute: \"2-digit\",\n\t\t})\n\t} catch (e) {\n\t\treturn dateStr\n\t}\n}\n\nconst formatDate = (dateStr) => {\n\tif (!dateStr) return \"N/A\"\n\tconst date = new Date(dateStr)\n\treturn date.toLocaleDateString(\"en-NZ\", {\n\t\tyear: \"numeric\",\n\t\tmonth: \"short\",\n\t\tday: \"numeric\",\n\t\thour: \"2-digit\",\n\t\tminute: \"2-digit\",\n\t})\n}\n\n// Quick Actions\nconst handleUploadDocument = () => {\n\tfileInput.value.click()\n}\n\nconst handleFileUpload = async (event) => {\n\tconst files = Array.from(event.target.files)\n\tif (files.length === 0) return\n\n\tuploading.value = true\n\ttry {\n\t\tfor (const file of files) {\n\t\t\tconst formData = new FormData()\n\t\t\tformData.append(\"file\", file)\n\t\t\tformData.append(\"doctype\", \"Request\")\n\t\t\tformData.append(\"docname\", request.data.name)\n\t\t\tformData.append(\"is_private\", 0)\n\n\t\t\tawait fetch(\"/api/method/upload_file\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"X-Frappe-CSRF-Token\": window.csrf_token,\n\t\t\t\t},\n\t\t\t\tbody: formData,\n\t\t\t})\n\t\t}\n\n\t\talert(`${files.length} document(s) uploaded successfully!`)\n\t\trequest.reload()\n\t\tevent.target.value = \"\" // Reset file input\n\t} catch (error) {\n\t\tconsole.error(\"Error uploading file:\", error)\n\t\talert(\"Failed to upload document. Please try again.\")\n\t} finally {\n\t\tuploading.value = false\n\t}\n}\n\nconst handleSendMessage = () => {\n\tshowSendMessageModal.value = true\n}\n\nconst handleMessageSent = () => {\n\t// Toast notification would be better than alert to avoid blocking modal close\n\t// alert('Message sent successfully! The council will respond within 2-3 business days.')\n\trequest.reload()\n}\n\nconst handlePrintApplication = () => {\n\twindow.print()\n}\n\nconst handleEditDraft = () => {\n\tif (!request.data) {\n\t\talert(\"Error: Request data not loaded\")\n\t\treturn\n\t}\n\n\tif (!request.data.request_type) {\n\t\talert(\"Error: Request type missing\")\n\t\treturn\n\t}\n\n\tconst url = `/request/new?type=${encodeURIComponent(request.data.request_type)}&draft=${encodeURIComponent(request.data.name)}`\n\trouter.push(url)\n}\n\nconst handleDeleteDraft = async () => {\n\tif (\n\t\t!confirm(\n\t\t\t\"Are you sure you want to delete this draft application? This action cannot be undone.\",\n\t\t)\n\t) {\n\t\treturn\n\t}\n\n\tdeleting.value = true\n\ttry {\n\t\tawait fetch(\"/api/method/frappe.client.delete\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-Frappe-CSRF-Token\": window.csrf_token,\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tdoctype: \"Request\",\n\t\t\t\tname: request.data.name,\n\t\t\t}),\n\t\t})\n\n\t\talert(\"Draft deleted successfully\")\n\t\trouter.push({ name: \"Dashboard\" })\n\t} catch (error) {\n\t\tconsole.error(\"Error deleting draft:\", error)\n\t\talert(\"Failed to delete draft. Please try again.\")\n\t} finally {\n\t\tdeleting.value = false\n\t}\n}\n\nconst handleSubmitApplication = async () => {\n\tif (\n\t\t!confirm(\n\t\t\t\"Are you sure you want to submit this application? Once submitted, it cannot be edited.\",\n\t\t)\n\t) {\n\t\treturn\n\t}\n\n\tsubmitting.value = true\n\ttry {\n\t\tconst response = await fetch(\n\t\t\t\"/api/method/councilsonline.councilsonline.doctype.request.request.submit_application\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\"X-Frappe-CSRF-Token\": window.csrf_token,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\trequest_id: request.data.name,\n\t\t\t\t}),\n\t\t\t},\n\t\t)\n\n\t\tconst result = await response.json()\n\n\t\tif (result.message && result.message.success) {\n\t\t\talert(\n\t\t\t\t`Application submitted successfully! Request Number: ${result.message.request_number}`,\n\t\t\t)\n\t\t\trequest.reload()\n\t\t} else {\n\t\t\tthrow new Error(\"Failed to submit application\")\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"Error submitting application:\", error)\n\t\talert(\"Failed to submit application. Please try again.\")\n\t} finally {\n\t\tsubmitting.value = false\n\t}\n}\n\nconst showPaymentModal = ref(false)\n\nconst handleMakePayment = () => {\n\tshowPaymentModal.value = true\n}\n\nconst handleInvoiceRequested = (invoiceData) => {\n\t// Show success message\n\tconst message =\n\t\tinvoiceData.warning ||\n\t\t`Invoice requested successfully!\\n\\nInvoice #${invoiceData.invoice_number}\\nAn email has been sent to ${invoiceData.email}`\n\n\talert(message)\n\n\t// Reload request to show updated payment status\n\tresource.reload()\n}\n\nconst handleBookMeeting = () => {\n\tshowBookMeetingModal.value = true\n}\n\nconst handleMeetingBooked = async (meetingData) => {\n\talert(\n\t\t`Meeting request submitted successfully!\\n\\nMeeting ID: ${meetingData.meeting_id}\\nStatus: ${meetingData.status}\\n\\nA council planner will contact you within 2 business days.`,\n\t)\n\t// Clear editing state and reload meetings list\n\teditingMeeting.value = null\n\tawait meetings.reload()\n}\n\nconst editingMeeting = ref(null)\n\nconst handleEditMeeting = (meeting) => {\n\t// Store meeting data for pre-filling the modal\n\teditingMeeting.value = meeting\n\tshowBookMeetingModal.value = true\n}\n\nconst handleCancelMeeting = async (meeting) => {\n\tif (\n\t\t!confirm(\n\t\t\t`Are you sure you want to cancel this meeting request?\\n\\nMeeting Type: ${meeting.meeting_type}\\nStatus: ${meeting.status}\\n\\nThis action cannot be undone.`,\n\t\t)\n\t) {\n\t\treturn\n\t}\n\n\tcancellingMeeting.value = true\n\ttry {\n\t\tconst response = await fetch(\"/api/method/councilsonline.api.cancel_meeting\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-Frappe-CSRF-Token\": window.csrf_token,\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tmeeting_id: meeting.name,\n\t\t\t}),\n\t\t})\n\n\t\tconst result = await response.json()\n\n\t\tif (result.message && result.message.success) {\n\t\t\talert(\"Meeting cancelled successfully.\")\n\t\t\tawait meetings.reload()\n\t\t} else {\n\t\t\tthrow new Error(result.message?.error || \"Failed to cancel meeting\")\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"Error cancelling meeting:\", error)\n\t\talert(\n\t\t\t`Failed to cancel meeting: ${error.message}\\n\\nPlease try again or contact support.`,\n\t\t)\n\t} finally {\n\t\tcancellingMeeting.value = false\n\t}\n}\n</script>\n"],"file":"assets/RequestDetail-Vi-piJ_o.js"}