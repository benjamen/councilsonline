{"version":3,"mappings":"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","names":["useSiteCouncilStore","defineStore","state","_a","_b","_c","_d","_e","_f","_g","_h","_i","_j","_k","_l","_m","_n","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_A","_B","_C","d","forceRefresh","__async","now","call","err","hexToRgb","hex","result","darkenColor","percent","rgb","factor","g","b","lightenColor","applyCssVariables","branding","root","updateFavicon","faviconUrl","link","updateDocumentTitle","appName","currentTitle","useTheme","councilStore","computed","councilName","tagline","logo","favicon","primaryColor","secondaryColor","accentColor","heroTitle","heroSubtitle","heroDescription","heroImage","ctaPrimaryText","ctaSecondaryText","feature1Title","feature1Description","feature2Title","feature2Description","feature3Title","feature3Description","feature4Title","feature4Description","footerTagline","supportEmail","supportPhone","footerAddress","website","contactEmail","contactPhone","watch","newBranding","initTheme","error","onMounted","_createElementBlock","_createVNode","_component_router_view","userResource","createResource","router","sessionUser","_sessionUser","session","reactive","email","password","routes","__vitePreload","n","createRouter","createWebHistory","to","from","next","isLoggedIn","socket","socketInitializationFailed","initSocket","host","siteName","port","socketio_port","url","io","get","obj","path","value","i","set","idx","unset","p","deepPick","paths","t","acc","cur","deepOmit","hydrateStore","store","storage","serializer","key","debug","pick","omit","beforeHydrate","afterHydrate","context","runHooks","fromStorage","deserialized","picked","omitted","persistState","toStorage","parsePersistKey","storeId","createPersistence","optionsParser","auto","pinia","persist","originalStore","persistences","_mutation","createPersistedState","options","persistKey","x","data","src_default","globalComponents","Button","TextInput","Input","FormControl","ErrorMessage","Dialog","Alert","Badge","app","createApp","App","createPinia","piniaPluginPersistedstate","setConfig","frappeRequest","resourcesPlugin","pageMetaPlugin","initApp","csrfFromCookie","row","csrfAfterFetch"],"ignoreList":[7],"sources":["../../../../frontend/src/stores/siteCouncil.js","../../../../frontend/src/composables/useTheme.js","../../../../frontend/src/App.vue","../../../../frontend/src/data/user.js","../../../../frontend/src/data/session.js","../../../../frontend/src/router.js","../../../../frontend/src/socket.js","../../../../frontend/node_modules/pinia-plugin-persistedstate/dist/index.js","../../../../frontend/src/main.js"],"sourcesContent":["/**\n * Site Council Store (Single-Tenant)\n *\n * Simplified store for single-tenant architecture where Council is a Single DocType.\n * Replaces the complex multi-tenant councilStore.js.\n */\n\nimport { call } from \"frappe-ui\"\nimport { defineStore } from \"pinia\"\n\nexport const useSiteCouncilStore = defineStore(\"siteCouncil\", {\n\tstate: () => ({\n\t\tcouncil: null,\n\t\trequestTypes: [],\n\t\tloading: false,\n\t\terror: null,\n\t\tlastFetched: null, // Cache timestamp\n\t}),\n\n\tgetters: {\n\t\t/**\n\t\t * Get council data (always available since it's a Single DocType)\n\t\t */\n\t\tcouncilData: (state) => state.council,\n\n\t\t/**\n\t\t * Check if council data is loaded\n\t\t */\n\t\tisLoaded: (state) => !!state.council,\n\n\t\t/**\n\t\t * Get available request types for this site's council\n\t\t */\n\t\tavailableRequestTypes: (state) => state.requestTypes,\n\n\t\t/**\n\t\t * Get council branding/theme colors\n\t\t */\n\t\tbranding: (state) => ({\n\t\t\t// Colors\n\t\t\tprimaryColor: state.council?.primary_color || \"#2563EB\",\n\t\t\tsecondaryColor: state.council?.secondary_color || \"#1E40AF\",\n\t\t\taccentColor: state.council?.accent_color || \"#059669\",\n\t\t\t// Identity\n\t\t\tappName: state.council?.app_name || null,\n\t\t\tcouncilName: state.council?.council_name || \"Council\",\n\t\t\ttagline: state.council?.tagline || null,\n\t\t\t// Assets\n\t\t\tlogo: state.council?.logo || null,\n\t\t\tfavicon: state.council?.favicon || null,\n\t\t\t// Landing Page - Hero\n\t\t\theroTitle: state.council?.hero_title || null,\n\t\t\theroSubtitle: state.council?.hero_subtitle || null,\n\t\t\theroDescription: state.council?.hero_description || null,\n\t\t\theroImage: state.council?.hero_image || null,\n\t\t\tctaPrimaryText: state.council?.cta_primary_text || \"Get Started\",\n\t\t\tctaSecondaryText: state.council?.cta_secondary_text || \"Learn More\",\n\t\t\t// Landing Page - Features\n\t\t\tfeature1Title: state.council?.feature_1_title || null,\n\t\t\tfeature1Description: state.council?.feature_1_description || null,\n\t\t\tfeature2Title: state.council?.feature_2_title || null,\n\t\t\tfeature2Description: state.council?.feature_2_description || null,\n\t\t\tfeature3Title: state.council?.feature_3_title || null,\n\t\t\tfeature3Description: state.council?.feature_3_description || null,\n\t\t\tfeature4Title: state.council?.feature_4_title || null,\n\t\t\tfeature4Description: state.council?.feature_4_description || null,\n\t\t\t// Footer Content\n\t\t\tfooterTagline: state.council?.footer_tagline || null,\n\t\t\tsupportEmail: state.council?.support_email || null,\n\t\t\tsupportPhone: state.council?.support_phone || null,\n\t\t\tfooterAddress: state.council?.footer_address || null,\n\t\t\t// Contact (existing)\n\t\t\twebsite: state.council?.website || null,\n\t\t\tcontactEmail: state.council?.contact_email || null,\n\t\t\tcontactPhone: state.council?.contact_phone || null,\n\t\t}),\n\n\t\t/**\n\t\t * Get meeting configuration\n\t\t */\n\t\tmeetingConfig: (state) => ({\n\t\t\tdefaultDuration: state.council?.default_meeting_duration || 60,\n\t\t\tavailableDurations: state.council?.available_meeting_durations\n\t\t\t\t?.split(\",\")\n\t\t\t\t.map((d) => Number.parseInt(d.trim())) || [30, 60, 90],\n\t\t\tbufferTime: state.council?.meeting_buffer_time || 15,\n\t\t}),\n\t},\n\n\tactions: {\n\t\t/**\n\t\t * Load council data from server\n\t\t * @param {boolean} forceRefresh - Skip cache and fetch fresh data\n\t\t */\n\t\tasync loadCouncil(forceRefresh = false) {\n\t\t\t// Cache for 5 minutes\n\t\t\tconst CACHE_DURATION = 5 * 60 * 1000\n\t\t\tconst now = Date.now()\n\n\t\t\t// Return cached data if available and not expired\n\t\t\tif (!forceRefresh && this.council && this.lastFetched) {\n\t\t\t\tconst cacheAge = now - this.lastFetched\n\t\t\t\tif (cacheAge < CACHE_DURATION) {\n\t\t\t\t\tconsole.log(\"[siteCouncil] Using cached council data\")\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.loading = true\n\t\t\tthis.error = null\n\n\t\t\ttry {\n\t\t\t\tconsole.log(\"[siteCouncil] Fetching council data...\")\n\n\t\t\t\t// Get council data (Single DocType)\n\t\t\t\tthis.council = await call(\"councilsonline.api.get_council\")\n\n\t\t\t\t// Get enabled request types\n\t\t\t\tthis.requestTypes = await call(\"councilsonline.api.get_request_types\")\n\n\t\t\t\tthis.lastFetched = now\n\n\t\t\t\tconsole.log(`[siteCouncil] Loaded: ${this.council.council_name}`)\n\t\t\t\tconsole.log(`[siteCouncil] Request Types: ${this.requestTypes.length}`)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(\"[siteCouncil] Failed to load council data:\", err)\n\t\t\t\tthis.error = err.message || \"Failed to load council data\"\n\t\t\t\tthrow err\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Reload council data (force refresh)\n\t\t */\n\t\tasync reload() {\n\t\t\treturn this.loadCouncil(true)\n\t\t},\n\n\t\t/**\n\t\t * Clear cached data\n\t\t */\n\t\tclearCache() {\n\t\t\tthis.council = null\n\t\t\tthis.requestTypes = []\n\t\t\tthis.lastFetched = null\n\t\t\tconsole.log(\"[siteCouncil] Cache cleared\")\n\t\t},\n\t},\n})\n","/**\n * Theme Composable\n * Manages dynamic theming based on Council branding settings.\n * Updates CSS variables at runtime when council data loads.\n */\n\nimport { computed, watch, onMounted } from 'vue'\nimport { useSiteCouncilStore } from '@/stores/siteCouncil'\n\n/**\n * Converts a hex color to RGB values\n * @param {string} hex - Hex color code (e.g., \"#2563EB\")\n * @returns {object} - { r, g, b }\n */\nfunction hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null\n}\n\n/**\n * Darkens a hex color by a percentage\n * @param {string} hex - Hex color code\n * @param {number} percent - Percentage to darken (0-100)\n * @returns {string} - Darkened hex color\n */\nfunction darkenColor(hex, percent) {\n  const rgb = hexToRgb(hex)\n  if (!rgb) return hex\n\n  const factor = 1 - (percent / 100)\n  const r = Math.round(rgb.r * factor)\n  const g = Math.round(rgb.g * factor)\n  const b = Math.round(rgb.b * factor)\n\n  return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`\n}\n\n/**\n * Lightens a hex color by mixing with white\n * @param {string} hex - Hex color code\n * @param {number} percent - Percentage to lighten (0-100)\n * @returns {string} - Lightened hex color\n */\nfunction lightenColor(hex, percent) {\n  const rgb = hexToRgb(hex)\n  if (!rgb) return hex\n\n  const factor = percent / 100\n  const r = Math.round(rgb.r + (255 - rgb.r) * factor)\n  const g = Math.round(rgb.g + (255 - rgb.g) * factor)\n  const b = Math.round(rgb.b + (255 - rgb.b) * factor)\n\n  return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`\n}\n\n/**\n * Applies CSS variables to the document root\n * @param {object} branding - Branding object from council\n */\nfunction applyCssVariables(branding) {\n  const root = document.documentElement\n\n  if (branding.primaryColor) {\n    root.style.setProperty('--color-primary', branding.primaryColor)\n    root.style.setProperty('--color-primary-hover', darkenColor(branding.primaryColor, 15))\n    root.style.setProperty('--color-primary-light', lightenColor(branding.primaryColor, 85))\n    root.style.setProperty('--color-primary-dark', darkenColor(branding.primaryColor, 25))\n  }\n\n  if (branding.secondaryColor) {\n    root.style.setProperty('--color-secondary', branding.secondaryColor)\n    root.style.setProperty('--color-secondary-hover', darkenColor(branding.secondaryColor, 15))\n    root.style.setProperty('--color-secondary-light', lightenColor(branding.secondaryColor, 85))\n  }\n\n  if (branding.accentColor) {\n    root.style.setProperty('--color-accent', branding.accentColor)\n    root.style.setProperty('--color-accent-hover', darkenColor(branding.accentColor, 15))\n    root.style.setProperty('--color-accent-light', lightenColor(branding.accentColor, 85))\n  }\n}\n\n/**\n * Updates the document favicon\n * @param {string} faviconUrl - URL to the favicon image\n */\nfunction updateFavicon(faviconUrl) {\n  if (!faviconUrl) return\n\n  let link = document.querySelector(\"link[rel~='icon']\")\n  if (!link) {\n    link = document.createElement('link')\n    link.rel = 'icon'\n    document.head.appendChild(link)\n  }\n  link.href = faviconUrl\n}\n\n/**\n * Updates the document title\n * @param {string} appName - Application name\n */\nfunction updateDocumentTitle(appName) {\n  if (appName) {\n    // Only update if we're on a generic page, not overriding specific titles\n    const currentTitle = document.title\n    if (currentTitle === 'CouncilsOnline' || currentTitle === 'Loading...') {\n      document.title = appName\n    }\n  }\n}\n\n/**\n * Main theme composable\n * Call this in App.vue to initialize theming\n */\nexport function useTheme() {\n  const councilStore = useSiteCouncilStore()\n\n  // Computed branding object with all theme values\n  const branding = computed(() => councilStore.branding)\n\n  // Computed values for easy template access - Identity\n  const appName = computed(() => branding.value.appName || branding.value.councilName || 'CouncilsOnline')\n  const councilName = computed(() => branding.value.councilName || 'Council')\n  const tagline = computed(() => branding.value.tagline || '')\n  const logo = computed(() => branding.value.logo || null)\n  const favicon = computed(() => branding.value.favicon || null)\n\n  // Colors\n  const primaryColor = computed(() => branding.value.primaryColor)\n  const secondaryColor = computed(() => branding.value.secondaryColor)\n  const accentColor = computed(() => branding.value.accentColor)\n\n  // Landing Page - Hero\n  const heroTitle = computed(() => branding.value.heroTitle || null)\n  const heroSubtitle = computed(() => branding.value.heroSubtitle || null)\n  const heroDescription = computed(() => branding.value.heroDescription || null)\n  const heroImage = computed(() => branding.value.heroImage || null)\n  const ctaPrimaryText = computed(() => branding.value.ctaPrimaryText || 'Get Started')\n  const ctaSecondaryText = computed(() => branding.value.ctaSecondaryText || 'Learn More')\n\n  // Landing Page - Features\n  const feature1Title = computed(() => branding.value.feature1Title || null)\n  const feature1Description = computed(() => branding.value.feature1Description || null)\n  const feature2Title = computed(() => branding.value.feature2Title || null)\n  const feature2Description = computed(() => branding.value.feature2Description || null)\n  const feature3Title = computed(() => branding.value.feature3Title || null)\n  const feature3Description = computed(() => branding.value.feature3Description || null)\n  const feature4Title = computed(() => branding.value.feature4Title || null)\n  const feature4Description = computed(() => branding.value.feature4Description || null)\n\n  // Footer Content\n  const footerTagline = computed(() => branding.value.footerTagline || null)\n  const supportEmail = computed(() => branding.value.supportEmail || branding.value.contactEmail || null)\n  const supportPhone = computed(() => branding.value.supportPhone || branding.value.contactPhone || null)\n  const footerAddress = computed(() => branding.value.footerAddress || null)\n\n  // Contact\n  const website = computed(() => branding.value.website || null)\n  const contactEmail = computed(() => branding.value.contactEmail || null)\n  const contactPhone = computed(() => branding.value.contactPhone || null)\n\n  // Watch for branding changes and apply CSS variables\n  watch(branding, (newBranding) => {\n    if (newBranding) {\n      applyCssVariables(newBranding)\n      updateFavicon(newBranding.favicon)\n      updateDocumentTitle(newBranding.appName || newBranding.councilName)\n    }\n  }, { immediate: true, deep: true })\n\n  // Initialize on mount\n  async function initTheme() {\n    try {\n      await councilStore.loadCouncil()\n      if (councilStore.branding) {\n        applyCssVariables(councilStore.branding)\n        updateFavicon(councilStore.branding.favicon)\n        updateDocumentTitle(councilStore.branding.appName || councilStore.branding.councilName)\n      }\n    } catch (error) {\n      console.warn('Failed to load council branding:', error)\n      // Use defaults - CSS variables will keep initial values\n    }\n  }\n\n  return {\n    // State - Identity\n    branding,\n    appName,\n    councilName,\n    tagline,\n    logo,\n    favicon,\n\n    // Colors\n    primaryColor,\n    secondaryColor,\n    accentColor,\n\n    // Landing Page - Hero\n    heroTitle,\n    heroSubtitle,\n    heroDescription,\n    heroImage,\n    ctaPrimaryText,\n    ctaSecondaryText,\n\n    // Landing Page - Features\n    feature1Title,\n    feature1Description,\n    feature2Title,\n    feature2Description,\n    feature3Title,\n    feature3Description,\n    feature4Title,\n    feature4Description,\n\n    // Footer Content\n    footerTagline,\n    supportEmail,\n    supportPhone,\n    footerAddress,\n\n    // Contact\n    website,\n    contactEmail,\n    contactPhone,\n\n    // Methods\n    initTheme,\n    applyCssVariables,\n\n    // Store access\n    councilStore,\n    isLoading: computed(() => councilStore.isLoading),\n    council: computed(() => councilStore.council)\n  }\n}\n\nexport default useTheme\n","<template>\n  <div>\n    <router-view />\n  </div>\n</template>\n\n<script setup>\nimport { onMounted } from 'vue'\nimport { useTheme } from '@/composables/useTheme'\n\nconst { initTheme } = useTheme()\n\nonMounted(() => {\n  initTheme()\n})\n</script>\n","import router from \"@/router\"\nimport { createResource } from \"frappe-ui\"\n\nexport const userResource = createResource({\n\turl: \"frappe.auth.get_logged_user\",\n\tcache: \"User\",\n\tonError(error) {\n\t\tif (error && error.exc_type === \"AuthenticationError\") {\n\t\t\trouter.push({ name: \"LoginPage\" })\n\t\t}\n\t},\n})\n","import router from \"@/router\"\nimport { call, createResource } from \"frappe-ui\"\nimport { computed, reactive } from \"vue\"\n\nimport { userResource } from \"./user\"\n\nexport function sessionUser() {\n\tconst cookies = new URLSearchParams(document.cookie.split(\"; \").join(\"&\"))\n\tlet _sessionUser = cookies.get(\"user_id\")\n\tif (_sessionUser === \"Guest\") {\n\t\t_sessionUser = null\n\t}\n\treturn _sessionUser\n}\n\nexport const session = reactive({\n\tlogin: createResource({\n\t\turl: \"login\",\n\t\tmakeParams({ email, password }) {\n\t\t\treturn {\n\t\t\t\tusr: email,\n\t\t\t\tpwd: password,\n\t\t\t}\n\t\t},\n\t\tasync onSuccess() {\n\t\t\tuserResource.reload()\n\t\t\tsession.user = sessionUser()\n\t\t\tsession.login.reset()\n\n\t\t\t// Track login event for analytics\n\t\t\ttry {\n\t\t\t\tawait call(\"councilsonline.api.track_login_event\", {\n\t\t\t\t\tsource: \"web\",\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to track login event:\", error)\n\t\t\t\t// Don't block login if tracking fails\n\t\t\t}\n\n\t\t\t// Always redirect to main dashboard (single-tenant)\n\t\t\trouter.replace({ name: \"Dashboard\" })\n\t\t},\n\t}),\n\tlogout: createResource({\n\t\turl: \"logout\",\n\t\tonSuccess() {\n\t\t\tuserResource.reset()\n\t\t\tsession.user = sessionUser()\n\t\t\trouter.replace({ name: \"Login\" })\n\t\t},\n\t}),\n\tuser: sessionUser(),\n\tisLoggedIn: computed(() => !!session.user),\n})\n","import { userResource } from \"@/data/user\"\nimport { createRouter, createWebHistory } from \"vue-router\"\nimport { session } from \"./data/session\"\n\nconst routes = [\n\t{\n\t\tpath: \"/\",\n\t\tname: \"Landing\",\n\t\tcomponent: () => import(\"@/pages/Landing.vue\"),\n\t\tmeta: { public: true },\n\t},\n\t{\n\t\tpath: \"/dashboard\",\n\t\tname: \"Dashboard\",\n\t\tcomponent: () => import(\"@/pages/Dashboard.vue\"),\n\t},\n\t{\n\t\tpath: \"/home\",\n\t\tname: \"Home\",\n\t\tcomponent: () => import(\"@/pages/Home.vue\"),\n\t},\n\t{\n\t\tpath: \"/request/new\",\n\t\tname: \"NewRequest\",\n\t\tcomponent: () => import(\"@/pages/NewRequest.vue\"),\n\t\tmeta: { public: true },\n\t},\n\t{\n\t\tpath: \"/request/:id\",\n\t\tname: \"RequestDetail\",\n\t\tcomponent: () => import(\"@/pages/RequestDetail.vue\"),\n\t},\n\t{\n\t\tpath: \"/internal\",\n\t\tname: \"InternalRequestManagement\",\n\t\tcomponent: () => import(\"@/pages/InternalRequestManagement.vue\"),\n\t},\n\t{\n\t\tpath: \"/internal/request/:id\",\n\t\tname: \"InternalRequestDetail\",\n\t\tcomponent: () => import(\"@/pages/InternalRequestDetail.vue\"),\n\t},\n\t{\n\t\tpath: \"/settings\",\n\t\tname: \"Settings\",\n\t\tcomponent: () => import(\"@/pages/Settings.vue\"),\n\t},\n\t{\n\t\tpath: \"/admin/request-type-builder\",\n\t\tname: \"RequestTypeBuilder\",\n\t\tcomponent: () => import(\"@/pages/RequestTypeBuilder.vue\"),\n\t\tmeta: { requiresAdmin: true },\n\t},\n\t{\n\t\tpath: \"/admin/assessment-template-builder\",\n\t\tname: \"AssessmentTemplateBuilder\",\n\t\tcomponent: () => import(\"@/pages/AssessmentTemplateBuilder.vue\"),\n\t\tmeta: { requiresAdmin: true },\n\t},\n\t{\n\t\tpath: \"/admin/assessment-template-builder/:id\",\n\t\tname: \"AssessmentTemplateBuilderEdit\",\n\t\tcomponent: () => import(\"@/pages/AssessmentTemplateBuilder.vue\"),\n\t\tmeta: { requiresAdmin: true },\n\t},\n\t{\n\t\tpath: \"/company\",\n\t\tname: \"CompanyManagement\",\n\t\tcomponent: () => import(\"@/pages/CompanyManagement.vue\"),\n\t},\n\t{\n\t\tname: \"Login\",\n\t\tpath: \"/account/login\",\n\t\tcomponent: () => import(\"@/pages/Login.vue\"),\n\t\tmeta: { public: true },\n\t},\n\t{\n\t\tname: \"Register\",\n\t\tpath: \"/account/register\",\n\t\tcomponent: () => import(\"@/pages/Register.vue\"),\n\t\tmeta: { public: true },\n\t},\n\t{\n\t\tname: \"CompanyRegistration\",\n\t\tpath: \"/account/register-company\",\n\t\tcomponent: () => import(\"@/pages/CompanyRegistration.vue\"),\n\t\tmeta: { public: true },\n\t},\n]\n\nconst router = createRouter({\n\thistory: createWebHistory(\"/frontend\"),\n\troutes,\n})\n\nrouter.beforeEach(async (to, from, next) => {\n\t// Allow public pages without authentication\n\tif (to.meta.public) {\n\t\tnext()\n\t\treturn\n\t}\n\n\tlet isLoggedIn = session.isLoggedIn\n\ttry {\n\t\tawait userResource.promise\n\t} catch (error) {\n\t\tisLoggedIn = false\n\t}\n\n\tif (to.name === \"Login\" && isLoggedIn) {\n\t\tnext({ name: \"Dashboard\" })\n\t} else if (to.name !== \"Login\" && !isLoggedIn) {\n\t\tnext({ name: \"Login\" })\n\t} else {\n\t\tnext()\n\t}\n})\n\nexport default router\n","import { io } from \"socket.io-client\"\nimport { socketio_port } from \"../../../../sites/common_site_config.json\"\n\nlet socket = null\nlet socketInitializationFailed = false\n\nexport function initSocket() {\n\t// Don't retry if initialization already failed\n\tif (socketInitializationFailed) {\n\t\tconsole.warn(\n\t\t\t\"[Socket.io] Skipping initialization - socketio server not available\",\n\t\t)\n\t\treturn null\n\t}\n\n\ttry {\n\t\tconst host = window.location.hostname\n\t\tconst siteName = window.site_name\n\t\tconst port = window.location.port ? `:${socketio_port}` : \"\"\n\t\tconst protocol = port ? \"http\" : \"https\"\n\t\tconst url = `${protocol}://${host}${port}/${siteName}`\n\n\t\tsocket = io(url, {\n\t\t\twithCredentials: true,\n\t\t\treconnectionAttempts: 3,\n\t\t\treconnectionDelay: 2000,\n\t\t\ttimeout: 5000,\n\t\t})\n\n\t\t// Handle connection errors gracefully\n\t\tsocket.on(\"connect_error\", (error) => {\n\t\t\tconsole.warn(\n\t\t\t\t\"[Socket.io] Connection failed - real-time features disabled:\",\n\t\t\t\terror.message,\n\t\t\t)\n\t\t\tsocketInitializationFailed = true\n\t\t\tif (socket) {\n\t\t\t\tsocket.close()\n\t\t\t\tsocket = null\n\t\t\t}\n\t\t})\n\n\t\tsocket.on(\"connect\", () => {\n\t\t\tconsole.log(\"[Socket.io] Connected successfully\")\n\t\t\tsocketInitializationFailed = false\n\t\t})\n\n\t\treturn socket\n\t} catch (error) {\n\t\tconsole.warn(\"[Socket.io] Initialization error:\", error)\n\t\tsocketInitializationFailed = true\n\t\treturn null\n\t}\n}\n\nexport function useSocket() {\n\treturn socket\n}\n","//#region src/runtime/utils.ts\nfunction get(obj, path) {\n\tif (obj == null) return void 0;\n\tlet value = obj;\n\tfor (let i = 0; i < path.length; i++) {\n\t\tif (value === void 0 || value[path[i]] === void 0) return void 0;\n\t\tif (value === null || value[path[i]] === null) return null;\n\t\tvalue = value[path[i]];\n\t}\n\treturn value;\n}\nfunction set(obj, value, path) {\n\tif (path.length === 0) return value;\n\tconst idx = path[0];\n\tif (path.length > 1) value = set(typeof obj !== \"object\" || obj === null || !Object.prototype.hasOwnProperty.call(obj, idx) ? Number.isInteger(Number(path[1])) ? [] : {} : obj[idx], value, Array.prototype.slice.call(path, 1));\n\tif (Number.isInteger(Number(idx)) && Array.isArray(obj)) return obj.slice()[idx];\n\treturn Object.assign({}, obj, { [idx]: value });\n}\nfunction unset(obj, path) {\n\tif (obj == null || path.length === 0) return obj;\n\tif (path.length === 1) {\n\t\tif (obj == null) return obj;\n\t\tif (Number.isInteger(path[0]) && Array.isArray(obj)) return Array.prototype.slice.call(obj, 0).splice(path[0], 1);\n\t\tconst result = {};\n\t\tfor (const p in obj) result[p] = obj[p];\n\t\tdelete result[path[0]];\n\t\treturn result;\n\t}\n\tif (obj[path[0]] == null) {\n\t\tif (Number.isInteger(path[0]) && Array.isArray(obj)) return Array.prototype.concat.call([], obj);\n\t\tconst result = {};\n\t\tfor (const p in obj) result[p] = obj[p];\n\t\treturn result;\n\t}\n\treturn set(obj, unset(obj[path[0]], Array.prototype.slice.call(path, 1)), [path[0]]);\n}\nfunction deepPick(obj, paths) {\n\treturn paths.map((p) => p.split(\".\")).map((p) => [p, get(obj, p)]).filter((t) => t[1] !== void 0).reduce((acc, cur) => set(acc, cur[1], cur[0]), {});\n}\nfunction deepOmit(obj, paths) {\n\treturn paths.map((p) => p.split(\".\")).reduce((acc, cur) => unset(acc, cur), obj);\n}\n\n//#endregion\n//#region src/runtime/core.ts\nfunction hydrateStore(store, { storage, serializer, key, debug, pick, omit, beforeHydrate, afterHydrate }, context, runHooks = true) {\n\ttry {\n\t\tif (runHooks) beforeHydrate?.(context);\n\t\tconst fromStorage = storage.getItem(key);\n\t\tif (fromStorage) {\n\t\t\tconst deserialized = serializer.deserialize(fromStorage);\n\t\t\tconst picked = pick ? deepPick(deserialized, pick) : deserialized;\n\t\t\tconst omitted = omit ? deepOmit(picked, omit) : picked;\n\t\t\tstore.$patch(omitted);\n\t\t}\n\t\tif (runHooks) afterHydrate?.(context);\n\t} catch (error) {\n\t\tif (debug) console.error(\"[pinia-plugin-persistedstate]\", error);\n\t}\n}\nfunction persistState(state, { storage, serializer, key, debug, pick, omit }) {\n\ttry {\n\t\tconst picked = pick ? deepPick(state, pick) : state;\n\t\tconst omitted = omit ? deepOmit(picked, omit) : picked;\n\t\tconst toStorage = serializer.serialize(omitted);\n\t\tstorage.setItem(key, toStorage);\n\t} catch (error) {\n\t\tif (debug) console.error(\"[pinia-plugin-persistedstate]\", error);\n\t}\n}\nfunction parsePersistKey(key, storeId) {\n\treturn typeof key === \"function\" ? key(storeId) : typeof key === \"string\" ? key : storeId;\n}\nfunction createPersistence(context, optionsParser, auto) {\n\tconst { pinia, store, options: { persist = auto } } = context;\n\tif (!persist) return;\n\t// v8 ignore if -- @preserve\n\tif (!(store.$id in pinia.state.value)) {\n\t\tconst originalStore = pinia._s.get(store.$id.replace(\"__hot:\", \"\"));\n\t\tif (originalStore) Promise.resolve().then(() => originalStore.$persist());\n\t\treturn;\n\t}\n\tconst persistences = (Array.isArray(persist) ? persist : persist === true ? [{}] : [persist]).map(optionsParser);\n\tstore.$hydrate = ({ runHooks = true } = {}) => {\n\t\tpersistences.forEach((p) => {\n\t\t\thydrateStore(store, p, context, runHooks);\n\t\t});\n\t};\n\tstore.$persist = () => {\n\t\tpersistences.forEach((p) => {\n\t\t\tpersistState(store.$state, p);\n\t\t});\n\t};\n\tpersistences.forEach((p) => {\n\t\thydrateStore(store, p, context);\n\t\tstore.$subscribe((_mutation, state) => persistState(state, p), { detached: true });\n\t});\n}\n\n//#endregion\n//#region src/index.ts\n/**\n* Create a Pinia persistence plugin.\n* @see https://codeberg.org/praz/pinia-plugin-persistedstate\n*/\nfunction createPersistedState(options = {}) {\n\treturn function(context) {\n\t\tcreatePersistence(context, (p) => {\n\t\t\tconst persistKey = parsePersistKey(p.key, context.store.$id);\n\t\t\treturn {\n\t\t\t\tkey: (options.key ? options.key : (x) => x)(persistKey),\n\t\t\t\tdebug: p.debug ?? options.debug ?? false,\n\t\t\t\tserializer: p.serializer ?? options.serializer ?? {\n\t\t\t\t\tserialize: (data) => JSON.stringify(data),\n\t\t\t\t\tdeserialize: (data) => JSON.parse(data)\n\t\t\t\t},\n\t\t\t\tstorage: p.storage ?? options.storage ?? window.localStorage,\n\t\t\t\tbeforeHydrate: p.beforeHydrate ?? options.beforeHydrate,\n\t\t\t\tafterHydrate: p.afterHydrate ?? options.afterHydrate,\n\t\t\t\tpick: p.pick,\n\t\t\t\tomit: p.omit\n\t\t\t};\n\t\t}, options.auto ?? false);\n\t};\n}\n/**\n* Pinia plugin to persist stores.\n* @see https://codeberg.org/praz/pinia-plugin-persistedstate\n*/\nvar src_default = createPersistedState();\n\n//#endregion\nexport { createPersistedState, src_default as default };","import { createPinia } from \"pinia\"\nimport { createApp } from \"vue\"\n\nimport App from \"./App.vue\"\nimport router from \"./router\"\nimport { initSocket } from \"./socket\"\n\nimport {\n\tAlert,\n\tBadge,\n\tButton,\n\tDialog,\n\tErrorMessage,\n\tFormControl,\n\tInput,\n\tTextInput,\n\tfrappeRequest,\n\tpageMetaPlugin,\n\tresourcesPlugin,\n\tsetConfig,\n} from \"frappe-ui\"\n\nimport \"./index.css\"\nimport \"./styles/theme.css\"\n\nconst globalComponents = {\n\tButton,\n\tTextInput,\n\tInput,\n\tFormControl,\n\tErrorMessage,\n\tDialog,\n\tAlert,\n\tBadge,\n}\n\nconst app = createApp(App)\nconst pinia = createPinia()\n\n// Add Pinia persistence plugin\nimport piniaPluginPersistedstate from \"pinia-plugin-persistedstate\"\npinia.use(piniaPluginPersistedstate)\n\nsetConfig(\"resourceFetcher\", frappeRequest)\n\napp.use(pinia)\napp.use(router)\napp.use(resourcesPlugin)\napp.use(pageMetaPlugin)\n\n// Initialize CSRF token before mounting\nasync function initApp() {\n\t// Check if CSRF token is already in boot data (injected by backend)\n\tif (window.csrf_token) {\n\t\tconsole.log(\"[main.js] ✅ CSRF token loaded from boot data\")\n\t} else {\n\t\t// Fallback: try to get from cookies\n\t\tconsole.log(\"[main.js] No boot CSRF token, trying cookies...\")\n\t\tconst csrfFromCookie = document.cookie\n\t\t\t.split(\"; \")\n\t\t\t.find((row) => row.startsWith(\"csrf_token=\"))\n\n\t\tif (csrfFromCookie) {\n\t\t\twindow.csrf_token = csrfFromCookie.split(\"=\")[1]\n\t\t\tconsole.log(\"[main.js] ✅ CSRF token found in cookies\")\n\t\t} else {\n\t\t\t// Final fallback: fetch from API\n\t\t\ttry {\n\t\t\t\tconsole.log(\"[main.js] Fetching CSRF token from API...\")\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t\"/api/method/frappe.auth.get_logged_user\",\n\t\t\t\t\t{\n\t\t\t\t\t\tcredentials: \"include\",\n\t\t\t\t\t},\n\t\t\t\t)\n\n\t\t\t\tif (response.ok) {\n\t\t\t\t\t// Check cookies again after API call\n\t\t\t\t\tconst csrfAfterFetch = document.cookie\n\t\t\t\t\t\t.split(\"; \")\n\t\t\t\t\t\t.find((row) => row.startsWith(\"csrf_token=\"))\n\t\t\t\t\tif (csrfAfterFetch) {\n\t\t\t\t\t\twindow.csrf_token = csrfAfterFetch.split(\"=\")[1]\n\t\t\t\t\t\tconsole.log(\"[main.js] ✅ CSRF token set after API fetch\")\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn(\"[main.js] ⚠️ No CSRF token available\")\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"[main.js] ❌ Could not fetch CSRF token:\", error)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst socket = initSocket()\n\tapp.config.globalProperties.$socket = socket\n\n\tfor (const key in globalComponents) {\n\t\tapp.component(key, globalComponents[key])\n\t}\n\n\tapp.mount(\"#app\")\n}\n\ninitApp()\n"],"file":"assets/index-DOyr9W_f.js"}