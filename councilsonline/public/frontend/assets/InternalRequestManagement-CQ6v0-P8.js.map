{"version":3,"file":"InternalRequestManagement-CQ6v0-P8.js","sources":["../../../../frontend/src/components/TaskDialog.vue","../../../../frontend/src/components/TaskManagement.vue","../../../../frontend/src/pages/InternalRequestManagement.vue"],"sourcesContent":["<template>\n  <Dialog\n    v-model=\"isOpen\"\n    :options=\"{\n      title: isEditMode ? 'Edit Task' : 'Create New Task',\n      size: '3xl'\n    }\"\n  >\n    <template #body-content>\n      <form @submit.prevent=\"handleSubmit\" class=\"space-y-6\">\n        <!-- Task Title -->\n        <div>\n          <label for=\"title\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Title <span class=\"text-red-500\">*</span>\n          </label>\n          <Input\n            id=\"title\"\n            v-model=\"formData.title\"\n            type=\"text\"\n            required\n            placeholder=\"Enter task title\"\n            class=\"w-full\"\n          />\n        </div>\n\n        <!-- Description -->\n        <div>\n          <label for=\"description\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Description\n          </label>\n          <textarea\n            id=\"description\"\n            v-model=\"formData.description\"\n            rows=\"3\"\n            placeholder=\"Describe the task...\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n\n        <!-- Priority and Status Row -->\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label for=\"priority\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Priority <span class=\"text-red-500\">*</span>\n            </label>\n            <select\n              id=\"priority\"\n              v-model=\"formData.priority\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"Low\">Low</option>\n              <option value=\"Medium\">Medium</option>\n              <option value=\"High\">High</option>\n              <option value=\"Urgent\">Urgent</option>\n            </select>\n          </div>\n\n          <div>\n            <label for=\"status\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Status <span class=\"text-red-500\">*</span>\n            </label>\n            <select\n              id=\"status\"\n              v-model=\"formData.status\"\n              required\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"Open\">Open</option>\n              <option value=\"Working\">Working</option>\n              <option value=\"Pending Review\">Pending Review</option>\n              <option value=\"Completed\">Completed</option>\n              <option value=\"Cancelled\">Cancelled</option>\n            </select>\n          </div>\n        </div>\n\n        <!-- Due Date and Assign To Row -->\n        <div class=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label for=\"due_date\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Due Date <span class=\"text-red-500\">*</span>\n            </label>\n            <Input\n              id=\"due_date\"\n              v-model=\"formData.due_date\"\n              type=\"date\"\n              required\n              class=\"w-full\"\n            />\n          </div>\n\n          <div>\n            <label for=\"assigned_to\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Assign To <span class=\"text-red-500\">*</span>\n            </label>\n            <Input\n              id=\"assigned_to\"\n              v-model=\"formData.assigned_to\"\n              type=\"text\"\n              required\n              placeholder=\"User email\"\n              class=\"w-full\"\n            />\n          </div>\n        </div>\n\n        <!-- Request (optional) -->\n        <div>\n          <label for=\"request\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n            Linked Request (Optional)\n          </label>\n          <Input\n            id=\"request\"\n            v-model=\"formData.request\"\n            type=\"text\"\n            placeholder=\"Request ID (e.g., RC-2025-001)\"\n            class=\"w-full\"\n          />\n        </div>\n\n        <!-- Time Tracking & Costing Section -->\n        <div class=\"border-t border-gray-200 pt-6\">\n          <h3 class=\"text-sm font-medium text-gray-900 mb-4\">Time Tracking & Costing</h3>\n\n          <!-- User Role (read-only, fetched from assigned user) -->\n          <div class=\"mb-4\">\n            <label for=\"assigned_role\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n              User Role (Auto-detected)\n            </label>\n            <div class=\"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700\">\n              {{ userRole || 'Role will be detected from assigned user' }}\n            </div>\n          </div>\n\n          <!-- Hours and Rate -->\n          <div class=\"grid grid-cols-3 gap-4\">\n            <div>\n              <label for=\"estimated_hours\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Estimated Hours\n              </label>\n              <Input\n                id=\"estimated_hours\"\n                v-model.number=\"formData.estimated_hours\"\n                type=\"number\"\n                step=\"0.25\"\n                min=\"0\"\n                placeholder=\"0.00\"\n                class=\"w-full\"\n              />\n            </div>\n\n            <div>\n              <label for=\"actual_hours\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Actual Hours\n              </label>\n              <Input\n                id=\"actual_hours\"\n                v-model.number=\"formData.actual_hours\"\n                type=\"number\"\n                step=\"0.25\"\n                min=\"0\"\n                placeholder=\"0.00\"\n                @input=\"calculateCost\"\n                class=\"w-full\"\n              />\n            </div>\n\n            <div>\n              <label for=\"hourly_rate\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n                Hourly Rate\n              </label>\n              <div class=\"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700 font-medium\">\n                ${{ hourlyRate.toFixed(2) }}\n              </div>\n            </div>\n          </div>\n\n          <!-- Total Cost (calculated) -->\n          <div class=\"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n            <div class=\"flex items-center justify-between\">\n              <span class=\"text-sm font-medium text-gray-700\">Total Cost</span>\n              <span class=\"text-xl font-bold text-blue-900\">${{ totalCost.toFixed(2) }}</span>\n            </div>\n            <p class=\"text-xs text-gray-600 mt-1\">\n              Calculated as: {{ formData.actual_hours || 0 }} hours × ${{ hourlyRate.toFixed(2) }}/hr\n            </p>\n          </div>\n\n          <!-- Activity Type (optional) -->\n          <div class=\"mt-4\" v-if=\"formData.request\">\n            <label for=\"activity_type\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n              Activity Type (Optional)\n            </label>\n            <Input\n              id=\"activity_type\"\n              v-model=\"formData.activity_type\"\n              type=\"text\"\n              placeholder=\"e.g., Site Inspection\"\n              class=\"w-full\"\n            />\n          </div>\n        </div>\n\n        <!-- Error Message -->\n        <div v-if=\"errorMessage\" class=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <div class=\"flex items-start\">\n            <svg class=\"w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <p class=\"text-sm text-red-700\">{{ errorMessage }}</p>\n          </div>\n        </div>\n\n        <!-- Form Actions -->\n        <div class=\"flex justify-end space-x-3 pt-4 border-t border-gray-200\">\n          <Button\n            type=\"button\"\n            @click=\"closeDialog\"\n            variant=\"outline\"\n          >\n            Cancel\n          </Button>\n          <Button\n            type=\"submit\"\n            :loading=\"isSubmitting\"\n            variant=\"solid\"\n            theme=\"green\"\n          >\n            {{ isEditMode ? 'Update Task' : 'Create Task' }}\n          </Button>\n        </div>\n      </form>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport { Button, Dialog, Input, call } from \"frappe-ui\"\nimport { computed, ref, watch } from \"vue\"\n\nconst props = defineProps({\n\tmodelValue: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\ttask: {\n\t\ttype: Object,\n\t\tdefault: null,\n\t},\n})\n\nconst emit = defineEmits([\"update:modelValue\", \"task-saved\"])\n\nconst isOpen = computed({\n\tget: () => props.modelValue,\n\tset: (val) => emit(\"update:modelValue\", val),\n})\n\nconst isEditMode = computed(() => !!props.task)\nconst isSubmitting = ref(false)\nconst errorMessage = ref(\"\")\n\nconst defaultFormData = () => ({\n\ttitle: \"\",\n\tdescription: \"\",\n\tpriority: \"Medium\",\n\tstatus: \"Open\",\n\tdue_date: \"\",\n\tassigned_to: \"\",\n\tassigned_by: \"\",\n\trequest: \"\",\n\tactivity_type: \"\",\n\tassigned_role: \"\",\n\testimated_hours: null,\n\tactual_hours: null,\n})\n\nconst formData = ref(defaultFormData())\nconst userRole = ref(\"\")\nconst hourlyRate = ref(0)\nconst totalCost = computed(() => {\n\tconst hours = formData.value.actual_hours || 0\n\treturn hours * hourlyRate.value\n})\n\n// Fetch user role and hourly rate when assigned_to changes\nwatch(\n\t() => formData.value.assigned_to,\n\tasync (newUser) => {\n\t\tif (newUser) {\n\t\t\ttry {\n\t\t\t\t// Get user's primary role\n\t\t\t\tconst userDoc = await call(\"frappe.client.get\", {\n\t\t\t\t\tdoctype: \"User\",\n\t\t\t\t\tname: newUser,\n\t\t\t\t})\n\n\t\t\t\tif (userDoc && userDoc.roles && userDoc.roles.length > 0) {\n\t\t\t\t\t// Get first non-standard role\n\t\t\t\t\tconst role = userDoc.roles.find(\n\t\t\t\t\t\t(r) => ![\"Guest\", \"All\"].includes(r.role),\n\t\t\t\t\t)\n\t\t\t\t\tif (role) {\n\t\t\t\t\t\tuserRole.value = role.role\n\t\t\t\t\t\tformData.value.assigned_role = role.role\n\n\t\t\t\t\t\t// Fetch hourly rate for this role\n\t\t\t\t\t\tconst rateData = await call(\n\t\t\t\t\t\t\t\"councilsonline.councilsonline.doctype.role_rate.role_rate.get_hourly_rate\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trole: role.role,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (rateData && rateData.hourly_rate) {\n\t\t\t\t\t\t\thourlyRate.value = rateData.hourly_rate\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Error fetching user role and rate:\", error)\n\t\t\t\tuserRole.value = \"\"\n\t\t\t\thourlyRate.value = 0\n\t\t\t}\n\t\t} else {\n\t\t\tuserRole.value = \"\"\n\t\t\thourlyRate.value = 0\n\t\t}\n\t},\n)\n\n// Calculate cost when actual hours changes\nconst calculateCost = () => {\n\t// Cost is automatically calculated via computed property\n}\n\n// Watch for task prop changes to populate form\nwatch(\n\t() => props.task,\n\t(newTask) => {\n\t\tif (newTask) {\n\t\t\tformData.value = {\n\t\t\t\ttitle: newTask.title || \"\",\n\t\t\t\tdescription: newTask.description || \"\",\n\t\t\t\tpriority: newTask.priority || \"Medium\",\n\t\t\t\tstatus: newTask.status || \"Open\",\n\t\t\t\tdue_date: newTask.due_date || \"\",\n\t\t\t\tassigned_to: newTask.assigned_to || \"\",\n\t\t\t\tassigned_by: newTask.assigned_by || \"\",\n\t\t\t\trequest: newTask.request || \"\",\n\t\t\t\tactivity_type: newTask.activity_type || \"\",\n\t\t\t\tassigned_role: newTask.assigned_role || \"\",\n\t\t\t\testimated_hours: newTask.estimated_hours || null,\n\t\t\t\tactual_hours: newTask.actual_hours || null,\n\t\t\t}\n\n\t\t\t// Set existing role and rate\n\t\t\tif (newTask.assigned_role) {\n\t\t\t\tuserRole.value = newTask.assigned_role\n\t\t\t}\n\t\t\tif (newTask.hourly_rate) {\n\t\t\t\thourlyRate.value = newTask.hourly_rate\n\t\t\t}\n\t\t} else {\n\t\t\tformData.value = defaultFormData()\n\t\t\tuserRole.value = \"\"\n\t\t\thourlyRate.value = 0\n\t\t}\n\t},\n\t{ immediate: true },\n)\n\nconst handleSubmit = async () => {\n\terrorMessage.value = \"\"\n\tisSubmitting.value = true\n\n\ttry {\n\t\tif (isEditMode.value) {\n\t\t\t// Update existing task\n\t\t\tawait call(\"frappe.client.set_value\", {\n\t\t\t\tdoctype: \"Project Task\",\n\t\t\t\tname: props.task.name,\n\t\t\t\tfieldname: formData.value,\n\t\t\t})\n\t\t} else {\n\t\t\t// Create new task\n\t\t\tconst taskData = {\n\t\t\t\tdoctype: \"Project Task\",\n\t\t\t\t...formData.value,\n\t\t\t\tassigned_by: formData.value.assigned_by || \"Administrator\",\n\t\t\t}\n\n\t\t\tawait call(\"frappe.client.insert\", {\n\t\t\t\tdoc: taskData,\n\t\t\t})\n\t\t}\n\n\t\temit(\"task-saved\")\n\t\tcloseDialog()\n\t} catch (error) {\n\t\tconsole.error(\"Error saving task:\", error)\n\t\terrorMessage.value =\n\t\t\terror.message || \"Failed to save task. Please try again.\"\n\t} finally {\n\t\tisSubmitting.value = false\n\t}\n}\n\nconst closeDialog = () => {\n\tisOpen.value = false\n\tformData.value = defaultFormData()\n\terrorMessage.value = \"\"\n}\n</script>\n","<template>\n  <div class=\"space-y-6\">\n    <!-- Task Overview Stats -->\n    <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n      <StatCard title=\"My Tasks\" :value=\"stats.myTasks\" icon=\"clipboard\" color=\"blue\" />\n      <StatCard title=\"In Progress\" :value=\"stats.inProgress\" icon=\"clock\" color=\"yellow\" />\n      <StatCard title=\"Completed Today\" :value=\"stats.completedToday\" icon=\"check\" color=\"green\" />\n      <StatCard title=\"Overdue\" :value=\"stats.overdue\" icon=\"alert-triangle\" color=\"red\" />\n    </div>\n\n    <!-- Task List -->\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n      <div class=\"p-6 border-b border-gray-200\">\n        <div class=\"flex justify-between items-center\">\n          <h2 class=\"text-lg font-semibold text-gray-900\">My Tasks</h2>\n          <Button @click=\"openNewTaskDialog\" variant=\"solid\" theme=\"green\">\n            <template #prefix>\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n              </svg>\n            </template>\n            New Task\n          </Button>\n        </div>\n      </div>\n\n      <div class=\"divide-y divide-gray-200\">\n        <div v-if=\"tasks.loading\" class=\"p-12 text-center\">\n          <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n        </div>\n\n        <div v-else-if=\"!tasks.data || tasks.data.length === 0\" class=\"p-12 text-center text-gray-500\">\n          <svg class=\"w-12 h-12 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n          </svg>\n          <p>No tasks assigned</p>\n        </div>\n\n        <div\n          v-else\n          v-for=\"task in tasks.data\"\n          :key=\"task.name\"\n          class=\"p-6 hover:bg-gray-50 transition-colors\"\n        >\n          <div class=\"flex items-start justify-between gap-6\">\n            <div class=\"flex items-start space-x-4 flex-1\">\n              <!-- Checkbox -->\n              <input\n                type=\"checkbox\"\n                :checked=\"task.status === 'Completed'\"\n                @change=\"toggleTaskStatus(task)\"\n                class=\"mt-1 h-5 w-5 text-green-600 focus:ring-green-500 border-gray-300 rounded cursor-pointer\"\n              />\n\n              <!-- Task Details -->\n              <div class=\"flex-1\">\n                <div class=\"flex items-center space-x-3 mb-2\">\n                  <h3\n                    class=\"text-base font-semibold\"\n                    :class=\"task.status === 'Completed' ? 'text-gray-400 line-through' : 'text-gray-900'\"\n                  >\n                    {{ task.title }}\n                  </h3>\n                  <span\n                    v-if=\"task.priority\"\n                    class=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold\"\n                    :class=\"getPriorityClass(task.priority)\"\n                  >\n                    {{ task.priority }}\n                  </span>\n                </div>\n\n                <p class=\"text-sm text-gray-600 mb-4\">{{ task.description }}</p>\n\n                <!-- Key Metadata Row -->\n                <div class=\"flex flex-wrap items-center gap-3\">\n                  <div v-if=\"task.request\" class=\"flex items-center text-sm text-gray-600\">\n                    <svg class=\"w-4 h-4 mr-1.5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                    </svg>\n                    <span class=\"font-medium\">{{ task.request }}</span>\n                  </div>\n\n                  <div v-if=\"task.assigned_role\" class=\"inline-flex items-center px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-semibold\">\n                    <svg class=\"w-4 h-4 mr-1.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                    </svg>\n                    {{ task.assigned_role }}\n                  </div>\n\n                  <div v-if=\"task.due_date\" class=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold\"\n                    :class=\"isOverdue(task.due_date) ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-800'\">\n                    <svg class=\"w-4 h-4 mr-1.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                    </svg>\n                    {{ formatDate(task.due_date) }}\n                    <span v-if=\"isOverdue(task.due_date)\" class=\"ml-1\">⚠️</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Right Side: Key Metrics + Actions -->\n            <div class=\"flex flex-col items-end space-y-3 min-w-[180px]\">\n              <!-- Cost Badge (Most Prominent) -->\n              <div v-if=\"task.total_cost\" class=\"px-4 py-2 bg-green-50 border-2 border-green-200 rounded-lg\">\n                <div class=\"text-xs text-green-700 font-medium mb-0.5\">Total Cost</div>\n                <div class=\"text-2xl font-bold text-green-900\">${{ task.total_cost.toFixed(2) }}</div>\n              </div>\n\n              <!-- Hours Badge -->\n              <div v-if=\"task.estimated_hours || task.actual_hours\" class=\"px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg w-full\">\n                <div class=\"flex items-center justify-between\">\n                  <div class=\"text-xs text-blue-700 font-medium\">\n                    {{ task.actual_hours ? 'Actual' : 'Est.' }} Hours\n                  </div>\n                  <div class=\"text-lg font-bold text-blue-900\">\n                    <span v-if=\"task.actual_hours\">{{ task.actual_hours }}h</span>\n                    <span v-else-if=\"task.estimated_hours\">~{{ task.estimated_hours }}h</span>\n                  </div>\n                </div>\n                <div v-if=\"task.hourly_rate\" class=\"text-xs text-blue-600 mt-1\">\n                  @ ${{ task.hourly_rate.toFixed(2) }}/hr\n                </div>\n              </div>\n\n              <!-- Action Buttons -->\n              <div class=\"flex items-center space-x-2\">\n                <button\n                  v-if=\"task.request\"\n                  @click=\"viewRequest(task.request)\"\n                  class=\"p-2 text-gray-400 hover:text-blue-600 transition rounded-lg hover:bg-blue-50\"\n                  title=\"View Request\"\n                >\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                  </svg>\n                </button>\n                <button\n                  @click=\"openEditTaskDialog(task)\"\n                  class=\"p-2 text-gray-400 hover:text-green-600 transition rounded-lg hover:bg-green-50\"\n                  title=\"Edit Task\"\n                >\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- Task Dialog -->\n    <TaskDialog\n      v-model=\"showTaskDialog\"\n      :task=\"selectedTask\"\n      @task-saved=\"handleTaskSaved\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { Button, call, createResource } from \"frappe-ui\"\nimport { computed, ref } from \"vue\"\nimport { useRouter } from \"vue-router\"\nimport StatCard from \"./StatCard.vue\"\nimport TaskDialog from \"./TaskDialog.vue\"\n\nconst router = useRouter()\nconst showTaskDialog = ref(false)\nconst selectedTask = ref(null)\n\n// Fetch tasks for current user\nconst tasks = createResource({\n\turl: \"councilsonline.councilsonline.doctype.task.task.get_my_tasks\",\n\tauto: true,\n})\n\n// Computed stats\nconst stats = computed(() => {\n\tconst data = tasks.data || []\n\tconst today = new Date().toDateString()\n\n\treturn {\n\t\tmyTasks: data.length,\n\t\tinProgress: data.filter((t) => t.status === \"Open\").length,\n\t\tcompletedToday: data.filter(\n\t\t\t(t) =>\n\t\t\t\tt.status === \"Completed\" &&\n\t\t\t\tt.date_of_completion &&\n\t\t\t\tnew Date(t.date_of_completion).toDateString() === today,\n\t\t).length,\n\t\toverdue: data.filter((t) => t.status === \"Overdue\").length,\n\t}\n})\n\n// Methods\nconst getPriorityClass = (priority) => {\n\tconst classes = {\n\t\tLow: \"bg-gray-100 text-gray-800\",\n\t\tMedium: \"bg-blue-100 text-blue-800\",\n\t\tHigh: \"bg-orange-100 text-orange-800\",\n\t\tUrgent: \"bg-red-100 text-red-800\",\n\t}\n\treturn classes[priority] || classes[\"Medium\"]\n}\n\nconst isOverdue = (dueDate) => {\n\tif (!dueDate) return false\n\treturn new Date(dueDate) < new Date()\n}\n\nconst formatDate = (date) => {\n\tif (!date) return \"\"\n\treturn new Date(date).toLocaleDateString(\"en-NZ\", {\n\t\tday: \"numeric\",\n\t\tmonth: \"short\",\n\t\tyear: \"numeric\",\n\t})\n}\n\nconst toggleTaskStatus = async (task) => {\n\tconst newStatus = task.status === \"Completed\" ? \"Open\" : \"Completed\"\n\n\ttry {\n\t\tawait call(\"frappe.client.set_value\", {\n\t\t\tdoctype: \"Project Task\",\n\t\t\tname: task.name,\n\t\t\tfieldname: \"status\",\n\t\t\tvalue: newStatus,\n\t\t})\n\n\t\ttasks.reload()\n\t} catch (error) {\n\t\tconsole.error(\"Error toggling task status:\", error)\n\t}\n}\n\nconst viewRequest = (requestId) => {\n\trouter.push({ name: \"InternalRequestDetail\", params: { id: requestId } })\n}\n\nconst openNewTaskDialog = () => {\n\tselectedTask.value = null\n\tshowTaskDialog.value = true\n}\n\nconst openEditTaskDialog = (task) => {\n\tselectedTask.value = task\n\tshowTaskDialog.value = true\n}\n\nconst handleTaskSaved = () => {\n\ttasks.reload()\n}\n</script>\n","<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <header class=\"bg-white shadow-sm border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between items-center py-4\">\n          <div class=\"flex items-center space-x-3\">\n            <div class=\"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center\">\n              <svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\n              </svg>\n            </div>\n            <div>\n              <h1 class=\"text-xl font-bold text-gray-900\">Easy Council</h1>\n              <p class=\"text-xs text-gray-500\">Internal Request Management</p>\n            </div>\n          </div>\n\n          <div class=\"flex items-center space-x-4\">\n            <Dropdown :options=\"userMenuOptions\">\n              <template v-slot=\"{ open }\">\n                <button class=\"flex items-center space-x-2 text-gray-700 hover:text-gray-900\">\n                  <div class=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\n                    <span class=\"text-sm font-medium text-green-600\">{{ userInitials }}</span>\n                  </div>\n                  <span class=\"text-sm font-medium\">{{ userName }}</span>\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n              </template>\n            </Dropdown>\n          </div>\n        </div>\n\n        <!-- Navigation Tabs -->\n        <div class=\"flex space-x-6 border-t border-gray-200 -mb-px\">\n          <button\n            v-for=\"tab in tabs\"\n            :key=\"tab.id\"\n            @click=\"currentTab = tab.id\"\n            class=\"py-4 px-1 border-b-2 font-medium text-sm transition-colors\"\n            :class=\"currentTab === tab.id\n              ? 'border-green-600 text-green-600'\n              : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\"\n          >\n            {{ tab.label }}\n          </button>\n        </div>\n      </div>\n    </header>\n\n    <!-- Main Content -->\n    <main class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <!-- All Requests Tab -->\n      <div v-if=\"currentTab === 'requests'\">\n        <!-- Stats Overview -->\n        <div class=\"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8\">\n          <StatCard title=\"Total Requests\" :value=\"stats.total\" icon=\"inbox\" color=\"blue\" />\n          <StatCard title=\"New/Unassigned\" :value=\"stats.unassigned\" icon=\"alert-circle\" color=\"red\" />\n          <StatCard title=\"In Progress\" :value=\"stats.inProgress\" icon=\"clock\" color=\"yellow\" />\n          <StatCard title=\"RFI Issued\" :value=\"stats.rfi\" icon=\"help-circle\" color=\"orange\" />\n          <StatCard title=\"Completed\" :value=\"stats.completed\" icon=\"check-circle\" color=\"green\" />\n        </div>\n\n        <!-- Filters -->\n        <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\">\n          <div class=\"grid md:grid-cols-5 gap-4\">\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Search</label>\n              <Input v-model=\"searchQuery\" placeholder=\"Request number, address...\" />\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Council</label>\n              <select v-model=\"filterCouncil\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg\">\n                <option value=\"\">All Councils</option>\n                <option v-for=\"council in availableCouncils\" :key=\"council\" :value=\"council\">\n                  {{ council }}\n                </option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\n              <select v-model=\"filterStatus\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg\">\n                <option value=\"\">All Statuses</option>\n                <option value=\"Submitted\">Submitted</option>\n                <option value=\"Under Review\">Under Review</option>\n                <option value=\"RFI Issued\">RFI Issued</option>\n                <option value=\"Approved\">Approved</option>\n                <option value=\"Declined\">Declined</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Assigned To</label>\n              <select v-model=\"filterAssignee\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg\">\n                <option value=\"\">All Staff</option>\n                <option value=\"unassigned\">Unassigned</option>\n                <option value=\"me\">Assigned to Me</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-2\">Request Type</label>\n              <select v-model=\"filterType\" class=\"w-full px-3 py-2 border border-gray-300 rounded-lg\">\n                <option value=\"\">All Types</option>\n                <option value=\"Building Consent\">Building Consent</option>\n                <option value=\"Resource Consent\">Resource Consent</option>\n                <option value=\"LIM\">LIM Report</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        <!-- Requests Table -->\n        <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n          <div class=\"overflow-x-auto\">\n            <table class=\"min-w-full divide-y divide-gray-200\">\n              <thead class=\"bg-gray-50\">\n                <tr>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Request\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Council\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Applicant\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Address\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Assigned To\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Days Elapsed\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody class=\"bg-white divide-y divide-gray-200\">\n                <tr v-if=\"requests.loading\">\n                  <td colspan=\"8\" class=\"px-6 py-12 text-center text-gray-500\">\n                    <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n                  </td>\n                </tr>\n                <tr v-else-if=\"!requests.data || requests.data.length === 0\">\n                  <td colspan=\"8\" class=\"px-6 py-12 text-center text-gray-500\">\n                    No requests found\n                  </td>\n                </tr>\n                <tr v-else v-for=\"request in filteredRequests\" :key=\"request.name\" class=\"hover:bg-gray-50 cursor-pointer\">\n                  <td class=\"px-6 py-4 whitespace-nowrap\" @click=\"viewRequest(request.name)\">\n                    <div class=\"text-sm font-medium text-gray-900\">{{ request.request_number }}</div>\n                    <div class=\"text-sm text-gray-500\">{{ request.request_type }}</div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"text-sm text-gray-900\">{{ request.council || 'N/A' }}</div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"text-sm text-gray-900\">{{ request.requester_name || request.requester }}</div>\n                    <div class=\"text-sm text-gray-500\">{{ request.requester_email }}</div>\n                  </td>\n                  <td class=\"px-6 py-4\">\n                    <div class=\"text-sm text-gray-900\">{{ request.property_address }}</div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <StatusBadge :status=\"request.status\" />\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div v-if=\"request.assigned_to\" class=\"flex items-center\">\n                      <div class=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-2\">\n                        <span class=\"text-xs font-medium text-green-600\">{{ getInitials(request.assigned_to) }}</span>\n                      </div>\n                      <span class=\"text-sm text-gray-900\">{{ request.assigned_to_name || request.assigned_to }}</span>\n                    </div>\n                    <span v-else class=\"text-sm text-gray-400\">Unassigned</span>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"text-sm text-gray-900\">{{ request.working_days_elapsed || 0 }} days</div>\n                    <div v-if=\"request.working_days_remaining\" class=\"text-xs\" :class=\"request.is_overdue ? 'text-red-600' : 'text-gray-500'\">\n                      {{ request.working_days_remaining }} remaining\n                    </div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                    <button @click.stop=\"assignRequest(request)\" class=\"text-green-600 hover:text-green-900 mr-3\">\n                      Assign\n                    </button>\n                    <button @click.stop=\"viewRequest(request.name)\" class=\"text-blue-600 hover:text-blue-900\">\n                      View\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      <!-- My Tasks Tab -->\n      <div v-if=\"currentTab === 'tasks'\">\n        <TaskManagement />\n      </div>\n\n      <!-- GIS Maps Tab -->\n      <div v-if=\"currentTab === 'maps'\">\n        <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center\">\n          <svg class=\"w-20 h-20 text-blue-600 mx-auto mb-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7\" />\n          </svg>\n          <h3 class=\"text-2xl font-bold text-gray-900 mb-4\">GIS Property Maps</h3>\n          <p class=\"text-gray-600 mb-8 max-w-2xl mx-auto\">\n            Access Hutt City Council's GIS property viewer for detailed maps, zoning information,\n            and property boundaries. The external site opens in a new tab due to security restrictions.\n          </p>\n          <a\n            href=\"https://eplan.huttcity.govt.nz/review/property/1998600/0/48?_t=property\"\n            target=\"_blank\"\n            class=\"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-base font-semibold shadow-lg hover:shadow-xl\"\n          >\n            <svg class=\"w-5 h-5 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n            </svg>\n            Open GIS Property Maps\n          </a>\n          <p class=\"text-sm text-gray-500 mt-4\">Opens in new browser tab</p>\n        </div>\n      </div>\n\n      <!-- District Plan Tab -->\n      <div v-if=\"currentTab === 'districtplan'\">\n        <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center\">\n          <svg class=\"w-20 h-20 text-green-600 mx-auto mb-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n          <h3 class=\"text-2xl font-bold text-gray-900 mb-4\">District Plan</h3>\n          <p class=\"text-gray-600 mb-8 max-w-2xl mx-auto\">\n            Access Hutt City Council's District Plan including rules, zones, overlays, and planning provisions.\n            The external ePlan site opens in a new tab due to security restrictions.\n          </p>\n          <a\n            href=\"https://eplan.huttcity.govt.nz/eplan\"\n            target=\"_blank\"\n            class=\"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition text-base font-semibold shadow-lg hover:shadow-xl\"\n          >\n            <svg class=\"w-5 h-5 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n            </svg>\n            Open District Plan\n          </a>\n          <p class=\"text-sm text-gray-500 mt-4\">Opens in new browser tab</p>\n        </div>\n      </div>\n\n      <!-- Analytics Tab -->\n      <div v-if=\"currentTab === 'analytics'\">\n        <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center\">\n          <svg class=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n          </svg>\n          <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Analytics Dashboard</h3>\n          <p class=\"text-gray-500\">Performance metrics and reporting coming soon</p>\n        </div>\n      </div>\n    </main>\n\n    <!-- Assignment Dialog -->\n    <Dialog v-model=\"showAssignDialog\" :options=\"{ title: 'Assign Request', size: 'md' }\">\n      <template #body-content>\n        <div v-if=\"assigningRequest\" class=\"space-y-4\">\n          <div class=\"bg-gray-50 p-4 rounded-lg\">\n            <div class=\"text-sm font-medium text-gray-900\">{{ assigningRequest.request_number }}</div>\n            <div class=\"text-sm text-gray-500\">{{ assigningRequest.brief_description }}</div>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Assign To <span class=\"text-red-500\">*</span></label>\n            <select\n              v-model=\"assignedTo\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"\">Select a staff member</option>\n              <option\n                v-for=\"user in staffUsers.data\"\n                :key=\"user.name\"\n                :value=\"user.name\"\n              >\n                {{ user.display_name }}\n              </option>\n            </select>\n            <p class=\"mt-1 text-sm text-gray-500\">Select the staff member to assign this request to (showing name and primary role)</p>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Notes (Optional)</label>\n            <textarea\n              v-model=\"assignmentNotes\"\n              rows=\"3\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"Add any notes about this assignment...\"\n            ></textarea>\n          </div>\n        </div>\n      </template>\n\n      <template #actions>\n        <Button @click=\"cancelAssignment\" variant=\"outline\">Cancel</Button>\n        <Button @click=\"confirmAssignment\" :loading=\"isAssigning\" variant=\"solid\" theme=\"blue\">\n          Assign Request\n        </Button>\n      </template>\n    </Dialog>\n  </div>\n</template>\n\n<script setup>\nimport { Button, Dialog, Dropdown, Input, createResource } from \"frappe-ui\"\nimport { computed, ref } from \"vue\"\nimport { useRouter } from \"vue-router\"\nimport StatCard from \"../components/StatCard.vue\"\nimport StatusBadge from \"../components/StatusBadge.vue\"\nimport TaskManagement from \"../components/TaskManagement.vue\"\nimport { session } from \"../data/session\"\n\nconst router = useRouter()\n\n// Current tab\nconst currentTab = ref(\"requests\")\n\nconst tabs = [\n\t{ id: \"requests\", label: \"All Requests\" },\n\t{ id: \"tasks\", label: \"My Tasks\" },\n\t{ id: \"maps\", label: \"GIS Maps\" },\n\t{ id: \"districtplan\", label: \"District Plan\" },\n\t{ id: \"analytics\", label: \"Analytics\" },\n]\n\n// Filters\nconst searchQuery = ref(\"\")\nconst filterStatus = ref(\"\")\nconst filterCouncil = ref(\"\")\nconst filterAssignee = ref(\"\")\nconst filterType = ref(\"\")\n\n// Assignment dialog\nconst showAssignDialog = ref(false)\nconst assigningRequest = ref(null)\nconst assignedTo = ref(\"\")\nconst assignmentNotes = ref(\"\")\nconst isAssigning = ref(false)\n\n// Fetch all requests for council staff\nconst requests = createResource({\n\turl: \"councilsonline.councilsonline.doctype.request.request.get_all_requests_for_staff\",\n\tauto: true,\n})\n\n// Fetch staff users for assignment with roles\nconst staffUsers = createResource({\n\turl: \"councilsonline.api.get_staff_users\",\n\tauto: true,\n})\n\n// Available councils from requests\nconst availableCouncils = computed(() => {\n\tconst data = requests.data || []\n\tconst councils = [...new Set(data.map((r) => r.council).filter(Boolean))]\n\treturn councils.sort()\n})\n\n// Computed stats\nconst stats = computed(() => {\n\tconst data = requests.data || []\n\treturn {\n\t\ttotal: data.length,\n\t\tunassigned: data.filter((r) => !r.assigned_to).length,\n\t\tinProgress: data.filter((r) => r.status === \"Under Review\").length,\n\t\trfi: data.filter((r) => r.status === \"RFI Issued\").length,\n\t\tcompleted: data.filter((r) =>\n\t\t\t[\"Approved\", \"Declined\", \"Withdrawn\"].includes(r.status),\n\t\t).length,\n\t}\n})\n\n// Filtered requests\nconst filteredRequests = computed(() => {\n\tlet data = requests.data || []\n\n\tif (searchQuery.value) {\n\t\tconst query = searchQuery.value.toLowerCase()\n\t\tdata = data.filter(\n\t\t\t(r) =>\n\t\t\t\tr.request_number?.toLowerCase().includes(query) ||\n\t\t\t\tr.property_address?.toLowerCase().includes(query) ||\n\t\t\t\tr.requester_name?.toLowerCase().includes(query),\n\t\t)\n\t}\n\n\tif (filterStatus.value) {\n\t\tdata = data.filter((r) => r.status === filterStatus.value)\n\t}\n\n\tif (filterCouncil.value) {\n\t\tdata = data.filter((r) => r.council === filterCouncil.value)\n\t}\n\n\tif (filterAssignee.value === \"unassigned\") {\n\t\tdata = data.filter((r) => !r.assigned_to)\n\t} else if (filterAssignee.value === \"me\") {\n\t\tdata = data.filter((r) => r.assigned_to === session.user)\n\t}\n\n\tif (filterType.value) {\n\t\tdata = data.filter((r) => r.request_type === filterType.value)\n\t}\n\n\treturn data\n})\n\n// User info\nconst userName = computed(() => session.user || \"User\")\nconst userInitials = computed(() => {\n\tconst name = userName.value\n\treturn name\n\t\t.split(\" \")\n\t\t.map((n) => n[0])\n\t\t.join(\"\")\n\t\t.toUpperCase()\n\t\t.substring(0, 2)\n})\n\n// Methods\nconst getInitials = (name) => {\n\tif (!name) return \"?\"\n\treturn name\n\t\t.split(\" \")\n\t\t.map((n) => n[0])\n\t\t.join(\"\")\n\t\t.toUpperCase()\n\t\t.substring(0, 2)\n}\n\nconst viewRequest = (requestId) => {\n\trouter.push({ name: \"InternalRequestDetail\", params: { id: requestId } })\n}\n\nconst assignRequest = (request) => {\n\tassigningRequest.value = request\n\tassignedTo.value = request.assigned_to || \"\"\n\tassignmentNotes.value = \"\"\n\tshowAssignDialog.value = true\n}\n\nconst confirmAssignment = async () => {\n\tif (!assignedTo.value) {\n\t\talert(\"Please select a user to assign\")\n\t\treturn\n\t}\n\n\tisAssigning.value = true\n\ttry {\n\t\tconst response = await fetch(\"/api/method/councilsonline.api.assign_request\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-Frappe-CSRF-Token\": window.csrf_token,\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\trequest_id: assigningRequest.value.name,\n\t\t\t\tassigned_to: assignedTo.value,\n\t\t\t\tnotes: assignmentNotes.value,\n\t\t\t}),\n\t\t})\n\n\t\tconst result = await response.json()\n\n\t\tif (result.message && result.message.success) {\n\t\t\tshowAssignDialog.value = false\n\t\t\tassigningRequest.value = null\n\t\t\tassignedTo.value = \"\"\n\t\t\tassignmentNotes.value = \"\"\n\t\t\t// Reload requests\n\t\t\trequests.reload()\n\t\t\talert(\"Request assigned successfully!\")\n\t\t} else {\n\t\t\tthrow new Error(\"Failed to assign request\")\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"Error assigning request:\", error)\n\t\talert(\"Failed to assign request. Please try again.\")\n\t} finally {\n\t\tisAssigning.value = false\n\t}\n}\n\nconst cancelAssignment = () => {\n\tshowAssignDialog.value = false\n\tassigningRequest.value = null\n\tassignedTo.value = \"\"\n\tassignmentNotes.value = \"\"\n}\n\n// Navigation back to public view\nconst goToPublicDashboard = () => {\n\trouter.push({ name: \"Dashboard\" })\n}\n\n// User menu\nconst userMenuOptions = [\n\t{\n\t\tlabel: \"Public Dashboard\",\n\t\tonClick: goToPublicDashboard,\n\t},\n\t{\n\t\tlabel: \"My Profile\",\n\t\tonClick: () => console.log(\"Profile\"),\n\t},\n\t{\n\t\tlabel: \"Settings\",\n\t\tonClick: () => console.log(\"Settings\"),\n\t},\n\t{\n\t\tlabel: \"Logout\",\n\t\tonClick: () => session.logout.submit(),\n\t},\n]\n</script>\n"],"names":["props","__props","emit","__emit","isOpen","computed","val","isEditMode","isSubmitting","ref","errorMessage","defaultFormData","formData","userRole","hourlyRate","totalCost","watch","newUser","__async","userDoc","call","role","r","rateData","error","calculateCost","newTask","handleSubmit","taskData","__spreadProps","__spreadValues","closeDialog","_createBlock","_unref","Dialog","$event","_createElementVNode","_createVNode","Input","_cache","_vModelText","_hoisted_1","_vModelSelect","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_openBlock","_createElementBlock","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","Button","router","useRouter","showTaskDialog","selectedTask","tasks","createResource","stats","data","today","t","getPriorityClass","priority","classes","isOverdue","dueDate","formatDate","date","toggleTaskStatus","task","newStatus","viewRequest","requestId","openNewTaskDialog","openEditTaskDialog","handleTaskSaved","StatCard","_Fragment","_renderList","_normalizeClass","_hoisted_17","_hoisted_18","_createTextVNode","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_30","TaskDialog","currentTab","tabs","searchQuery","filterStatus","filterCouncil","filterAssignee","filterType","showAssignDialog","assigningRequest","assignedTo","assignmentNotes","isAssigning","requests","staffUsers","availableCouncils","filteredRequests","query","_a","_b","_c","session","userName","userInitials","n","getInitials","name","assignRequest","request","confirmAssignment","result","cancelAssignment","userMenuOptions","Dropdown","_withCtx","open","tab","council","_hoisted_28","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","StatusBadge","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_withModifiers","_hoisted_44","_hoisted_45","_hoisted_46","TaskManagement","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","user","_hoisted_54"],"mappings":"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"}