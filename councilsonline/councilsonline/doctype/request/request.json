{
 "actions": [],
 "autoname": "field:request_number",
 "creation": "2025-11-05 19:00:00",
 "doctype": "DocType",
 "document_type": "Document",
 "engine": "InnoDB",
 "field_order": [
  "summary_tab",
  "status_card_html",
  "section_break_essentials",
  "request_number",
  "request_type",
  "column_break_timeline",
  "application_doctype",
  "application_name",
  "workflow_state",
  "section_break_timeline",
  "submitted_date",
  "acknowledged_date",
  "target_completion_date",
  "is_overdue",
  "column_break_assignment",
  "section_break_assignment",
  "assigned_to",
  "assessment_project",
  "processing_notes",
  "section_break_history",
  "status_history",
  "request_details_tab",
  "requester_card_html",
  "section_break_requester",
  "requester",
  "requester_phone",
  "column_break_2",
  "agent",
  "agent_phone",
  "organization",
  "section_break_proposal",
  "brief_description",
  "detailed_description",
  "payments_and_invoicing_tab",
  "section_break_fees",
  "selected_payment_account",
  "selected_bank_account",
  "total_fees_excl_gst",
  "gst_amount",
  "total_fees_incl_gst",
  "section_break_tfuj",
  "column_break_5",
  "payment_status",
  "fees",
  "timeframes_tab",
  "timeline_visual_html",
  "section_break_dates",
  "actual_completion_date",
  "attachments_tab",
  "section_break_attachments",
  "attachments",
  "amended_from",
  "draft_full_data",
  "draft_current_step",
  "draft_total_steps"
 ],
 "fields": [
  {
   "fieldname": "request_number",
   "fieldtype": "Data",
   "label": "Request Number",
   "reqd": 1,
   "unique": 1
  },
  {
   "fieldname": "request_type",
   "fieldtype": "Link",
   "in_list_view": 1,
   "in_standard_filter": 1,
   "label": "Request Type",
   "mandatory_depends_on": "eval:doc.workflow_state!='Draft'",
   "options": "Request Type",
   "search_index": 1
  },
  {
   "default": "0",
   "fieldname": "is_overdue",
   "fieldtype": "Check",
   "label": "Is Overdue",
   "read_only": 1
  },
  {
   "collapsible": 1,
   "description": "Details about the person or entity submitting this request",
   "fieldname": "section_break_requester",
   "fieldtype": "Section Break",
   "label": "Requester Information (Raw Fields)"
  },
  {
   "fieldname": "requester",
   "fieldtype": "Link",
   "label": "Requester",
   "options": "User",
   "reqd": 1,
   "search_index": 1
  },
  {
   "fieldname": "requester_phone",
   "fieldtype": "Data",
   "label": "Phone"
  },
  {
   "fieldname": "column_break_2",
   "fieldtype": "Column Break"
  },
  {
   "description": "Optional: Person or consultant acting on behalf of requester",
   "fieldname": "agent",
   "fieldtype": "Link",
   "label": "Agent/Representative",
   "options": "User"
  },
  {
   "fieldname": "agent_phone",
   "fieldtype": "Data",
   "label": "Agent Phone"
  },
  {
   "description": "Optional: Organization associated with this request",
   "fieldname": "organization",
   "fieldtype": "Link",
   "label": "Organization",
   "options": "Organization"
  },
  {
   "columns": 1,
   "description": "The DocType of the associated application (e.g., 'Resource Consent Application', 'SPISC Application')",
   "fieldname": "application_doctype",
   "fieldtype": "Link",
   "label": "Application DocType",
   "options": "DocType",
   "read_only": 1
  },
  {
   "columns": 1,
   "description": "Link to the associated application record",
   "fieldname": "application_name",
   "fieldtype": "Dynamic Link",
   "label": "Application",
   "options": "application_doctype",
   "read_only": 1
  },
  {
   "description": "Describe what is being requested. Brief description is shown in listings and reports. Detailed description is used for assessment.",
   "fieldname": "section_break_proposal",
   "fieldtype": "Section Break",
   "label": "Request Details"
  },
  {
   "description": "Short summary (50-100 words) visible in request listings and reports",
   "fieldname": "brief_description",
   "fieldtype": "Small Text",
   "label": "Brief Description",
   "reqd": 1
  },
  {
   "description": "Full description of the request with all relevant details",
   "fieldname": "detailed_description",
   "fieldtype": "Text Editor",
   "label": "Detailed Description"
  },
  {
   "description": "Track key dates and timeframes for this request",
   "fieldname": "section_break_dates",
   "fieldtype": "Section Break",
   "label": "Dates & Timeframes"
  },
  {
   "fieldname": "submitted_date",
   "fieldtype": "Date",
   "in_list_view": 1,
   "label": "Submitted Date",
   "read_only": 1,
   "search_index": 1
  },
  {
   "allow_on_submit": 1,
   "fieldname": "acknowledged_date",
   "fieldtype": "Date",
   "label": "Acknowledged Date"
  },
  {
   "allow_on_submit": 1,
   "description": "Calculated based on request type SLA",
   "fieldname": "target_completion_date",
   "fieldtype": "Date",
   "in_list_view": 1,
   "label": "Target Completion Date",
   "read_only": 1
  },
  {
   "allow_on_submit": 1,
   "fieldname": "actual_completion_date",
   "fieldtype": "Date",
   "label": "Actual Completion Date"
  },
  {
   "fieldname": "section_break_assignment",
   "fieldtype": "Section Break",
   "label": "Assignment"
  },
  {
   "allow_on_submit": 1,
   "fieldname": "assigned_to",
   "fieldtype": "Link",
   "in_list_view": 1,
   "in_standard_filter": 1,
   "label": "Assigned To",
   "options": "User",
   "search_index": 1
  },
  {
   "description": "Internal notes for processing this request",
   "fieldname": "processing_notes",
   "fieldtype": "Text Editor",
   "label": "Processing Notes"
  },
  {
   "allow_on_submit": 1,
   "description": "Link to the internal assessment workflow. Automatically created when this request is acknowledged. Click 'View Assessment Project' in the action bar to see status, stages, and owner.",
   "fieldname": "assessment_project",
   "fieldtype": "Link",
   "label": "Assessment Project",
   "options": "Assessment Project",
   "read_only": 1
  },
  {
   "collapsible": 1,
   "fieldname": "section_break_attachments",
   "fieldtype": "Section Break",
   "label": "Attachments"
  },
  {
   "fieldname": "attachments",
   "fieldtype": "Table",
   "label": "Documents",
   "options": "Request Attachment"
  },
  {
   "collapsible": 1,
   "description": "Fee breakdown and payment tracking",
   "fieldname": "section_break_fees",
   "fieldtype": "Section Break",
   "label": "Fees & Payments"
  },
  {
   "description": "Council bank account to receive payment from requester",
   "fieldname": "selected_payment_account",
   "fieldtype": "Link",
   "label": "Payment Account (Council Receives)",
   "options": "Council Payment Account"
  },
  {
   "description": "Requester's bank account to receive payment from council",
   "fieldname": "selected_bank_account",
   "fieldtype": "Link",
   "label": "Bank Account (Requester Receives)",
   "options": "User Bank Account"
  },
  {
   "fieldname": "total_fees_excl_gst",
   "fieldtype": "Currency",
   "label": "Total Fees (excl GST)",
   "read_only": 1
  },
  {
   "fieldname": "gst_amount",
   "fieldtype": "Currency",
   "label": "GST Amount",
   "read_only": 1
  },
  {
   "fieldname": "total_fees_incl_gst",
   "fieldtype": "Currency",
   "label": "Total Fees (incl GST)",
   "read_only": 1
  },
  {
   "fieldname": "column_break_5",
   "fieldtype": "Column Break"
  },
  {
   "description": "Current payment status",
   "fieldname": "payment_status",
   "fieldtype": "Select",
   "label": "Payment Status",
   "options": "Pending\nPartially Paid\nPaid\nRefunded\nWaived",
   "read_only": 1
  },
  {
   "description": "Itemized breakdown of fees",
   "fieldname": "fees",
   "fieldtype": "Table",
   "label": "Fee Breakdown",
   "options": "Request Fee"
  },
  {
   "collapsible": 1,
   "fieldname": "section_break_history",
   "fieldtype": "Section Break",
   "label": "Status History"
  },
  {
   "fieldname": "status_history",
   "fieldtype": "Table",
   "label": "Status Changes",
   "options": "Request Status History",
   "read_only": 1
  },
  {
   "fieldname": "amended_from",
   "fieldtype": "Link",
   "label": "Amended From",
   "options": "Request",
   "read_only": 1
  },
  {
   "fieldname": "draft_full_data",
   "fieldtype": "Long Text",
   "hidden": 1,
   "label": "Draft Full Data",
   "no_copy": 1,
   "print_hide": 1,
   "read_only": 1
  },
  {
   "default": "1",
   "fieldname": "draft_current_step",
   "fieldtype": "Int",
   "hidden": 1,
   "label": "Draft Current Step",
   "no_copy": 1,
   "print_hide": 1,
   "read_only": 1
  },
  {
   "default": "1",
   "fieldname": "draft_total_steps",
   "fieldtype": "Int",
   "hidden": 1,
   "label": "Draft Total Steps",
   "no_copy": 1,
   "print_hide": 1,
   "read_only": 1
  },
  {
   "fieldname": "timeframes_tab",
   "fieldtype": "Tab Break",
   "label": "Timeframes"
  },
  {
   "fieldname": "request_details_tab",
   "fieldtype": "Tab Break",
   "label": "Request Details"
  },
  {
   "fieldname": "summary_tab",
   "fieldtype": "Tab Break",
   "label": "Summary"
  },
  {
   "fieldname": "payments_and_invoicing_tab",
   "fieldtype": "Tab Break",
   "label": "Payments and Invoicing"
  },
  {
   "fieldname": "attachments_tab",
   "fieldtype": "Tab Break",
   "label": "Attachments"
  },
  {
   "fieldname": "section_break_tfuj",
   "fieldtype": "Section Break"
  },
  {
   "fieldname": "status_card_html",
   "fieldtype": "HTML",
   "label": "Status Card"
  },
  {
   "fieldname": "section_break_essentials",
   "fieldtype": "Section Break",
   "label": "Request Essentials"
  },
  {
   "fieldname": "column_break_timeline",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "section_break_timeline",
   "fieldtype": "Section Break",
   "label": "Timeline"
  },
  {
   "fieldname": "column_break_assignment",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "section_break_assignment",
   "fieldtype": "Section Break",
   "label": "Assignment"
  },
  {
   "fieldname": "requester_card_html",
   "fieldtype": "HTML",
   "label": "Requester Card"
  },
  {
   "fieldname": "timeline_visual_html",
   "fieldtype": "HTML",
   "label": "Timeline Visual"
  },
  {
   "allow_on_submit": 1,
   "fieldname": "workflow_state",
   "fieldtype": "Link",
   "label": "Workflow State",
   "options": "Workflow State",
   "search_index": 1
  }
 ],
 "index_web_pages_for_search": 1,
 "is_submittable": 1,
 "links": [],
 "modified": "2025-12-20 14:55:17.180814",
 "modified_by": "Administrator",
 "module": "CouncilsOnline",
 "name": "Request",
 "naming_rule": "By fieldname",
 "owner": "Administrator",
 "permissions": [
  {
   "amend": 1,
   "cancel": 1,
   "create": 1,
   "email": 1,
   "export": 1,
   "if_owner": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "Applicant",
   "share": 1,
   "submit": 1,
   "write": 1
  },
  {
   "amend": 1,
   "cancel": 1,
   "create": 1,
   "email": 1,
   "export": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "Agent",
   "share": 1,
   "submit": 1,
   "write": 1
  },
  {
   "amend": 1,
   "email": 1,
   "export": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "Planner",
   "share": 1,
   "submit": 1,
   "write": 1
  },
  {
   "amend": 1,
   "create": 1,
   "delete": 1,
   "email": 1,
   "export": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "Manager",
   "share": 1,
   "submit": 1,
   "write": 1
  }
 ],
 "search_fields": "request_number,brief_description",
 "sort_field": "modified",
 "sort_order": "DESC",
 "states": [],
 "title_field": "request_number",
 "track_changes": 1,
 "track_seen": 1
}